Index,Release Note
1,"ENHANCEMENTS:
module: add support for initContainers [link]
module: Remove MaxItems from taint attribute [link]
BUG FIXES:

Fix diff after import when importing resources containing volume_mount [link]
module: Fix an issue when updating taint does not update the ID in the state file. [link]
"
2,"Generating changelog for release-v2.19.0 from v2.18.1...
FEATURES:
New Resource: module. [link]
BUG FIXES:

module: Fix an issue where data_source cannot read secret created with generate_name. [link]
module: Fix an issue where data_source cannot read secret created with generate_name. [link]
module: Fix unexpected volumes appearing on plan [link]
module: Fix annotation logic to prevent internalkeys from being removed in templates [link]
module: Fix a panic when constructing the diagnostic message about incompatible attribute types [link]
module: Fix crash when manifest config contains unknown values of unknown type (DynamicPseudoType) [link]
"
3,"HOTFIX:

kubernetes_manifest: fix crash when waiting on conditions that are not yet present [link]
"
4,"FEATURES:

New data source: module. [link]
New data source: module. [link]
New resource: module. [link]

ENHANCEMENT:

module: Add a new attribute module that allows adding annotations to resources with pod templates. [link]
module: Add a new attribute module. [link]

BUG FIXES:

module: Fix an issue when the delete operation may not be idempotent. [link]
module: Fix an issue when the delete operation may not be idempotent. [link]
module: Fix an issue when the delete operation may not be idempotent. [link]
module: Fix an issue when the delete operation may not be idempotent. [link]
module: Fix an issue when the delete operation may not be idempotent. [link]
module: Fix an issue when changing the value of the attribute module does not alter Kubernetes resource. [link]
module: Fix an issue when changing the value of the attribute module does not alter Kubernetes resource. [link]

DOCS:

New data source: module. [link]
New data source: module. [link]
New resource: module. [link]
module: Add a note regarding the module environment variable. [link]
module: Add a new attribute module. [link]
module: Add documentation for the attribute module. [link]
module: Add documentation for the attribute module. [link]
module: Add a new attribute module. [link]

Community Contributors :raised_hands:

@AnisimoffNikita made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1519
@partcyborg made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1921
"
5,"ENHANCEMENT:

Add a new optional attribute module to module, module, and module. That affects all resources and data sources that use mentioned module probes directly or as a template. [link]
module: add attribute module to produce a unique random name [link]
module: add attribute module to produce a unique random name [link]
module: add attribute module to produce a unique random name [link]
module: add attribute module to produce a unique random name [link]
module: add create and delete timeouts [link]
module: make the attribute module computed [link]
module: add additional validation on the delete operation to make it idempotent [link]
module: add additional validation on the delete operation to make it idempotent [link]
module: add attribute module to produce a unique random name [link]
module: add attribute module to produce a unique random name [link]

Community Contributors :raised_hands:

@AmandaHassoun made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1944
@shihai1991 made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1922
@Tensho made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1936
@multani made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1899
@sherifabdlnaby made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1935
@dgnemo made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1915
"
6,"ENHANCEMENTS:

Add additional validation on the delete operation to make it idempotent. [link], [link], [link]

This affects the following resources:
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module 
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
  - module
Special thanks to @sheneska for making these changes as part of her internship @hashicorp! ðŸš€"
7,"FEATURES:

New data source: module [link]

ENHANCEMENT:

Add a new optional attribute module to module. That affects all resources and data sources that use module directly or as a template. [link]
Add a new optional attribute module to module. That affects all resources and data sources that use module directly or as a template. [link]
The kubernetes status field is now available in the module datasource [link]
module: changing values of module or module will force resource recreation. [link]
module: changing values of module or module will force resource recreation. [link]

BUG FIXES:

Fix an issue when changing values of module or module does not update appropriate Kubernetes resources. Affected resources: module, module. [link]
Fix an issue when empty values of module or module produce continuous diff output during module although no real changes were made. Affected resources: module, module, module, module, module, module. [link]
Fix an issue with timeouts for module, module, and module resources when in some cases changes of module or module timeout doesn't affect related actions. [link]

DOCS:

module: mark attribute module as deprecated [link]
module: mark attribute module as deprecated [link]

Thanks to all our contributors! :tada:
Community Contributors :raised_hands:

@Dudesons made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1805
@St0rmingBr4in made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1802
@kylecarbs made their contribution in https://github.com/hashicorp/terraform-provider-kubernetes/pull/1895
"
8,"ENHANCEMENT:

Add new resource resource_kubernetes_env [link]
Add ""field_manager"" attribute to kubernetes_labels, kubernetes_annotations, kubernetes_config_map_v1_data [link]
r/kubernetes_horizontal_pod_autoscaler_v2: make attribute module computed [link]
r/kubernetes_horizontal_pod_autoscaler_v2: make attribute module computed [link]
r/kubernetes_horizontal_pod_autoscaler_v2: make attribute module computed [link]
r/kubernetes_horizontal_pod_autoscaler_v2beta2: make attribute module computed [link]
r/kubernetes_horizontal_pod_autoscaler_v2beta2: make attribute module computed [link]
r/kubernetes_horizontal_pod_autoscaler_v2beta2: make attribute module computed [link]
"
9,"ENHANCEMENT:

Added ""preemption_policy"" attribute to the priority_class resource. [link]
new attribute: Add immutable attribute to resource_config_map [link]
resource/kubernetes_secret: Add a new attribute module and corresponding module timeout
resource/kubernetes_secret_v1: Add a new attribute module and corresponding module timeout [link]

DOCS:

r/kubernetes_service: make module block optional [link]
r/kubernetes_service_v1: make module block optional [link]

2.13.1 (August 29, 2022)
BUG FIXES:

[TK-78009] Fix propagation of non-fatal Diagnostics in the type morphing logic
"
10,"BUG FIXES:

[TK-78009] Fix propagation of non-fatal Diagnostics in the type morphing logic
"
11,"BUG FIXES:
* Starting from Kubernetes 1.24.0 service account token is not automatically generated, thus it has to create separately. The following resources were updated to handle this change: module, module, module. For Kubernetes clusters running v1.24+ module will be empty. A warning message will be printed once any of the above resources are in use. (#1792)
IMPROVEMENTS:

module: Better error messages from OpenAPI schema transformations (#1780)
Update documentation and correct some errors (#1768, #1786)
Update acceptance tests infrastructure code for GKE and AKE and related GitHub Actions
"
12,"IMPROVEMENTS:

Update documentation and correct some errors (#1759)

BUG FIXES:

Fix type morphing of nested tuples that causes module errors (#1756)
Fix an issue when provider crashes intermittently in version module (#1762)
"
13,"NEW:

Attribute module of module (#746)
Attribute module of module (#746)
Attribute module to module block of module (#1595)
Attribute module of module (#1683)
Attribute module of module (#1683)
Attribute module of module (#1683)
Attribute module of module (#1683)
Attribute module of module (#1683)

IMPROVEMENTS:

Update documentation and correct some errors (#1706, #1708)
Fix security scan alerts (#1727, #1730, #1731)
Attribute module of module marked as module (#1736)

BUG FIXES:

Fix module doesn't set the module to module (#1247)
Fix an issue when the imported module resource is replaced instead of getting updated (#1712)
Fix provider crash when module of module is module
"
14,"NEW:

Add a new resource module (#1674)

IMPROVEMENTS:

Add module and module attributes to module (#1662)
Handle module type annotation from OpenAPI: changes to attributes of this type trigger whole resource recreation. (#1646)
Upgrade terraform-plugin-mux to v0.6.0 (#1686)
Add GitHub action for EKS acceptance tests (#1656)
Add github action for acceptance tests using kind (#1691)

BUG FIXES:

Fix conversion of big.Float to float64 in module (#1661)
Fix identification of module type attributes to include 3rd party types defined by aggregated APIs (#1640)
Fix not handling multiple module of module (#1360)
"
15,"NEW:

Resource module (#692)
Resource module (#692)
Resource module (#723)
Block module with attribute module of module (#1549)
Data source and resource attributes module of module (#1554)
Attribute module of resource module (#1637)

IMPROVEMENTS:

Deprecate module attribute in favor of module block in module (#1549)
Make attribute module optional of module and module (#1618, #1643)
Update documentation and correct some errors (#1622, #1628, #1657, #1681)

BUG FIXES:

Fix crash when multiple module are used in module (#1561)
Fix issue when in some circumstances changes of module doesn't reflect in the state file (#1650)
Ignore service account volumes with module prefix (#1663)
"
16,"IMPROVEMENTS:

Add attribute module to pod spec (#1092)
Add module data source (#1548)
module resource force the re-creation of the resource when either module or module attributes change (#1593)
Make attribute module of resource module optional (#1613)
Add a new attribute module to pod and container spec (#1617)
Add additional check to resource module when attributes module and module are used together (#1619)
Update documentation examples and correct some errors (#1597, #1611, #1612, #1626)

BUG FIXES:

Fix logic of module attribute of module (#1405)
Fix fail when the provider cannot determine module (#1634)
"
17,"2.8.0 (February 09, 2022)
IMPROVEMENTS:

Add mutating_webhook_configuration_v1 data source (#1423)
Remove enabling experiment section (#1564)
Update kubernetes dependencies (#1574)
Update terraform-plugin-go and terraform-plugin-sdk (#1551)

BUG FIXES:

Fix module errors on module
Attribute module in module should be type String  (#1541)
"
18,"BUG FIXES:

Fix type-morphing of Map into Map (#1521)
"
19,"IMPROVEMENTS:

Add support for storage/v1
Add support for certificates/v1
Add support for networking/v1
Add support for policy/v1
Add completion_mode to job spec
Improve performance of kubernetes_manifest by reducing amount of API calls

BUG FIXES:

Fix crash when container env block is empty
Fix invalid allowedHostPaths PodSecurityPolicy patch
Fix handling of ""null"" values on fields of kubernetes_manifest 

This release introduces version suffixes to the names of resources and datasources. See our documentation page for more details on this convention and the motivation behind it."
20,"2.6.1 (October 22, 2021)
BUG FIXES:
Fix import ID syntax in manifest import docs
Tolerate unknown values in ""env"" and ""exec"" provider attributes
Remove ""beta"" designation of the kubernetes_manifest from documentation"
21,"2.6.0 (October 19, 2021)
IMPROVEMENTS:
* kubernetes_manifest is now GA and enabled by default
BUG FIXES:
* kubernetes_manifest now correctly handles empty blocks as attribute values (#1352)
* kubernetes_manifest now correctly handles multiple CRDs with different number of schema versions (#1460)"
22,"IMPROVEMENTS:
Allow setting kubernetes_job parallelism to zero (#1334)
Add kubernetes_ingress_class resource (#1236)
Add immutable field to kubernetes_secret (#1280)
Add behavior field to horizontal_pod_autoscaler (#1030)
Add proxy_url attribute to provider configuration block (#1441)
BUG FIXES:
Always generate standard ObjectMeta for CRD types (#1418)
Fix importing kubernetes_manifest resources (#1440)
Fix documentation example for field_manager block (#1410)
Fix kubernetes_job ""No waiting"" documentation example (#1383)
Fix docs formatting for kubernetes_secret (#1434)"
23,"IMPROVEMENTS:
* Timeouts block on module
* module supports setting field_manager name and ""force"" mode
* module checks that resource exists before trying to create
* module supports ""computed"" attributes
* module supports import operations
BUG FIXES:
* Fix typo in kubernetes_manifest documentation
* Document that kubernetes_manifest must be enabled in the provider block.
* Docs for ingress_class_name in kubernetes_ingress"
24,"HOTFIX:
Fix kubernetes_manifest Terraform version constraint causing error on 0.12/0.13 (#1345)"
25,"BUG FIXES:
* Revert ""Filter well known labels and annotations"" (#1298)
IMPROVEMENTS:
* docs/stateful_set: add import section (#1287)"
26,"
module for module should support value module (#1291)
Remove module from metadata (#1294)
Add missing labels to fix ""module always in plan"" (#1293)
"
27,"BUG FIXES:
* Add missing annotations (#1289)
IMPROVEMENTS:

Datasource: module: add module attribute (#1285)
Add validations to module (#1279)
Add validations to module (#1278)
Add validations to module (#1276)
Add validations to container PodSpec (#1275)
Add validations to module (#1273)
Update EKS example to use two applies (#1260)
Resource module: allow changing strategy from rolling to recreate (#1255)
Filter well known labels and annotations (#1253)
Resource module: suppress diff for no-op changes (#1251)
Resource module: allow removing volume mount (#1246)
"
28,"IMPROVEMENTS:

Clean up incompatible licenses. (#1238)
Docs: fix broken links (#1041)
Enable links check and fix 2 links (#1259)
"
29,"IMPROVEMENTS:
Match specific tolerations to prevent diffs (#978)
Update all go modules (#1240)
Docs: fix broken links (#1041)
Docs: fix typo in getting started guide (#1262)"
30,"BUG FIXES:
* Fix module ForceNew when modifying module (#1212)
* Fix error returned by Create CSR (#1206)
* Fix module: module now is a valid value (#1107)
* Fix perpetual diff in persistent volume claimRef (#1227)
IMPROVEMENTS:
* Add module field to module (#1228)
* Add support for setting the persistent volume claimRef (#1020)
* Add module to module module (#1204)
* Docs: fix grammar in Network Policy (#1210)
* Docs: module add link to Kubernetes reference (#1200)"
31,"BUG FIXES:

Fix resource_field_ref schema for projected_volume (#1189)
Add diff suppression to persistent_volume and persistent_volume_claim (#1145)
Remove error for missing kubeconfig, to allow generating it at apply time (#1142)

IMPROVEMENTS:

Support topologySpreadConstraint in pod spec schema (#1022)
Wait for kubernetes_ingress to be deleted (#1143)
Improve docs for configuring the provider (#1132)
Update docs to reflect Kubernetes service status attribute (#1148)
"
32,"BUG FIXES:
* Read operation should set resource id to null if not found (#1136)
IMPROVEMENTS:
* Add service timeouts docs (#963)"
33,"BUG FIXES:
* Resources state migration should migrate empty array (#1124)
IMPROVEMENTS:
* Update docs to reflect new schema for module (#1123)"
34,"See the link for more details.
BREAKING CHANGES:
* Replace support for module environment variable with module (#1052)
* Remove module attribute from provider block (#1052)
* Remove default of module for module (#1052)
* Update Terraform SDK to v2 (#1027) 
* Restructure service and ingress to match K8s API (#1071)
* Normalize module to be in line with the K8s API (#1054)
* Normalize module to be in line with the K8s API (#1074)
* Normalize wait defaults across Deployment, DaemonSet, StatefulSet, Service, Ingress, and Job (#1053)
* Change resources requests and limits to TypeMap (#1065)
FEATURES:
* Add timeout argument to kubernetes_stateful_set (#1047)
* Add divisor to resource_field_ref (#1063)
* Add ingressClassName as field in Ingress manifest (#1057)
BUG FIXES:
* Fix typo in Job error message (#1048)
* Fix assertion in TestAccKubernetesPersistentVolume_hostPath_nodeAffinty (#1067)
* Fix service load balancer crash (#1070)
* Fix module causing requests to fail even without value specified (#929)
* Fix perpetual diff when using Pod resource with module (#1085)
* Fix perpetual diff in StatefulSet when module is not specified (#1088)
* Fix delete/recreate when updating module (#951)
* Fix delete/recreate of Jobs when updating mutable fields (#1074)
IMPROVEMENTS:
* Add upgrade test for daemonset (#1064)
* Add module to provider block (#1052)"
35,"1.13.3 (October 27, 2020)
FEATURES:

Add support for readiness_gate on Pod spec (#811)
Add Azure Managed disk to PV resource (#202)
Add support for enable_service_links to the pod specification (#975)

BUG FIXES:

Fix annotation diffs on affinity tests (#993)
Fix api_group requirement in cluster_role_binding and role_binding (#1024)
Fix service test leaking ELBs (#947)
Fix annotation diffs on affinity tests (#993)
Fix job documentation
Fix build on macOS (#1045) and windows/386

IMPROVEMENTS:

Update Go dependencies (#968)
Update acceptance tests for tfproviderlint (#887)
Refactor Typhoon test configuration to allow selection of Kubernetes version (#992)
Update Pull Request Lifecycle docs (#1032)
CI checks for docs website (registry migration) (#953)
"
36,"BUG FIXES:
Fix spurious forced replacement in empty_dir volume (#985)
Fix reported replica count when waiting for Deployment rollout (#998)
health_check_port_node should force replacement (#986)
Don't force replacement StatefulSet / Deployment when affinity rule selectors change (#755)
IMPROVEMENTS:
Wait for kubernetes_service to be deleted
Updates to CONTRIBUTING.md and PULL_REQUESTS.md"
37,"BUG FIXES:
Fix crash when size_limit is not present on empty_dir volume (#983)"
38,"FEATURES:
Add resource CertificateSigningRequest (#922)
Add resource default_service_account (#876)
IMPROVEMENTS:
Allow in-place update of PVC's storage request (#957)
Add sysctl support to pod spec (#938)
Add ability to wait for deployment to delete (#937)
Add support for aggregation_rule to cluster_role resource (#911)
Add health_check_node_port to Service resource (#908)
Add support for size_limit for empty_dir block (#912)
Add support for volume mode (#939)
Add projected volumes in pod_spec (#907)
Add termination_message_policy to container schema (#847)
BUG FIXES:
Recreate Storage Class on VolumeBindingMode update (#757)
Fix url attribute in admissionregistration client_config.service block (#959)
Fix crash when deferencing nil pointer in v1beta1.IngressRule (#967)"
39,"BUG FIXES:

Fix crash in module attribute module (#931)

IMPROVEMENTS:

Add module to module resource (#863)
Add module to module resource (#605)
"
40,"IMPROVEMENTS:
* Add resource for CSIDriver (#825)
* Add resource for Pod Security Policies (#861)
* Add data source for Pod and PVC (#786)
* Add support for CSI volume type in persistent_volume resource (#817)
* Add Kubernetes Job 'wait_for_completion' functionality (#625)
* Support 'optional' flag for ConfigMap mounted as volume (#823)
* Add specific error message when failing to load provider config (#780)
* Support 'optional' on env valueFrom for secret key/configmap key (#824)
* Skip tests for CSIDriver if cluster version is less than 1.16
* Allow 'ttl_seconds_after_finished = 0' in kubernetes_job resource (#849)
* Set service block to 'optional' for webhook configurations (#902)"
41,"IMPROVEMENTS:
Add data source for ingress (#514)
Add data sources for namespaces (#613)"
42,"IMPROVEMENTS:

Support for mutating_webhook_configuration and validating_webhook_configuration
Support for custom metrics in horizontal_pod_autoscaler 
Add data sources for config_map and service_account
Add module field to ingress
"
43,"IMPROVEMENTS:

Bump provider SDK to v1.7.0

BUG FIXES:

Defer client initialization to improve resilience (#759)
"
44,"IMPROVEMENTS:

Add mount_options attribute to kubernetes_persistent_volume and kubernetes_storage_class
Refactor client config initialization and fix in-cluster config (#679) (#497)

BUG FIXES:

Do not force base64 encoding for the ca_bundle on kubernetes_api_service (#679)
Allow 3s age gap between service account and secret (issue)
Add load_config_file = false to documented provider configurations
Add support for startup_probe on container spec
Fix (cluster-)role bindings and rules updates (#713)
Fix namespacing issues on kubernetes_priority_class (#680) See comment on backward compatibility
Documentation fixes
"
45,"FEATURES:

New resource: module (#644 / PR #338)
New resource: module (PR #495)

IMPROVEMENTS:

Add module attribute to container volume mount
Add support for module to module (#665)
Update module to v12
Set option to cascade delete job resources (#534 / PR #635)
Support in-cluster configuration with service accounts (PR #497)
Parametrize all existing timeout values (PR #607)
Enable HTTP requests/responses tracing in debug mode (PR #630)

BUG FIXES:

Do not set default namespace for replication controller and deployment pod templates (#275)
Updated host_alias property name to host_aliases (PR #670)
Docs - updated all broken and commit-specific Kubernetes links to point to master branch (PR #626)
Allow 0 for module on module (PR #632)
"
