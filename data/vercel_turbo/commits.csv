Index,Message,Description,Message Abstract,Description Abstract
1,ci(integration): add colors to turbo run invocation (#5326),"We can add --color flag for the turbo invocation. We previously did not do this, because we were doing it with an environment variable and it was filtering down to the tests themselves. but using a flag does not do that.",ci(integration): add colors to turbo run invocation (#5326),"We can add --color flag for the turbo invocation. We previously did not do this, because we were doing it with an environment variable and it was filtering down to the tests themselves. but using a flag does not do that."
2,feat(turborepo): Add context to glob errors (#5323),Co-authored-by: Greg Soltis ,feat(turborepo): Add context to glob errors (#5323),Co-authored-by: Greg Soltis 
3,Fix ESLint script command. (#5322),"ESLint needs you to tell it the directory it will run in. If you don't, it will silently do nothing, making it look like your script passed with no errors (at least unless you're really paying attention).",Fix ESLint script command. (#5322),"ESLint needs you to tell it the directory it will run in. If you don't, it will silently do nothing, making it look like your script passed with no errors (at least unless you're really paying attention)."
4,"feat(logging): add ""auto"" options for log prefixing and ordering (#5320)","This option will allow us to use heuristics like being in some CI environments to make decisions about how to display logs without any user interventions. For example, when GITHUB_ACTIONS env var is set, we can change the prefixes to use the log grouping mechanism Github provides. For --log-prefix , since ""auto"" becomes the default, also add ""task"", so it's possible to lock behavior to how it is now and prevent any automatic behavior from Turbo.","feat(logging): add ""auto"" options for log prefixing and ordering (#5320)","This option will allow us to use heuristics like being in some CI environments to make decisions about how to display logs without any user interventions. For example, when GITHUB_ACTIONS env var is set, we can change the prefixes to use the log grouping mechanism Github provides. For --log-prefix , since ""auto"" becomes the default, also add ""task"", so it's possible to lock behavior to how it is now and prevent any automatic behavior from Turbo."
5,refactor(turborepo): cli::run and args processing (#5297),"Description The cli::run function is pretty confusing and had a bug where --skip-infer would accidentally pass a relative path to the Go code and cause an error. I refactored this by moving all of the mutation to the end of the function so we can validate the different code paths a little easier. In the future we should do a scheme where Args is parsed into a separate struct with all of the fields properly validated and normalized. This also moves LogTag so that if we encounter an error with constructing a CommandBase, we error instead of segfaulting. Testing Instructions  Co-authored-by: --global ",refactor(turborepo): cli::run and args processing (#5297),"Description The cli::run function is pretty confusing and had a bug where --skip-infer would accidentally pass a relative path to the Go code and cause an error. I refactored this by moving all of the mutation to the end of the function so we can validate the different code paths a little easier. In the future we should do a scheme where Args is parsed into a separate struct with all of the fields properly validated and normalized. This also moves LogTag so that if we encounter an error with constructing a CommandBase, we error instead of segfaulting. Testing Instructions Co-authored-by: --global "
6,fix(turborepo): Re-enable some tests on windows (#5319),Co-authored-by: Greg Soltis ,fix(turborepo): Re-enable some tests on windows (#5319),Co-authored-by: Greg Soltis 
7,remove __internal_nextjs_integration_test compile-time feature (#5295),,remove __internal_nextjs_integration_test compile-time feature (#5295),
8,feat(cli): Add ability to pass --remote-only=false from CLI (#5317),The flag will take precedence over the env var.,feat(cli): Add ability to pass --remote-only=false from CLI (#5317),The flag will take precedence over the env var.
9,feat(logging): enable setting log order with an environment variable (#5316),,feat(logging): enable setting log order with an environment variable (#5316),
10,ci: replace sponge usage with jq (#5315),,ci: replace sponge usage with jq (#5315),
11,feat(run outline): Hide package graph internals (#5310),Description Slight refactor to hide internals of the package graph and instead have the CompleteGraph hold a reference to the entire package graph and use methods to query the required information. I intend for WorkspaceCatalog to get lazily built by CompleteGraph as it is used during the execution of run. There are a few clippy fixes in this as well 😄  Testing Instructions 👀  Co-authored-by: Chris Olszewski ,feat(run outline): Hide package graph internals (#5310),Description Slight refactor to hide internals of the package graph and instead have the CompleteGraph hold a reference to the entire package graph and use methods to query the required information. I intend for WorkspaceCatalog to get lazily built by CompleteGraph as it is used during the execution of run. There are a few clippy fixes in this as well 😄  Testing Instructions 👀 Co-authored-by: Chris Olszewski 
12,feat(turborepo): A few cleanup nits around log grouping (#5312),Co-authored-by: Greg Soltis ,feat(turborepo): A few cleanup nits around log grouping (#5312),Co-authored-by: Greg Soltis 
13,release(turborepo): 1.10.4-canary.3 (#5313),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.4-canary.3 (#5313),Co-authored-by: Turbobot turbobot@vercel.com
14,Add --log-order option (#3916),Co-authored-by: Rafael  Co-authored-by: Mehul Kar mehul.kar@vercel.com,Add --log-order option (#3916),Co-authored-by: Rafael  Co-authored-by: Mehul Kar mehul.kar@vercel.com
15,feat(turborepo): Hash with libgit2 (#5309),Co-authored-by: Greg Soltis ,feat(turborepo): Hash with libgit2 (#5309),Co-authored-by: Greg Soltis 
16,feat(cache): Add ability to disable remote cache from turbo.json (#5305),,feat(cache): Add ability to disable remote cache from turbo.json (#5305),
17,fix(turbopack): enable runtime flag (#5253),Description Minor fix to enable features.,fix(turbopack): enable runtime flag (#5253),Description Minor fix to enable features.
18,ci(e2e): turn on remote caching for e2e tests (#5302),"This should get us one step closer to running all our tests in a single job and allow turbo caching to save us time, rather than skipping with github ignore patterns",ci(e2e): turn on remote caching for e2e tests (#5302),"This should get us one step closer to running all our tests in a single job and allow turbo caching to save us time, rather than skipping with github ignore patterns"
19,chore(turborepo): Use cargo-groups (#5272),"Description Use cargo-groups to group turborepo and turbopack crates in the workspace. Also rearranged the test.yml workflow so that we have explicit turborepo/turbopack clippy jobs so we're not running clippy on everything all the time, and renamed a couple workflows accordingly. Testing Instructions    Give a quick description of steps to test your changes.   Co-authored-by: --global ",chore(turborepo): Use cargo-groups (#5272),"Description Use cargo-groups to group turborepo and turbopack crates in the workspace. Also rearranged the test.yml workflow so that we have explicit turborepo/turbopack clippy jobs so we're not running clippy on everything all the time, and renamed a couple workflows accordingly. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: --global "
20,ci(examples): enable gatsby example test in CI (#4999),"Now that CI runs node 18, we can enable this test and see it pass.",ci(examples): enable gatsby example test in CI (#4999),"Now that CI runs node 18, we can enable this test and see it pass."
21,chore(ci): use node 18 (#5301),,chore(ci): use node 18 (#5301),
22,update dependencies to sync with next.js (#5303),Description Preparation to release to next.js,update dependencies to sync with next.js (#5303),Description Preparation to release to next.js
23,chore(docs): Update to docs build to node 18 (#5030),,chore(docs): Update to docs build to node 18 (#5030),
24,docs(examples): update examples and docs to use node 18 (#5300),,docs(examples): update examples and docs to use node 18 (#5300),
25,feat(turborepo): Report more details when go-turbo exits (#5287),Description  adds a little extra reporting on unix systems when go-turbo does not return an exit code  Testing Instructions Co-authored-by: Greg Soltis ,feat(turborepo): Report more details when go-turbo exits (#5287),Description adds a little extra reporting on unix systems when go-turbo does not return an exit code Testing Instructions Co-authored-by: Greg Soltis 
26,chore: release npm packages, @vercel/devlow-bench@0.1.3,chore: release npm packages,@vercel/devlow-bench@0.1.3
27,fix turbo.json for publish script (#5293),,fix turbo.json for publish script (#5293),
28,chore: release npm packages, @vercel/devlow-bench@0.1.2,chore: release npm packages,@vercel/devlow-bench@0.1.2
29,rename build script to fit to publish script (#5292),,rename build script to fit to publish script (#5292),
30,chore: release npm packages, @vercel/devlow-bench@0.1.1,chore: release npm packages,@vercel/devlow-bench@0.1.1
31,add tool to benchmark developer workflow performance (#5291),Description adds @vercel/devlow-bench package which can run a benchmark file,add tool to benchmark developer workflow performance (#5291),Description adds @vercel/devlow-bench package which can run a benchmark file
32,release(turborepo): 1.10.4-canary.2 (#5286),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.4-canary.2 (#5286),Co-authored-by: Turbobot turbobot@vercel.com
33,feat(lockfiles): add rust implementation for yarn1 (#5255),Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski ,feat(lockfiles): add rust implementation for yarn1 (#5255),Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski 
34,feat(turborepo): Run outline pt 2 (#5203),Description Refactors out task_graph and package_graph as top level modules. Also adds more global hash boilerplate. Testing Instructions    Give a quick description of steps to test your changes.  Co-authored-by: --global ,feat(turborepo): Run outline pt 2 (#5203),Description Refactors out task_graph and package_graph as top level modules. Also adds more global hash boilerplate. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: --global 
35,Synthesize --only (#5285),Co-authored-by: Greg Soltis ,Synthesize --only (#5285),Co-authored-by: Greg Soltis 
36,fix(spaces): read logs correctly when invoked from subdirectory (#5284),"When running turbo <task> from a sub directory, the logFile is not sufficient to actual read the logs, because it is a relative path. We need to anchor it from the root of the repo.",fix(spaces): read logs correctly when invoked from subdirectory (#5284),"When running turbo  from a sub directory, the logFile is not sufficient to actual read the logs, because it is a relative path. We need to anchor it from the root of the repo."
37,release(turborepo): 1.10.4-canary.1 (#5283),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.4-canary.1 (#5283),Co-authored-by: Turbobot turbobot@vercel.com
38,fix(turborepo): avoid globbing directories due to ancestor truncation (#5273),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,fix(turborepo): avoid globbing directories due to ancestor truncation (#5273),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
39,fix: Organise next.config.js redirect objects (#5198),"Organise next.config.js redirect objects Description Organise next.config.js redirect objects to maintain consistent key order. ts {   source: ...,   destination, ...,   permanent: ..., }",fix: Organise next.config.js redirect objects (#5198),"Organise next.config.js redirect objects Description Organise next.config.js redirect objects to maintain consistent key order. ts {   source: ...,   destination, ...,   permanent: ..., }"
40,docs: Link to Vercel from the Nav context menu (#4573),Co-authored-by: Mehul Kar mehul.kar@vercel.com,docs: Link to Vercel from the Nav context menu (#4573),Co-authored-by: Mehul Kar mehul.kar@vercel.com
41,release(turborepo): 1.10.4-canary.0 (#5278),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.4-canary.0 (#5278),Co-authored-by: Turbobot turbobot@vercel.com
42,chore(turborepo): Move SCM to use vendored wax crate (#5277),"Description We should have everything use the vendored wax crate to avoid confusing issues. Also a prerequisite for #5272 because when we build all the turborepo crates, crates/turborepo-wax included, cargo gets confused about whether we mean the vendored wax crate or the upstream wax crate. Testing Instructions    Give a quick description of steps to test your changes.  Co-authored-by: --global ",chore(turborepo): Move SCM to use vendored wax crate (#5277),"Description We should have everything use the vendored wax crate to avoid confusing issues. Also a prerequisite for #5272 because when we build all the turborepo crates, crates/turborepo-wax included, cargo gets confused about whether we mean the vendored wax crate or the upstream wax crate. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: --global "
43,fix(packages): update filter for JS tests (#5276),,fix(packages): update filter for JS tests (#5276),
44,fix(turborepo): Fix path match for parent dir in subtree match case (#5275),Co-authored-by: Greg Soltis ,fix(turborepo): Fix path match for parent dir in subtree match case (#5275),Co-authored-by: Greg Soltis 
45,fix(turborepo): Tighten build globs (#5274),Co-authored-by: Greg Soltis ,fix(turborepo): Tighten build globs (#5274),Co-authored-by: Greg Soltis 
46,"feat(eslint-plugin-turbo): Support dotEnv, passthroughEnv, and wildcards (#5052)",Co-authored-by: Nathan Hammond  Co-authored-by: tknickman tom.knickman@vercel.com Co-authored-by: tknickman ,"feat(eslint-plugin-turbo): Support dotEnv, passthroughEnv, and wildcards (#5052)",Co-authored-by: Nathan Hammond  Co-authored-by: tknickman tom.knickman@vercel.com Co-authored-by: tknickman 
47,"Revert ""Using cargo-groups to group turborepo and turbopack crates. Also moved scm to vendored wax""",This reverts commit 1051b476c4a26a8617edecb6cd43a9b33334a05c.,"Revert ""Using cargo-groups to group turborepo and turbopack crates. Also moved scm to vendored wax""",This reverts commit 1051b476c4a26a8617edecb6cd43a9b33334a05c.
48,Using cargo-groups to group turborepo and turbopack crates. Also moved scm to vendored wax,,Using cargo-groups to group turborepo and turbopack crates. Also moved scm to vendored wax,
49,feat(ci): conditionally set jest verbosity (#5271),,feat(ci): conditionally set jest verbosity (#5271),
50,Update .gitignore (#5269),,Update .gitignore (#5269),
51,update test runner (#5264),Description new next.js CI depends on these changes. It's running as root which requires no_sandbox Also updates the chromiumoxide dependency Testing Instructions    Give a quick description of steps to test your changes.,update test runner (#5264),Description new next.js CI depends on these changes. It's running as root which requires no_sandbox Also updates the chromiumoxide dependency Testing Instructions Give a quick description of steps to test your changes.
52,feat(turborepo): port git-based hashing with inputs (#5251),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,feat(turborepo): port git-based hashing with inputs (#5251),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
53,feat(examples): update basic name on docs (#5224),,feat(examples): update basic name on docs (#5224),
54,release(turborepo): 1.10.3 (#5262),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis ,release(turborepo): 1.10.3 (#5262),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis 
55,fix(gen): fix ts config interference (#5263),,fix(gen): fix ts config interference (#5263),
56,"Docs: prior to run testcases, add guides to install dependencies for testcases. (#3090)",,"Docs: prior to run testcases, add guides to install dependencies for testcases. (#3090)",
57,Fix(Docs): Turbo customization docs broken link (#4883),,Fix(Docs): Turbo customization docs broken link (#4883),
58,feat(turborepo): Port Global Hash Env Var (#5166),Description Ports env.go to Rust and connects it to the global hash code. Testing Instructions I added global_hash_test.go and connected the env_test.go tests to the Rust code.  Co-authored-by: --global  Co-authored-by: Mehul Kar mehul.kar@vercel.com,feat(turborepo): Port Global Hash Env Var (#5166),Description Ports env.go to Rust and connects it to the global hash code. Testing Instructions I added global_hash_test.go and connected the env_test.go tests to the Rust code. Co-authored-by: --global  Co-authored-by: Mehul Kar mehul.kar@vercel.com
59,fix: Clippy warnings (#5246),Description We have a lot of clippy warnings. Applied cargo clippy --fix and manually fixed some other warnings Testing Instructions    Give a quick description of steps to test your changes.  Co-authored-by: --global ,fix: Clippy warnings (#5246),Description We have a lot of clippy warnings. Applied cargo clippy --fix and manually fixed some other warnings Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: --global 
60,ci(examples): make every examples test a workspace (#5011),"This commit parallelizes examples tests with turbo instead of Github Actions to:  reduce the number of Github Workflow runs  triggered when an example changes. This should be faster and easier to read in a PR (2 checks instead of 16).  more turbo dogfooding   All examples tests will still run when any of the examples change, because each example itself is not a workspace, so we cannot wire up individual dependencies.    turbo.json configures inputs for caching, but we still using the Github Actions config to to limit these runs to changes in examples/ and examples-tests/**. We could opt out of this and rely on turbo's caching in the future.   The pnpm-gatsby test was not part of the matrix before. Moving to this setup revealed that it does not pass in CI (because of mismatched node version). This test has been filtered out for now. ",ci(examples): make every examples test a workspace (#5011),"This commit parallelizes examples tests with turbo instead of Github Actions to: reduce the number of Github Workflow runs  triggered when an example changes. This should be faster and easier to read in a PR (2 checks instead of 16). more turbo dogfooding All examples tests will still run when any of the examples change, because each example itself is not a workspace, so we cannot wire up individual dependencies.  turbo.json configures inputs for caching, but we still using the Github Actions config to to limit these runs to changes in examples/ and examples-tests/**. We could opt out of this and rely on turbo's caching in the future. The pnpm-gatsby test was not part of the matrix before. Moving to this setup revealed that it does not pass in CI (because of mismatched node version). This test has been filtered out for now."
61,sec-228: ignore example repos (#5252),,sec-228: ignore example repos (#5252),
62,fix(swc_plugin): use shared runtime (#5239),"Description closes WEB-1122. wasix internally initializes runtime by default, avoid it and let it use shared runtime instead.",fix(swc_plugin): use shared runtime (#5239),"Description closes WEB-1122. wasix internally initializes runtime by default, avoid it and let it use shared runtime instead."
63,feat(turborepo): Port Manual hashing (#5237),Co-authored-by: Greg Soltis ,feat(turborepo): Port Manual hashing (#5237),Co-authored-by: Greg Soltis 
64,release(turborepo): 1.10.3-canary.0 (#5250),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.3-canary.0 (#5250),Co-authored-by: Turbobot turbobot@vercel.com
65,ci(workflow): upload benchmark results to datadog (#5215),"Description Initial support for uploading benchmark results into datadog. It currently iterates over the raw benchmark data, and uploda mean and std_dev's point_estimate. As noted in the comment random 400 returned by datadog, which needs some investigations. For now accept those flaky as it won't block CI.",ci(workflow): upload benchmark results to datadog (#5215),"Description Initial support for uploading benchmark results into datadog. It currently iterates over the raw benchmark data, and uploda mean and std_dev's point_estimate. As noted in the comment random 400 returned by datadog, which needs some investigations. For now accept those flaky as it won't block CI."
66,ci(examples): update examples tests to diff full output  (#5242),This will help debug examples tests when they fail.  Switch env vars to CLI flags so they don't leak through   to the turbo invocations in the actual test and change the output that   we are not asserting against. Enable corepack inside the test and then disable it again at the ened   of the test.,ci(examples): update examples tests to diff full output  (#5242),This will help debug examples tests when they fail. Switch env vars to CLI flags so they don't leak through   to the turbo invocations in the actual test and change the output that   we are not asserting against. Enable corepack inside the test and then disable it again at the ened   of the test.
67,ci: use latest published version of turbo in CI instead of latest canary (#5238),,ci: use latest published version of turbo in CI instead of latest canary (#5238),
68,docs: document that multiple --filters are unions (#5247),Co-authored-by: Greg Soltis greg.soltis@vercel.com,docs: document that multiple --filters are unions (#5247),Co-authored-by: Greg Soltis greg.soltis@vercel.com
69,ci(examples): Skip npm install when setting up git for examples tests (#5240),"The extra npm install step creates a package-lock.json which causes turborepo to detect the wrong package manager, which ends up changing behavior.",ci(examples): Skip npm install when setting up git for examples tests (#5240),"The extra npm install step creates a package-lock.json which causes turborepo to detect the wrong package manager, which ends up changing behavior."
70,feat(run summary): Add whether turbo detected monorepo or not (#5241),,feat(run summary): Add whether turbo detected monorepo or not (#5241),
71,fix next-swc CI check (#5236),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",fix next-swc CI check (#5236),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
72,Error handling fixes for turbopack-node and the HMR runtime (#5189),Description  errors during module init are no longer ignored non-Errors thrown inside node.js now display correctly  Bonus: - you can now debug the spawned node.js processes without recompiling via TURBOPACK_DEBUG_JS=operation,Error handling fixes for turbopack-node and the HMR runtime (#5189),Description errors during module init are no longer ignored non-Errors thrown inside node.js now display correctly Bonus: - you can now debug the spawned node.js processes without recompiling via TURBOPACK_DEBUG_JS=operation
73,feat(turborepo): implement package.json discovery (#5225),Co-authored-by: Greg Soltis  Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,feat(turborepo): implement package.json discovery (#5225),Co-authored-by: Greg Soltis  Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
74,add more tp-test exclusions to fix windows CI (a bit) (#5214),now we just have some node-file-trace tests timing out,add more tp-test exclusions to fix windows CI (a bit) (#5214),now we just have some node-file-trace tests timing out
75,fix(ffi): fix Rust dangling pointer (#5230),"Description Fixes #5202 The underlying issue is how protobuf encodes a message with a single optional field. If that single field is missing the message gets encoded as a zero length string of bytes. This presents a problem with our usage of Vec::as_mut_ptr which: ""Returns a dangling raw pointer valid for zero sized reads if the vector didn’t allocate."" This caused us to send a buffer of length 0, but a dangling data pointer instead of a null pointer. This wasn't a consistent failure as Go only checks the validity of all the pointer in the stack under certain conditions. Specifically when growing/shrinking the stack and needing to adjust pointers in a frame. Testing Instructions Added unit tests that deal with zero length buffers: - Rust side ensure that if a protobuf message is zero length we return a buffer with length 0 and the data pointer is the null pointer - Go side the ensures that a buffer with 0 length and a null data pointer gets converted to an empty byte slice  Co-authored-by: Chris Olszewski ",fix(ffi): fix Rust dangling pointer (#5230),"Description Fixes #5202 The underlying issue is how protobuf encodes a message with a single optional field. If that single field is missing the message gets encoded as a zero length string of bytes. This presents a problem with our usage of Vec::as_mut_ptr which: ""Returns a dangling raw pointer valid for zero sized reads if the vector didn’t allocate."" This caused us to send a buffer of length 0, but a dangling data pointer instead of a null pointer. This wasn't a consistent failure as Go only checks the validity of all the pointer in the stack under certain conditions. Specifically when growing/shrinking the stack and needing to adjust pointers in a frame. Testing Instructions Added unit tests that deal with zero length buffers: - Rust side ensure that if a protobuf message is zero length we return a buffer with length 0 and the data pointer is the null pointer - Go side the ensures that a buffer with 0 length and a null data pointer gets converted to an empty byte slice Co-authored-by: Chris Olszewski "
76,release(turborepo): 1.10.2 (#5229),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.2 (#5229),Co-authored-by: Turbobot turbobot@vercel.com
77,Fix PrefixedRouterContentSourceVc's debug_assertion (#5227),"Description ContentSource paths do not begin with a /, and the prefix should match that. 🤦 Testing Instructions    Give a quick description of steps to test your changes.",Fix PrefixedRouterContentSourceVc's debug_assertion (#5227),"Description ContentSource paths do not begin with a /, and the prefix should match that. 🤦 Testing Instructions Give a quick description of steps to test your changes."
78,Add ability for Rewrites to overwrite request headers (#5139),"Description Adds a request_headers override to RewriteVc, allowing middleware to modify the request headers for further lookups. Testing Instructions https://github.com/vercel/next.js/pull/50567 Re: WEB-1121",Add ability for Rewrites to overwrite request headers (#5139),"Description Adds a request_headers override to RewriteVc, allowing middleware to modify the request headers for further lookups. Testing Instructions link Re: WEB-1121"
79,Make PrefixedRouterContentSourceVc::new public (#5226),Description It needs to be public for next-dev to instantiate it. 🤦  Testing Instructions    Give a quick description of steps to test your changes.,Make PrefixedRouterContentSourceVc::new public (#5226),Description It needs to be public for next-dev to instantiate it. 🤦  Testing Instructions Give a quick description of steps to test your changes.
80,fix(docs): add back commit from bad merge (#5223),,fix(docs): add back commit from bad merge (#5223),
81,Prepare RouterContentSource for basePath (#5218),"Description This is part 2 of WEB-993 basePath support. A few of our next-specific content sources will need to be scoped under the basePath (like _next/image and __nextjs_original-stack-frame). These are currently served with a RouterContentSource, but it didn't have support for arbitrary prefixes. We could have changed the subpath for these sources to include the basePath, but that would require reading the next_config.base_path() in the source method, and it would invalidate our entire call graph whenever the next.config.js changed. Not a good choice. Testing Instructions    Give a quick description of steps to test your changes.",Prepare RouterContentSource for basePath (#5218),"Description This is part 2 of WEB-993 basePath support. A few of our next-specific content sources will need to be scoped under the basePath (like _next/image and __nextjs_original-stack-frame). These are currently served with a RouterContentSource, but it didn't have support for arbitrary prefixes. We could have changed the subpath for these sources to include the basePath, but that would require reading the next_config.base_path() in the source method, and it would invalidate our entire call graph whenever the next.config.js changed. Not a good choice. Testing Instructions Give a quick description of steps to test your changes."
82,release(turborepo): 1.10.2-canary.3 (#5222),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.2-canary.3 (#5222),Co-authored-by: Turbobot turbobot@vercel.com
83,"improve error reporting, omit timeout while debugging (#5221)",Description  I need more than 60s to debug a problem. print nicer error messages when JSON is invalid,"improve error reporting, omit timeout while debugging (#5221)",Description I need more than 60s to debug a problem. print nicer error messages when JSON is invalid
84,fix(turbo): remove npx version check for gen (#5216),,fix(turbo): remove npx version check for gen (#5216),
85,fix clippy CI (#5213),Description Counting the number of warnings broke because the output format probably changed (?),fix clippy CI (#5213),Description Counting the number of warnings broke because the output format probably changed (?)
86,Update references to docs in code comments and help output (#5179),,Update references to docs in code comments and help output (#5179),
87,Prepare StaticAssetsContentSourceVc for basePath (#5210),"Description This is part 1 of WEB-993 basePath support. The static assets (things served in the /public directory) can only serve requests that include the basePath, so we'll need to pass that in. In order to not completely invalidate the source function (and all the things that depend on cells created there, ie everything) every time the user edits the next.config.js, we'll need to accept a StringVc. This sets us up without breaking backwards compat, making this multi-PR adventure a little easier. Testing Instructions    Give a quick description of steps to test your changes.",Prepare StaticAssetsContentSourceVc for basePath (#5210),"Description This is part 1 of WEB-993 basePath support. The static assets (things served in the /public directory) can only serve requests that include the basePath, so we'll need to pass that in. In order to not completely invalidate the source function (and all the things that depend on cells created there, ie everything) every time the user edits the next.config.js, we'll need to accept a StringVc. This sets us up without breaking backwards compat, making this multi-PR adventure a little easier. Testing Instructions Give a quick description of steps to test your changes."
88,release(turborepo): 1.10.2-canary.2 (#5212),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.2-canary.2 (#5212),Co-authored-by: Turbobot turbobot@vercel.com
89,feat(turbopack-image): enable a few more image formats (#5211),Description Part of WEB-1146.,feat(turbopack-image): enable a few more image formats (#5211),Description Part of WEB-1146.
90,fix(turborepo): Repo config case normalization (#5209),Co-authored-by: --global ,fix(turborepo): Repo config case normalization (#5209),Co-authored-by: --global 
91,Add timeSaved value into dry run output (#5171),,Add timeSaved value into dry run output (#5171),
92,fix(gen): swap to which for windows (#5208),,fix(gen): swap to which for windows (#5208),
93,feat(blog): add turbo gen gif to blog (#5204),,feat(blog): add turbo gen gif to blog (#5204),
94,Add codemod for glob syntax issues. (#5184),"Description We discovered a few classes of glob that are soon-to-be invalid with the tightening on the syntax from wax. This codemod handles the most common cases. Out of 720 unique globs encountered, only about 10 of them were invalid, and of those there were 3 general classes of syntax problem which are being addressed here, along with 3 just completely invalid ones. This codemod should as a result fix around 80% of the syntax issues. Testing Instructions cd packages/turbo-codemod pnpm test clean-globs  Co-authored-by: Chris Olszewski  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",Add codemod for glob syntax issues. (#5184),"Description We discovered a few classes of glob that are soon-to-be invalid with the tightening on the syntax from wax. This codemod handles the most common cases. Out of 720 unique globs encountered, only about 10 of them were invalid, and of those there were 3 general classes of syntax problem which are being addressed here, along with 3 just completely invalid ones. This codemod should as a result fix around 80% of the syntax issues. Testing Instructions cd packages/turbo-codemod pnpm test clean-globs Co-authored-by: Chris Olszewski  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
95,chore(ci): CODEOWNERS updates (#5206),,chore(ci): CODEOWNERS updates (#5206),
96,fix(turbopack-image): fix build error (#5207),Description enabling webp never actually able to build.,fix(turbopack-image): fix build error (#5207),Description enabling webp never actually able to build.
97,feat(turborepo): Remove anyhow from package manager detection (#5196),Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,feat(turborepo): Remove anyhow from package manager detection (#5196),Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
98,feat(lockfiles): add support pnpm lockfile version 6.1 (#5195),Description Adds parse support for the new lockfile version added in https://github.com/pnpm/pnpm/pull/6557 fixing #5117 The behavioral change is pretty small for us. The new information was added to allow for pnpm install --frozen-lockfile to produce an identical lockfile even if the .npmrc that was present during the lockfile's creation is no longer present. This does lead to a better UX for prune users as they will no longer need to copy .npmrc in their Dockerfile. Testing Instructions Existing unit tests pass and added new fixture with the settings field that correctly parses.  Co-authored-by: Chris Olszewski ,feat(lockfiles): add support pnpm lockfile version 6.1 (#5195),Description Adds parse support for the new lockfile version added in link fixing #5117 The behavioral change is pretty small for us. The new information was added to allow for pnpm install --frozen-lockfile to produce an identical lockfile even if the .npmrc that was present during the lockfile's creation is no longer present. This does lead to a better UX for prune users as they will no longer need to copy .npmrc in their Dockerfile. Testing Instructions Existing unit tests pass and added new fixture with the settings field that correctly parses. Co-authored-by: Chris Olszewski 
99,"Parallel ignores concurrency and dependencies, we don't need to validate (#5191)",Co-authored-by: Greg Soltis ,"Parallel ignores concurrency and dependencies, we don't need to validate (#5191)",Co-authored-by: Greg Soltis 
100,refactor: Do not duplicate SWC transforms in the final binary (#5200),"Description This PR modifies generic instantiation to use &dyn Comments instead of SwcComments, to reduce binary size along with https://github.com/swc-project/swc/pull/7489. Testing Instructions I'll post the binary size once https://github.com/swc-project/swc/pull/7489 is merged.   Previous binary size: 133.4MiB New binary size: 132.4MiB   Closes WEB-1148",refactor: Do not duplicate SWC transforms in the final binary (#5200),"Description This PR modifies generic instantiation to use &dyn Comments instead of SwcComments, to reduce binary size along with link. Testing Instructions I'll post the binary size once link is merged. Previous binary size: 133.4MiB New binary size: 132.4MiB Closes WEB-1148"
101,chore: Enable share-generics (#5121),Description This PR enables -Zshare-generics to reduce the binary size. This single option reduces binary size from 153.1MiB to 132.9MiB Testing Instructions Let's look at the benchmark actions.  Closes WEB-1144,chore: Enable share-generics (#5121),Description This PR enables -Zshare-generics to reduce the binary size. This single option reduces binary size from 153.1MiB to 132.9MiB Testing Instructions Let's look at the benchmark actions. Closes WEB-1144
102,docs: Move deprecated options for run command to bottom (#5180),,docs: Move deprecated options for run command to bottom (#5180),
103,Update log message when cache restoration is skipped (#5127),,Update log message when cache restoration is skipped (#5127),
104,feat(turborepo): Remove as_absolute_path() in favor of Deref (#5194),Co-authored-by: Greg Soltis ,feat(turborepo): Remove as_absolute_path() in favor of Deref (#5194),Co-authored-by: Greg Soltis 
105,feat(blog): generators > code generators (#5192),,feat(blog): generators > code generators (#5192),
106,feat(blog): add blog post for 1.10 (#5175),,feat(blog): add blog post for 1.10 (#5175),
107,release(turborepo): 1.10.2-canary.1 (#5190),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.2-canary.1 (#5190),Co-authored-by: Turbobot turbobot@vercel.com
108,chore(cli): add note about changing run summary (#5186),,chore(cli): add note about changing run summary (#5186),
109,"fix(turborepo): Restructure reading from stderr, fix parsing of ls-tree (#5181)",Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,"fix(turborepo): Restructure reading from stderr, fix parsing of ls-tree (#5181)",Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
110,ci(workflow): limit datadog upload more strictly (#5178),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",ci(workflow): limit datadog upload more strictly (#5178),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
111,docs: add --out-dir reference for prune command (#5173),,docs: add --out-dir reference for prune command (#5173),
112,chore: organize integration tests (#5116),Some aesthetic changes to make it easier to find tests and helpers.,chore: organize integration tests (#5116),Some aesthetic changes to make it easier to find tests and helpers.
113,Run prettier in individual workspaces (#3925),"This adds a lint:prettier task in each workspace so that we can get the benefits of a granular cache and when running prettier, we don't have to run it across the entire monorepo (notably the benchmark/ workspace which is very slow to run prettier on, and rarely changes -- an ideal candidate for a cache hit)",Run prettier in individual workspaces (#3925),"This adds a lint:prettier task in each workspace so that we can get the benefits of a granular cache and when running prettier, we don't have to run it across the entire monorepo (notably the benchmark/ workspace which is very slow to run prettier on, and rarely changes -- an ideal candidate for a cache hit)"
114,chore: specify rust crates as inputs to building turborepo (#4664),,chore: specify rust crates as inputs to building turborepo (#4664),
115,feat(turbopack-image): enable gif support (#5174),Description minor featature to enable gif support.,feat(turbopack-image): enable gif support (#5174),Description minor featature to enable gif support.
116,docs: add separate pages for each CLI command (#5172),,docs: add separate pages for each CLI command (#5172),
117,make HMR re-execute modules that self invalidate (#5161),"Description This can happen when a module that previously exported a React component no longer does, the next react refresh integration will then call module.hot.invalidate() fixes the acceptance/ReactRefreshRequire.test.ts next.js integration test",make HMR re-execute modules that self invalidate (#5161),"Description This can happen when a module that previously exported a React component no longer does, the next react refresh integration will then call module.hot.invalidate() fixes the acceptance/ReactRefreshRequire.test.ts next.js integration test"
118,Merge the glob walk / globbing integration branch into main (#5168),,Merge the glob walk / globbing integration branch into main (#5168),
119,Merge timesaved and cache status data structures (#5135)," Instead of Local/Remote booleans, use a Source field. This ensure that we are more truthful about where the cache was restored from, rather than which cache happened to win the race condition. Adds timeSaved value from the same cache source where restoration happened from.",Merge timesaved and cache status data structures (#5135),"Instead of Local/Remote booleans, use a Source field. This ensure that we are more truthful about where the cache was restored from, rather than which cache happened to win the race condition. Adds timeSaved value from the same cache source where restoration happened from."
120,Update existing-monorepo.mdx (#5149),Update existing-monorepo.mdx Description fix indentation in turbo.json example Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,Update existing-monorepo.mdx (#5149),Update existing-monorepo.mdx Description fix indentation in turbo.json example Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
121,feat(create-turbo): use latest turbo by default (#5155),,feat(create-turbo): use latest turbo by default (#5155),
122,release(turborepo): 1.10.2-canary.0 (#5170),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.2-canary.0 (#5170),Co-authored-by: Turbobot turbobot@vercel.com
123,"feat(turborepo): Wait for a pid file, then a sock file (#5158)",Co-authored-by: Greg Soltis ,"feat(turborepo): Wait for a pid file, then a sock file (#5158)",Co-authored-by: Greg Soltis 
124,feat(bindings): expose filesystemcache feature (#5162),Description Exposing swc's filesystemcache for the plugin to use in next-swc.,feat(bindings): expose filesystemcache feature (#5162),Description Exposing swc's filesystemcache for the plugin to use in next-swc.
125,chore(turborepo): Port piece of kill_live_server test for version mismatch (#5153),Co-authored-by: Greg Soltis ,chore(turborepo): Port piece of kill_live_server test for version mismatch (#5153),Co-authored-by: Greg Soltis 
126,Copy benckmark deps into directory (#5159),"Description 5156 turned out to be flakey, and it seems our root detection will prevent us from running the local next package unless we copy it over into the benchmark app. I really hate our root detection, and think we should get rid of it. I don't care where the file is located, it should be readable by our bundler. Testing Instructions",Copy benckmark deps into directory (#5159),"Description 5156 turned out to be flakey, and it seems our root detection will prevent us from running the local next package unless we copy it over into the benchmark app. I really hate our root detection, and think we should get rid of it. I don't care where the file is located, it should be readable by our bundler. Testing Instructions"
127,release(turborepo): 1.10.1 (#5157),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis  Co-authored-by: github-actions[bot] 41898282+github-actions[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,release(turborepo): 1.10.1 (#5157),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis  Co-authored-by: github-actions[bot] 41898282+github-actions[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
128,Support installing tip-of-canary next for benchmarks (#5156),"Description A small change to support installing a local next@file:path/to/next.js/packages/next next package. This fixes an issue where we run tip-of-canary next-dev vs the last published next package, and allows us to benchmark breaking changes. The --install-links option is a little oxymoronic. When set to true, it doesn't use symlinks, so we need to set it to false to avoid copying a bunch of files. Testing Instructions    Give a quick description of steps to test your changes.",Support installing tip-of-canary next for benchmarks (#5156),"Description A small change to support installing a local next@file:path/to/next.js/packages/next next package. This fixes an issue where we run tip-of-canary next-dev vs the last published next package, and allows us to benchmark breaking changes. The --install-links option is a little oxymoronic. When set to true, it doesn't use symlinks, so we need to set it to false to avoid copying a bunch of files. Testing Instructions Give a quick description of steps to test your changes."
129,feat(daemon): clean (#5152),Co-authored-by: Alexander Lyon arlyon@me.com,feat(daemon): clean (#5152),Co-authored-by: Alexander Lyon arlyon@me.com
130,Greatly expand the content for caching information. (#5078),Co-authored-by: Nathan Hammond  Co-authored-by: tknickman tom.knickman@vercel.com,Greatly expand the content for caching information. (#5078),Co-authored-by: Nathan Hammond  Co-authored-by: tknickman tom.knickman@vercel.com
131,release(turborepo): 1.10.1-canary.1 (#5154),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis  Co-authored-by: github-actions[bot] 41898282+github-actions[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,release(turborepo): 1.10.1-canary.1 (#5154),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis  Co-authored-by: github-actions[bot] 41898282+github-actions[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
132,feat(types): publish turbo types (#5130),,feat(types): publish turbo types (#5130),
133,release(turborepo): 1.10.1-canary.0 (#5150),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis ,release(turborepo): 1.10.1-canary.0 (#5150),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis 
134,fix(turborepo): Handle unimplemented and failed_precondition in daemon clients (#5151),Co-authored-by: Greg Soltis ,fix(turborepo): Handle unimplemented and failed_precondition in daemon clients (#5151),Co-authored-by: Greg Soltis 
135,feat(turborepo): Set feature to use Go daemon (#5147),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,feat(turborepo): Set feature to use Go daemon (#5147),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
136,feat(docs): change cards title color (#5142),,feat(docs): change cards title color (#5142),
137,fix @vercel/turbopack-node types by adding reference to compiled package (#5141),,fix @vercel/turbopack-node types by adding reference to compiled package (#5141),
138,refactor(turborepo): API Client Cleanup (#5084),"Description I had this inside the HTTP cache PR, but it makes sense as a separate PR. Refactors the API client in the following ways:  Changes the retry logic to use try_clone from reqwest instead of the awkward (and unnecessarily general) retry_future function that relied on a closure that generates a Rust future. Use a crate Error type with thiserror instead of anyhow. This is pretty standard. Factor out some common logic into helper functions  Testing Instructions Existing tests should suffice. Co-authored-by: --global ",refactor(turborepo): API Client Cleanup (#5084),"Description I had this inside the HTTP cache PR, but it makes sense as a separate PR. Refactors the API client in the following ways: Changes the retry logic to use try_clone from reqwest instead of the awkward (and unnecessarily general) retry_future function that relied on a closure that generates a Rust future. Use a crate Error type with thiserror instead of anyhow. This is pretty standard. Factor out some common logic into helper functions Testing Instructions Existing tests should suffice. Co-authored-by: --global "
139,Fix vdbg! depth and JSON error messages (#5138),"Description Two small fixes:  The vdbg!(vc; depth = 1) macro would error out the expanded __init syntax wasn't updated in #4995 The JSON error message could panic if the line and/or column was 0 This comes up when trying to deserialize into a struct with a missing prop, because it errors at the opening { brace  Testing Instructions    Give a quick description of steps to test your changes.",Fix vdbg! depth and JSON error messages (#5138),"Description Two small fixes: The vdbg!(vc; depth = 1) macro would error out the expanded __init syntax wasn't updated in #4995 The JSON error message could panic if the line and/or column was 0 This comes up when trying to deserialize into a struct with a missing prop, because it errors at the opening { brace Testing Instructions Give a quick description of steps to test your changes."
140,Update storybook.mdx (#5134),pnpx deprecated Co-authored-by: Anthony Shew anthony.shew@vercel.com,Update storybook.mdx (#5134),pnpx deprecated Co-authored-by: Anthony Shew anthony.shew@vercel.com
141,Include timeSaved metric when skipping cache check (#4952),"After this change, the timeSaved metric will be included in: --summarize otutput file when the daemon does not need to restore cache and will also be sent to Spaces. Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",Include timeSaved metric when skipping cache check (#4952),"After this change, the timeSaved metric will be included in: --summarize otutput file when the daemon does not need to restore cache and will also be sent to Spaces. Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
142,docs: add better instructions for building turbo in benchmarking readme (#5114),,docs: add better instructions for building turbo in benchmarking readme (#5114),
143,sync dependencies with next.js (#5131),Description update dependencies to be in sync with next.js,sync dependencies with next.js (#5131),Description update dependencies to be in sync with next.js
144,release(turborepo): 1.10.0 (#5128),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis ,release(turborepo): 1.10.0 (#5128),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Greg Soltis 
145,fix(gen): clean up our internal generators (#5124),,fix(gen): clean up our internal generators (#5124),
146,feat(docs): sort examples (#5123),,feat(docs): sort examples (#5123),
147,feat(docs): link examples with generators (#5126),,feat(docs): link examples with generators (#5126),
148,fix(blog): correct docs link copy (#5125),,fix(blog): correct docs link copy (#5125),
149,feat(docs): update copy arg (#5090),,feat(docs): update copy arg (#5090),
150,feat(turborepo): Move some shim paths over to AbsoluteSystemPath (#5108),Co-authored-by: Greg Soltis ,feat(turborepo): Move some shim paths over to AbsoluteSystemPath (#5108),Co-authored-by: Greg Soltis 
151,fix: update storybook dev command (#5105),,fix: update storybook dev command (#5105),
152,feat(docs): include dev command (#5120),,feat(docs): include dev command (#5120),
153,feat(docs): multiple global turbo FAQ. (#5119),,feat(docs): multiple global turbo FAQ. (#5119),
154,chore: Update swc_core to v0.76.37 (#5094),Description This PR updates swc_core from https://github.com/swc-project/swc/commit/ed9d316833dd77c84c2419b9388206109d69679c to https://github.com/swc-project/swc/commit/ad8e6a006c35977d70b719e67b5a45244c017ca1 The main goal is to reduce build time. I expect https://github.com/swc-project/swc/pull/7442 to have a huge effect on the build time. Testing Instructions Look at the CI of the next.js counterpart: https://github.com/vercel/next.js/pull/50311  Closes WEB-1108,chore: Update swc_core to v0.76.37 (#5094),Description This PR updates swc_core from link to link The main goal is to reduce build time. I expect link to have a huge effect on the build time. Testing Instructions Look at the CI of the next.js counterpart: link Closes WEB-1108
155,Fix broken link for --verbosity. (#5118),,Fix broken link for --verbosity. (#5118),
156,ci(workflow): update turbopack test results to datadog (#5107),"Description This PR makes turbopack's test result to be uploaded to datadog for the observability. Datadog have a dedicated test / pipeline features for the CI, we'll going to utilize it. Once uploaded, individual CI results can be displayed like   and we'll setup a dashboard to refine data what we want to see.",ci(workflow): update turbopack test results to datadog (#5107),"Description This PR makes turbopack's test result to be uploaded to datadog for the observability. Datadog have a dedicated test / pipeline features for the CI, we'll going to utilize it. Once uploaded, individual CI results can be displayed like and we'll setup a dashboard to refine data what we want to see."
157,feat: rust pnpm lockfile implementation (#4906),"Description This PR is a fairly faithful Rust port of the Go implementation. There are two intentional differences: - A few fields in the lockfile are no longer serialized in a flow. This is a short coming of serde_yaml (https://github.com/dtolnay/serde-yaml/issues/303). Luckily pnpm doesn't care, but it does mean that the outputs between Go and Rust aren't byte identical - I didn't port convertLockfileV6DepPathToV5DepPath to Rust and instead added functionality to the DepPath parser to handle both v5 and v6 paths. Reviewer notes: - Start with dep_path.rs, this is primarily the parsing of ""dependency paths"" which is pnpm's term for lockfile keys. They consist of a package name, version, and sometimes a suffix which can contain the resolved versions of peer dependencies and/or patches. - data.rs contains all of the structure for the lockfile as well as the logic for traversing the lockfile - se.rs/de.rs contain some custom logic for handling the lockfileVersion field - All helper methods of PnpmLockfile in Go got ported to Rust using snake case Testing Instructions Ported all existing unit tests. Existing integration and e2e tests pass. Manual testing that turbo prune output can be used with pnpm install --frozen-lockfile.  Co-authored-by: Chris Olszewski ",feat: rust pnpm lockfile implementation (#4906),"Description This PR is a fairly faithful Rust port of the Go implementation. There are two intentional differences: - A few fields in the lockfile are no longer serialized in a flow. This is a short coming of serde_yaml (link). Luckily pnpm doesn't care, but it does mean that the outputs between Go and Rust aren't byte identical - I didn't port convertLockfileV6DepPathToV5DepPath to Rust and instead added functionality to the DepPath parser to handle both v5 and v6 paths. Reviewer notes: - Start with dep_path.rs, this is primarily the parsing of ""dependency paths"" which is pnpm's term for lockfile keys. They consist of a package name, version, and sometimes a suffix which can contain the resolved versions of peer dependencies and/or patches. - data.rs contains all of the structure for the lockfile as well as the logic for traversing the lockfile - se.rs/de.rs contain some custom logic for handling the lockfileVersion field - All helper methods of PnpmLockfile in Go got ported to Rust using snake case Testing Instructions Ported all existing unit tests. Existing integration and e2e tests pass. Manual testing that turbo prune output can be used with pnpm install --frozen-lockfile. Co-authored-by: Chris Olszewski "
158,feat(ecmascript-plugins): support swc ecmatransform plugins (#5050),"Description Part 1 for WEB-998. This PR implements a new turbopack-ecmascript plugin for the swc's ecmatransform plugin. New transform SwcEcmaTransformPluginsTransformer accepts array of plugin module contains CompiledPluginModuleBytes from swc's wasm plugin then executes it. It doesn't utilize SWC's internal cache mechanism to keep compiled / serialized wasm module (wasmer::Module), instead expect turbopack manages it. For those reason, we only accepts CompiledPluginModuleBytes from swc as it is a serialized copy does not requires re-compilation, while swc have few other different representation to the module bytes. It is exposed as a separate feature instead of being default: there are some of platforms / targets we can't support plugins yet, and making it default will makes next-swc to fail to build.  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",feat(ecmascript-plugins): support swc ecmatransform plugins (#5050),"Description Part 1 for WEB-998. This PR implements a new turbopack-ecmascript plugin for the swc's ecmatransform plugin. New transform SwcEcmaTransformPluginsTransformer accepts array of plugin module contains CompiledPluginModuleBytes from swc's wasm plugin then executes it. It doesn't utilize SWC's internal cache mechanism to keep compiled / serialized wasm module (wasmer::Module), instead expect turbopack manages it. For those reason, we only accepts CompiledPluginModuleBytes from swc as it is a serialized copy does not requires re-compilation, while swc have few other different representation to the module bytes. It is exposed as a separate feature instead of being default: there are some of platforms / targets we can't support plugins yet, and making it default will makes next-swc to fail to build. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
159,followup fix (#5106),Description Small fix to avoid breakin 1 next.js test Testing Instructions    Give a quick description of steps to test your changes.,followup fix (#5106),Description Small fix to avoid breakin 1 next.js test Testing Instructions Give a quick description of steps to test your changes.
160,Stable chunk list ident (#5104),"Description This fixes an issue where the chunk list's identifier would change when a chunk is added or removed. This defeats the purpose of a chunk list, and breaks HMR. Testing Instructions Manual tests, and eventually Next.js HMR tests.",Stable chunk list ident (#5104),"Description This fixes an issue where the chunk list's identifier would change when a chunk is added or removed. This defeats the purpose of a chunk list, and breaks HMR. Testing Instructions Manual tests, and eventually Next.js HMR tests."
161,allow to create internal modules via AssetContext (#5095),"Description This allows to create an Module with inner asset via AssetContext. This will also respect transitions. This change allows use to use context.process(source, ReferenceType::Internal(inner_assets) instead of EcmascriptModuleAssetVc::new_with_inner_assets(..., ..., ..., ..., ..., inner_assets) next.js PR: https://github.com/vercel/next.js/pull/50338",allow to create internal modules via AssetContext (#5095),"Description This allows to create an Module with inner asset via AssetContext. This will also respect transitions. This change allows use to use context.process(source, ReferenceType::Internal(inner_assets) instead of EcmascriptModuleAssetVc::new_with_inner_assets(..., ..., ..., ..., ..., inner_assets) next.js PR: link"
162,Node.js production runtime POC (#4998),"Description This implements a Node.js production runtime for Turbopack, to first be used for next build --turbo, but that can easily be extended to support more production use cases (e.g. ncc). The runtime works differently from the dev runtime we're currently using for next dev: instead of having each chunk register itself against a global registry when evaluated, chunks export their module factories as a CommonJS default export. The runtime itself lives in a separate chunk, and then an ""exported chunk"" is generated that instantiates runtime entries and exports a given entry module. Corresponding Next.js PR: ~~https://github.com/vercel/next.js/pull/49942~~ https://github.com/vercel/next.js/pull/50375  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Node.js production runtime POC (#4998),"Description This implements a Node.js production runtime for Turbopack, to first be used for next build --turbo, but that can easily be extended to support more production use cases (e.g. ncc). The runtime works differently from the dev runtime we're currently using for next dev: instead of having each chunk register itself against a global registry when evaluated, chunks export their module factories as a CommonJS default export. The runtime itself lives in a separate chunk, and then an ""exported chunk"" is generated that instantiates runtime entries and exports a given entry module. Corresponding Next.js PR: ~~link link Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
163,refactor: Fix binary bloat caused by ValueDebugFormat impl (#5102),"Description ```     Finished release [optimized] target(s) in 0.43s     Analyzing target/release/libnext_swc_napi.dylib File  .text     Size                          Crate Name  0.1%   0.3% 185.1KiB               swc_css_prefixer ::visit_mut_declaration  0.0%   0.1%  53.9KiB       swc_ecma_transforms_base ::build_imports::{closure#0}  0.0%   0.1%  41.4KiB                      next_core ::__value_debug_format_NextConfig::{closure#0}  0.0%   0.1%  39.6KiB                 turbopack_core turbopack_core::register  0.0%   0.1%  36.5KiB                            std core::ptr::drop_in_place::<::__value_debug_format_NextConfig::{closure#0}>  0.0%   0.1%  36.5KiB                            std core::ptr::drop_in_place::<::__value_debug_format_NextConfig::{closure#0}>  0.0%   0.1%  34.5KiB           turbopack_ecmascript turbopack_ecmascript::register  0.0%   0.1%  34.4KiB                      next_core next_core::register  0.0%   0.1%  32.6KiB     swc_ecma_transforms_module ::fold_module  0.0%   0.0%  30.5KiB                          regex ::captures_read_at  0.0%   0.0%  27.5KiB                   browserslist browserslist::data::caniuse::features::get_feature_stat  0.0%   0.0%  27.5KiB                            swc ::build_as_input::<swc_visit::AndThen<swc_visit::Optional, swc_visit::AndThen<either::Either<swc_e...  0.0%   0.0%  27.2KiB           turbopack_ecmascript turbopack_ecmascript::references::analyze_ecmascript_module_inline::{closure#0} ``` Testing Instructions   Closes WEB-1116   Co-authored-by: Justin Ridgewell justin@ridgewell.name",refactor: Fix binary bloat caused by ValueDebugFormat impl (#5102),Description module Testing Instructions Closes WEB-1116 Co-authored-by: Justin Ridgewell justin@ridgewell.name
164,fix(turborepo): rust implementation of file hashing via git index (#4967),Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,fix(turborepo): rust implementation of file hashing via git index (#4967),Co-authored-by: Greg Soltis  Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
165,port(turborepo): Run stub (#5099),Co-authored-by: --global nick@nicholasyang.com Co-authored-by: --global  Co-authored-by: Greg Soltis ,port(turborepo): Run stub (#5099),Co-authored-by: --global nick@nicholasyang.com Co-authored-by: --global  Co-authored-by: Greg Soltis 
166,"ci: Revert ""ci: Remove go/rust toolchain from JS package tests (#5036)"" (#5097)",This reverts commit 7945a2c6c7092eb130033775d78dbe92aa60678d. Description Reverts #5036 which disabled the Rust/Go setup for the JS package tests. This is a temporary fix until we get our filters correct. Testing Instructions Failures were introduced by removing the Rust/Go setup Co-authored-by: Chris Olszewski ,"ci: Revert ""ci: Remove go/rust toolchain from JS package tests (#5036)"" (#5097)",This reverts commit 7945a2c6c7092eb130033775d78dbe92aa60678d. Description Reverts #5036 which disabled the Rust/Go setup for the JS package tests. This is a temporary fix until we get our filters correct. Testing Instructions Failures were introduced by removing the Rust/Go setup Co-authored-by: Chris Olszewski 
167,use more accurate function return values for static analysis (#4902),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  During current static analysis process, turbopack will give all function a default JsValue::Constant(ConstantValue::Undefined) as one of possible return value of function, but function always has a return value when the last statement of function body is ReturnStatement. Although there maybe be dead loop or throw error syntax inside of function, but that case shouldn't affect static analysis process. This PR add a check before setting the initial return values for function, which will make the static analysis process more accurate. Testing Instructions check the diff result of snapshot.    Give a quick description of steps to test your changes.  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",use more accurate function return values for static analysis (#4902),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. During current static analysis process, turbopack will give all function a default JsValue::Constant(ConstantValue::Undefined) as one of possible return value of function, but function always has a return value when the last statement of function body is ReturnStatement. Although there maybe be dead loop or throw error syntax inside of function, but that case shouldn't affect static analysis process. This PR add a check before setting the initial return values for function, which will make the static analysis process more accurate. Testing Instructions check the diff result of snapshot. Give a quick description of steps to test your changes. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
168,release(turborepo): 1.10.0-canary.0 (#5092),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.10.0-canary.0 (#5092),Co-authored-by: Turbobot turbobot@vercel.com
169,fix(turborepo):Support distinguishing unset env vars (#5086),Co-authored-by: Nathan Hammond ,fix(turborepo):Support distinguishing unset env vars (#5086),Co-authored-by: Nathan Hammond 
170,Improve error message when repo is not linked or token is expired (#5089),,Improve error message when repo is not linked or token is expired (#5089),
171,fix(daemon): plumb through flush watch errors (#5070),"Description First pass as plumbing the status of watching the flush directory to the glob watcher and watcher configs. Notable changes: - Before we start to process flush commands we wait until we get confirmation that we are watching the flush directory so we can properly handle flush commands - Failing to watch the flush directory will cause the watch future held by the server to exit. The daemon server won't shut down, but will respond with errors to all glob watching related RPC requests Reviewer notes: - The current timeout logic means that if erroring on setting up the flush directory takes over 500ms we skip the flush and proceed as usual  - We now return errors for get_changed_outputs RPC call - I'm unsure of the changes to the serve function. I've manually tested them, but they feel off. In the future when we possibly have multiple long running futures this won't scale. Testing Instructions Unit test should now consistently pass and not depend on watching the flush directory succeeding before the watcher is converted into a stream. Did some manual testing to make sure that we don't exit if glob watching fails and instead report an error to clients: From the daemon logs: 2023-05-23T15:36:56.894-0700 [TRACE] globwatch: watching ""/private/tmp/turborepo-netflix-cache-repro""               2023-05-23T15:36:56.898-0700 [TRACE] globwatch: watching flush dir: ""/private/var/folders/3m/rxkycvgs5jgfvs0k9xcgp6 km0000gn/T/turbod/3e1692e405755b5a/flush""                                                                           ERROR faked failure for globawatch                                                                                  ERROR Globwatch config error: ServerFailedToStart                                                                   2023-05-23T15:37:21.582-0700 [TRACE] log: registering event source with poller: token=Token(1), interests=READABLE  | WRITABLE From the turbo output: web:build: Failed to check if we can skip restoring outputs for web#build: rpc error: code = Internal desc = failed to watch flush directory. Proceeding to check cache  Co-authored-by: Chris Olszewski ",fix(daemon): plumb through flush watch errors (#5070),"Description First pass as plumbing the status of watching the flush directory to the glob watcher and watcher configs. Notable changes: - Before we start to process flush commands we wait until we get confirmation that we are watching the flush directory so we can properly handle flush commands - Failing to watch the flush directory will cause the watch future held by the server to exit. The daemon server won't shut down, but will respond with errors to all glob watching related RPC requests Reviewer notes: - The current timeout logic means that if erroring on setting up the flush directory takes over 500ms we skip the flush and proceed as usual  - We now return errors for get_changed_outputs RPC call - I'm unsure of the changes to the serve function. I've manually tested them, but they feel off. In the future when we possibly have multiple long running futures this won't scale. Testing Instructions Unit test should now consistently pass and not depend on watching the flush directory succeeding before the watcher is converted into a stream. Did some manual testing to make sure that we don't exit if glob watching fails and instead report an error to clients: From the daemon logs: 2023-05-23T15:36:56.894-0700 [TRACE] globwatch: watching ""/private/tmp/turborepo-netflix-cache-repro""             2023-05-23T15:36:56.898-0700 [TRACE] globwatch: watching flush dir: ""/private/var/folders/3m/rxkycvgs5jgfvs0k9xcgp6 km0000gn/T/turbod/3e1692e405755b5a/flush""                                                                         ERROR faked failure for globawatch                                                                                ERROR Globwatch config error: ServerFailedToStart                                                                 2023-05-23T15:37:21.582-0700 [TRACE] log: registering event source with poller: token=Token(1), interests=READABLE  | WRITABLE From the turbo output: web:build: Failed to check if we can skip restoring outputs for web#build: rpc error: code = Internal desc = failed to watch flush directory. Proceeding to check cache Co-authored-by: Chris Olszewski "
172,Wildcard env (#5017),Add the ability to specify environment variables via wildcards anywhere in turbo.json where environment variables are accepted.  Co-authored-by: Nathan Hammond ,Wildcard env (#5017),Add the ability to specify environment variables via wildcards anywhere in turbo.json where environment variables are accepted. Co-authored-by: Nathan Hammond 
173,Add codemod to transform literals to wildcards (#5054),In 1.10 all existing literal env var names become wildcards. Users with literals env vars that could be confused as wildcards need to be escaped. This automates that process.  Co-authored-by: Nathan Hammond ,Add codemod to transform literals to wildcards (#5054),In 1.10 all existing literal env var names become wildcards. Users with literals env vars that could be confused as wildcards need to be escaped. This automates that process. Co-authored-by: Nathan Hammond 
174,feat: go daemon opt-in feature flag (#5076),Co-authored-by: Greg Soltis greg.soltis@vercel.com,feat: go daemon opt-in feature flag (#5076),Co-authored-by: Greg Soltis greg.soltis@vercel.com
175,release(turborepo): 1.9.9 (#5082),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.9 (#5082),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Turbobot turbobot@vercel.com
176,feat(turbo/gen): update copy arg (#5040),,feat(turbo/gen): update copy arg (#5040),
177,improve asset path (#5072),"Description  include basename in static path only use 8 chars for hash  This aligns with next.js, which seem to be a reasonable default. Production mode can omit the basename and only include the hash.",improve asset path (#5072),"Description include basename in static path only use 8 chars for hash This aligns with next.js, which seem to be a reasonable default. Production mode can omit the basename and only include the hash."
178,feat(docs): add experimental FAQ (#5056),,feat(docs): add experimental FAQ (#5056),
179,refactor webpack loader execution (#4880),Description  fix error propagation in ContextCondition improve JSON deserialization error message fix glob matching allow to rename assets and apply pipeline on renamed asset  https://github.com/vercel/next.js/pull/49535,refactor webpack loader execution (#4880),Description fix error propagation in ContextCondition improve JSON deserialization error message fix glob matching allow to rename assets and apply pipeline on renamed asset link
180,fix(create-turbo): git init must use add (#5058),,fix(create-turbo): git init must use add (#5058),
181,refactor(turborepo): Consolidated PathError and PathValidationError (#5060),"Description We don't need two Path error types, so consolidated them. Testing Instructions Existing tests should suffice.  Co-authored-by: --global ",refactor(turborepo): Consolidated PathError and PathValidationError (#5060),"Description We don't need two Path error types, so consolidated them. Testing Instructions Existing tests should suffice. Co-authored-by: --global "
182,ci: Remove go/rust toolchain from JS package tests (#5036),"This reapplies b95ebaaf2588b67b2bb243936143cf3771fa0eae after it was reverted in 14efcf28a7343261b5982e37897037d875b3432b.  The change was reverted because tests that shouldn't have been running were failing. After fixing that in af6797d4cfcfda5ea938e4e1b93b07448b019bbb, we can reapply this commit.",ci: Remove go/rust toolchain from JS package tests (#5036),"This reapplies b95ebaaf2588b67b2bb243936143cf3771fa0eae after it was reverted in 14efcf28a7343261b5982e37897037d875b3432b.  The change was reverted because tests that shouldn't have been running were failing. After fixing that in af6797d4cfcfda5ea938e4e1b93b07448b019bbb, we can reapply this commit."
183,"refactor(turbopack-ecmascript): deprecate enable_emotion, enable_styled* (#4955)","Description WEB-1048. With https://github.com/vercel/next.js/pull/49621, now we can consolidate most of non-core transforms into ecmaplugins. Postcss / mdx are the only exceptions, but not immediate priority compare to work (which requires to setup some rules instead of just plugins) and filed 1054/1055 for those to deal with later.","refactor(turbopack-ecmascript): deprecate enable_emotion, enable_styled* (#4955)","Description WEB-1048. With link, now we can consolidate most of non-core transforms into ecmaplugins. Postcss / mdx are the only exceptions, but not immediate priority compare to work (which requires to setup some rules instead of just plugins) and filed 1054/1055 for those to deal with later."
184,ci: simplify filter for running JS tests (#5024),"Using ! syntax creates a union set between the filters and catches many more tests than we want to run in this case. Using ./packages works better, because even though it includes packages that the turborepo team does not own, the filter by changed workspaces should exclude them. Even if it doesn't, it's ok to run all JS package tests without accounting for code ownership.",ci: simplify filter for running JS tests (#5024),"Using ! syntax creates a union set between the filters and catches many more tests than we want to run in this case. Using ./packages works better, because even though it includes packages that the turborepo team does not own, the filter by changed workspaces should exclude them. Even if it doesn't, it's ok to run all JS package tests without accounting for code ownership."
185,ci(turbo): allow publishing from non-main (#5062),,ci(turbo): allow publishing from non-main (#5062),
186,fix(daemon): kill daemon when root is removed (#5038),Description Fixes #5025 In Go code we would shut down the daemon whenever the repository root was removed. This PR adds that logic back by watching the root and exiting the daemon if the root is removed. Testing Instructions Added unit test. Follow instructions in reproduction repository in uncurated-tests/turborepo-netflix-cache-repro  Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski ,fix(daemon): kill daemon when root is removed (#5038),Description Fixes #5025 In Go code we would shut down the daemon whenever the repository root was removed. This PR adds that logic back by watching the root and exiting the daemon if the root is removed. Testing Instructions Added unit test. Follow instructions in reproduction repository in uncurated-tests/turborepo-netflix-cache-repro Co-authored-by: Alexander Lyon arlyon@me.com Co-authored-by: Chris Olszewski 
187,fix(create-turbo): default example messaging (#5059),,fix(create-turbo): default example messaging (#5059),
188,Introduce socket.yaml (#5057),Co-authored-by: aaronbrown-vercel 102940404+aaronbrown-vercel@users.noreply.github.com,Introduce socket.yaml (#5057),Co-authored-by: aaronbrown-vercel 102940404+aaronbrown-vercel@users.noreply.github.com
189,Initial tracing implementation (#4966),"Description  adds a raw_trace subscriber that will emit the raw trace events into .turbopack/trace.log (resp. .next/trace.log for next.js) adds a CLI script which converts the raw trace into a chrome trace json file -> https://ui.perfetto.dev/ adds a TURBOPACK_TRACING (resp. NEXT_TURBOPACK_TRACING) env var to enable tracing adds some presets e. g. turbopack or next to enable tracing for certain things. add tracing for invalidations  There are three different visualization modes: --single Shows all cpu time as it would look like when a single cpu would execute the workload. (10 concurrent tasks that take 1s are shown as 10 tasks that take 1s with total time of 10s) Pro: * Concurrency is visualized by bar filling (dark filled bars -> too few concurrency) * It injects pseudo bars with ""cpus idle"" for low concurrency (with --idle) Con: * Total time won't be represented correctly, since a single CPU would take longer Use Case: Gives a good overview of slow tasks in a build. --merged Shows all cpu time scaled by the concurrency. (10 concurrent tasks that take 1s are shown as 10 tasks that take 0.1s with total time of 1s) Pro: * Total time is represented correctly * Low concurrent tasks are bigger * Concurrency is visualized by bar filling (dark filled bars -> too few concurrency) * It injects pseudo bars with ""cpus idle"" for low concurrency (with --idle) Con: * Individual tasks time won't be represented correctly. Use Case: Gives a good overview why a build is slow overall. --threads Shows cpu time distributed on infinite virtual cpus/threads. (10 concurrent tasks that take 1s are shown as 10 concurrent tasks that take 1s with total time of 1s) Pro: * Concurrency is shown via multiple CPU * Most realistic visualization Con: * Hard to read",Initial tracing implementation (#4966),"Description adds a raw_trace subscriber that will emit the raw trace events into .turbopack/trace.log (resp. .next/trace.log for next.js) adds a CLI script which converts the raw trace into a chrome trace json file -> link/ adds a TURBOPACK_TRACING (resp. NEXT_TURBOPACK_TRACING) env var to enable tracing adds some presets e. g. turbopack or next to enable tracing for certain things. add tracing for invalidations There are three different visualization modes: --single Shows all cpu time as it would look like when a single cpu would execute the workload. (10 concurrent tasks that take 1s are shown as 10 tasks that take 1s with total time of 10s) Pro: * Concurrency is visualized by bar filling (dark filled bars -> too few concurrency) * It injects pseudo bars with ""cpus idle"" for low concurrency (with --idle) Con: * Total time won't be represented correctly, since a single CPU would take longer Use Case: Gives a good overview of slow tasks in a build. --merged Shows all cpu time scaled by the concurrency. (10 concurrent tasks that take 1s are shown as 10 tasks that take 0.1s with total time of 1s) Pro: * Total time is represented correctly * Low concurrent tasks are bigger * Concurrency is visualized by bar filling (dark filled bars -> too few concurrency) * It injects pseudo bars with ""cpus idle"" for low concurrency (with --idle) Con: * Individual tasks time won't be represented correctly. Use Case: Gives a good overview why a build is slow overall. --threads Shows cpu time distributed on infinite virtual cpus/threads. (10 concurrent tasks that take 1s are shown as 10 concurrent tasks that take 1s with total time of 1s) Pro: * Concurrency is shown via multiple CPU * Most realistic visualization Con: * Hard to read"
190,feat(turbo/gen): improved onboarding (#5035),,feat(turbo/gen): improved onboarding (#5035),
191,update test snapshots (#5053),Description follow up for https://github.com/vercel/turbo/pull/5049 CI didn't run as it was a lockfile only change,update test snapshots (#5053),Description follow up for link CI didn't run as it was a lockfile only change
192,Update swc_core to v0.76.18 (#5049),Description This PR disables tracing/max_level_info. Testing Instructions Check CI  Next.js counterpart: https://github.com/vercel/next.js/pull/50137 Closes WEB-1081,Update swc_core to v0.76.18 (#5049),Description This PR disables tracing/max_level_info. Testing Instructions Check CI Next.js counterpart: link Closes WEB-1081
193,More robust vdbg! macro (#4995),"Description I ran into a couple of issues with the vdbg! macro: * The macro tries to move its parameters within an async block, which requires everything that's moved to be both Copy and 'static to work properly. This would break when trying to pass &obj.property, where the reference doesn't have a 'static lifetime. Instead, I'm adding the requirement on parameters to impl ToOwned so we can ensure the 'static lifetime, and creating an owned version of the parameter to move into the future. * The CELL_COUNTERS thread local could be unset when calling .value_debug_format().try_to_string(), which would panic the thread.",More robust vdbg! macro (#4995),"Description I ran into a couple of issues with the vdbg! macro: * The macro tries to move its parameters within an async block, which requires everything that's moved to be both Copy and 'static to work properly. This would break when trying to pass &obj.property, where the reference doesn't have a 'static lifetime. Instead, I'm adding the requirement on parameters to impl ToOwned so we can ensure the 'static lifetime, and creating an owned version of the parameter to move into the future. * The CELL_COUNTERS thread local could be unset when calling .value_debug_format().try_to_string(), which would panic the thread."
194,"feat(turborepo): remove RelativeSystemPathBuf, clean paths on join (#5020)","Description Commits are:  - switch all uses of join_relative to join_literal(s)  - drop relative_system_path_buf.rs - add .clean() to the .join_*() methods on AbsoluteSystemPath, defer join methods on AbsoluteSystemPathBuf to AbsoluteSystemPath - Some cleanup to lock down access to path methods that we don't currently use in production code Testing Instructions Existing test suite, plus some debug_assert calls for joining literals  Co-authored-by: Greg Soltis ","feat(turborepo): remove RelativeSystemPathBuf, clean paths on join (#5020)","Description Commits are:  - switch all uses of join_relative to join_literal(s)  - drop relative_system_path_buf.rs - add .clean() to the .join_*() methods on AbsoluteSystemPath, defer join methods on AbsoluteSystemPathBuf to AbsoluteSystemPath - Some cleanup to lock down access to path methods that we don't currently use in production code Testing Instructions Existing test suite, plus some debug_assert calls for joining literals Co-authored-by: Greg Soltis "
195,ci: Reinstate cargo sweep (#5023),"7322073d09877a92fb48f9b1136416c79eb7b24f disabled cargo-sweep from running for turborepo workflows, but the if was implemented incorrectly. This was fixed in f89354f8b4f16666f98068553f302fd977153bad, but since then I've seen some other unrelated failures, so this commit goes all the way back in time to re-enable cargo sweep everywhere.",ci: Reinstate cargo sweep (#5023),"7322073d09877a92fb48f9b1136416c79eb7b24f disabled cargo-sweep from running for turborepo workflows, but the if was implemented incorrectly. This was fixed in f89354f8b4f16666f98068553f302fd977153bad, but since then I've seen some other unrelated failures, so this commit goes all the way back in time to re-enable cargo sweep everywhere."
196,Update skipping-tasks.mdx (#5041),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Update skipping-tasks.mdx (#5041),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
197,Update skipping-tasks.mdx (#5039),Trying to be a little more clear about what flag to use where!,Update skipping-tasks.mdx (#5039),Trying to be a little more clear about what flag to use where!
198,ci: enable remote caching and spaces to turbo lint job (#5010),,ci: enable remote caching and spaces to turbo lint job (#5010),
199,feat(prune) allow pruning of projects using Yarn PnP  (#5019),Description We have had Yarn2+ support* for quite awhile now. This PR is one of the final steps to remove that asterisks and allow Yarn PnP to be used. A note is that we currently don't copy over the .pnp.cjs file or the .yarn/cache which are required for zero installs. We skip this a naive copy would cause Docker cache misses in the same way a naive copy of the lockfile would. Future work can include correctly pruning this file and directory to allow for the yarn install on a cache miss to be even faster. Testing Instructions Manual testing that yarn install --immutable works for PnP projects. Added an integration test that verifies we no longer throw when trying to prune a PnP project and that we don't copy over files that would bust the cache.  Co-authored-by: Chris Olszewski ,feat(prune) allow pruning of projects using Yarn PnP  (#5019),Description We have had Yarn2+ support* for quite awhile now. This PR is one of the final steps to remove that asterisks and allow Yarn PnP to be used. A note is that we currently don't copy over the .pnp.cjs file or the .yarn/cache which are required for zero installs. We skip this a naive copy would cause Docker cache misses in the same way a naive copy of the lockfile would. Future work can include correctly pruning this file and directory to allow for the yarn install on a cache miss to be even faster. Testing Instructions Manual testing that yarn install --immutable works for PnP projects. Added an integration test that verifies we no longer throw when trying to prune a PnP project and that we don't copy over files that would bust the cache. Co-authored-by: Chris Olszewski 
200,feat(basic): add generators to basic example (#5006),,feat(basic): add generators to basic example (#5006),
201,Add missing --copy flag. (#5021),Just a typo. 😄,Add missing --copy flag. (#5021),Just a typo. 😄
202,Add dotEnv to turbo.json (#4870),"Enable configuring .env files inside of turbo.json. These are addition-only to file hashes, and enables specifying load order for cache distinctions.  Co-authored-by: Nathan Hammond ",Add dotEnv to turbo.json (#4870),"Enable configuring .env files inside of turbo.json. These are addition-only to file hashes, and enables specifying load order for cache distinctions. Co-authored-by: Nathan Hammond "
203,"Revert ""ci: Remove go/rust toolchain from JS package tests (#4993)"" (#5033)",This reverts commit b95ebaaf2588b67b2bb243936143cf3771fa0eae.,"Revert ""ci: Remove go/rust toolchain from JS package tests (#4993)"" (#5033)",This reverts commit b95ebaaf2588b67b2bb243936143cf3771fa0eae.
204,test: fix berry roundtrip test on  (#5022),Description We were incorrectly using CRLF on Windows for the berry lockfile fixtures. This PR configures git to always use lf for the berry lockfile fixtures. Testing Instructions  Checkout this branch on Windows rm -r crates/turborepo-lockfiles/fixtures git restore crates/turborepo-lockfiles/fixtures cargo tr-test now passes   Co-authored-by: Chris Olszewski ,test: fix berry roundtrip test on  (#5022),Description We were incorrectly using CRLF on Windows for the berry lockfile fixtures. This PR configures git to always use lf for the berry lockfile fixtures. Testing Instructions Checkout this branch on Windows rm -r crates/turborepo-lockfiles/fixtures git restore crates/turborepo-lockfiles/fixtures cargo tr-test now passes Co-authored-by: Chris Olszewski 
205,Implement package.json's imports field (#4895),"Description The imports field is similar to exports. While exports allows a package to control how others can import it, imports allows it control how it wants to import other packages. The majority of the code can be shared with the already-implemented ExportsField and AliasMap, with just special parsing logic. Besides that, I just needed to setup the conditional for imports and some cleanup. Testing Instructions bash RUST_BACKTRACE=1 cargo nextest run -E 'test(snapshot__imports__subpath_imports)' Fixes WEB-50 Pair: https://github.com/vercel/next.js/pull/49636 fix #4799  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Implement package.json's imports field (#4895),"Description The imports field is similar to exports. While exports allows a package to control how others can import it, imports allows it control how it wants to import other packages. The majority of the code can be shared with the already-implemented ExportsField and AliasMap, with just special parsing logic. Besides that, I just needed to setup the conditional for imports and some cleanup. Testing Instructions bash RUST_BACKTRACE=1 cargo nextest run -E 'test(snapshot__imports__subpath_imports)' Fixes WEB-50 Pair: link fix #4799 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
206,Add ServerInfo struct for node rendering (#5018),"Description This adds a new serializable helper struct for Turbopack's server information (hostname, ip, port, protocol). Testing Instructions None Re: WEB-1064",Add ServerInfo struct for node rendering (#5018),"Description This adds a new serializable helper struct for Turbopack's server information (hostname, ip, port, protocol). Testing Instructions None Re: WEB-1064"
207,ci: Remove go/rust toolchain from JS package tests (#4993),,ci: Remove go/rust toolchain from JS package tests (#4993),
208,refactor(turborepo): Signature Authentication (2nd try) (#4980),"Description Refactors the signature authentication to use a language-independent algorithm, as the previous implementation depended on Go's JSON serialization. NOTE: This is a global hash bump. Testing Instructions Testing is using fuzzing across the Go-Rust boundary to check that signatures are correctly generated on both sides.  Co-authored-by: --global ",refactor(turborepo): Signature Authentication (2nd try) (#4980),"Description Refactors the signature authentication to use a language-independent algorithm, as the previous implementation depended on Go's JSON serialization. NOTE: This is a global hash bump. Testing Instructions Testing is using fuzzing across the Go-Rust boundary to check that signatures are correctly generated on both sides. Co-authored-by: --global "
209,feat(turbopack): basic sass-loader support (#4985),"Description WEB-654. This is pairing PR from next.js https://github.com/vercel/next.js/pull/49882 (not a breaking change though) to have necessary support to run sass-loader. Mainly, it adds near-dummy context in webpack-loaders as well as assigning specific module types for the scss / sass. I'm not entirely in favor of having internal custom module type logic in webpack loaders setup by extension - however next.config.js itself doesn't have enough information other than extension + loader to determine module type. Something would like to address.  Co-authored-by: Justin Ridgewell justin@ridgewell.name",feat(turbopack): basic sass-loader support (#4985),"Description WEB-654. This is pairing PR from next.js link (not a breaking change though) to have necessary support to run sass-loader. Mainly, it adds near-dummy context in webpack-loaders as well as assigning specific module types for the scss / sass. I'm not entirely in favor of having internal custom module type logic in webpack loaders setup by extension - however next.config.js itself doesn't have enough information other than extension + loader to determine module type. Something would like to address. Co-authored-by: Justin Ridgewell justin@ridgewell.name"
210,fix: no longer crash for single projects with global dependencies (#5002),"Description Fixes #4914, this is the pnpm implementation of #4240 Was caused as pnpm when calculating ignores touches the file system and will error if pnpm-workspace.yaml isn't present. This also avoids failing on the rare case of someone using turbo on a single project with no external dependencies as pnpm won't create a lockfile in this case. Testing Instructions Added integration test for a single project using pnpm with global dependencies  Co-authored-by: Chris Olszewski ",fix: no longer crash for single projects with global dependencies (#5002),"Description Fixes #4914, this is the pnpm implementation of #4240 Was caused as pnpm when calculating ignores touches the file system and will error if pnpm-workspace.yaml isn't present. This also avoids failing on the rare case of someone using turbo on a single project with no external dependencies as pnpm won't create a lockfile in this case. Testing Instructions Added integration test for a single project using pnpm with global dependencies Co-authored-by: Chris Olszewski "
211,chore(turbo/gen): mark as experimental (#5016),,chore(turbo/gen): mark as experimental (#5016),
212,Stabilize --env-mode (#4739),This PR updates the documentation and adds a codemod for stabilizing environment variables.  Co-authored-by: Nathan Hammond ,Stabilize --env-mode (#4739),This PR updates the documentation and adds a codemod for stabilizing environment variables. Co-authored-by: Nathan Hammond 
213,Exclude Pipeline Definition from Global Hash (#4545),"The global hash does not need to include the pipeline so long as all material elements to the pipeline are present in the task hash. After 4529 that invariant became true. This PR does two things: - Removes pipeline from the global hash key inputs. - Adjusts the dry run JSON schema to move rootPipeline from globalHashInputs and instead attach it to a new root key, pipeline. This is a possibly-breaking change so I incremented the runSummarySchemaVersion. 🚨🚨🚨 This PR triggers a universal cache invalidation! The payoff is no longer breaking the cache any time turbo.json is updated.  Co-authored-by: Nathan Hammond ",Exclude Pipeline Definition from Global Hash (#4545),"The global hash does not need to include the pipeline so long as all material elements to the pipeline are present in the task hash. After 4529 that invariant became true. This PR does two things: - Removes pipeline from the global hash key inputs. - Adjusts the dry run JSON schema to move rootPipeline from globalHashInputs and instead attach it to a new root key, pipeline. This is a possibly-breaking change so I incremented the runSummarySchemaVersion. 🚨🚨🚨 This PR triggers a universal cache invalidation! The payoff is no longer breaking the cache any time turbo.json is updated. Co-authored-by: Nathan Hammond "
214,Remove THASH (#4724),After 1.9 as a deprecation period (and having heard no user feedback as to being an integral part of their workflow) this removes THASH. Related: #4526,Remove THASH (#4724),After 1.9 as a deprecation period (and having heard no user feedback as to being an integral part of their workflow) this removes THASH. Related: #4526
215,release(turborepo): 1.9.8 (#5012),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.8 (#5012),Co-authored-by: Turbobot turbobot@vercel.com
216,fix(yarn): no longer error on pnp (#5009),"Description Fixes #4953 We had unintentionally dropped the PnP check in Go and reintroduced the check in Rust. This PR simply removes this check and returns us to the old unintentional behavior. I believe run should work as expected since we execute all tasks via yarn which automatically does the right thing with .pnp.cjs. (Also #4953 contains many reports of people using Yarn PnP with turbo just fine) This PR does not: - Add support for PnP with prune. That check was never accidentally dropped and I want to do a few more tests before enabling that. - Fixup our examples to work correctly with Yarn PnP. All of the ones I tried required adding some dependencies Reviewer notes: I apologize, but I ended up fixing all the clippy lints in the files I touched and not just the ones introduced from the behavior change. This resulted in the PR being larger than necessary. Testing Instructions Existing unit tests around yarn/berry detection now pass without the a .yarnrc.yml specifying nodeLinker: node-modules. Manual testing of some test repos Co-authored-by: Chris Olszewski ",fix(yarn): no longer error on pnp (#5009),"Description Fixes #4953 We had unintentionally dropped the PnP check in Go and reintroduced the check in Rust. This PR simply removes this check and returns us to the old unintentional behavior. I believe run should work as expected since we execute all tasks via yarn which automatically does the right thing with .pnp.cjs. (Also #4953 contains many reports of people using Yarn PnP with turbo just fine) This PR does not: - Add support for PnP with prune. That check was never accidentally dropped and I want to do a few more tests before enabling that. - Fixup our examples to work correctly with Yarn PnP. All of the ones I tried required adding some dependencies Reviewer notes: I apologize, but I ended up fixing all the clippy lints in the files I touched and not just the ones introduced from the behavior change. This resulted in the PR being larger than necessary. Testing Instructions Existing unit tests around yarn/berry detection now pass without the a .yarnrc.yml specifying nodeLinker: node-modules. Manual testing of some test repos Co-authored-by: Chris Olszewski "
217,ci: Remove Rust/Go toolchain for examples tests (#4969),"Examples tests do not use a local build of Turborepo, so we do not need the toolchain for that.",ci: Remove Rust/Go toolchain for examples tests (#4969),"Examples tests do not use a local build of Turborepo, so we do not need the toolchain for that."
218,feat(docs): add code gen page (#4978),Co-authored-by: Anthony Shew anthony.shew@vercel.com,feat(docs): add code gen page (#4978),Co-authored-by: Anthony Shew anthony.shew@vercel.com
219,release(turborepo): 1.9.7 (#5005),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.7 (#5005),Co-authored-by: Turbobot turbobot@vercel.com
220,fix(turborepo): Use which crate to resolve yarn binary (#5001),"Description Fixes #4940 by using which crate to resolve yarn binary. That way we use the correct extension, i.e. yarn.cmd on Windows. Testing Instructions Tested manually on Windows. Will add more integration tests  Co-authored-by: --global ",fix(turborepo): Use which crate to resolve yarn binary (#5001),"Description Fixes #4940 by using which crate to resolve yarn binary. That way we use the correct extension, i.e. yarn.cmd on Windows. Testing Instructions Tested manually on Windows. Will add more integration tests Co-authored-by: --global "
221,Move http cache writing to cacheitem. (#4919),Co-authored-by: Nathan Hammond ,Move http cache writing to cacheitem. (#4919),Co-authored-by: Nathan Hammond 
222,ci: remove escaping of ! in filter argument to turbo run (#5003),,ci: remove escaping of ! in filter argument to turbo run (#5003),
223,chore(labeler): add new packages (#5000),,chore(labeler): add new packages (#5000),
224,feat(cli): generators what -> type + cmd change (#4996),,feat(cli): generators what -> type + cmd change (#4996),
225,feat(turbo/gen): tests and consistent CLI args (#4997),,feat(turbo/gen): tests and consistent CLI args (#4997),
226,chore: Standardize turborepo prefix (#4982),"Description To make filtering for CI and other tasks easier, we're prefixing all turborepo crates with turborepo-. That way, filtering can be done as crates/turborepo-*. Testing Instructions",chore: Standardize turborepo prefix (#4982),"Description To make filtering for CI and other tasks easier, we're prefixing all turborepo crates with turborepo-. That way, filtering can be done as crates/turborepo-*. Testing Instructions"
227,ci: Fix create-turbo usage in smoke tests (#4990),,ci: Fix create-turbo usage in smoke tests (#4990),
228,ci: exclude turborepo-tests from JS tests (#4989),"Not sure why, but these tests are getting caught in the filters as they are now, and they fail because the JS package tests job in the workflow doesn't have the dependencies necessary to run these tests.",ci: exclude turborepo-tests from JS tests (#4989),"Not sure why, but these tests are getting caught in the filters as they are now, and they fail because the JS package tests job in the workflow doesn't have the dependencies necessary to run these tests."
229,ci: Use variable instead of secret for TURBO_TEAM (#4991),"secrets get redacted in CI logs, and in unexpected places. We do not need to redact this value. See also #4975 where we updated this in our docs",ci: Use variable instead of secret for TURBO_TEAM (#4991),"secrets get redacted in CI logs, and in unexpected places. We do not need to redact this value. See also #4975 where we updated this in our docs"
230,"Configure React development flag, inherit NODE_ENV from execution context (#4972)",Description This PR allows Turbopack users to configure the development flag from the SWC React transform. This is used in https://github.com/vercel/next.js/pull/49852. This PR also makes the Node.js evaluation asset context inherit its NODE_ENV from the execution context. Testing Instructions N/A,"Configure React development flag, inherit NODE_ENV from execution context (#4972)",Description This PR allows Turbopack users to configure the development flag from the SWC React transform. This is used in link. This PR also makes the Node.js evaluation asset context inherit its NODE_ENV from the execution context. Testing Instructions N/A
231,release(turborepo): 1.9.7-canary.0 (#4988),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.7-canary.0 (#4988),Co-authored-by: Turbobot turbobot@vercel.com
232,Update with-docker with App Router. (#4844),,Update with-docker with App Router. (#4844),
233,Update with-prisma with App Router. (#4846),,Update with-prisma with App Router. (#4846),
234,Update non-monorepo with App Router. (#4842),,Update non-monorepo with App Router. (#4842),
235,Update with-react-native-web with App Router. (#4847),,Update with-react-native-web with App Router. (#4847),
236,Send data to Spaces as tasks finish (#4913),This commit attempts to do: - Make Spaces requests as soon as possible - Ensure that first request to create the Run blocks all other requests (so we can get the runID) - Not block task execution,Send data to Spaces as tasks finish (#4913),This commit attempts to do: - Make Spaces requests as soon as possible - Ensure that first request to create the Run blocks all other requests (so we can get the runID) - Not block task execution
237,feat(cli): rework generator api (#4984),,feat(cli): rework generator api (#4984),
238,fix(lockfile): traverse npm peer dependencies (#4981),"Description In #4824 I removed the peer dependencies when collecting all dependencies for a package. This is correct behavior for npm3-6, but is overly strict for npm7+ as npm will automatically install peer dependencies if they aren't provided. This partially addresses #4915, but doesn't handle the case where a workspace has peer dependencies that the host package doesn't provide. I will address that, but that requires a much larger change to how we construct the workspace graph and extending our package manager interface. Testing Instructions Tests added in ##4824 still pass along with a new unit test that verifies we pick up peer dependencies  Co-authored-by: Chris Olszewski ",fix(lockfile): traverse npm peer dependencies (#4981),"Description In #4824 I removed the peer dependencies when collecting all dependencies for a package. This is correct behavior for npm3-6, but is overly strict for npm7+ as npm will automatically install peer dependencies if they aren't provided. This partially addresses #4915, but doesn't handle the case where a workspace has peer dependencies that the host package doesn't provide. I will address that, but that requires a much larger change to how we construct the workspace graph and extending our package manager interface. Testing Instructions Tests added in ##4824 still pass along with a new unit test that verifies we pick up peer dependencies Co-authored-by: Chris Olszewski "
239,feat: Print failed tasks at the bottom of the run (#4965),"This adds a line to the bottom of the run listing the tasks that failed. Note that if --continue is not passed, the output is non-deterministic since a different task could fail each run.",feat: Print failed tasks at the bottom of the run (#4965),"This adds a line to the bottom of the run listing the tasks that failed. Note that if --continue is not passed, the output is non-deterministic since a different task could fail each run."
240,docs: Explain recursive topo tasks more (#4963),,docs: Explain recursive topo tasks more (#4963),
241,Merge JS package tests into test.yml (#4930),,Merge JS package tests into test.yml (#4930),
242,Update kitchen-sink with App Router. (#4840),,Update kitchen-sink with App Router. (#4840),
243,Update with-changesets with App Router. (#4843),,Update with-changesets with App Router. (#4843),
244,Update CODEOWNERS for docs (#4964),,Update CODEOWNERS for docs (#4964),
245,Correct link to Customizing Turbopack (#4971),"This page: https://turbo.build/pack/docs/comparisons/webpack, currently links to a 404 if you click on ""Customizing Turbopack"".",Correct link to Customizing Turbopack (#4971),"This page: link, currently links to a 404 if you click on ""Customizing Turbopack""."
246,chore: Remove cli#build dependency on all tests everywhere (#4962),"JS package tests don't need to build the turbo CLI before running. Rather than disabling in those workspaces, we can limit cli#build to e2e-style tests for the CLI itself",chore: Remove cli#build dependency on all tests everywhere (#4962),"JS package tests don't need to build the turbo CLI before running. Rather than disabling in those workspaces, we can limit cli#build to e2e-style tests for the CLI itself"
247,Increase timeout for Go Unit Tests (#4957),"These tests keep timing out on Windows, hoping that bumping will help reduce failed PRs.",Increase timeout for Go Unit Tests (#4957),"These tests keep timing out on Windows, hoping that bumping will help reduce failed PRs."
248,chore: Update troubleshooting.md (#4968),,chore: Update troubleshooting.md (#4968),
249,fix: berry lockfile semver range parsing of valid floats (#4945),"Description I believe this is probably the culprit behind #4925.  serde_yaml parses 1 as an unsigned int, 1.2 as a float, and 1.2.3 as a string. We were missing handling the float case. Testing Instructions Added unit test of deserialization of semver ranges that's a valid float",fix: berry lockfile semver range parsing of valid floats (#4945),"Description I believe this is probably the culprit behind #4925.  serde_yaml parses 1 as an unsigned int, 1.2 as a float, and 1.2.3 as a string. We were missing handling the float case. Testing Instructions Added unit test of deserialization of semver ranges that's a valid float"
250,fix(create-turbo): Hard code default example. (#4974),There is no need for the default example to go through a bunch of defensive network requests to correctly locate. This reduces the number of network calls to load the default example to one.,fix(create-turbo): Hard code default example. (#4974),There is no need for the default example to go through a bunch of defensive network requests to correctly locate. This reduces the number of network calls to load the default example to one.
251,fix(create-turbo): Add --fix-lockfile for pnpm install (#4973),"If: - create-turbo is run in an environment detected as CI, - using pnpm, and - the pnpm version is newer than the lockfile that we ship. The installation step will fail because pnpm makes --frozen-lockfile the default on CI. To address this, create-turbo should call pnpm install --fix-lockfile, which will succeed in a CI environment. Co-authored-by: Nathan Hammond ",fix(create-turbo): Add --fix-lockfile for pnpm install (#4973),"If: - create-turbo is run in an environment detected as CI, - using pnpm, and - the pnpm version is newer than the lockfile that we ship. The installation step will fail because pnpm makes --frozen-lockfile the default on CI. To address this, create-turbo should call pnpm install --fix-lockfile, which will succeed in a CI environment. Co-authored-by: Nathan Hammond "
252,fix(docs): Change secrets.TURBO_TEAM to vars.TURBO_TEAM (#4975),"Description In the CI Docs for GitHub Actions there are instructions to use a repository variable for the TURBO_TEAM.  Using a repository variable rather than a secret will keep Github Actions from censoring your team name in the log output.  In current documentation, the GitHub Action yml instructs using secrets.TURBO_TEAM: yml env:   TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}   TURBO_TEAM: ${{ secrets.TURBO_TEAM }} In this case, the log output will be: env:     TURBO_TOKEN: ***     TURBO_TEAM: Meaning TURBO_TEAM has an empty string. This PR changes secrets.TURBO_TEAM to vars.TURBO_TEAM in the docs. This change will lead to correct behavior in the log: env:     TURBO_TOKEN: ***     TURBO_TEAM: my_team_id Reference for vars context Testing Instructions Configure the remote cache, invoke GitHub Action, and check the logs.",fix(docs): Change secrets.TURBO_TEAM to vars.TURBO_TEAM (#4975),"Description In the CI Docs for GitHub Actions there are instructions to use a repository variable for the TURBO_TEAM. Using a repository variable rather than a secret will keep Github Actions from censoring your team name in the log output. In current documentation, the GitHub Action yml instructs using secrets.TURBO_TEAM: yml env:   TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}   TURBO_TEAM: ${{ secrets.TURBO_TEAM }} In this case, the log output will be: env:     TURBO_TOKEN: ***     TURBO_TEAM: Meaning TURBO_TEAM has an empty string. This PR changes secrets.TURBO_TEAM to vars.TURBO_TEAM in the docs. This change will lead to correct behavior in the log: env:     TURBO_TOKEN: ***     TURBO_TEAM: my_team_id Reference for vars context Testing Instructions Configure the remote cache, invoke GitHub Action, and check the logs."
253,fix(turbo-gen): add templates to excludes (#4976),,fix(turbo-gen): add templates to excludes (#4976),
254,chore: Update swc_core to v0.76.6 (#4937),"Description Updates swc_core to v0.76.x, which adds support for Explicit Resource Management (stage 3) Testing Instructions Look at CI.  next.js counterpart: https://github.com/vercel/next.js/pull/49792  Closes WEB-1038",chore: Update swc_core to v0.76.6 (#4937),"Description Updates swc_core to v0.76.x, which adds support for Explicit Resource Management (stage 3) Testing Instructions Look at CI. next.js counterpart: link Closes WEB-1038"
255,feat(generators): support starting from a template (#4951),,feat(generators): support starting from a template (#4951),
256,release(turborepo): 1.9.6 (#4961),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.6 (#4961),Co-authored-by: Turbobot turbobot@vercel.com
257,ci: Remove test script from package that has no tests (#4958),This fails the smoke test before publish because jest exits with 1 when there are no tests.,ci: Remove test script from package that has no tests (#4958),This fails the smoke test before publish because jest exits with 1 when there are no tests.
258,fix: set repoRoot on http cache so cache can be restored (#4956),"repoRoot was never passed in before, but in 829e5ac2be31accee0f2bd1c3048ac092e37d01c, changing the implementation of restoreTar caused the handling of an empty string for this argument to change. Before, the contents of the tar would get anchored before attempting to write to disk, but in cacheItem, this affordance does not seem to exist. We could add it back, but the implementation looks different enough that it is easier to just pass in the repoRoot. Additionally, there may be other issues with running turbo from subdirectories, since the inferred path from an empty string may be defaulting to cwd, which would be the incorrect place to restore from a remote cache.",fix: set repoRoot on http cache so cache can be restored (#4956),"repoRoot was never passed in before, but in 829e5ac2be31accee0f2bd1c3048ac092e37d01c, changing the implementation of restoreTar caused the handling of an empty string for this argument to change. Before, the contents of the tar would get anchored before attempting to write to disk, but in cacheItem, this affordance does not seem to exist. We could add it back, but the implementation looks different enough that it is easier to just pass in the repoRoot. Additionally, there may be other issues with running turbo from subdirectories, since the inferred path from an empty string may be defaulting to cwd, which would be the incorrect place to restore from a remote cache."
259,add mdx providerImportSource option (#4944),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.  fix WEB-1012",add mdx providerImportSource option (#4944),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes. fix WEB-1012"
260,refactor(turbopack): deprecate single react_refresh options (#4949),"Description closes WEB-1049. https://github.com/vercel/next.js/pull/49822 removes usage of the option itself, instead using jsxoptions.",refactor(turbopack): deprecate single react_refresh options (#4949),"Description closes WEB-1049. link removes usage of the option itself, instead using jsxoptions."
261,Run Rust and JS package tests before publish (#4911),,Run Rust and JS package tests before publish (#4911),
262,feat(turbo-gen): support TS config files (#4950),,feat(turbo-gen): support TS config files (#4950),
263,release(turborepo): 1.9.5 (#4948),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.5 (#4948),Co-authored-by: Turbobot turbobot@vercel.com
264,refactor(turbopack): consolidate jsx fast refresh (#4927),"Description WEB-940 Minor refactoring to consolidate react related options. Next.js still uses old enable_react_refresh, will migrate once this changes land.",refactor(turbopack): consolidate jsx fast refresh (#4927),"Description WEB-940 Minor refactoring to consolidate react related options. Next.js still uses old enable_react_refresh, will migrate once this changes land."
265,create-turbo: automatic git configuration. (#4941),Not all environments where create-turbo is run will have a preconfigured git config. This ensures that we always have an author config for the initial commit. It also reduces the number of processes executed to reduce the chances of intermittent failures.  Co-authored-by: Nathan Hammond ,create-turbo: automatic git configuration. (#4941),Not all environments where create-turbo is run will have a preconfigured git config. This ensures that we always have an author config for the initial commit. It also reduces the number of processes executed to reduce the chances of intermittent failures. Co-authored-by: Nathan Hammond 
266,refactor(ecmascript): deprecate ecmatransforminput::directive (#4926),"Description WEB-940 This is now handled via ecmascriptplugins. Next.js already updated its usage, should not cause breaking changes.",refactor(ecmascript): deprecate ecmatransforminput::directive (#4926),"Description WEB-940 This is now handled via ecmascriptplugins. Next.js already updated its usage, should not cause breaking changes."
267,test(turbopack): update snapshot (#4946),Description Looks like main branch is failing CI with snapshot update due to comments?,test(turbopack): update snapshot (#4946),Description Looks like main branch is failing CI with snapshot update due to comments?
268,release(turborepo): 1.9.5-canary.1 (#4942),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.5-canary.1 (#4942),Co-authored-by: Turbobot turbobot@vercel.com
269,Partial revert of #4820. (#4938),"This is a partial revert of 78aa3339bc21090c5c6c74f45bde776292ac8196 in order to correct non-git fallback behavior.  It does not revert changes made inside of Rust turbopath as those do not apply cleanly; but they are also not relevant to the issue introduced by #4820. The changes to Cargo.lock are the consequences of the new dependency graph.  Tested for correctness locally, this restores behavior to what we saw prior to the commit landing. It's likely a 1-2 line change to correct behavior but I didn't attempt to fix-forward. This will be straightforward to land again once we have additional testing in place. Co-authored-by: Nathan Hammond ",Partial revert of #4820. (#4938),"This is a partial revert of 78aa3339bc21090c5c6c74f45bde776292ac8196 in order to correct non-git fallback behavior. It does not revert changes made inside of Rust turbopath as those do not apply cleanly; but they are also not relevant to the issue introduced by #4820. The changes to Cargo.lock are the consequences of the new dependency graph. Tested for correctness locally, this restores behavior to what we saw prior to the commit landing. It's likely a 1-2 line change to correct behavior but I didn't attempt to fix-forward. This will be straightforward to land again once we have additional testing in place. Co-authored-by: Nathan Hammond "
270,Re-throw module.error when instantiating runtime modules (#4918),"Description Runtime modules can be executed multiple times within the same context. However, when such a module encounters a runtime error during execution, this error is cached in module.error and not properly re-thrown when the module is required again from getOrInstantiateRuntimeModule, which means that on later runs we’ll silently fail to instantiate the module, and run into any errors that expects a global side-effect from the module. link WEB-1045",Re-throw module.error when instantiating runtime modules (#4918),"Description Runtime modules can be executed multiple times within the same context. However, when such a module encounters a runtime error during execution, this error is cached in module.error and not properly re-thrown when the module is required again from getOrInstantiateRuntimeModule, which means that on later runs we’ll silently fail to instantiate the module, and run into any errors that expects a global side-effect from the module. link WEB-1045"
271,feat(turbo/gen): add GeneratorError type (#4922),Description Create a GeneratorError type to throw when the issue is likely due to the repo setup / generator code.,feat(turbo/gen): add GeneratorError type (#4922),Description Create a GeneratorError type to throw when the issue is likely due to the repo setup / generator code.
272,Remove fallback to configured git user (#4928),When we don't have a known CI environment variable we can rely on the token that is used to submit the Run to associate the user. The backend already handles this case,Remove fallback to configured git user (#4928),When we don't have a known CI environment variable we can rely on the token that is used to submit the Run to associate the user. The backend already handles this case
273,fix(cli): example should imply copy (#4923),,fix(cli): example should imply copy (#4923),
274,feat(docs): improved examples cards (#4536),,feat(docs): improved examples cards (#4536),
275,Added SLIIT FOSS as a client that uses Turbo (#4917),We are an open source community based in Sri Lanka primarily focused on the development of open source JavaScript and Dart libraries. It has been some time since we incorporated Turbo into our systems and the results have been astounding. We would be quite honored if you could have our logo on your showcase.,Added SLIIT FOSS as a client that uses Turbo (#4917),We are an open source community based in Sri Lanka primarily focused on the development of open source JavaScript and Dart libraries. It has been some time since we incorporated Turbo into our systems and the results have been astounding. We would be quite honored if you could have our logo on your showcase.
276,fix(turbo/gen): fix generate name arg (#4921),,fix(turbo/gen): fix generate name arg (#4921),
277,feat(docs): add generators for release posts (#4920),,feat(docs): add generators for release posts (#4920),
278,make turbopack respect the order of extensions from ResolveOptions (#4888),"Description It would probably be a bit more efficient to split it up in read_matches, but getting that to work requires a bit more work to sort the results because it recursively calls itself with the same pattern fix WEB-925",make turbopack respect the order of extensions from ResolveOptions (#4888),"Description It would probably be a bit more efficient to split it up in read_matches, but getting that to work requires a bit more work to sort the results because it recursively calls itself with the same pattern fix WEB-925"
279,Build turbo once to build JS packages before publishing (#4910),,Build turbo once to build JS packages before publishing (#4910),
280,release(turborepo): 1.9.5-canary.0 (#4916),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.5-canary.0 (#4916),Co-authored-by: Turbobot turbobot@vercel.com
281,Proper scoping for vdbg! + consistent output ordering (#4900),"Description  You currently can't do turbo_tasks::vdbg! as the macro expects itself to be imported. vdbg!(a, b) might print a and b out of order, and any other output from other threads might also be interleaved in. With this patch, a and b will always show up one after the other.",Proper scoping for vdbg! + consistent output ordering (#4900),"Description You currently can't do turbo_tasks::vdbg! as the macro expects itself to be imported. vdbg!(a, b) might print a and b out of order, and any other output from other threads might also be interleaved in. With this patch, a and b will always show up one after the other."
282,Use cacheitem to restore HTTP cache. (#4634),This change causes http_cache to use cacheitem to restore tar files.,Use cacheitem to restore HTTP cache. (#4634),This change causes http_cache to use cacheitem to restore tar files.
283,Apply pending transition to context when computing resolve options (#4901),"Description This fixes an issue where references to assets imported with transition annotations would not be resolved according to the proper resolve options context of the transition, but that of the previous asset context instead. This only fixes parts of the underlying issue. A more complete solution is propoed in WEB-1042. link WEB-1033",Apply pending transition to context when computing resolve options (#4901),"Description This fixes an issue where references to assets imported with transition annotations would not be resolved according to the proper resolve options context of the transition, but that of the previous asset context instead. This only fixes parts of the underlying issue. A more complete solution is propoed in WEB-1042. link WEB-1033"
284,Submit originatingUser with Run (#4875),"This sets up originationUser to come from environment variables in Github and Vercel. Locally, we fallback to the user.name config from git.",Submit originatingUser with Run (#4875),"This sets up originationUser to come from environment variables in Github and Vercel. Locally, we fallback to the user.name config from git."
285,release(turborepo): 1.9.4 (#4907),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4 (#4907),Co-authored-by: Turbobot turbobot@vercel.com
286,fix: check if user passes absolute path to prune (#4891),"Description As discovered in #4885, we forcibly join --out-dir to the repo root even if it's absolute. This PR adds a check that skips the join if the user passes an absolute system path. Testing Instructions Added failing integration test",fix: check if user passes absolute path to prune (#4891),"Description As discovered in #4885, we forcibly join --out-dir to the repo root even if it's absolute. This PR adds a check that skips the join if the user passes an absolute system path. Testing Instructions Added failing integration test"
287,feat(turbo): g (#4896),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,feat(turbo): g (#4896),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
288,feat(turbo-gen): add @turbo/gen (#4872),,feat(turbo-gen): add @turbo/gen (#4872),
289,refactor(turbopack): deprecate custom_transform (#4894),"Description closes WEB-1031, encourage to use consolidated ecmaplugins instead.",refactor(turbopack): deprecate custom_transform (#4894),"Description closes WEB-1031, encourage to use consolidated ecmaplugins instead."
290,refactor(ecmascript-plugins): encapsulate transform configs (#4893),"Description Related with WEB-940. Encapsulates config option to not leak swc-specific, as it can change anytime also leaking type means upstream caller need to import swc_* individually.",refactor(ecmascript-plugins): encapsulate transform configs (#4893),"Description Related with WEB-940. Encapsulates config option to not leak swc-specific, as it can change anytime also leaking type means upstream caller need to import swc_* individually."
291,refactor(ecmascript): remove unwrap_module ast cloning (#4884),Description Closing WEB-1024 on turbopack end.,refactor(ecmascript): remove unwrap_module ast cloning (#4884),Description Closing WEB-1024 on turbopack end.
292,feature(turborepo): AbsoluteSystemPath (#4841),"Description In the process of porting cache stuff, I started needing an AbsoluteSystemPath so I wouldn't have to clone paths too much. This PR creates that type and implements a conversion from it to AbsoluteSystemPathBuf as ToOwned and vice versa for Borrowed. It also changes any usage of &AbsoluteSystemPathBuf to &AbsoluteSystemPath. There's also some renaming and moving of functions to match std::path Testing Instructions I added a test for creating an AbsoluteSystemPath",feature(turborepo): AbsoluteSystemPath (#4841),"Description In the process of porting cache stuff, I started needing an AbsoluteSystemPath so I wouldn't have to clone paths too much. This PR creates that type and implements a conversion from it to AbsoluteSystemPathBuf as ToOwned and vice versa for Borrowed. It also changes any usage of &AbsoluteSystemPathBuf to &AbsoluteSystemPath. There's also some renaming and moving of functions to match std::path Testing Instructions I added a test for creating an AbsoluteSystemPath"
293,Update CODEOWNERS for Turbopack/tasks crates (#4899),Description See https://github.com/vercel/turbo/pull/4853 This brings the same CODEOWNERS treatment to turbopack/tasks crates. link WEB-1015,Update CODEOWNERS for Turbopack/tasks crates (#4899),Description See link This brings the same CODEOWNERS treatment to turbopack/tasks crates. link WEB-1015
294,Rename Turbopack/tasks crates to common prefixes (#4866),Description See https://github.com/vercel/turbo/pull/4853 for the corresponding change on the turborepo side. Testing Instructions link WEB-1015,Rename Turbopack/tasks crates to common prefixes (#4866),Description See link for the corresponding change on the turborepo side. Testing Instructions link WEB-1015
295,Remove recursive copy build tags. (#4898),"4874 didn't remove the build tags, leaving the Go build in a broken state. Co-authored-by: Nathan Hammond ",Remove recursive copy build tags. (#4898),"4874 didn't remove the build tags, leaving the Go build in a broken state. Co-authored-by: Nathan Hammond "
296,First pass at file hashing for a package (#4820),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,First pass at file hashing for a package (#4820),Co-authored-by: Greg Soltis  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
297,fix(turborepo): Fixed test by killing process when test is done (#4887),Description Noticed node errors when running tests. I suspect it's because this node process isn't properly killed on test exit. Testing Instructions    Give a quick description of steps to test your changes.,fix(turborepo): Fixed test by killing process when test is done (#4887),Description Noticed node errors when running tests. I suspect it's because this node process isn't properly killed on test exit. Testing Instructions Give a quick description of steps to test your changes.
298,refactor(ecmascript-plugins): update serverdirective signature (#4886),Description Update missing signatures.,refactor(ecmascript-plugins): update serverdirective signature (#4886),Description Update missing signatures.
299,Add a new page for task dependencies (#4852), Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Add a new page for task dependencies (#4852),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
300,Drop go implementation of recursive copy (#4874),Co-authored-by: Greg Soltis ,Drop go implementation of recursive copy (#4874),Co-authored-by: Greg Soltis 
301,fix: sort tasks in run summary output by task id (#4837),Description Was using --summarize to debug a run and got annoyed that tasks were getting reordered. Testing Instructions Inspect output of a summary json and verify that tasks no longer have a random order.,fix: sort tasks in run summary output by task id (#4837),Description Was using --summarize to debug a run and got annoyed that tasks were getting reordered. Testing Instructions Inspect output of a summary json and verify that tasks no longer have a random order.
302,ci(workflow): enable more test (#4793),Description Adding one more test into flaky subset.,ci(workflow): enable more test (#4793),Description Adding one more test into flaky subset.
303,Add support for logging events and intervals in the macOS profiler (#4636),"Description Surprisingly, I couldn't find an adequate out-of-the-box crate for adding signposts to the macOS profiler. I had to dig in to semi-private macOS APIs to add this capability. Here's what signposts look like in the profiler view:  Testing Instructions N/A link WEB-931",Add support for logging events and intervals in the macOS profiler (#4636),"Description Surprisingly, I couldn't find an adequate out-of-the-box crate for adding signposts to the macOS profiler. I had to dig in to semi-private macOS APIs to add this capability. Here's what signposts look like in the profiler view: Testing Instructions N/A link WEB-931"
304,refactor(ecmsacript): remove custom transform cloned return (#4881),"Description Part 1 for WEB-1024. PR refactors custom transformer signature to not allow to return cloned instance. Also moves out few non-core transforms into plugins, so next.js turbopack can use it. Next.js changes: https://github.com/vercel/next.js/pull/49560",refactor(ecmsacript): remove custom transform cloned return (#4881),"Description Part 1 for WEB-1024. PR refactors custom transformer signature to not allow to return cloned instance. Also moves out few non-core transforms into plugins, so next.js turbopack can use it. Next.js changes: link"
305,chore: update update-informer to 1.0 (#4867),,chore: update update-informer to 1.0 (#4867),
306,Fix hang up when loading duplicated CSS module chunks (#4879),"Description I identified this issue when authoring a test for PostCSS. Here's how it goes:   CSS chunk 1 loads with module chunk A and source = runtime. This marks chunk A as an available module chunk. The promise for A is the same promise as for CSS chunk 1, which is resolved in registerChunk because chunk 1 is part of the chunk group of the initial JS chunk.   CSS chunk 2 loads with module chunks A and B. Since A is already available, we run into a different branch, where we only try to load B. However, since we're still using source = runtime, we don't actually attempt to load B and instead return a promise to the resolver of B. But B isn't part of the chunk group of the initial JS chunk, so it is never resolved.   This hangs up the runtime entirely and breaks page hydration. Instead, we move the ""automatically resolving CSS chunks when source = Runtime"" from registerChunk (which wasn't quite correct either as far as I can tell) into loadChunk, which solves this issue. Testing Instructions I don't know if it's worth having a test case just for this, but this will technically be covered under the PostCSS test case in https://github.com/vercel/next.js/pull/49463. link WEB-1023",Fix hang up when loading duplicated CSS module chunks (#4879),"Description I identified this issue when authoring a test for PostCSS. Here's how it goes: CSS chunk 1 loads with module chunk A and source = runtime. This marks chunk A as an available module chunk. The promise for A is the same promise as for CSS chunk 1, which is resolved in registerChunk because chunk 1 is part of the chunk group of the initial JS chunk. CSS chunk 2 loads with module chunks A and B. Since A is already available, we run into a different branch, where we only try to load B. However, since we're still using source = runtime, we don't actually attempt to load B and instead return a promise to the resolver of B. But B isn't part of the chunk group of the initial JS chunk, so it is never resolved. This hangs up the runtime entirely and breaks page hydration. Instead, we move the ""automatically resolving CSS chunks when source = Runtime"" from registerChunk (which wasn't quite correct either as far as I can tell) into loadChunk, which solves this issue. Testing Instructions I don't know if it's worth having a test case just for this, but this will technically be covered under the PostCSS test case in link. link WEB-1023"
307,Update with-yarn with App Router. (#4850),,Update with-yarn with App Router. (#4850),
308,Update with-tailwind with App Router. (#4849),,Update with-tailwind with App Router. (#4849),
309,Update with-npm with App Router. (#4845),,Update with-npm with App Router. (#4845),
310,release(turborepo): 1.9.4-canary.11 (#4876),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.11 (#4876),Co-authored-by: Turbobot turbobot@vercel.com
311,vdbg! macro (#4868),"Description The vdbg! macro works the same way as the dbg! macro, with the additional benefit of automatically calling ValueDebugFormat implementations. This means that you can do: rust vdbg!(42, asset_ident_vc); vdbg!(42, asset_ident_vc; depth = 1); and the macro will print out rust [src/main.rs:10] 42 = 42 [src/main.rs:10] some_vc = AssetIdent {     path: FileSystemPath {         fs: FileSystem(DiskFileSystem {             name: ""project"",             root: ""..."",         }),         path: ""..."",     },     query: None,     fragment: None,     assets: [],     modifiers: [],     part: None, } rust [src/main.rs:10] 42 = 42 [src/main.rs:10] asset_ident_vc = AssetIdent {     path: FileSystemPath,     query: core::option::Option<turbo_tasks::primitives::StringVc>,     fragment: core::option::Option<turbo_tasks::primitives::StringVc>,     assets: alloc::vec::Vec<(turbo_tasks::primitives::StringVc, turbopack_core::ident::AssetIdentVc)>,     modifiers: alloc::vec::Vec<turbo_tasks::primitives::StringVc>,     part: core::option::Option<turbopack_core::resolve::ModulePartVc>, } This is an ergonomic improvement over having to call .dbg() or .dbg_depth() manually in four major ways: 1. No need to be in an async context and call .await?: the macro will spawn a task on its own. This means that it is no longer necessary to convert a turbo_tasks::function to async just to debug one of its arguments. 2. No need to import the turbo_tasks::debug::ValueDebug trait. You can call turbo_tasks::vdbg!(...) directly, of vdbg!(...) if you have it imported already. 3. No need to call eprintln! or dbg!: vdbg! calls eprintln! directly under the hood, with the same format as dbg!. 4. It's just one macro, with support for the depth argument baked in. Testing Instructions N/A link WEB-520",vdbg! macro (#4868),"Description The vdbg! macro works the same way as the dbg! macro, with the additional benefit of automatically calling ValueDebugFormat implementations. This means that you can do: rust vdbg!(42, asset_ident_vc); vdbg!(42, asset_ident_vc; depth = 1); and the macro will print out rust [src/main.rs:10] 42 = 42 [src/main.rs:10] some_vc = AssetIdent {     path: FileSystemPath {         fs: FileSystem(DiskFileSystem {             name: ""project"",             root: ""..."",         }),         path: ""..."",     },     query: None,     fragment: None,     assets: [],     modifiers: [],     part: None, } rust [src/main.rs:10] 42 = 42 [src/main.rs:10] asset_ident_vc = AssetIdent {     path: FileSystemPath,     query: core::option::Option,     fragment: core::option::Option,     assets: alloc::vec::Vec<(turbo_tasks::primitives::StringVc, turbopack_core::ident::AssetIdentVc)>,     modifiers: alloc::vec::Vec,     part: core::option::Option, } This is an ergonomic improvement over having to call .dbg() or .dbg_depth() manually in four major ways: 1. No need to be in an async context and call .await?: the macro will spawn a task on its own. This means that it is no longer necessary to convert a turbo_tasks::function to async just to debug one of its arguments. 2. No need to import the turbo_tasks::debug::ValueDebug trait. You can call turbo_tasks::vdbg!(...) directly, of vdbg!(...) if you have it imported already. 3. No need to call eprintln! or dbg!: vdbg! calls eprintln! directly under the hood, with the same format as dbg!. 4. It's just one macro, with support for the depth argument baked in. Testing Instructions N/A link WEB-520"
312,Fix and add test for ignoring a macro field (#4869),"Description https://github.com/vercel/turbo/pull/4828 changed the order of the .enumerate() and .filter() operations, which causes the index tracking to break. We need the input's indexes before the filter mutates, so that ignoring a field actually takes affect on the ignored field itself and not the later fields. Testing Instructions bash cargo nextest run -p turbo-tasks-macros  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",Fix and add test for ignoring a macro field (#4869),"Description link changed the order of the .enumerate() and .filter() operations, which causes the index tracking to break. We need the input's indexes before the filter mutates, so that ignoring a field actually takes affect on the ignored field itself and not the later fields. Testing Instructions bash cargo nextest run -p turbo-tasks-macros Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
313,feat(turbopack-ecmascript): accept transform plugin in moduleoptioncontext (#4721),"Description  Relates with WEB-955, WEB-848.  This PR is a part of implementing WEB-848, supporting relay graphql transform in next.js. Historically we've been expanding ModuleOptionContext to have each own config (enable_mdx, enable_emotion...) but with new CustomTransformPlugin we can pass actual transforms instead, what WEB-955 aims. PR introduces new config option custom_ecma_transform_plugins to the ModuleOptionContext to support it. custom_ecma_transform_plugins is a struct have two fields, before / after which allows to specify order of custom transforms if it should be invoked before any core transform kicks in, or otherwise. This effectively deprecates existing options, notably custom_ecmascript_transforms and custom_ecmascript_app_transforms. It is currently not actively being used (next-swc have 2 places utilizing custom_ecmascript_transforms), we can consolidate to the new option instead. One another notable change is customtransformer's transform is now async fn. It is due to TransformContext have couple of Vc properties, that cannot be accessed in a sync transform fn. Refer counterpart next.js PR (https://github.com/vercel/next.js/pull/48899/files#diff-c0df3b5a390436575f35365774b078cb5303ef395b064b8992dfdd7dba8f3691) as ref.",feat(turbopack-ecmascript): accept transform plugin in moduleoptioncontext (#4721),"Description Relates with WEB-955, WEB-848. This PR is a part of implementing WEB-848, supporting relay graphql transform in next.js. Historically we've been expanding ModuleOptionContext to have each own config (enable_mdx, enable_emotion...) but with new CustomTransformPlugin we can pass actual transforms instead, what WEB-955 aims. PR introduces new config option custom_ecma_transform_plugins to the ModuleOptionContext to support it. custom_ecma_transform_plugins is a struct have two fields, before / after which allows to specify order of custom transforms if it should be invoked before any core transform kicks in, or otherwise. This effectively deprecates existing options, notably custom_ecmascript_transforms and custom_ecmascript_app_transforms. It is currently not actively being used (next-swc have 2 places utilizing custom_ecmascript_transforms), we can consolidate to the new option instead. One another notable change is customtransformer's transform is now async fn. It is due to TransformContext have couple of Vc properties, that cannot be accessed in a sync transform fn. Refer counterpart next.js PR (link) as ref."
314,Combine release workflow into a single step (#4833),This is a second attempt with a fix for setting the environment variables for the correct staging branch in Windows.,Combine release workflow into a single step (#4833),This is a second attempt with a fix for setting the environment variables for the correct staging branch in Windows.
315,Hack to get correct log file (#4873),"Description Match the logic in tracing_appender::Rotation::DAILY to generate the correct log filename to report in turbo daemon status. This is kind of a hack, but there did not appear to be an easy way to grab this value. Testing Instructions Tested manually Co-authored-by: Greg Soltis ",Hack to get correct log file (#4873),"Description Match the logic in tracing_appender::Rotation::DAILY to generate the correct log filename to report in turbo daemon status. This is kind of a hack, but there did not appear to be an easy way to grab this value. Testing Instructions Tested manually Co-authored-by: Greg Soltis "
316,Fix/daemon fixups (#4831),Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Greg Soltis ,Fix/daemon fixups (#4831),Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Greg Soltis 
317,chore: Define base image for multi-stage Docker build (#4743),,chore: Define base image for multi-stage Docker build (#4743),
318,chore(create-turbo): extract common utils (#4871),,chore(create-turbo): extract common utils (#4871),
319,Update Next.j 13 benchmark version to 13.4 (#4827),link WEB-950,Update Next.j 13 benchmark version to 13.4 (#4827),link WEB-950
320,include all test results in next.js test results (#4865),Description Fixes the capturing of test results from the job logs Filter retries from numbers posted as comment or to slack Testing Instructions Run action locally and verify nextjs-test-result.json,include all test results in next.js test results (#4865),Description Fixes the capturing of test results from the job logs Filter retries from numbers posted as comment or to slack Testing Instructions Run action locally and verify nextjs-test-result.json
321,Optional framework inference (#4788),This makes it possible to opt out of framework inference by specifying --framework-inference=false on the command line. This is designed to interact gracefully with --env-mode=strict as a separate-but-related knob to turn for control over environment variables.,Optional framework inference (#4788),This makes it possible to opt out of framework inference by specifying --framework-inference=false on the command line. This is designed to interact gracefully with --env-mode=strict as a separate-but-related knob to turn for control over environment variables.
322,Implement TaskInput derive macro (#4828),"This PR implements a TaskInput derive macro that allows users to define structures and enums that can be directly passed as arguments to tt::functions, provided they are composed exclusively of other TaskInput implementors (i.e. primitives for which we've manually implemented TaskInput, Vcs, and other structs that derive TaskInput). There are a lot of cases in Turbopack where we'd like to pass more advanced structures to tt::functions, but since there's no existing way to create composite structures and enums from existing Vcs and primitives, we end up with the following recurring patterns: Functions that have 6+ arguments For example: ```rust [turbo_tasks::function] fn do_something(a: A, b: B, c: C, d: D, e: E, f: F) {     // ... } ``` By creating composite structures with arguments that are often used together and passed down the call tree, this can instead become: ```rust [derive(TaskInput, Clone)] struct Args1 {     a: A,     b: B, } [derive(TaskInput, Clone)] struct Args2 {     c: C,     d: D,     e: E, } [turbo_tasks::function] fn do_something(args1: Args1, args2: Args2, f: F) {     // ... } ``` Multiple optional arguments ... where only specific combinations make sense. ```rust [turbo_tasks::function] fn do_something(value1: SomeVc, value2: Option, value3: Option) {     if let (Some(value2), Some(value3)) = (value2, value3) {         // ...     }     // ... } ``` In this example, value2 might only make sense when value3 is also provided. An enum would be better in this case: ```rust [derive(Clone, TaskInput) enum CustomEnum {   NoValues,   Values {     value2: OtherVc,     value3: AnotherVc,   } } [turbo_tasks::function] fn do_something(value1: SomeVc, values: CustomEnum) {     if let CustomEnum::Values { value2, value3 } = values {         // ...     }     // ... } ``` Value<T> and serialization = ""auto_for_input"" For example: ```rust [turbo_tasks::value(serialization = ""auto_for_input"")] [derive(PartialOrd, Ord, Debug, Hash, Clone, Copy)] pub enum SomeArgument {     A,     B,     ... } // and then later some_function(Value::new(SomeArgument::B)) ``` This can now be replaced with: ```rust [derive(TaskInput, Clone)] pub enum SomeArgument {     A,     B,     ... } // and then later some_function(SomeArgument::B) ``` Apart from conciseness and fewer trait bounds, another benefit of this approach is that SomeArgument cannot be (mis)used as a Vc, which we always generate via the turbo_tasks::value proc macro. How does it work? The derive macro generates code to convert enums and structs into a list of TaskInputs, similarly to how FromTaskInput was previously implemented for tuples. We use an additional integer discriminant to differentiate between enum variants. Concerns A potential concern of this approach is that these TaskInputs will be cloned on every single task execution. As such, they should be as lightweight as possible, and implement Copy where it makes sense. Testing Instructions I added a series of tests in turbo-tasks-memory. link WEB-945",Implement TaskInput derive macro (#4828),"This PR implements a TaskInput derive macro that allows users to define structures and enums that can be directly passed as arguments to tt::functions, provided they are composed exclusively of other TaskInput implementors (i.e. primitives for which we've manually implemented TaskInput, Vcs, and other structs that derive TaskInput). There are a lot of cases in Turbopack where we'd like to pass more advanced structures to tt::functions, but since there's no existing way to create composite structures and enums from existing Vcs and primitives, we end up with the following recurring patterns: Functions that have 6+ arguments For example: module By creating composite structures with arguments that are often used together and passed down the call tree, this can instead become: module Multiple optional arguments ... where only specific combinations make sense. module In this example, value2 might only make sense when value3 is also provided. An enum would be better in this case: module Value and serialization = ""auto_for_input"" For example: module This can now be replaced with: module Apart from conciseness and fewer trait bounds, another benefit of this approach is that SomeArgument cannot be (mis)used as a Vc, which we always generate via the turbo_tasks::value proc macro. How does it work? The derive macro generates code to convert enums and structs into a list of TaskInputs, similarly to how FromTaskInput was previously implemented for tuples. We use an additional integer discriminant to differentiate between enum variants. Concerns A potential concern of this approach is that these TaskInputs will be cloned on every single task execution. As such, they should be as lightweight as possible, and implement Copy where it makes sense. Testing Instructions I added a series of tests in turbo-tasks-memory. link WEB-945"
323,fix: no longer include peer dependencies in transitive closures (#4824),Description Fixes #4757 Underlying issue was I was including peerDependencies in the dependency crawl. This resulted in an error since we expect to only be looking at external dependencies in the dependency crawl. Testing Instructions Added a failing unit test where there's a workspace that's used as a peer dependency that conflicts with a package in the registry.,fix: no longer include peer dependencies in transitive closures (#4824),Description Fixes #4757 Underlying issue was I was including peerDependencies in the dependency crawl. This resulted in an error since we expect to only be looking at external dependencies in the dependency crawl. Testing Instructions Added a failing unit test where there's a workspace that's used as a peer dependency that conflicts with a package in the registry.
324,Add spaceId into turbo config (#4858),,Add spaceId into turbo config (#4858),
325,Add name to package (#4857),Co-authored-by: Turbobot turbo@vercel.com,Add name to package (#4857),Co-authored-by: Turbobot turbo@vercel.com
326,Clarify how task skipping works when scripts are not implemented (#4851),Co-authored-by: Turbobot turbo@vercel.com,Clarify how task skipping works when scripts are not implemented (#4851),Co-authored-by: Turbobot turbo@vercel.com
327,Update with-rollup with App Router. (#4848),,Update with-rollup with App Router. (#4848),
328,Update basic example for App Router. (#4839),,Update basic example for App Router. (#4839),
329,Add log rotation to the daemon server (#4778),"Description This PR expands our tracing setup to allow the daemon to opt-in to rotated log files on top of the regular stdout logging. This output is non-blocking and uses the standard tracing format, respecting the env vars set by the command that runs the daemon. Testing Instructions Run turbo daemon with TURBO_LOG_VERBOSITY set to trace, and open the path it prints for the log file to see that the logs are also being output there.",Add log rotation to the daemon server (#4778),"Description This PR expands our tracing setup to allow the daemon to opt-in to rotated log files on top of the regular stdout logging. This output is non-blocking and uses the standard tracing format, respecting the env vars set by the command that runs the daemon. Testing Instructions Run turbo daemon with TURBO_LOG_VERBOSITY set to trace, and open the path it prints for the log file to see that the logs are also being output there."
330,fix(docs): enable flex search (#4829),,fix(docs): enable flex search (#4829),
331,fix(docs): internal workspace cache (#4838),,fix(docs): internal workspace cache (#4838),
332,fix(examples): with rollup (#4836),,fix(examples): with rollup (#4836),
333,Fix basic example to update on dependency changes (#4835),"By default, if you change one of the packages in the basic example, the caches for the apps don't invalidate. This is a common issue people run into so we want a good default in place.",Fix basic example to update on dependency changes (#4835),"By default, if you change one of the packages in the basic example, the caches for the apps don't invalidate. This is a common issue people run into so we want a good default in place."
334,release(turborepo): 1.9.4-canary.10 (#4834),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.10 (#4834),Co-authored-by: Turbobot turbobot@vercel.com
335,"Revert ""Combine release process into a single step"" (#4830)",,"Revert ""Combine release process into a single step"" (#4830)",
336,chore: add underlying error to lockfile error messages (#4800),Description Noticed that I didn't include the underlying error in some of the lockfile error variants. This PR adds underlying errors to the error message to all variants where applicable. Testing Instructions rustc,chore: add underlying error to lockfile error messages (#4800),Description Noticed that I didn't include the underlying error in some of the lockfile error variants. This PR adds underlying errors to the error message to all variants where applicable. Testing Instructions rustc
337,Prefactor package hashing (#4816),"We currently do file hashing for packages (and fallbacks) in lots of different places, making it very difficult to trace through or (more-importantly) modify the set of files whose hashes we need to include. This PR makes no material changes, each commit passes all of our tests. At the end of it all of the hashing logic ends up in just one spot.  Co-authored-by: Nathan Hammond ",Prefactor package hashing (#4816),"We currently do file hashing for packages (and fallbacks) in lots of different places, making it very difficult to trace through or (more-importantly) modify the set of files whose hashes we need to include. This PR makes no material changes, each commit passes all of our tests. At the end of it all of the hashing logic ends up in just one spot. Co-authored-by: Nathan Hammond "
338,release(turborepo): 1.9.4-canary.9 (#4822),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.9 (#4822),Co-authored-by: Turbobot turbobot@vercel.com
339,Combine release process into a single step (#4699),Co-authored-by: Turbobot turbo@vercel.com,Combine release process into a single step (#4699),Co-authored-by: Turbobot turbo@vercel.com
340,Don't cache test:setup task (#4773),"virtualenv hardcodes absolute paths in generated files, so we cannot cache these artifacts. They cannot be used across machines effectively.",Don't cache test:setup task (#4773),"virtualenv hardcodes absolute paths in generated files, so we cannot cache these artifacts. They cannot be used across machines effectively."
341,updated line height for banner text (#4774),Description Banner text for turbo was truncated because of incorrect line height.  Line height of banner text was increased to 1.375 (leading-snug) from 1.25 (leading-tight) solving the issue.  result:   Testing Instructions Not applicable. Co-authored-by: Mehul Kar mehul.kar@vercel.com,updated line height for banner text (#4774),Description Banner text for turbo was truncated because of incorrect line height. Line height of banner text was increased to 1.375 (leading-snug) from 1.25 (leading-tight) solving the issue.  result:  Testing Instructions Not applicable. Co-authored-by: Mehul Kar mehul.kar@vercel.com
342,Update Turbopack docs for beta release (#4769),Closes WEB-912  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,Update Turbopack docs for beta release (#4769),Closes WEB-912 Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
343,Rust daemon v2 (#4791),"Description This reintroduces the rust daemon with some additional patches to help with some critical shortcomings of the initial canary. In short: - kqueue performance is pretty awful and would gladly pin a core on your CPU for multiple minutes while registering watchers. this is an opt-in feature on macOS so we dropped it in favour of fsevents - we didn't have timeouts for daemon interactions, meaning it would hang while waiting for the daemon to process a request. the timeout is now set to 1s - we had a few outstanding bugs With the above addressed, we are going to try another canary.  Co-authored-by: Greg Soltis greg.soltis@vercel.com",Rust daemon v2 (#4791),"Description This reintroduces the rust daemon with some additional patches to help with some critical shortcomings of the initial canary. In short: - kqueue performance is pretty awful and would gladly pin a core on your CPU for multiple minutes while registering watchers. this is an opt-in feature on macOS so we dropped it in favour of fsevents - we didn't have timeouts for daemon interactions, meaning it would hang while waiting for the daemon to process a request. the timeout is now set to 1s - we had a few outstanding bugs With the above addressed, we are going to try another canary. Co-authored-by: Greg Soltis greg.soltis@vercel.com"
344,Remove --serial from the docs. (#4813),,Remove --serial from the docs. (#4813),
345,avoid errors in computing issue details (#4817),Description Better error message when import mapping fails,avoid errors in computing issue details (#4817),Description Better error message when import mapping fails
346,pass original url with content source data (#4818),Description next.js needs the pre-rewrite url for rendering see https://github.com/vercel/next.js/pull/49198,pass original url with content source data (#4818),Description next.js needs the pre-rewrite url for rendering see link
347,fix CSS HMR (#4815),"Description  type=stylesheet => rel=stylesheet remove timestamp, that's not needed ensure correct encoding of the href",fix CSS HMR (#4815),"Description type=stylesheet => rel=stylesheet remove timestamp, that's not needed ensure correct encoding of the href"
348,release(turborepo): 1.9.4-canary.8 (#4812),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.8 (#4812),Co-authored-by: Turbobot turbobot@vercel.com
349,Stripped down unix path (#4767),Description  Experiment with a very stripped down RelativeUnixPath implementation Test out using it in git.rs  Testing Instructions Existing tests in git.rs,Stripped down unix path (#4767),Description Experiment with a very stripped down RelativeUnixPath implementation Test out using it in git.rs Testing Instructions Existing tests in git.rs
350,"Skip integration,e2e,examples tests in JS tests workflow (#4784)","Ideally we should combine all our tests into just turbo test and have it use the cache for the right things, but we aren't quite there yet.","Skip integration,e2e,examples tests in JS tests workflow (#4784)","Ideally we should combine all our tests into just turbo test and have it use the cache for the right things, but we aren't quite there yet."
351,Add gitbranch and sha into spaces payload (#4734),,Add gitbranch and sha into spaces payload (#4734),
352,chore(docs): update nextra (#4792),,chore(docs): update nextra (#4792),
353,Send turbo version to run payload (#4786),,Send turbo version to run payload (#4786),
354,port(turborepo): Package Manager Inference (#4655),"Description Ports package manager inference to Rust. Also ports root package json parsing Testing Instructions Added some tests for package manager inference, both reading the package.json and detecting in the file system.  Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com",port(turborepo): Package Manager Inference (#4655),"Description Ports package manager inference to Rust. Also ports root package json parsing Testing Instructions Added some tests for package manager inference, both reading the package.json and detecting in the file system. Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com"
355,Send run summary to Spaces even without --summarize flag (#4785),,Send run summary to Spaces even without --summarize flag (#4785),
356,remove inital compilation message by default (#4790),Description removes the event - initial compilation 3.643ms message,remove inital compilation message by default (#4790),Description removes the event - initial compilation 3.643ms message
357,Leave pathname formatting up to the caller (#4776),Description Next.js code calling into create_node_rendered_source doesn't always format the pathname with a leading /. This PR removes all assumptions about the pathname from turbopack-node and leaves the formatting up to the caller. Testing Instructions N/A Corresponding Next.js PR: https://github.com/vercel/next.js/pull/49085 link WEB-366,Leave pathname formatting up to the caller (#4776),Description Next.js code calling into create_node_rendered_source doesn't always format the pathname with a leading /. This PR removes all assumptions about the pathname from turbopack-node and leaves the formatting up to the caller. Testing Instructions N/A Corresponding Next.js PR: link link WEB-366
358,Print a warning when importing Sass files (#4789),Description  Testing Instructions See Next.js PR link WEB-981,Print a warning when importing Sass files (#4789),Description Testing Instructions See Next.js PR link WEB-981
359,Bugfixes for free var and binding replacement (#4787),"Description  fixes a crash in an edge case in the path visitor fixes replacement of members of free vars fixes esm bindings applied on member props. See example  ``` js import * as Something from ""somewhere""; a.Something // should not be replaced ``` test cases https://github.com/vercel/next.js/pull/49134",Bugfixes for free var and binding replacement (#4787),Description fixes a crash in an edge case in the path visitor fixes replacement of members of free vars fixes esm bindings applied on member props. See example module test cases link
360,allow to see exports for non-enumerable properties (#4783),Description enumerate all properties for namespace object creation. This follows the webpack logic test cases in https://github.com/vercel/next.js/pull/49106,allow to see exports for non-enumerable properties (#4783),Description enumerate all properties for namespace object creation. This follows the webpack logic test cases in link
361,chore: remove unused path imports (#4780),Description Fix up linting complaining about unused imports. Testing Instructions N/A,chore: remove unused path imports (#4780),Description Fix up linting complaining about unused imports. Testing Instructions N/A
362,release(turborepo): 1.9.4-canary.7 (#4782),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.7 (#4782),Co-authored-by: Turbobot turbobot@vercel.com
363,Document using a repository variable (#4768),,Document using a repository variable (#4768),
364,make RepoConfig and CommandBase use absolute system paths (#4693),Description Continue the correctness work by making the base command provide an AbsoluteSystemPathBuf,make RepoConfig and CommandBase use absolute system paths (#4693),Description Continue the correctness work by making the base command provide an AbsoluteSystemPathBuf
365,fix: berry prune including all builtin patch descriptors (#4770),"Description Addresses the issue @erj826 found in #2791 The issue came from us including all descriptors for patches included in the pruned lockfile. This is fine for patches created by yarn patch since this uses resolutions which results in the patch having a single descriptor. Yarn also includes some patches by default if they appear in your lockfile. These patches don't go through resolutions and instead get routed through the reduceDependency hook which produces a new descriptor for each descriptor used for the original package. The fix was to only include patch descriptors if the embedded descriptor is present in the pruned lockfile. Testing Instructions Added a new test fixture where multiple workspaces depend on resolve, but use different ranges.",fix: berry prune including all builtin patch descriptors (#4770),"Description Addresses the issue @erj826 found in 2791 The issue came from us including all descriptors for patches included in the pruned lockfile. This is fine for patches created by yarn patch since this uses resolutions which results in the patch having a single descriptor. Yarn also includes some patches by default if they appear in your lockfile. These patches don't go through resolutions and instead get routed through the reduceDependency hook which produces a new descriptor for each descriptor used for the original package. The fix was to only include patch descriptors if the embedded descriptor is present in the pruned lockfile. Testing Instructions Added a new test fixture where multiple workspaces depend on resolve, but use different ranges."
366,improve error handling (#4779),Description return fallback metadata when image processing fails improve error reporting for ecmascript parsing errors Testing Instructions see https://github.com/vercel/next.js/pull/49093  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,improve error handling (#4779),Description return fallback metadata when image processing fails improve error reporting for ecmascript parsing errors Testing Instructions see link Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
367,Fix TSConfig extends pointing to node module (#4772),"In #4754, I screwed up the resolution logic for configs that reference another config inside a node module. In it, I incorrectly joined /tsconfig.json before performing any lookup, because I thought the joining was happening in the combinePaths in https://github.com/microsoft/TypeScript/blob/611a912d/src/compiler/commandLineParser.ts#L3315. But, that combine has no real affect, it immediately gets stripped in a call to getDirectoryPath in https://github.com/microsoft/TypeScript/blob/611a912d/src/compiler/moduleNameResolver.ts#LL1703C93-L1703. Instead, it performs a basic node_module lookup using the input module name, and even tries to load the file referenced at that location (eg, it's a extends: 'foo/tsconfig.json'). If that fails, then it combines with an implied /tsconfig the same way a /index is appended when doing require('./directory'). Fixes WEB-974",Fix TSConfig extends pointing to node module (#4772),"In #4754, I screwed up the resolution logic for configs that reference another config inside a node module. In it, I incorrectly joined /tsconfig.json before performing any lookup, because I thought the joining was happening in the combinePaths in link. But, that combine has no real affect, it immediately gets stripped in a call to getDirectoryPath in link. Instead, it performs a basic node_module lookup using the input module name, and even tries to load the file referenced at that location (eg, it's a extends: 'foo/tsconfig.json'). If that fails, then it combines with an implied /tsconfig the same way a /index is appended when doing require('./directory'). Fixes WEB-974"
368,Port RecursiveCopy to Rust (#4719),,Port RecursiveCopy to Rust (#4719),
369,fix: allow for workplace descriptors without a protocol (#4755),Description Fixes the issue found by @quinnturner in #2891. Crux of the issue was we were being too restrictive when tracking dependency protocols to properly infer them for later construction. We now allow for at most two descriptors in the protocol resolver: one without a protocol and one with a protocol. Another change was no longer adding all descriptors for a workspace and instead only including descriptors that come from other workspaces. Testing Instructions New testing fixture contains a lockfile where one workspace depends on another via * and the other depends on it via workspace:*.,fix: allow for workplace descriptors without a protocol (#4755),Description Fixes the issue found by @quinnturner in 2891. Crux of the issue was we were being too restrictive when tracking dependency protocols to properly infer them for later construction. We now allow for at most two descriptors in the protocol resolver: one without a protocol and one with a protocol. Another change was no longer adding all descriptors for a workspace and instead only including descriptors that come from other workspaces. Testing Instructions New testing fixture contains a lockfile where one workspace depends on another via * and the other depends on it via workspace:*.
370,fix viewbox with decimals (#4765),Description see https://github.com/vercel/next.js/pull/48947#issuecomment-1528900774 thanks @joacub,fix viewbox with decimals (#4765),Description see link thanks @joacub
371,chore: Disallows unknown fields in JSON sent by Rust. (#4753),"Description We've gotten bitten by field names being out of sync (#4712). To prevent this from happening, we error on any unknown fields sent to the Go side. Testing Instructions Existing tests cover this. I already discovered a few fields we don't need to send over",chore: Disallows unknown fields in JSON sent by Rust. (#4753),"Description We've gotten bitten by field names being out of sync (#4712). To prevent this from happening, we error on any unknown fields sent to the Go side. Testing Instructions Existing tests cover this. I already discovered a few fields we don't need to send over"
372,Allow for dropped updates in the benchmarks (#4691),"Description This improves the reliability of HMR benchmarks for bundlers that can drop updates (Vite, Turbopack). Before, an update being dropped meant the whole benchmark was canceled. Testing Instructions Running the benchmarks",Allow for dropped updates in the benchmarks (#4691),"Description This improves the reliability of HMR benchmarks for bundlers that can drop updates (Vite, Turbopack). Before, an update being dropped meant the whole benchmark was canceled. Testing Instructions Running the benchmarks"
373,"Revert ""refactor(turborepo): cache signature authentication"" (#4750)",Reverts vercel/turbo#4686 so we can coordinate global hash bump,"Revert ""refactor(turborepo): cache signature authentication"" (#4750)",Reverts vercel/turbo#4686 so we can coordinate global hash bump
374,Do not use interop logic on proxy modules (#4761),"Description Proxy modules must not use interop logic, otherwise only the default export works correctly next.js PR: https://github.com/vercel/next.js/pull/49033",Do not use interop logic on proxy modules (#4761),"Description Proxy modules must not use interop logic, otherwise only the default export works correctly next.js PR: link"
375,add rspack to our benchmark suite (#4597),Description allow to benchmark rspack,add rspack to our benchmark suite (#4597),Description allow to benchmark rspack
376,More fluent GraphTraversal API (#4598),"Description This PR refactors the API of GraphTraversal to be more fluent, and less magical. It should make it easier to use and understand. Had this in store from trying to debug a lifetime issue in another branch. Testing Instructions Surface-level change. Next.js PR: https://github.com/vercel/turbo/pulls/alexkirsz",More fluent GraphTraversal API (#4598),"Description This PR refactors the API of GraphTraversal to be more fluent, and less magical. It should make it easier to use and understand. Had this in store from trying to debug a lifetime issue in another branch. Testing Instructions Surface-level change. Next.js PR: link"
377,Match TS's extends resolution algorithm (#4754),"Description Implements TS's extends resolution algorithm. In particular, there are a few cases that need to be properly handled:  Relative paths: if the file doesn't exist and the path doesn't end in .json, try again with .json extension Windows paths: same thing Posix paths: same thing . and .. (but not ./ nor ../ because they're relative paths): join with /tsconfig.json before looking up foo module import: join with /tsconfig.json before looking up  Testing Instructions Snapshot tests Fixes WEB-963 fix #2682  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",Match TS's extends resolution algorithm (#4754),"Description Implements TS's extends resolution algorithm. In particular, there are a few cases that need to be properly handled: Relative paths: if the file doesn't exist and the path doesn't end in .json, try again with .json extension Windows paths: same thing Posix paths: same thing . and .. (but not ./ nor ../ because they're relative paths): join with /tsconfig.json before looking up foo module import: join with /tsconfig.json before looking up Testing Instructions Snapshot tests Fixes WEB-963 fix #2682 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
378,chore: Update swc_core to v0.75.41 (#4756),Description  Fix WEB-969 Fix #4747  Testing Instructions Look at CI of the next.js counterpart: https://github.com/vercel/next.js/pull/48982,chore: Update swc_core to v0.75.41 (#4756),Description Fix WEB-969 Fix #4747 Testing Instructions Look at CI of the next.js counterpart: link
379,Update 1-turbopack-bug-report.yml,Ask for Next.js version since there is no standalone Turbopack version yet.,Update 1-turbopack-bug-report.yml,Ask for Next.js version since there is no standalone Turbopack version yet.
380,"Cleanup ""started server on"" message (#4751)","We bind to an IPv6 unspecified address (::), which makes the old message say ""started server on :::3000"", and that's kinda ugly. The new message will say ""[::]:3000"".","Cleanup ""started server on"" message (#4751)","We bind to an IPv6 unspecified address (::), which makes the old message say ""started server on :::3000"", and that's kinda ugly. The new message will say ""[::]:3000""."
381,refactor(turborepo): cache signature authentication (#4686),Description Refactors the cache signature authentication code to no longer rely on Go implementation details. This requires a cache bump as it is a breaking change to cache signatures. Testing Instructions Existing cache signature authentication now calls the Rust implementation and confirms that it produces the same tag. There are also new tests that randomly generate test cases and confirm that the Rust and Go implementation agree on the tag output.,refactor(turborepo): cache signature authentication (#4686),Description Refactors the cache signature authentication code to no longer rely on Go implementation details. This requires a cache bump as it is a breaking change to cache signatures. Testing Instructions Existing cache signature authentication now calls the Rust implementation and confirms that it produces the same tag. There are also new tests that randomly generate test cases and confirm that the Rust and Go implementation agree on the tag output.
382,ci(workflow): add appdir underscore test to subset (#4688),"Description Depends on https://github.com/vercel/next.js/pull/48792 - once PR lands, we should able to run corresponding test cases.",ci(workflow): add appdir underscore test to subset (#4688),"Description Depends on link - once PR lands, we should able to run corresponding test cases."
383,chore(turborepo): Fixed clippy warnings (#4744),Description Fixing all the random clippy warnings that made it into our code. Testing Instructions    Give a quick description of steps to test your changes.,chore(turborepo): Fixed clippy warnings (#4744),Description Fixing all the random clippy warnings that made it into our code. Testing Instructions Give a quick description of steps to test your changes.
384,add svg size extraction (#4741),Description parse the size info from SVGs,add svg size extraction (#4741),Description parse the size info from SVGs
385,Replace css_chunk_root_path with ProxiedAsset (#4740),"Description This replaces the use case of css_chunk_root_path with a ProxiedAsset, which allows the same kind of behavior but in a more granular way: the user decides which assets are exposed under which path, instead of it being a chunking context-wide setting. Testing Instructions N/A fix #4444 link WEB-856 See https://github.com/vercel/next.js/pull/48946",Replace css_chunk_root_path with ProxiedAsset (#4740),"Description This replaces the use case of css_chunk_root_path with a ProxiedAsset, which allows the same kind of behavior but in a more granular way: the user decides which assets are exposed under which path, instead of it being a chunking context-wide setting. Testing Instructions N/A fix #4444 link WEB-856 See link"
386,improve commonjs esm interop and node ESM (#4738),Description  generate a default export when import faux modules detect specified module type and follow that emit errors/warnings when using non-matching syntax  next.js test case: https://github.com/vercel/next.js/pull/48940,improve commonjs esm interop and node ESM (#4738),Description generate a default export when import faux modules detect specified module type and follow that emit errors/warnings when using non-matching syntax next.js test case: link
387,Inline a constant so it's individualized to each task run (#4735),,Inline a constant so it's individualized to each task run (#4735),
388,Make sure that we only hash the env pairs. (#4708),"This corrects the hashing behavior for the global hash if there is an EnvMode specified. The struct now known as GlobalHashableInputs contains additional data that is not required to be present in the hash; particularly that envVars should be env.EnvironmentVariablePairs, not env.DetailedMap. This didn't result in user-facing bugs, but it results in unnecessarily partitioned caches when using env modes. We can't hash what is now known as GlobalHashableInputs directly, we must grab the components of it that we need, which this does for the (currently) two available hash formats.",Make sure that we only hash the env pairs. (#4708),"This corrects the hashing behavior for the global hash if there is an EnvMode specified. The struct now known as GlobalHashableInputs contains additional data that is not required to be present in the hash; particularly that envVars should be env.EnvironmentVariablePairs, not env.DetailedMap. This didn't result in user-facing bugs, but it results in unnecessarily partitioned caches when using env modes. We can't hash what is now known as GlobalHashableInputs directly, we must grab the components of it that we need, which this does for the (currently) two available hash formats."
389,release(turborepo): 1.9.4-canary.6 (#4736),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.6 (#4736),Co-authored-by: Turbobot turbobot@vercel.com
390,Revert daemon port (#4731),,Revert daemon port (#4731),
391,Allow passing arbitrary data to static/proxy renders (#4491),"This adds an arbitrary serde_json::Value data field to our generic rendering code, allowing us to pass down the NextConfig.output field (and anything else we want) to the Node.js renderer. Re: WEB-842",Allow passing arbitrary data to static/proxy renders (#4491),"This adds an arbitrary serde_json::Value data field to our generic rendering code, allowing us to pass down the NextConfig.output field (and anything else we want) to the Node.js renderer. Re: WEB-842"
392,We no longer require libc6-compat (#4729),"Description We now build static binaries, we don't need glibc or libc6-compat Testing Instructions",We no longer require libc6-compat (#4729),"Description We now build static binaries, we don't need glibc or libc6-compat Testing Instructions"
393,Delete unused git_go file (#4730),,Delete unused git_go file (#4730),
394,Fix crossOrigin attribute value (#4732),,Fix crossOrigin attribute value (#4732),
395,fix: turborepo unused code lints (#4727),"Description Mostly gating constants and imports behind #[cfg(windows)]. One question for @arlyon is if we should delete the two methods on BumpTimeout that appear unused. I did a search and I didn't find any uses in the codebase, but wasn't sure if these will be used in some future PR. Testing Instructions Windows still builds on CI",fix: turborepo unused code lints (#4727),"Description Mostly gating constants and imports behind #[cfg(windows)]. One question for @arlyon is if we should delete the two methods on BumpTimeout that appear unused. I did a search and I didn't find any uses in the codebase, but wasn't sure if these will be used in some future PR. Testing Instructions Windows still builds on CI"
396,Move TURBO_FORCE config env var detection to Rust (#4590),"Moving TURBO_FORCE env var detection logic to Rust, so we can properly throw an error message when an unsupported value is set (e.g., TURBO_FORCE=1). Co-authored-by: Mehul Kar mehul.kar@vercel.com",Move TURBO_FORCE config env var detection to Rust (#4590),"Moving TURBO_FORCE env var detection logic to Rust, so we can properly throw an error message when an unsupported value is set (e.g., TURBO_FORCE=1). Co-authored-by: Mehul Kar mehul.kar@vercel.com"
397,Add ability to run a single integration test (#4723),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,Add ability to run a single integration test (#4723),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
398,release(turborepo): 1.9.4-canary.5 (#4728),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.5 (#4728),Co-authored-by: Turbobot turbobot@vercel.com
399,feat: Use Rust Berry lockfile impl (#4684),"Description Built on top of #4629 Overview of changes: - ~~Change subgraph so we calculate workspace's closure in parallel in a similar manner to Go~~ This had to get reverted, it appears that rayon was causing compilation issues on linux  - npm_subgraph -> subgraph makes this FFI call generic - Addition of an optional resolutions map to the subgraph and transitive_closure, this is only used by Berry. In the ideal world this would be all of the root package.json, but serializing all of that via protobuf is overkill since berry is the only lockfile that needs that info and we only use that field. - Addition of patches FFI function, this wasn't needed before as NPM doesn't have patch files encoded in the lockfile - Addition of global_changes FFI function, previously for NPM we were just doing this in Go since there were just two fields we needed to check and parsing JSON is cheap. - Switches lockfile usage of berry from the Go implementation to the Rust one introduced in #4589 Reviewer notes: - The passing of the optional resolutions map is very icky and one off, but this is the only lockfile the requires additional information to properly parse. Once the package graph is squarely in Rust land this should go back to being more generic. This will finally close out #2791 Testing Instructions Added a new integration test that uses resolutions. This integration test invokes the new patches FFI call. For a full test of the new resolution feature, clone and follow the instructions in the repro The lockfile_aware_caching integration tests all hit the new global_changes FFI callsite and provide test coverage.  Co-authored-by: Alexander Lyon arlyon@me.com",feat: Use Rust Berry lockfile impl (#4684),"Description Built on top of #4629 Overview of changes: - ~~Change subgraph so we calculate workspace's closure in parallel in a similar manner to Go~~ This had to get reverted, it appears that rayon was causing compilation issues on linux  - npm_subgraph -> subgraph makes this FFI call generic - Addition of an optional resolutions map to the subgraph and transitive_closure, this is only used by Berry. In the ideal world this would be all of the root package.json, but serializing all of that via protobuf is overkill since berry is the only lockfile that needs that info and we only use that field. - Addition of patches FFI function, this wasn't needed before as NPM doesn't have patch files encoded in the lockfile - Addition of global_changes FFI function, previously for NPM we were just doing this in Go since there were just two fields we needed to check and parsing JSON is cheap. - Switches lockfile usage of berry from the Go implementation to the Rust one introduced in #4589 Reviewer notes: - The passing of the optional resolutions map is very icky and one off, but this is the only lockfile the requires additional information to properly parse. Once the package graph is squarely in Rust land this should go back to being more generic. This will finally close out #2791 Testing Instructions Added a new integration test that uses resolutions. This integration test invokes the new patches FFI call. For a full test of the new resolution feature, clone and follow the instructions in the repro The lockfile_aware_caching integration tests all hit the new global_changes FFI callsite and provide test coverage. Co-authored-by: Alexander Lyon arlyon@me.com"
400,chore(deps): update react monorepo (#4425)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 18.0.26 -> 18.2.0 |  |  |  |  | | @types/react (source) | 17.0.53 -> 17.0.58 |  |  |  |  | | @types/react (source) | 18.0.28 -> 18.2.0 |  |  |  |  | | @types/react (source) | 18.0.34 -> 18.2.0 |  |  |  |  | | @types/react (source) | 18.0.25 -> 18.2.0 |  |  |  |  | | @types/react (source) | 18.0.31 -> 18.2.0 |  |  |  |  | | @types/react (source) | 17.0.52 -> 17.0.58 |  |  |  |  | | @types/react-dom (source) | 18.0.11 -> 18.2.0 |  |  |  |  | | @types/react-dom (source) | 18.0.9 -> 18.2.0 |  |  |  |  | | @types/react-dom (source) | 17.0.18 -> 17.0.19 |  |  |  |  | | react-dom (source) | 18.1 -> 18.2 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  facebook/react  ### [`v18.2.0`](https://togithub.com/facebook/react/blob/HEAD/CHANGELOG.md#​1820-June-14-2022)  [Compare Source](https://togithub.com/facebook/react/compare/v18.1.0...v18.2.0)  ##### React DOM  - Provide a component stack as a second argument to `onRecoverableError`. ([@​gnoff](https://togithub.com/gnoff) in [#​24591](https://togithub.com/facebook/react/pull/24591)) - Fix hydrating into `document` causing a blank page on mismatch. ([@​gnoff](https://togithub.com/gnoff) in [#​24523](https://togithub.com/facebook/react/pull/24523)) - Fix false positive hydration errors with Suspense. ([@​gnoff](https://togithub.com/gnoff) in [#​24480](https://togithub.com/facebook/react/pull/24480) and [@​acdlite](https://togithub.com/acdlite) in [#​24532](https://togithub.com/facebook/react/pull/24532)) - Fix ignored `setState` in Safari when adding an iframe. ([@​gaearon](https://togithub.com/gaearon) in [#​24459](https://togithub.com/facebook/react/pull/24459))  ##### React DOM Server  - Pass information about server errors to the client. ([@​salazarm](https://togithub.com/salazarm) and [@​gnoff](https://togithub.com/gnoff) in [#​24551](https://togithub.com/facebook/react/pull/24551) and [#​24591](https://togithub.com/facebook/react/pull/24591)) - Allow to provide a reason when aborting the HTML stream. ([@​gnoff](https://togithub.com/gnoff) in [#​24680](https://togithub.com/facebook/react/pull/24680)) - Eliminate extraneous text separators in the HTML where possible. ([@​gnoff](https://togithub.com/gnoff) in [#​24630](https://togithub.com/facebook/react/pull/24630)) - Disallow complex children inside `` elements to match the browser constraints. ([@​gnoff](https://togithub.com/gnoff) in [#​24679](https://togithub.com/facebook/react/pull/24679)) - Fix buffering in some worker environments by explicitly setting `highWaterMark` to `0`. ([@​jplhomer](https://togithub.com/jplhomer) in [#​24641](https://togithub.com/facebook/react/pull/24641))  ##### Server Components (Experimental)  - Add support for `useId()` inside Server Components. ([@​gnoff](https://togithub.com/gnoff) in [#​24172](https://togithub.com/facebook/react/pull/24172))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 👻 Immortal: This PR will be recreated if closed unmerged. Get config help if that's undesired.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuNjIuMCJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update react monorepo (#4425),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 18.0.26 -> 18.2.0 | | | | | | @types/react (source) | 17.0.53 -> 17.0.58 | | | | | | @types/react (source) | 18.0.28 -> 18.2.0 | | | | | | @types/react (source) | 18.0.34 -> 18.2.0 | | | | | | @types/react (source) | 18.0.25 -> 18.2.0 | | | | | | @types/react (source) | 18.0.31 -> 18.2.0 | | | | | | @types/react (source) | 17.0.52 -> 17.0.58 | | | | | | @types/react-dom (source) | 18.0.11 -> 18.2.0 | | | | | | @types/react-dom (source) | 18.0.9 -> 18.2.0 | | | | | | @types/react-dom (source) | 17.0.18 -> 17.0.19 | | | | | | react-dom (source) | 18.1 -> 18.2 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes facebook/react  module Compare Source React DOM  Provide a component stack as a second argument to module. (@​gnoff in #​24591) Fix hydrating into module causing a blank page on mismatch. (@​gnoff in #​24523) Fix false positive hydration errors with Suspense. (@​gnoff in #​24480 and @​acdlite in #​24532) Fix ignored module in Safari when adding an iframe. (@​gaearon in #​24459)  React DOM Server  Pass information about server errors to the client. (@​salazarm and @​gnoff in #​24551 and #​24591) Allow to provide a reason when aborting the HTML stream. (@​gnoff in #​24680) Eliminate extraneous text separators in the HTML where possible. (@​gnoff in #​24630) Disallow complex children inside `` elements to match the browser constraints. (@​gnoff in #​24679) Fix buffering in some worker environments by explicitly setting module to module. (@​jplhomer in #​24641)  Server Components (Experimental)  Add support for module inside Server Components. (@​gnoff in #​24172)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 👻 Immortal: This PR will be recreated if closed unmerged. Get config help if that's undesired. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuNjIuMCJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
401,docs(prisma): add required version field in example (#4676),"Description When we follow instructions of this page https://turbo.build/repo/docs/handbook/tools/prisma, we got the following error : yarn install yarn install v1.22.19 warning package.json: No license field warning Missing version in workspace at ""/xxxxx/packages/database"", ignoring. [1/4] 🔍  Resolving packages... success Already up-to-date. ✨  Done in 0.12s. I just have added the required version field to have reproductible steps when we add a Prisma package on our monorepository. Testing Instructions No test required",docs(prisma): add required version field in example (#4676),"Description When we follow instructions of this page link, we got the following error : yarn install yarn install v1.22.19 warning package.json: No license field warning Missing version in workspace at ""/xxxxx/packages/database"", ignoring. [1/4] 🔍  Resolving packages... success Already up-to-date. ✨  Done in 0.12s. I just have added the required version field to have reproductible steps when we add a Prisma package on our monorepository. Testing Instructions No test required"
402,define refresh runtime for the entire module instead of just during initial execution (#4726),"Description I think HOCs will have the refresh signature call nested inside a function, so this is necessary for correctly refreshing those? fix WEB-823",define refresh runtime for the entire module instead of just during initial execution (#4726),"Description I think HOCs will have the refresh signature call nested inside a function, so this is necessary for correctly refreshing those? fix WEB-823"
403,swap out log for tracing and add the TurboFormatter (#4694),This allows us to switch out facades when needed and sets up a default facade for stdout that follows the current formatting for turbo which is to simply ignore all event fields except the message. The output format is identical.,swap out log for tracing and add the TurboFormatter (#4694),This allows us to switch out facades when needed and sets up a default facade for stdout that follows the current formatting for turbo which is to simply ignore all event fields except the message. The output format is identical.
404,Selectively load runtime CSS modules to avoid rule duplication (#4695),Description Implementing our style deduplication RFC. Next.js PR: https://github.com/vercel/next.js/pull/48866 Testing Instructions Working on a test case now. link WEB-951  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Selectively load runtime CSS modules to avoid rule duplication (#4695),Description Implementing our style deduplication RFC. Next.js PR: link Testing Instructions Working on a test case now. link WEB-951 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
405,release(turborepo): 1.9.4-canary.4 (#4722),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.4 (#4722),Co-authored-by: Turbobot turbobot@vercel.com
406,Update benchmark data (#4683),Description  Updates the website's benchmark data to latest Next.js Turbo (SSR) and Vite 4.3.1 (CSR). Updates our benchmarks blog post to stipulate the Next.js and Vite versions.  Testing Instructions N/A link WEB-946,Update benchmark data (#4683),Description Updates the website's benchmark data to latest Next.js Turbo (SSR) and Vite 4.3.1 (CSR). Updates our benchmarks blog post to stipulate the Next.js and Vite versions. Testing Instructions N/A link WEB-946
407,Trigger turborepo tests in CI correctly (#4717), integration tests when integration tests change or any turborepo src changes e2e tests when e2e tests or any turborepo src changes change ids so they're more clear about which file changes matter when,Trigger turborepo tests in CI correctly (#4717),integration tests when integration tests change or any turborepo src changes e2e tests when e2e tests or any turborepo src changes change ids so they're more clear about which file changes matter when
408,fix(turborepo): Turbostate deserialization (#4712),Description Accidentally left the key as remote_config on the Go side instead of api_client_config Testing Instructions Tested locally with .cram_env/bin/prysk --shell=`which bash` tests/api-client-config.t,fix(turborepo): Turbostate deserialization (#4712),Description Accidentally left the key as remote_config on the Go side instead of api_client_config Testing Instructions Tested locally with .cram_env/bin/prysk --shell=module tests/api-client-config.t
409,errors lead to consistent exit code in issue detail (#4716),Description issue snapshots are flaky due to alternating issue detail with exist code or not. It's a race condition between process exit after sending error and process killing after receiving error.,errors lead to consistent exit code in issue detail (#4716),Description issue snapshots are flaky due to alternating issue detail with exist code or not. It's a race condition between process exit after sending error and process killing after receiving error.
410,Allow the dev server socket to be reused immediately (#4709),"Description This avoids running into ""Address already in use (os error 48)"" when restarting the dev server in quick succession.  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Allow the dev server socket to be reused immediately (#4709),"Description This avoids running into ""Address already in use (os error 48)"" when restarting the dev server in quick succession. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
411,chunk hash need to include availability root (#4714),Description fixes a case where multiple assets write to the same file,chunk hash need to include availability root (#4714),Description fixes a case where multiple assets write to the same file
412,Fix errors-only and help output integration tests (#4713),,Fix errors-only and help output integration tests (#4713),
413,Invoke prysk with the directory name to ensure all tests run (#4715),"Running .cram_env/bin/prysk tests/**/*.t runs 98 tests. But the same thing through a package.json script pnpm test runs 74 tests. I'm not sure why and which ones are being excluded. But for an immediate fix, this PR removes the globbing so we run all tests.",Invoke prysk with the directory name to ensure all tests run (#4715),"Running .cram_env/bin/prysk tests/*/.t runs 98 tests. But the same thing through a package.json script pnpm test runs 74 tests. I'm not sure why and which ones are being excluded. But for an immediate fix, this PR removes the globbing so we run all tests."
414,chore: move lockfile ffi boundary (#4629),"Description In order to avoid Go holding onto memory that's been allocated by Rust we parse the lockfile each time we need to make a lockfile call. This worked fine for the npm implementation as we just needed parse the JSON and it was usable, but Berry requires a lot more work/allocations that makes this strategy unfeasible. A quick sketch of the changes in this PR: - Moves the traversal of the lockfile to be the final step of building the package graph  - We now calculate all of the closures of all workspaces at once - Rust FFI now takes the package manager string to select the lockfile implementation. This is a quick prefactor to prepare for hooking up the berry lockfile Reviewer notes: - Each commit can be reviewed on it's own, the first commit ended up getting reverted down the stack so it can be skipped. Testing Instructions Existing unit tests/integration tests. Manual verification of correct pruning behavior for the npm and pnpm monorepos created by create-turbo@latest",chore: move lockfile ffi boundary (#4629),"Description In order to avoid Go holding onto memory that's been allocated by Rust we parse the lockfile each time we need to make a lockfile call. This worked fine for the npm implementation as we just needed parse the JSON and it was usable, but Berry requires a lot more work/allocations that makes this strategy unfeasible. A quick sketch of the changes in this PR: - Moves the traversal of the lockfile to be the final step of building the package graph  - We now calculate all of the closures of all workspaces at once - Rust FFI now takes the package manager string to select the lockfile implementation. This is a quick prefactor to prepare for hooking up the berry lockfile Reviewer notes: - Each commit can be reviewed on it's own, the first commit ended up getting reverted down the stack so it can be skipped. Testing Instructions Existing unit tests/integration tests. Manual verification of correct pruning behavior for the npm and pnpm monorepos created by create-turbo@latest"
415,remove box_syntax (#4667),Description Box syntax removed in https://github.com/rust-lang/rust/pull/108471 Removed all #![features(box_syntax)] and ran cargo fix --broken-code to replace all previous box_patterns uses of box with Box::new(). Testing Instructions No testing needed.,remove box_syntax (#4667),Description Box syntax removed in link Removed all #![features(box_syntax)] and ran cargo fix --broken-code to replace all previous box_patterns uses of box with Box::new(). Testing Instructions No testing needed.
416,improve error handling in update stream (#4705),"Description Handle fatal errors in update stream, by sending an not found update with issues.  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",improve error handling in update stream (#4705),"Description Handle fatal errors in update stream, by sending an not found update with issues. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
417,make library code less verbose in stack traces (#4706),Description avoid highlighting library code in stack traces and show no source frame for them,make library code less verbose in stack traces (#4706),Description avoid highlighting library code in stack traces and show no source frame for them
418,update deps (#4700),Description sync lockfile with next.js,update deps (#4700),Description sync lockfile with next.js
419,feat(ecma-plugins): extract custom emotion transform (#4662),"Description First step for WEB-940. Context: https://vercel.slack.com/archives/C03EWR7LGEN/p1681789689115509 Currently all of the ecma transforms are explicitly listed under EcmaInputTransform in turbopack-ecmascript. This makes enum verbose, we have to manually expand it each time adding new transform, as well as turbopack-ecmascript gets larger to contain all of the 3rd party transforms by default. PR extracts non-core transforms into a new crate, named as ecmascript-plugins then utilize EcmaInputTransform::Custom to invoke transforms instead. EcmaInputTransform::Custom is renamed to EcmaInputTransform::Plugin as well. Goal is extracting all of 3rd party / non-core transforms. This also reduces multiple steps to construct option value between caller (next-*) to actual transform (swcOptions). https://github.com/vercel/next.js/pull/48671 have corresponding next.js changes.",feat(ecma-plugins): extract custom emotion transform (#4662),"Description First step for WEB-940. Context: link Currently all of the ecma transforms are explicitly listed under EcmaInputTransform in turbopack-ecmascript. This makes enum verbose, we have to manually expand it each time adding new transform, as well as turbopack-ecmascript gets larger to contain all of the 3rd party transforms by default. PR extracts non-core transforms into a new crate, named as ecmascript-plugins then utilize EcmaInputTransform::Custom to invoke transforms instead. EcmaInputTransform::Custom is renamed to EcmaInputTransform::Plugin as well. Goal is extracting all of 3rd party / non-core transforms. This also reduces multiple steps to construct option value between caller (next-*) to actual transform (swcOptions). link have corresponding next.js changes."
420,add noop refresh runtime to prevent errors after module execution (#4701),Description We add some noop handlers to make sure code won't throw errors when something tries to access the refresh runtime outside the initial module execution next.js does this here https://github.com/vercel/next.js/blob/f12aa35b0d85aa28223e06ee6f6a98247262815e/packages/react-refresh-utils/ReactRefreshWebpackPlugin.ts#L16-L30 I'm not 100% sure this is the correct fix fix WEB-823,add noop refresh runtime to prevent errors after module execution (#4701),Description We add some noop handlers to make sure code won't throw errors when something tries to access the refresh runtime outside the initial module execution next.js does this here link I'm not 100% sure this is the correct fix fix WEB-823
421,refactor(turbopack): remove next.js specific unsupported warn (#4697),"Description WEB-953.  This PR removes check for next.js specific unsupported packages. Instead, let next-* (next-core) handles it via resolve plugin. See https://github.com/vercel/next.js/pull/48837 for the corresponding change. This change makes turbopack does not need to aware specific next.js package names.",refactor(turbopack): remove next.js specific unsupported warn (#4697),"Description WEB-953.  This PR removes check for next.js specific unsupported packages. Instead, let next-* (next-core) handles it via resolve plugin. See link for the corresponding change. This change makes turbopack does not need to aware specific next.js package names."
422,Existing and error logs behavior (#4656),Description  Adds an integration test for existing behavior (continue.t) Fixes behavior of --output-logs=errors-only to match behavior for full in the case of a task that errors Fixes --continue behavior to report all failed tasks at the end  Testing Instructions New continue.t integration test. I recommend viewing the changes to that file at each commit to see initial behavior and how it changes. Fixes #4504  link WEB-895,Existing and error logs behavior (#4656),Description Adds an integration test for existing behavior (continue.t) Fixes behavior of --output-logs=errors-only to match behavior for full in the case of a task that errors Fixes --continue behavior to report all failed tasks at the end Testing Instructions New continue.t integration test. I recommend viewing the changes to that file at each commit to see initial behavior and how it changes. Fixes #4504  link WEB-895
423,release(turborepo): 1.9.4-canary.3 (#4698),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.3 (#4698),Co-authored-by: Turbobot turbobot@vercel.com
424,port(turborepo): Config (#4520),"Description Creates an ExecutionState struct that gets serialized to the Go code. The goal is to build up more and more of the info, such as config and graph state in this struct, so that we can do more work on the Rust side. Testing Instructions    Give a quick description of steps to test your changes.",port(turborepo): Config (#4520),"Description Creates an ExecutionState struct that gets serialized to the Go code. The goal is to build up more and more of the info, such as config and graph state in this struct, so that we can do more work on the Rust side. Testing Instructions Give a quick description of steps to test your changes."
425,add FixedStaticAsset and TextContentSourceAsset (#4692),Description needed for metadata support in next.js (https://github.com/vercel/next.js/pull/48823),add FixedStaticAsset and TextContentSourceAsset (#4692),Description needed for metadata support in next.js (link)
426,Use spaceID from turbo.json if available (#4687),The flag will takes precedence over config,Use spaceID from turbo.json if available (#4687),The flag will takes precedence over config
427,feat(turbopack): Consider cycles while spliting modules (#4595),"Description This is optimization for modules with cyclic dependencies between AST nodes.  Fixes WEB-706.  Testing Instructions Look at output.mdx using GitHub diff view, and you can see it rendered by selecting Open file from the context menu.  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",feat(turbopack): Consider cycles while spliting modules (#4595),"Description This is optimization for modules with cyclic dependencies between AST nodes. Fixes WEB-706. Testing Instructions Look at output.mdx using GitHub diff view, and you can see it rendered by selecting Open file from the context menu. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
428,fix error reporting for get_from_source errors (#4690),Description We never reported issues from get_from_source. This leads to cryptic fatal errors from get_from_source without further details. Now we report the actual issues with show the details.,fix error reporting for get_from_source errors (#4690),Description We never reported issues from get_from_source. This leads to cryptic fatal errors from get_from_source without further details. Now we report the actual issues with show the details.
429,Daemon server rust port (#4306),"Description This ports the daemon server to rust, leaving only run an prune in go-land. This needs some polish but I would like to get some feedback now. I have also added a flag for running the grpc server over http instead, which is useful for debugging. It has support for reflection, so can be used via postman or grpcurl. For code reviews, it should be ok to go in commit-order. Outstanding parts:  [x] incomplete tests in glob watch [x] error handling for watch errors [ ] logging / log rotation  Out of scope (for now):  startup performance pass  Testing Instructions This is a drop-in replacement for the go server, so turbo run in any repo should work identically.",Daemon server rust port (#4306),"Description This ports the daemon server to rust, leaving only run an prune in go-land. This needs some polish but I would like to get some feedback now. I have also added a flag for running the grpc server over http instead, which is useful for debugging. It has support for reflection, so can be used via postman or grpcurl. For code reviews, it should be ok to go in commit-order. Outstanding parts: [x] incomplete tests in glob watch [x] error handling for watch errors [ ] logging / log rotation Out of scope (for now): startup performance pass Testing Instructions This is a drop-in replacement for the go server, so turbo run in any repo should work identically."
430,fix: rebuild protobuf code and update ffi callsite (#4685),"Description Not quite sure how this got in, but I think the generated Go protobuf code got out of sync. This PR is the result of make turborepo-ffi-proto on main and then fixing the build error caused by trying to construct ChangedFilesReq with a *string instead of a string in the ToCommit field Testing Instructions    Give a quick description of steps to test your changes.",fix: rebuild protobuf code and update ffi callsite (#4685),"Description Not quite sure how this got in, but I think the generated Go protobuf code got out of sync. This PR is the result of make turborepo-ffi-proto on main and then fixing the build error caused by trying to construct ChangedFilesReq with a *string instead of a string in the ToCommit field Testing Instructions Give a quick description of steps to test your changes."
431,Remove misleading github action name (#4673),,Remove misleading github action name (#4673),
432,fix(turbo-utils): support old workspace format (#4682),Description Support old workspace format (workspaces.packages) in our find config util used by codemod and the eslint plugin Fixes https://github.com/vercel/turbo/issues/4469 and https://github.com/vercel/turbo/issues/4085,fix(turbo-utils): support old workspace format (#4682),Description Support old workspace format (workspaces.packages) in our find config util used by codemod and the eslint plugin Fixes link and link
433,feat: Add rust implementation of Yarn3+ lockfile (#4589),"Description Adds a new Berry lockfile implementation that correctly handles resolutions. See the description of #2019 for an overview of the berry lockfile format. Note for reviewers: - I suggest reviewing identifiers.rs first as Ident, Descriptor, and Locator are the building blocks for most of the lockfile logic - We cannot use serde_yaml for serialization as berry expects some strings to be quoted that are not necessarily required to be quoted by the YAML spec. - The underlying lockfile data is passed into the struct that contains the lockfile logic, this allows us to borrow from the data when building up the internal data structures. Down the road this could be changed to use Pin if this proves to be painful from an ergonomics perspective Testing Instructions Ported existing unit tests and added new ones for the resolutions logic. The PR that switches this Rust impl on will include instructions on how to do e2e testing.  Co-authored-by: Alexander Lyon arlyon@me.com",feat: Add rust implementation of Yarn3+ lockfile (#4589),"Description Adds a new Berry lockfile implementation that correctly handles resolutions. See the description of #2019 for an overview of the berry lockfile format. Note for reviewers: - I suggest reviewing identifiers.rs first as Ident, Descriptor, and Locator are the building blocks for most of the lockfile logic - We cannot use serde_yaml for serialization as berry expects some strings to be quoted that are not necessarily required to be quoted by the YAML spec. - The underlying lockfile data is passed into the struct that contains the lockfile logic, this allows us to borrow from the data when building up the internal data structures. Down the road this could be changed to use Pin if this proves to be painful from an ergonomics perspective Testing Instructions Ported existing unit tests and added new ones for the resolutions logic. The PR that switches this Rust impl on will include instructions on how to do e2e testing. Co-authored-by: Alexander Lyon arlyon@me.com"
434,test: Improve testing system for tree shaker (#4663),Description We need a testing system that supports enabling only some of exports. This PR implements it by using config.json. Fix WEB-917. Testing Instructions Look at output.mdx,test: Improve testing system for tree shaker (#4663),Description We need a testing system that supports enabling only some of exports. This PR implements it by using config.json. Fix WEB-917. Testing Instructions Look at output.mdx
435,Lazy DevHtmlAsset chunk generation (#4679),"Description This fixes a perf regression introduced in the chunking refactor, where we would be eagerly generating all assets from the web entry and fallback sources. Testing Instructions Benchmarks Next.js PR link WEB-944",Lazy DevHtmlAsset chunk generation (#4679),"Description This fixes a perf regression introduced in the chunking refactor, where we would be eagerly generating all assets from the web entry and fallback sources. Testing Instructions Benchmarks Next.js PR link WEB-944"
436,Use global turbo install for smoke test (#4672),This avoids building turbo multiple times before running unit tests before a release.,Use global turbo install for smoke test (#4672),This avoids building turbo multiple times before running unit tests before a release.
437,Remove unused import (#4665),,Remove unused import (#4665),
438,fix(ecmascript): displayname for styled_components (#4653),Description WEB-670 We need to supply filename for the display_name calculation.,fix(ecmascript): displayname for styled_components (#4653),Description WEB-670 We need to supply filename for the display_name calculation.
439,"dev-server content might change any time, we can't cache them (#4670)",Description Browser cache might lead to inconsistent state  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,"dev-server content might change any time, we can't cache them (#4670)",Description Browser cache might lead to inconsistent state Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
440,make the invalidation reason easier to read (#4669),"Description before: event - 141 requests (e. g. GET /api/exp) 22s after: event - 141 requests (GET /api/exp, ...) 22s",make the invalidation reason easier to read (#4669),"Description before: event - 141 requests (e. g. GET /api/exp) 22s after: event - 141 requests (GET /api/exp, ...) 22s"
441,release(turborepo): 1.9.4-canary.2 (#4668),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.2 (#4668),Co-authored-by: Turbobot turbobot@vercel.com
442,release(turborepo): 1.9.4-canary.1 (#4659),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.1 (#4659),Co-authored-by: Turbobot turbobot@vercel.com
443,Always print the url if we have one (#4660),,Always print the url if we have one (#4660),
444,Turborepo should own turborepo-tests (#4658),Updating OWNERS,Turborepo should own turborepo-tests (#4658),Updating OWNERS
445,Include logs when posting task summary (#4642),,Include logs when posting task summary (#4642),
446,release(turborepo): 1.9.4-canary.0 (#4657),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.4-canary.0 (#4657),Co-authored-by: Turbobot turbobot@vercel.com
447,Invoke turborepo tests via global turbo (#4647),"This reduces the number of turbo builds to one, as a dependency of running tests. This also means we may actually be able to turn on remote caching in GitHub CI and make it faster. The important caveat is that we have to use a published version of turbo to kick off test runs. I think this is generally a good thing because it means we use what our customers use and we become real customers of our own tool. The tests themselves will continue to exercise the locally built code. (except in the case of examples tests which use the installed version in each example).",Invoke turborepo tests via global turbo (#4647),"This reduces the number of turbo builds to one, as a dependency of running tests. This also means we may actually be able to turn on remote caching in GitHub CI and make it faster. The important caveat is that we have to use a published version of turbo to kick off test runs. I think this is generally a good thing because it means we use what our customers use and we become real customers of our own tool. The tests themselves will continue to exercise the locally built code. (except in the case of examples tests which use the installed version in each example)."
448,feat(turbo): add spaces link (#4632),,feat(turbo): add spaces link (#4632),
449,Image processing improvements (#4649),Description  refactor image processing fallback guess format for extension expose pathname_to_url for wrapped source usage  see also https://github.com/vercel/next.js/pull/48622  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,Image processing improvements (#4649),Description refactor image processing fallback guess format for extension expose pathname_to_url for wrapped source usage see also link Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
450,allow to pass constant values to free var references (#4652),Description This will allow to do constant replacements of free vars aka webpack DefinePlugin,allow to pass constant values to free var references (#4652),Description This will allow to do constant replacements of free vars aka webpack DefinePlugin
451,fix(turborepo): Switching back to git command instead of git2 (#4606),"Description Once #4604 is merged and we release 1.9.2, we can merge this with additional tests Testing Instructions Added test for shallow cloned repo that fails on main",fix(turborepo): Switching back to git command instead of git2 (#4606),"Description Once #4604 is merged and we release 1.9.2, we can merge this with additional tests Testing Instructions Added test for shallow cloned repo that fails on main"
452,fix(ecmascript): eval assignop to the ident (#4609),"Description  closes WEB-889  When there is a variable with += assignop only to the given ident ``` var css = ''; for (var i = 0; i < length; i++) {         var partRule = this.rules[i];     if (typeof partRule === 'string') {       css += partRule;     } else if (partRule) {      css += partString;     }   }    if (css) {    ....   }  ``` evaluated result becomes var css = ''; for(var i = 0; i < length; i++){     var partRule = this.rules[i];     if (typeof partRule === 'string') {         css += partRule;     } else if (partRule) {         css += partString;     } } if (""TURBOPACK compile-time falsy"", 0) {     ""TURBOPACK unreachable""; } so if (css) condition never executed even though it can be executed depends on the runtime assignop condition. PR attempts to evaluate if assignop is for the ident to prevent this.  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",fix(ecmascript): eval assignop to the ident (#4609),"Description closes WEB-889 When there is a variable with += assignop only to the given ident ``` var css = ''; for (var i = 0; i < length; i++) {         var partRule = this.rules[i];     if (typeof partRule === 'string') {       css += partRule;     } else if (partRule) {      css += partString;     }   } if (css) {    ....   } ``` evaluated result becomes var css = ''; for(var i = 0; i < length; i++){     var partRule = this.rules[i];     if (typeof partRule === 'string') {         css += partRule;     } else if (partRule) {         css += partString;     } } if (""TURBOPACK compile-time falsy"", 0) {     ""TURBOPACK unreachable""; } so if (css) condition never executed even though it can be executed depends on the runtime assignop condition. PR attempts to evaluate if assignop is for the ident to prevent this. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
453,handle chunk register in the sync runtime.none correctly (#4648),Description Using an async function in the sync runtime.none will swallow the error into a rejected Promise instead of rethrowing it.,handle chunk register in the sync runtime.none correctly (#4648),Description Using an async function in the sync runtime.none will swallow the error into a rejected Promise instead of rethrowing it.
454,reduce size of TypeType from 32bytes to 16bytes (#4650),Description saving some memory,reduce size of TypeType from 32bytes to 16bytes (#4650),Description saving some memory
455,Disable cargo-sweep install when setting up turborepo environment (#4644),,Disable cargo-sweep install when setting up turborepo environment (#4644),
456,Fix path to setup script (#4643),,Fix path to setup script (#4643),
457,Move e2e tests to their own workspace (#4637),,Move e2e tests to their own workspace (#4637),
458,Limit the cache inputs for the docs rss and schema tasks (#4640),,Limit the cache inputs for the docs rss and schema tasks (#4640),
459,put webp behind a feature flag (#4641),"Description aarch64 is unable to compile it, so we disable it for now",put webp behind a feature flag (#4641),"Description aarch64 is unable to compile it, so we disable it for now"
460,Fix the doc on how to use the turbo loader in option-less format (#4045),Description As the title says... Testing Instructions  [x] Auto label  Signed-off-by: Sora Morimoto sora@morimoto.io,Fix the doc on how to use the turbo loader in option-less format (#4045),Description As the title says... Testing Instructions [x] Auto label Signed-off-by: Sora Morimoto sora@morimoto.io
461,Fix language in github comment (#4638),,Fix language in github comment (#4638),
462,restrict snapshot path for windows path length limit (#4639),Description windows...,restrict snapshot path for windows path length limit (#4639),Description windows...
463,add turbopack-image (#4621),Description allows to have custom plugins for module types add turbopack-image crate which adds some image processing and blur placholder generation next.js PR: https://github.com/vercel/next.js/pull/48531,add turbopack-image (#4621),Description allows to have custom plugins for module types add turbopack-image crate which adds some image processing and blur placholder generation next.js PR: link
464,add getChunkPath method (#4600),Description follow up changes from #4488,add getChunkPath method (#4600),Description follow up changes from #4488
465,Move examples tests to their own workspace (#4630),"This PR: - Makes examples_tests an official workspace in turborepo-tests/examples - Extracts some helpers from turborepo-tests/integration into their own workspace - This will cause examples tests to run when those helpers change, avoiding issues like #4626. - Make examples/ a workspace, and sets up a package.json dependency, so that when examples change, examples_tests are also invalidated. (Note that this doesn't affect when CI runs since that's configured in Github Actions workflow configs)  Co-authored-by: Nathan Hammond nathan.hammond@vercel.com",Move examples tests to their own workspace (#4630),"This PR: - Makes examples_tests an official workspace in turborepo-tests/examples - Extracts some helpers from turborepo-tests/integration into their own workspace - This will cause examples tests to run when those helpers change, avoiding issues like #4626. - Make examples/ a workspace, and sets up a package.json dependency, so that when examples change, examples_tests are also invalidated. (Note that this doesn't affect when CI runs since that's configured in Github Actions workflow configs) Co-authored-by: Nathan Hammond nathan.hammond@vercel.com"
466,Move Turborepo integration tests to their own workspace  (#4617),"This enables us to remove the bespoke turbo task to run these tests, and also reduces our dependency on Makefile. Further, we can extract the helpers into their own workspace after this and use them for examples_tests so we can wire up dependencies even more accurately The Turbo Way.",Move Turborepo integration tests to their own workspace  (#4617),"This enables us to remove the bespoke turbo task to run these tests, and also reduces our dependency on Makefile. Further, we can extract the helpers into their own workspace after this and use them for examples_tests so we can wire up dependencies even more accurately The Turbo Way."
467,Env var run summary data generation (#4529),This hoists the identification of environment mode much earlier in the process and captures the passthrough environment variables (hashed values included!) for run summary and --dry=json.,Env var run summary data generation (#4529),This hoists the identification of environment mode much earlier in the process and captures the passthrough environment variables (hashed values included!) for run summary and --dry=json.
468,Make ContainmentTree fully generic (#4620),"Description This turns the ContainmentTree struct into a fully generic data structure. The previous PR in this stack already made the chunks values generic, but this goes one step further by making the key type generic as well. Testing Instructions Unit test",Make ContainmentTree fully generic (#4620),"Description This turns the ContainmentTree struct into a fully generic data structure. The previous PR in this stack already made the chunks values generic, but this goes one step further by making the key type generic as well. Testing Instructions Unit test"
469,run benchmarks on windows and macOS too (#4624),Description Benchmark windows and macos in PRs too,run benchmarks on windows and macOS too (#4624),Description Benchmark windows and macos in PRs too
470,test(subset): add mdx test into subset (#4610),Description Now mdx-rs test should pass confidently.,test(subset): add mdx test into subset (#4610),Description Now mdx-rs test should pass confidently.
471,support require.context (#4399),fix WEB-535,support require.context (#4399),fix WEB-535
472,chore: delete unused npm lockfile impl in go (#4605),"Description Now that we've been shipping Go code that calls Rust for a bit and the Rust lockfile implementation hasn't seen any major issues, I feel comfortable deleting the unused Go NPM lockfile code. If issues to crop up, this code is just a git revert away. Testing Instructions Rust unit tests and integration tests.",chore: delete unused npm lockfile impl in go (#4605),"Description Now that we've been shipping Go code that calls Rust for a bit and the Rust lockfile implementation hasn't seen any major issues, I feel comfortable deleting the unused Go NPM lockfile code. If issues to crop up, this code is just a git revert away. Testing Instructions Rust unit tests and integration tests."
473,fix(tests): correct path in examples setup (#4626),,fix(tests): correct path in examples setup (#4626),
474,this vendors glob-match with unicode support (#4571),Description I have a PR open with glob-match to add unicode grapheme support. This PR vendors the dependency until that lands (https://github.com/devongovett/glob-match/pull/6) Testing Instructions cargo test    Give a quick description of steps to test your changes.   Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,this vendors glob-match with unicode support (#4571),Description I have a PR open with glob-match to add unicode grapheme support. This PR vendors the dependency until that lands (link) Testing Instructions cargo test Give a quick description of steps to test your changes. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
475,exclude turborepo from turbopack bench tests (#4623),Description avoid running benchmark tests for turborepo when testing turbopack,exclude turborepo from turbopack bench tests (#4623),Description avoid running benchmark tests for turborepo when testing turbopack
476,Chunking Context Refactor pt. 3: Address PR comments from pt. 2 (#4601),"See https://github.com/vercel/turbo/pull/4546 for the first attempt. This causes Next.js tests to fail. ~~Currently figuring out what's wrong.~~ This surfaced an existing issue in our chunk optimization logic, where chunks of different chunking contexts (SSR and RSC) would be merged together, leading to invalid module ids. link WEB-891",Chunking Context Refactor pt. 3: Address PR comments from pt. 2 (#4601),"See link for the first attempt. This causes Next.js tests to fail. ~~Currently figuring out what's wrong.~~ This surfaced an existing issue in our chunk optimization logic, where chunks of different chunking contexts (SSR and RSC) would be merged together, leading to invalid module ids. link WEB-891"
477,feat(contextcondition): support InPath contextcondition (#4521),"Description Attempt to close WEB-862. Currently turbopack in next-swc applies all of moduleoptionscontext into any kind of internal assets. Current available contextcondition (ContextCondition::InDirectory) does not gives enough context to determine where it comes from, makes non trivial to determine if given context need to be treated differently. ~I'm trying to workaround by supplying addtional context for the filesystemkind, and caller can use it for creating a new contextcondition. In case of turbopack, I assume any embedded assets in the binary won't be an external / user's. Next-swc will assign a new condition like https://github.com/vercel/next.js/compare/canary...client-context-embedded-fs#diff-92086db0c6bc192f76dab5d612a562df8fddffea05244c1c00d58e7288879e11R213-R214.~ ~Still bit unsure if this is a legit apporach or would be better way to go. PR is for the POC + further improvement based on the feedback.~ Per review suggestion, this PR now supports InPath(FileSystemVc) as new condition instead.",feat(contextcondition): support InPath contextcondition (#4521),"Description Attempt to close WEB-862. Currently turbopack in next-swc applies all of moduleoptionscontext into any kind of internal assets. Current available contextcondition (ContextCondition::InDirectory) does not gives enough context to determine where it comes from, makes non trivial to determine if given context need to be treated differently. ~I'm trying to workaround by supplying addtional context for the filesystemkind, and caller can use it for creating a new contextcondition. In case of turbopack, I assume any embedded assets in the binary won't be an external / user's. Next-swc will assign a new condition like link ~Still bit unsure if this is a legit apporach or would be better way to go. PR is for the POC + further improvement based on the feedback.~ Per review suggestion, this PR now supports InPath(FileSystemVc) as new condition instead."
478,Update swc_core to v0.75.22 (#4470),"Description This update includes an improvement of @swc/helpers, so we need to update @swc/helpers too when updating next-swc. Testing Instructions Fix WEB-744 Fix WEB-859   Fixes #2825. Fixes #4092.",Update swc_core to v0.75.22 (#4470),"Description This update includes an improvement of @swc/helpers, so we need to update @swc/helpers too when updating next-swc. Testing Instructions Fix WEB-744 Fix WEB-859 Fixes #2825. Fixes #4092."
479,Dummy -> placeholder for ^topo task in docs (#4613),"Description Rename ""dummy"" task to placeholder task in reference to ^topo Testing Instructions Verified preview: https://turbo-site-lcrn1urna.vercel.sh/repo/docs/core-concepts/monorepos/running-tasks#dependencies-outside-of-a-task",Dummy -> placeholder for ^topo task in docs (#4613),"Description Rename ""dummy"" task to placeholder task in reference to ^topo Testing Instructions Verified preview: link"
480,chore(turbo): stricter node engines (#4615),Description Support stricter node versions and package manager version to avoid things like https://github.com/vercel/turbo/pull/4461 This also adds a .node-version file to support automatic node version switching for those using https://github.com/Schniz/fnm (cc @Schniz!),chore(turbo): stricter node engines (#4615),Description Support stricter node versions and package manager version to avoid things like link This also adds a .node-version file to support automatic node version switching for those using link (cc @Schniz!)
481,release(turborepo): 1.9.3 (#4614),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.3 (#4614),Co-authored-by: Turbobot turbobot@vercel.com
482,"Revert ""fix(turborepo): SCM tests and renaming (#4462)"" (#4604)","Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  This reverts commit 1cbba8332911944489962bcde2155fd23f16d12a due to a bug in shallow cloned repositories Testing Instructions    Give a quick description of steps to test your changes.","Revert ""fix(turborepo): SCM tests and renaming (#4462)"" (#4604)","Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. This reverts commit 1cbba8332911944489962bcde2155fd23f16d12a due to a bug in shallow cloned repositories Testing Instructions Give a quick description of steps to test your changes."
483,release(turborepo): 1.9.2 (#4607),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.2 (#4607),Co-authored-by: Turbobot turbobot@vercel.com
484,fix(turbo-utils): package manager available (#4603),,fix(turbo-utils): package manager available (#4603),
485,Make find_up use os.ReadDir (#4599),,Make find_up use os.ReadDir (#4599),
486,release(turborepo): 1.9.2-canary.1 (#4602),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.2-canary.1 (#4602),Co-authored-by: Turbobot turbobot@vercel.com
487,add included metadata to chunks to allow deduplicate chunk loads at runtime (#4488),Description Chunk loading is now more than just a single chunk filepath. It might consist of additional metadata which tells the chunk loading logic the entry modules included in this chunk. This allows the runtime logic to avoid loading chunks when all entry modules are already loaded. This means loading the same chunk from multiple sources (with different available modules) will only trigger a single load and so avoids transferring more code than needed. This is especially relevant in app dir where every client component is considers as separate chunk loading. next.js: https://github.com/vercel/next.js/pull/48025,add included metadata to chunks to allow deduplicate chunk loads at runtime (#4488),Description Chunk loading is now more than just a single chunk filepath. It might consist of additional metadata which tells the chunk loading logic the entry modules included in this chunk. This allows the runtime logic to avoid loading chunks when all entry modules are already loaded. This means loading the same chunk from multiple sources (with different available modules) will only trigger a single load and so avoids transferring more code than needed. This is especially relevant in app dir where every client component is considers as separate chunk loading. next.js: link
488,"Revert ""Chunking Context Refactor pt. 3: Address PR comments from pt. 2"" (#4588)",Reverts vercel/turbo#4546,"Revert ""Chunking Context Refactor pt. 3: Address PR comments from pt. 2"" (#4588)",Reverts vercel/turbo#4546
489,fix: better support for pnpm aliases (#4555),"Description This is a follow up to #4541 that fixes the underlying issue. We now will attempt to return the extracted version instead of the full key when we encounter one. A quick explanation for how this happened is that when pnpm aliases are used the resolved version in the lockfile will be the full lockfile key instead of a version since the name won't match the specifier (e.g. ""foo: npm:bar@^1.0.0"" will have a version of /bar/1.0.0 instead of just 1.0.0). This is all fine unless an external dependency also depends on bar@1.0.0 then we get a dependency of Package{Key: ""/bar/1.0.0"", Version: ""1.0.0""} when going through the external dependency where we would get Package{Key: ""/bar/1.0.0"", Version: ""/bar/1.0.0""} going through the workspace with the alias. Testing Instructions Updated the unit test added in the initial PR to reflect that we're no longer getting a package with a version that's actually a lockfile key. This change also changes the test for pnpm overrides, but this change is more correct as we're now only returning the version. I also tested that the changes don't trigger the repro that was provided in #3638",fix: better support for pnpm aliases (#4555),"Description This is a follow up to #4541 that fixes the underlying issue. We now will attempt to return the extracted version instead of the full key when we encounter one. A quick explanation for how this happened is that when pnpm aliases are used the resolved version in the lockfile will be the full lockfile key instead of a version since the name won't match the specifier (e.g. ""foo: npm:bar@^1.0.0"" will have a version of /bar/1.0.0 instead of just 1.0.0). This is all fine unless an external dependency also depends on bar@1.0.0 then we get a dependency of Package{Key: ""/bar/1.0.0"", Version: ""1.0.0""} when going through the external dependency where we would get Package{Key: ""/bar/1.0.0"", Version: ""/bar/1.0.0""} going through the workspace with the alias. Testing Instructions Updated the unit test added in the initial PR to reflect that we're no longer getting a package with a version that's actually a lockfile key. This change also changes the test for pnpm overrides, but this change is more correct as we're now only returning the version. I also tested that the changes don't trigger the repro that was provided in #3638"
490,Chunking Context Refactor pt. 3: Address PR comments from pt. 2 (#4546),"Description This PR does two things, addressing related comments from https://github.com/vercel/turbo/pull/4450: 1. Replace ChunkReferenceVc and ParallelChunkReferenceVc with Chunk::parallel_chunks. 2. Moves all non-generic optimization logic out of turbopack-core and into turbopack-dev. These optimization methods are very specific to a development environment, and turbopack-build will have different ones. Testing Instructions Snapshots link WEB-891",Chunking Context Refactor pt. 3: Address PR comments from pt. 2 (#4546),"Description This PR does two things, addressing related comments from link: 1. Replace ChunkReferenceVc and ParallelChunkReferenceVc with Chunk::parallel_chunks. 2. Moves all non-generic optimization logic out of turbopack-core and into turbopack-dev. These optimization methods are very specific to a development environment, and turbopack-build will have different ones. Testing Instructions Snapshots link WEB-891"
491,remove circular dependency (#4580),Description rust-analyzer seem to be unhappy about this circular dependency and in fact we don't need this dependency anyway,remove circular dependency (#4580),Description rust-analyzer seem to be unhappy about this circular dependency and in fact we don't need this dependency anyway
492,ignore internal and server-relative url() in CSS (#4582),Description  ignore internal urls like url(#noiseFilter) ignore server-relative urls like url(/foo)  WEB-363,ignore internal and server-relative url() in CSS (#4582),Description ignore internal urls like url(#noiseFilter) ignore server-relative urls like url(/foo) WEB-363
493,make node bootstrap asset lazy (#4579),Description lazy creation of the chunk group to make walking introspection faster,make node bootstrap asset lazy (#4579),Description lazy creation of the chunk group to make walking introspection faster
494,allow to create stress test for client components (#4581),Description adds --leaf-client-components to the test app generator to make all leaf components client components and allow to stress test an app with many client components,allow to create stress test for client components (#4581),Description adds --leaf-client-components to the test app generator to make all leaf components client components and allow to stress test an app with many client components
495,improve node.js receive timeout (#4584),"Description move the timeout to the recv call, leaving infinite time for source map handling of the stdout. That might take longer to compile source maps. increase the timeout to 60s",improve node.js receive timeout (#4584),"Description move the timeout to the recv call, leaving infinite time for source map handling of the stdout. That might take longer to compile source maps. increase the timeout to 60s"
496,fix(create-turbo): prompt fix (#4586),,fix(create-turbo): prompt fix (#4586),
497,remove panic since this might happen due to eventual consistency (#4583),Description remove panic since this might happen due to eventual consistency,remove panic since this might happen due to eventual consistency (#4583),Description remove panic since this might happen due to eventual consistency
498,fixup bind v6 PR: add missing listen call (#4585),Description need to call listen() on the socket,fixup bind v6 PR: add missing listen call (#4585),Description need to call listen() on the socket
499,release(turborepo): 1.9.2-canary.0 (#4576),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.2-canary.0 (#4576),Co-authored-by: Turbobot turbobot@vercel.com
500,Print Run URL if there is one (#4562),,Print Run URL if there is one (#4562),
501,fix(create-turbo): correct package manager selection (#4574),,fix(create-turbo): correct package manager selection (#4574),
502,Bind to IPv6 and IPv4 (#4565),Description The std api doesn't allow to control the IPV6_ONLY flag for sockets and it defaults to true. But we want to bind to both IPv6 and IPv4.,Bind to IPv6 and IPv4 (#4565),Description The std api doesn't allow to control the IPV6_ONLY flag for sockets and it defaults to true. But we want to bind to both IPv6 and IPv4.
503,Delete a test fixture we don't need (#4558),,Delete a test fixture we don't need (#4558),
504,review follow ups (#4570),Description follow up from https://github.com/vercel/turbo/pull/4553,review follow ups (#4570),Description follow up from link
505,refactoring for standalone turbopack cli and benchmarking in turbo (#4553),Description  enable bench CI again add @vercel/turbopack-node alias to avoid duplicate IPC logic add turbopack-bench to share benchmarking logic add next.js --turbo to benchmark add turbopack-cli as standalone dev server move shared dev runtime code to turbopack-dev move .env loading to turbopack-env  fixes WEB-473 fixes WEB-429 fixes WEB-893 next.js: https://github.com/vercel/next.js/pull/48307,refactoring for standalone turbopack cli and benchmarking in turbo (#4553),Description enable bench CI again add @vercel/turbopack-node alias to avoid duplicate IPC logic add turbopack-bench to share benchmarking logic add next.js --turbo to benchmark add turbopack-cli as standalone dev server move shared dev runtime code to turbopack-dev move .env loading to turbopack-env fixes WEB-473 fixes WEB-429 fixes WEB-893 next.js: link
506,docs: add missing comma in turbo.json (#4557),,docs: add missing comma in turbo.json (#4557),
507,Include TimeSaved metric in Run Summaries (#4539),,Include TimeSaved metric in Run Summaries (#4539),
508,test(turborepo): Vercel API Mock Crate (#4533),Description Consolidates the ad-hoc Vercel API mocks that we have in a single crate that spins up a test server. Users are responsible for finding their own open port. Testing Instructions Existing link and login tests should cover this,test(turborepo): Vercel API Mock Crate (#4533),Description Consolidates the ad-hoc Vercel API mocks that we have in a single crate that spins up a test server. Users are responsible for finding their own open port. Testing Instructions Existing link and login tests should cover this
509,chore: Fix spelling (#4552),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",chore: Fix spelling (#4552),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
510,feat(turbopack): initial mdxRs next.config.js support (#4442),"Description Related with WEB-488. This PR enables mdxRs configuration option from next.config.js's experimental. When it is enabled, it allows to transform .md and .mdx with mdx compiler with inheriting any existing jsx transform options to align with other jsx components transform options. Currently while there are mdx / mdxRs config, both shares same transform (mdxrs). It may need to be either 1. consolidate options in next.config.js or 2. support js-based mdx correctly in turbopack, but something to consider later. Lastly, with Runtime::Classic unlike existing test cases in next.js this transform will fail with React is not defined runtime error. Manually adding import to react works, however it's unclear if turbopack supposed to auto-inject those importsource or not. For now, make minimal piece working first.",feat(turbopack): initial mdxRs next.config.js support (#4442),"Description Related with WEB-488. This PR enables mdxRs configuration option from next.config.js's experimental. When it is enabled, it allows to transform .md and .mdx with mdx compiler with inheriting any existing jsx transform options to align with other jsx components transform options. Currently while there are mdx / mdxRs config, both shares same transform (mdxrs). It may need to be either 1. consolidate options in next.config.js or 2. support js-based mdx correctly in turbopack, but something to consider later. Lastly, with Runtime::Classic unlike existing test cases in next.js this transform will fail with React is not defined runtime error. Manually adding import to react works, however it's unclear if turbopack supposed to auto-inject those importsource or not. For now, make minimal piece working first."
511,Update turbo-1-9-0.mdx (#4554),,Update turbo-1-9-0.mdx (#4554),
512,chore(turbo): consistent internal package names (#4550),,chore(turbo): consistent internal package names (#4550),
513,release(turborepo): 1.9.1 (#4551),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.1 (#4551),Co-authored-by: Turbobot turbobot@vercel.com
514,feat(ecmascript): support configurable styled component options (#4535),"Description WEB-670. This PR expands config options for the styled components transform. However this is not a full fix yet, there are some additional failures in the test case need further investigations.    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",feat(ecmascript): support configurable styled component options (#4535),"Description WEB-670. This PR expands config options for the styled components transform. However this is not a full fix yet, there are some additional failures in the test case need further investigations. ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
515,feat(ecmascript): support configurable emotion options (#4482),Reverts vercel/turbo#4481,feat(ecmascript): support configurable emotion options (#4482),Reverts vercel/turbo#4481
516,Save task duration correctly (#4540),"The bug is the tracer() updates duration every time you call it, and we hadn't called it after task execution. I'm adding a new state to get this timestamp. We cannot use TargetBuilt because we don't want to capture that state until after cache is saved, and, conversely, we don't want to include the time to save the cache in the task duration.",Save task duration correctly (#4540),"The bug is the tracer() updates duration every time you call it, and we hadn't called it after task execution. I'm adding a new state to get this timestamp. We cannot use TargetBuilt because we don't want to capture that state until after cache is saved, and, conversely, we don't want to include the time to save the cache in the task duration."
517,Use both key and version when sorting lockfile entries (#4541),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,Use both key and version when sorting lockfile entries (#4541),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
518,Update old testbed make target to fixture- for new fixtures layout (#4538),Description make fixture-<some directory under integration_tests/_fixtures> will populate the testbed directory with an initialized copy of the fixture. This is useful for pairing with the testbed task in launch.json to debug a particular integration test. Testing Instructions Verified manually,Update old testbed make target to fixture- for new fixtures layout (#4538),Description make fixture- will populate the testbed directory with an initialized copy of the fixture. This is useful for pairing with the testbed task in launch.json to debug a particular integration test. Testing Instructions Verified manually
519,Gather Run Summary even when tasks fail (#4524),,Gather Run Summary even when tasks fail (#4524),
520,Update data sent to vercel for runs (#4495), Add context and command when starting a Run Update data sent for Tasks Fix PATCH endpoint to mark Run as done Improve error propagation,Update data sent to vercel for runs (#4495),Add context and command when starting a Run Update data sent for Tasks Fix PATCH endpoint to mark Run as done Improve error propagation
521,fix(turborepo): SCM tests and renaming (#4462),"Description Added more testing to SCM and renamed variables to be more understandable (repo_root -> git_root, monorepo_root -> turbo_root) Testing Instructions Added tests on Rust side for deleting files and adding file to index.",fix(turborepo): SCM tests and renaming (#4462),"Description Added more testing to SCM and renamed variables to be more understandable (repo_root -> git_root, monorepo_root -> turbo_root) Testing Instructions Added tests on Rust side for deleting files and adding file to index."
522,chore(turborepo): Make rustls the default feature for turborepo-lib (#4537),"Description I got sick of getting the same ""no TLS feature"" error message, so decided to switch on rustls by default. Will need @vercel/web-tooling approval that we can do this Testing Instructions    Give a quick description of steps to test your changes.",chore(turborepo): Make rustls the default feature for turborepo-lib (#4537),"Description I got sick of getting the same ""no TLS feature"" error message, so decided to switch on rustls by default. Will need @vercel/web-tooling approval that we can do this Testing Instructions Give a quick description of steps to test your changes."
523,feat(docs): 1.9.0 blog post (#4532),,feat(docs): 1.9.0 blog post (#4532),
524,Documentation for Strict Environments (#4490),,Documentation for Strict Environments (#4490),
525,feat(examples): update READMEs for create-turbo (#4451),,feat(examples): update READMEs for create-turbo (#4451),
526,Document --summarize flag and include in Troubleshooting doc (#4467),,Document --summarize flag and include in Troubleshooting doc (#4467),
527,fix(docs): context menu wide screen (#4531),,fix(docs): context menu wide screen (#4531),
528,release(turborepo): 1.9.0 (#4534),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.0 (#4534),Co-authored-by: Turbobot turbobot@vercel.com
529,feat(summary): add taskId to single package task (#4530),,feat(summary): add taskId to single package task (#4530),
530,oldGlobalHash can be named (#4528),"We currently use an anonymous struct for the oldGlobalHash but that is unnecessary. The issue was that &foo{} and foo{} produce &-prefixed and non-&-prefixed outputs. No behavior change, existing tests confirm no regression.",oldGlobalHash can be named (#4528),"We currently use an anonymous struct for the oldGlobalHash but that is unnecessary. The issue was that &foo{} and foo{} produce &-prefixed and non-&-prefixed outputs. No behavior change, existing tests confirm no regression."
531,Chunking Refactor pt. 2 (#4450),"Description Next.js side: https://github.com/vercel/next.js/pull/47961 Previous episode: https://github.com/vercel/turbo/pull/4397 In this episode, we:  Get rid of ChunkGroupVc. ChunkGroupVc previously took care of:   a. optimizing chunks; b. adding additional chunks, such as the ""evaluate"" chunk, which evaluates runtime entries. Both of these use cases are a concern of the chunking context (i.e. it would differ between dev and build), hence they're now handled by the chunking context. Move the chunk list registration logic into a different chunk. The chunk list was previously a bit leaky as it required the Next.js code to instantiate it manually. There were also a bunch of other instantiations in the code which differed ever so slightly. The chunk list registration code is now part of a separate chunk, which is only added by the dev chunking context.  Testing Instructions Snapshots + Next dev tests + Manual tests fix WEB-822",Chunking Refactor pt. 2 (#4450),"Description Next.js side: link Previous episode: link In this episode, we: Get rid of ChunkGroupVc. ChunkGroupVc previously took care of:   a. optimizing chunks; b. adding additional chunks, such as the ""evaluate"" chunk, which evaluates runtime entries. Both of these use cases are a concern of the chunking context (i.e. it would differ between dev and build), hence they're now handled by the chunking context. Move the chunk list registration logic into a different chunk. The chunk list was previously a bit leaky as it required the Next.js code to instantiate it manually. There were also a bunch of other instantiations in the code which differed ever so slightly. The chunk list registration code is now part of a separate chunk, which is only added by the dev chunking context. Testing Instructions Snapshots + Next dev tests + Manual tests fix WEB-822"
532,Deprecate THASH. (#4526),"This PR deprecates the use of THASH for cache partitioning.  The search string is .*THASH.* and can match things like GITHASH. Inferring env var inclusion based upon arbitrary substring inclusion regardless of position is too broad. (Should have been ^THASH_.+.) Squatting on an env var string not scoped to ^TURBO_.+ is (at least) not polite to the rest of the ecosystem. Using this feature makes it more-difficult to share caches across machines and create reproducible builds. Residual THASH variables from earlier arbitrary configuration can unnecessarily partition the cache. The interaction between this feature and ""strict"" environment variable mode introduces complexity where a user can't easily reason about the behavior. Should the THASH variable be included into the global hash if unspecified? Should the THASH variable pushed into the execution environment?  The original goal of this feature is to be able to quickly and dynamically change the hash key for a run. I find that the implicit nature is anathema to our goals. Previous use cases and recommendations: - Compare cache artifacts across multiple runs: use run summary or --cache-dir. - Make sure everything runs: use --force. - SOMETHING_THASH=foo turbo run build is just a hardcoded env var. Add it to turbo.json under globalEnv instead.  Co-authored-by: Mehul Kar mehul.kar@vercel.com",Deprecate THASH. (#4526),"This PR deprecates the use of THASH for cache partitioning. The search string is .THASH. and can match things like GITHASH. Inferring env var inclusion based upon arbitrary substring inclusion regardless of position is too broad. (Should have been ^THASH_.+.) Squatting on an env var string not scoped to ^TURBO_.+ is (at least) not polite to the rest of the ecosystem. Using this feature makes it more-difficult to share caches across machines and create reproducible builds. Residual THASH variables from earlier arbitrary configuration can unnecessarily partition the cache. The interaction between this feature and ""strict"" environment variable mode introduces complexity where a user can't easily reason about the behavior. Should the THASH variable be included into the global hash if unspecified? Should the THASH variable pushed into the execution environment? The original goal of this feature is to be able to quickly and dynamically change the hash key for a run. I find that the implicit nature is anathema to our goals. Previous use cases and recommendations: - Compare cache artifacts across multiple runs: use run summary or --cache-dir. - Make sure everything runs: use --force. - SOMETHING_THASH=foo turbo run build is just a hardcoded env var. Add it to turbo.json under globalEnv instead. Co-authored-by: Mehul Kar mehul.kar@vercel.com"
533,Fix type in tests readme,,Fix type in tests readme,
534,Add more readme for integration tests (#4515),,Add more readme for integration tests (#4515),
535,feat(docs): platform context menu (#4500),Co-authored-by: John Pham johnphammail@gmail.com,feat(docs): platform context menu (#4500),Co-authored-by: John Pham johnphammail@gmail.com
536,release(turborepo): 1.9.0-canary.3 (#4523),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.0-canary.3 (#4523),Co-authored-by: Turbobot turbobot@vercel.com
537,fix: use ordered data structure for npm lockfile (#4516),Description Fixes #4510 by using BTreeMap instead of a HashMap so we have stable ordering of the package entries. Testing Instructions Setup a monorepo using NPM as a package manager. Run turbo prune --scope=web --out-dir=a && turbo prune --scope=web --out-dir=b && diff a/package-lock.json b/package-lock.json and expect a zero exit code.,fix: use ordered data structure for npm lockfile (#4516),Description Fixes #4510 by using BTreeMap instead of a HashMap so we have stable ordering of the package entries. Testing Instructions Setup a monorepo using NPM as a package manager. Run turbo prune --scope=web --out-dir=a && turbo prune --scope=web --out-dir=b && diff a/package-lock.json b/package-lock.json and expect a zero exit code.
538,chore: add turborepo-lockfiles to turborepo code owners (#4519),Description As noted in #4516 this crate needs to get tagged as being owned by @vercel/turbo-oss,chore: add turborepo-lockfiles to turborepo code owners (#4519),Description As noted in #4516 this crate needs to get tagged as being owned by @vercel/turbo-oss
539,Fix nissing packages key when there are no changes in a monorepo (#4518),,Fix nissing packages key when there are no changes in a monorepo (#4518),
540,fix(examples): with-rollup (#4514),,fix(examples): with-rollup (#4514),
541,Improve integration test setup (#4512),This reduces some of the duplication in our integration tests that we're getting by copy-pasting.  pulls out all the sample repos into a _fixtures directory merges most of the setup*.sh scripts into _helpers directory (barring a couple exceptions) Moved some *.t files around Added a README with how to use these tests,Improve integration test setup (#4512),This reduces some of the duplication in our integration tests that we're getting by copy-pasting. pulls out all the sample repos into a _fixtures directory merges most of the setup.sh scripts into _helpers directory (barring a couple exceptions) Moved some .t files around Added a README with how to use these tests
542,Remove unused constant (#4502),,Remove unused constant (#4502),
543,ci: Stop building Go code twice (#4501),"Description When we use the makefile, we build the Go code, then build the Rust code, but the Rust code in turn builds the Go code again. This PR stops that by removing go-turbo as a dependency of turbo in the Makefile. Instead we rely on the build.rs script to kick off compilation of the Go code. Testing Instructions Existing CI should test it. And hopefully be faster.",ci: Stop building Go code twice (#4501),"Description When we use the makefile, we build the Go code, then build the Rust code, but the Rust code in turn builds the Go code again. This PR stops that by removing go-turbo as a dependency of turbo in the Makefile. Instead we rely on the build.rs script to kick off compilation of the Go code. Testing Instructions Existing CI should test it. And hopefully be faster."
544,Fix plex.tv showcase url (#4427),,Fix plex.tv showcase url (#4427),
545,release(turborepo): 1.9.0-canary.2 (#4496),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.0-canary.2 (#4496),Co-authored-by: Turbobot turbobot@vercel.com
546,chore: Add profiles to cargo using aliases (#4479),Description Some of the cargo commands in test.yml were getting unwieldy. Plus it's useful to have a simple command to run for testing turborepo code versus turbopack code. Testing Instructions Existing test.yml code should verify that it works.,chore: Add profiles to cargo using aliases (#4479),Description Some of the cargo commands in test.yml were getting unwieldy. Plus it's useful to have a simple command to run for testing turborepo code versus turbopack code. Testing Instructions Existing test.yml code should verify that it works.
547,chore: update with-tailwind example (#4379),Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Alexander Lyon arlyon@me.com,chore: update with-tailwind example (#4379),Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Alexander Lyon arlyon@me.com
548,Experimental Feature: Strict Environments (#4449),"To provide a way to reduce information leakage into the task execution environment, add a strict mode for environment variable handling. This mode prevents passing non-enumerated variables to the subprocess of the task being executed. Co-authored-by: Mehul Kar mehul.kar@vercel.com",Experimental Feature: Strict Environments (#4449),"To provide a way to reduce information leakage into the task execution environment, add a strict mode for environment variable handling. This mode prevents passing non-enumerated variables to the subprocess of the task being executed. Co-authored-by: Mehul Kar mehul.kar@vercel.com"
549,chore: Remove release flag from turborepo-ffi build (#4478),"Description We build turborepo-ffi on release mode currently for our development. This slows down compilation speeds, so I switched us to dev mode. Testing Instructions Existing tests and CI should work.",chore: Remove release flag from turborepo-ffi build (#4478),"Description We build turborepo-ffi on release mode currently for our development. This slows down compilation speeds, so I switched us to dev mode. Testing Instructions Existing tests and CI should work."
550,port(turborepo): New Turbopath (#4439),"Description This is meant as a very very simple port of turbopath to Rust. It's basically the Go code but the Rust version. The goal here is to make something that works, and that we can extend with a little ChatGPT and copilot help. Testing Instructions There are doc tests on relevant functions and some regular tests too.",port(turborepo): New Turbopath (#4439),"Description This is meant as a very very simple port of turbopath to Rust. It's basically the Go code but the Rust version. The goal here is to make something that works, and that we can extend with a little ChatGPT and copilot help. Testing Instructions There are doc tests on relevant functions and some regular tests too."
551,chore: pipe through root package json to lockfile parsing (#4437),"Description In order to properly support prune support for the yarn resolutions field, we need to have access to the resolutions field when we construct the lockfile object. This PR simply adds the root package json as an argument to all lockfile parsing methods. Testing Instructions Existing unit and integration tests pass.",chore: pipe through root package json to lockfile parsing (#4437),"Description In order to properly support prune support for the yarn resolutions field, we need to have access to the resolutions field when we construct the lockfile object. This PR simply adds the root package json as an argument to all lockfile parsing methods. Testing Instructions Existing unit and integration tests pass."
552,chore(deps): update dependency csstype to v3.1.2 (#4484)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | csstype | 3.1.1 -> 3.1.2 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  frenic/csstype  ### [`v3.1.2`](https://togithub.com/frenic/csstype/compare/v3.1.1...v3.1.2)  [Compare Source](https://togithub.com/frenic/csstype/compare/v3.1.1...v3.1.2)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4yIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency csstype to v3.1.2 (#4484),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | csstype | 3.1.1 -> 3.1.2 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes frenic/csstype  module Compare Source Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4yIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
553,add ServerDirective transform which reports unsupported (#4477),"Description ""use server"" isn't supported yet, but we want to have an error message",add ServerDirective transform which reports unsupported (#4477),"Description ""use server"" isn't supported yet, but we want to have an error message"
554,Better dotenv error messages (#4464),"The issue message emitted by TryDotenvProcessEnv was pretty bad: Execution of TryDotenvProcessEnv::read_all failed. This error message comes from #3550, which attaches the calling function as the context for every failed turbo function. This PR accomplishes 2 main things: 1. Expose an explicit method determining whether a the DotenvEnvProcess's prior or current env failed 2. Detects a current env failure and uses the error's root cause for the issue message.  Fixes WEB-851 Tests: https://github.com/vercel/next.js/pull/47937",Better dotenv error messages (#4464),"The issue message emitted by TryDotenvProcessEnv was pretty bad: Execution of TryDotenvProcessEnv::read_all failed. This error message comes from #3550, which attaches the calling function as the context for every failed turbo function. This PR accomplishes 2 main things: 1. Expose an explicit method determining whether a the DotenvEnvProcess's prior or current env failed 2. Detects a current env failure and uses the error's root cause for the issue message. Fixes WEB-851 Tests: link"
555,Add ServerAddr::hostname method (#4485),We need to surround IPv6 addresses with square brackets in order to construct a URL.,Add ServerAddr::hostname method (#4485),We need to surround IPv6 addresses with square brackets in order to construct a URL.
556,fix: typos (#4472),,fix: typos (#4472),
557,Fix typos in example tsconfig' readme (#4486),,Fix typos in example tsconfig' readme (#4486),
558,"Revert ""feat(ecmascript): support configurable emotion options"" (#4481)",Reverts vercel/turbo#4458,"Revert ""feat(ecmascript): support configurable emotion options"" (#4481)",Reverts vercel/turbo#4458
559,fix CSS HMR for pages (#4480),Description link preload tags are also used and shouldn't be updated. Only select stylesheet link tags,fix CSS HMR for pages (#4480),Description link preload tags are also used and shouldn't be updated. Only select stylesheet link tags
560,refactor(turborepo): Factored out API Client crate (#4388),"Description Factored out the API client into a separate crate so that we can use the API client without importing all of turborepo-lib. Also makes turborepo-lib less monolithic.    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions  Co-authored-by: Mehul Kar mehul.kar@vercel.com",refactor(turborepo): Factored out API Client crate (#4388),"Description Factored out the API client into a separate crate so that we can use the API client without importing all of turborepo-lib. Also makes turborepo-lib less monolithic. ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Co-authored-by: Mehul Kar mehul.kar@vercel.com"
561,use error pretty printer for code gen errors (#4473),Description consistent formatting for this error message,use error pretty printer for code gen errors (#4473),Description consistent formatting for this error message
562,handle module evaluation errors in the runtime correctly (#4476),"Description Caches the module evaluation error try {   // when throwing on the first try   require(""module"") } catch {   // it should throw on the second try too   require(""module"") }",handle module evaluation errors in the runtime correctly (#4476),"Description Caches the module evaluation error try {   // when throwing on the first try   require(""module"") } catch {   // it should throw on the second try too   require(""module"") }"
563,handle module evaluation errors in the runtime correctly (#4476),"Description Caches the module evaluation error try {   // when throwing on the first try   require(""module"") } catch {   // it should throw on the second try too   require(""module"") }",handle module evaluation errors in the runtime correctly (#4476),"Description Caches the module evaluation error try {   // when throwing on the first try   require(""module"") } catch {   // it should throw on the second try too   require(""module"") }"
564,feat(ecmascript): support configurable emotion options (#4458),"Description Related with WEB-669. PR implements initial path to configuring emotion transforms. It doesn't fully implement all of the options values though -auto-label have different values between next.config.js to the swc's actual transform options, as well as importMap. These will be gradually follow up since it is not an immediate blocker for the feature itself.",feat(ecmascript): support configurable emotion options (#4458),"Description Related with WEB-669. PR implements initial path to configuring emotion transforms. It doesn't fully implement all of the options values though -auto-label have different values between next.config.js to the swc's actual transform options, as well as importMap. These will be gradually follow up since it is not an immediate blocker for the feature itself."
565,Add ServerAddr ip/port methods (#4471),"Description Two small methods that expose the ip/port of our ServerAddr. This is necessary for initializing the Next.js router, so that requests appear to be coming from the same correct for middleware requests. Testing Instructions",Add ServerAddr ip/port methods (#4471),"Description Two small methods that expose the ip/port of our ServerAddr. This is necessary for initializing the Next.js router, so that requests appear to be coming from the same correct for middleware requests. Testing Instructions"
566,release(turborepo): 1.9.0-canary.1 (#4463),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.9.0-canary.1 (#4463),Co-authored-by: Turbobot turbobot@vercel.com
567,fix(deps): update dependency got to v11 [security] (#4457)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | got | ^10.7.0 -> ^11.8.5 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. GitHub Vulnerability Alerts CVE-2022-33987 The got package before 11.8.5 and 12.1.0 for Node.js allows a redirect to a UNIX socket.  Release Notes  sindresorhus/got  ### [`v11.8.5`](https://togithub.com/sindresorhus/got/releases/tag/v11.8.5)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.8.3...v11.8.5)  - Backport security fix https://github.com/sindresorhus/got/commit/861ccd9ac2237df762a9e2beed7edd88c60782dc - [CVE-2022-33987](https://nvd.nist.gov/vuln/detail/CVE-2022-33987)  ### [`v11.8.3`](https://togithub.com/sindresorhus/got/releases/tag/v11.8.3)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.8.2...v11.8.3)  - Bump cacheable-request dependency ([#​1921](https://togithub.com/sindresorhus/got/issues/1921)) [`9463bb6`](https://togithub.com/sindresorhus/got/commit/9463bb6) - Fix `HTTPError` missing `.code` property ([#​1739](https://togithub.com/sindresorhus/got/issues/1739)) [`0e167b8`](https://togithub.com/sindresorhus/got/commit/0e167b8)  ### [`v11.8.2`](https://togithub.com/sindresorhus/got/releases/tag/v11.8.2)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.8.1...v11.8.2)  - Make the `dnsCache` option lazy ([#​1529](https://togithub.com/sindresorhus/got/issues/1529)) [`3bd245f`](https://togithub.com/sindresorhus/got/commit/3bd245f) This slightly improves Got startup performance and fixes an issue with Jest.  ### [`v11.8.1`](https://togithub.com/sindresorhus/got/releases/tag/v11.8.1)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.8.0...v11.8.1)  - Do not throw on custom stack traces ([#​1491](https://togithub.com/sindresorhus/got/issues/1491)) [`4c815c3`](https://togithub.com/sindresorhus/got/commit/4c815c3a609eb74d0eb139414d9996b4f65dc3c0)  ### [`v11.8.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.8.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.7.0...v11.8.0)  - Fix for sending files with size `0` on `stat` ([#​1488](https://togithub.com/sindresorhus/got/issues/1488)) [`7acd380`](https://togithub.com/sindresorhus/got/commit/7acd380) - `beforeRetry` allows stream body if different from original ([#​1501](https://togithub.com/sindresorhus/got/issues/1501)) [`3dd2273`](https://togithub.com/sindresorhus/got/commit/3dd2273) - Set default value for an options object ([#​1495](https://togithub.com/sindresorhus/got/issues/1495)) [`390b145`](https://togithub.com/sindresorhus/got/commit/390b145)  ### [`v11.7.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.7.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.6.2...v11.7.0)  ##### Improvements  - Add [`pfx`](https://togithub.com/sindresorhus/got#httpspfx) HTTPS option ([#​1364](https://togithub.com/sindresorhus/got/issues/1364)) [`c33df7f`](https://togithub.com/sindresorhus/got/commit/c33df7f) - Update `body` after `beforeRequest` ([#​1453](https://togithub.com/sindresorhus/got/issues/1453)) [`e1c1844`](https://togithub.com/sindresorhus/got/commit/e1c1844) - Don't allocate buffer twice ([#​1403](https://togithub.com/sindresorhus/got/issues/1403)) [`7bc69d9`](https://togithub.com/sindresorhus/got/commit/7bc69d9)  ##### Fixes  - Fix a regression where body was sent after redirect [`88b32ea`](https://togithub.com/sindresorhus/got/commit/88b32ea) - Fix destructure error on `promise.json()` [`c97ce7c`](https://togithub.com/sindresorhus/got/commit/c97ce7c) - Do not ignore userinfo on a redirect to the same origin [`52de13b`](https://togithub.com/sindresorhus/got/commit/52de13b)  ### [`v11.6.2`](https://togithub.com/sindresorhus/got/releases/tag/v11.6.2)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.6.1...v11.6.2)  ##### Bug fixes  - Inherit the `prefixUrl` option from parent if it's `undefined` ([#​1448](https://togithub.com/sindresorhus/got/issues/1448)) [`a3da70a`](https://togithub.com/sindresorhus/got/commit/a3da70a78aeb7f44dd3e0d0fa47cebe9541eb91e) - Prepare a fix for hanging promise on Node.js 14.10.x [`29d4e32`](https://togithub.com/sindresorhus/got/commit/29d4e325b110ccf7571d4265d40760be4175f7ff) - Prepare for Node.js 15.0.0 [`c126ff1`](https://togithub.com/sindresorhus/got/commit/c126ff19c4e893975cbf6c2c8bebce6ed7631276)  ##### Docs  - Point travis-ci.org badge to travis-ci.com ([#​1442](https://togithub.com/sindresorhus/got/issues/1442)) [`2b352d3`](https://togithub.com/sindresorhus/got/commit/2b352d3f9e216e116efc0249a3a78b8d4492f97c) - Clarify the retry mechanism [`f248618`](https://togithub.com/sindresorhus/got/commit/f2486180207dba30624901761a457694096441c1) - Fix `RequestError` links [`3ed4af6`](https://togithub.com/sindresorhus/got/commit/3ed4af605ca6493c080cc8003a55c3b37988efee)  ##### Tests  - Downgrade Travis CI Node.js version to 14.9.0 ([#​1454](https://togithub.com/sindresorhus/got/issues/1454)) [`27470b5`](https://togithub.com/sindresorhus/got/commit/27470b53e1bcd6f435fc77006c9e3e864961dbec)  ### [`v11.6.1`](https://togithub.com/sindresorhus/got/releases/tag/v11.6.1)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.6.0...v11.6.1)  ##### Fixes  - Fix `options.port` on redirect ([#​1439](https://togithub.com/sindresorhus/got/issues/1439)) [`408e22a`](https://togithub.com/sindresorhus/got/commit/408e22a)  ##### Meta  - Welcome [@​Giotino](https://togithub.com/Giotino) as a maintainer 🎉 [`5031843`](https://togithub.com/sindresorhus/got/commit/5031843) - Showcase companies using Got ([#​1432](https://togithub.com/sindresorhus/got/issues/1432)) [`d12d6af`](https://togithub.com/sindresorhus/got/commit/d12d6af)  ### [`v11.6.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.6.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.5.2...v11.6.0)  ##### Improvements  - Add `retry` stream event ([#​1384](https://togithub.com/sindresorhus/got/issues/1384)) [`7072198`](https://togithub.com/sindresorhus/got/commit/707219825b2f8ff3df597230a53244636df21642) - Add types for `http-cache-semantics` options [`2e2295f`](https://togithub.com/sindresorhus/got/commit/2e2295fba63c260d347fef2081cdbcae45fa6116) - Make `CancelError` inherit `RequestError` [`1f132e8`](https://togithub.com/sindresorhus/got/commit/1f132e88b4e9b295631637757d64307032a4e56e) - Add `retryAfter` to `RetryObject` [`643a305`](https://togithub.com/sindresorhus/got/commit/643a305b4d710042d2a958a21e7637183713505c) - Add documentation comments to exported TypeScript types ([#​1278](https://togithub.com/sindresorhus/got/issues/1278)) [`eaf1e02`](https://togithub.com/sindresorhus/got/commit/eaf1e02b21e4b8c08197c6400844d4098828ecf4) - Move cache options into a `cacheOptions` property [`9c16d90`](https://togithub.com/sindresorhus/got/commit/9c16d9083019fcb28f566659106036faa4839447)  ##### Bug fixes  - Got promise shouldn't retry when the body is a stream [`6e1aeae`](https://togithub.com/sindresorhus/got/commit/6e1aeaedb5dfe4f4b15eecf72a80303c30df22af)  ##### Docs  - Add an example of nock integration with retrying [`f7bbc37`](https://togithub.com/sindresorhus/got/commit/f7bbc3753779e14b22d7aa337764c7048aebb915) - Fix `CancelError` docs [`28c400f`](https://togithub.com/sindresorhus/got/commit/28c400f4df5f45990f80641a794a2d09439bef93) - Fix retry delay function in the `README` ([#​1425](https://togithub.com/sindresorhus/got/issues/1425)) [`38bbb04`](https://togithub.com/sindresorhus/got/commit/38bbb04ea24f01eed6f01e394bc3e9405df8cfc5)  ### [`v11.5.2`](https://togithub.com/sindresorhus/got/releases/tag/v11.5.2)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.5.1...v11.5.2)  ##### Docs  - Add hpagent to proxy section ([#​1363](https://togithub.com/sindresorhus/got/issues/1363)) [`a3e171c`](https://togithub.com/sindresorhus/got/commit/a3e171c4d43c8bbb236ef3a04feb25ba6fdf6c49) - Mention header lowercasing in`request` migration guide ([#​1387](https://togithub.com/sindresorhus/got/issues/1387)) [`a748343`](https://togithub.com/sindresorhus/got/commit/a748343363ecb0347897264fb49df4a8f4793997) - Fixed deprecationWarning on https options ([#​1391](https://togithub.com/sindresorhus/got/issues/1391)) [`9a309bd`](https://togithub.com/sindresorhus/got/commit/9a309bdbe7e2552c5bffbea253d58c39d6e6c3e3)  ##### Bug fixes  - Fix duplicated hooks when paginating [`e02845f`](https://togithub.com/sindresorhus/got/commit/e02845f1aa737d55dce23381d0f4f2a61b1eb5e1) - Fix `dnsCache: true` having no effect [`043c950`](https://togithub.com/sindresorhus/got/commit/043c9501b85172e09819d44ac8eb49c574b27bda)  ### [`v11.5.1`](https://togithub.com/sindresorhus/got/releases/tag/v11.5.1)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.5.0...v11.5.1)  ##### Enhancements  - Upgrade `http2-wrapper` to `1.0.0-beta.5.0` [`16e7f03`](https://togithub.com/sindresorhus/got/commit/16e7f031bb371571e1948091b88385be3485d83f) - Compatibility fix to ignore incorrect Node.js 12 typings [`f7a1379`](https://togithub.com/sindresorhus/got/commit/f7a1379e417641613bf1b654e37f37a7e6447e0c) [`61d6f61`](https://togithub.com/sindresorhus/got/commit/61d6f610ffa6b760d466ff910a8e959778ee36e0)  ##### Bug fixes  - Prevent uncaught errors on HTTP errors [`2d96679`](https://togithub.com/sindresorhus/got/commit/2d96679c0a007be657835e83c6afb20b4510e9c5) [`1ef053d`](https://togithub.com/sindresorhus/got/commit/1ef053d2af7f9b050ce0a3d1884f45b285f2e775)  ##### Docs  - Mention HTTP/2 proxying in `readme.md` [`4ebd26a`](https://togithub.com/sindresorhus/got/commit/4ebd26a4b8eef704fe216d333e2614b39dedf695) - Update the comparison table [`bd2d532`](https://togithub.com/sindresorhus/got/commit/bd2d53269882e48af88ff736a2e82aecd9e1fbee) [`c833939`](https://togithub.com/sindresorhus/got/commit/c83393933c2b308a312ed4dc85d852c79445e400) - Document the hierarchy of error classes ([#​1359](https://togithub.com/sindresorhus/got/issues/1359)) [`559526e`](https://togithub.com/sindresorhus/got/commit/559526ee273fb60d152759d288bc76971abb99e2) - Fix example code for HTTPS proxy ([#​1360](https://togithub.com/sindresorhus/got/issues/1360)) [`4083347`](https://togithub.com/sindresorhus/got/commit/408334756ace0570ca4a0aded5a8aeac437eac33)  ### [`v11.5.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.5.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.4.0...v11.5.0)  ##### Improvements  - Add `backoff` option to pagination ([#​1182](https://togithub.com/sindresorhus/got/issues/1182)) [`4be7446`](https://togithub.com/sindresorhus/got/commit/4be7446) - Upgrade dependencies ([#​1345](https://togithub.com/sindresorhus/got/issues/1345)) [`b9a855d`](https://togithub.com/sindresorhus/got/commit/b9a855d) [`476c026`](https://togithub.com/sindresorhus/got/commit/476c026) [`8d697bc`](https://togithub.com/sindresorhus/got/commit/8d697bc) - Upgrade to TypeScript 3.9 ([#​1267](https://togithub.com/sindresorhus/got/issues/1267)) [`b51d836`](https://togithub.com/sindresorhus/got/commit/b51d836)  ##### Fixes  - Fix TypeScript types for Promise API ([#​1344](https://togithub.com/sindresorhus/got/issues/1344)) [`676be6d`](https://togithub.com/sindresorhus/got/commit/676be6d) - Fix cache not working with HTTP2 [`ac5f67d`](https://togithub.com/sindresorhus/got/commit/ac5f67d) - Fix `response` event not being emitted on cache verify request ([#​1305](https://togithub.com/sindresorhus/got/issues/1305)) [`da4769e`](https://togithub.com/sindresorhus/got/commit/da4769e) - Work around a bug in Node.js <=12.18.2 [`f33e8bc`](https://togithub.com/sindresorhus/got/commit/f33e8bc) - Remove request error handler after response is downloaded [`e1afe82`](https://togithub.com/sindresorhus/got/commit/e1afe82) - Revert ""Remove request error handler after response is downloaded"" [`aeb2e07`](https://togithub.com/sindresorhus/got/commit/aeb2e07)  ##### Docs  - Mention advanced usage of a `beforeRequest` hook [`779062a`](https://togithub.com/sindresorhus/got/commit/779062a) - Mention to end the stream if there's no body [`044767e`](https://togithub.com/sindresorhus/got/commit/044767e)  ### [`v11.4.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.4.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.3.0...v11.4.0)  - Fix hanging promise on timeout on HTTP error [`934211f`](https://togithub.com/sindresorhus/got/commit/934211f951bfd56751e90ec4eabe6379d8541a05) - Use async iterators to get response body ([#​1256](https://togithub.com/sindresorhus/got/issues/1256)) [`7dcd145`](https://togithub.com/sindresorhus/got/commit/7dcd1456a68a2603d30cbb1a4e453c4560bd51b2) - Fix promise not returning Buffer on compressed response [`5028c11`](https://togithub.com/sindresorhus/got/commit/5028c11abd21c9d13bb3b12abb02961ec0465a8a) - Clarify options.encoding docs [`04f3ea4`](https://togithub.com/sindresorhus/got/commit/04f3ea4b7995e1609555dd13f00641b8f470de4c) - Fix unhandled `The server aborted pending request` rejection [`728aef9`](https://togithub.com/sindresorhus/got/commit/728aef989c1a6650d2b42a7f69b603075b5d35bf) - Add missing `ECONNRESET` code to an abort error [`d325d35`](https://togithub.com/sindresorhus/got/commit/d325d353a28e6038140aa5b18f2b6f9f796f10b6) - Fix `prefixUrl` not working when the `url` argument is empty [`8d3412a`](https://togithub.com/sindresorhus/got/commit/8d3412abb8aae3cefc75dd6f9e698988ed463dd6) - Improve the `searchParams` option [`4dbada9`](https://togithub.com/sindresorhus/got/commit/4dbada94e261ad890d2478c313ec3d74761b659e) - Fix non-enumerable options \[such as body] not being used [`8f775c7`](https://togithub.com/sindresorhus/got/commit/8f775c71c41a377186c6b38c6789542bfd523039)  ### [`v11.3.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.3.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.2.0...v11.3.0)  - Deep merge `https` options ([#​1304](https://togithub.com/sindresorhus/got/issues/1304)) [`c98f0d7`](https://togithub.com/sindresorhus/got/commit/c98f0d7) - Add options to customize [parsing/stringifying JSON](https://togithub.com/sindresorhus/got#parsejson) ([#​1298](https://togithub.com/sindresorhus/got/issues/1298)) [`cb4da8d`](https://togithub.com/sindresorhus/got/commit/cb4da8d) - Add [`dnsLookupIpVersion`](https://togithub.com/sindresorhus/got#dnslookupipversion) option ([#​1264](https://togithub.com/sindresorhus/got/issues/1264)) [`7f643bb`](https://togithub.com/sindresorhus/got/commit/7f643bb)  ### [`v11.2.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.2.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.1.4...v11.2.0)  - Provide an overload for unknown `responseType` ([#​1276](https://togithub.com/sindresorhus/got/issues/1276)) [`b9ba18a`](https://togithub.com/sindresorhus/got/commit/b9ba18a) - Fix overriding some options in a `beforeRequest` hook ([#​1293](https://togithub.com/sindresorhus/got/issues/1293)) [`d8c00cf`](https://togithub.com/sindresorhus/got/commit/d8c00cf) - Fix hanging promise on aborted requests on Node v14.3.0 ([#​1296](https://togithub.com/sindresorhus/got/issues/1296)) [`2ccc4c2`](https://togithub.com/sindresorhus/got/commit/2ccc4c2) - Do not wait for `ready` event if the file descriptor is already opened ([#​1289](https://togithub.com/sindresorhus/got/issues/1289)) [`2c8fe19`](https://togithub.com/sindresorhus/got/commit/2c8fe19) - General improvements to HTTPS API ([#​1255](https://togithub.com/sindresorhus/got/issues/1255)) [`697de37`](https://togithub.com/sindresorhus/got/commit/697de37)  ### [`v11.1.4`](https://togithub.com/sindresorhus/got/releases/tag/v11.1.4)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.1.3...v11.1.4)  - Clarify docs for got.HTTPError ([#​1244](https://togithub.com/sindresorhus/got/issues/1244)) [`3f125f1`](https://togithub.com/sindresorhus/got/commit/3f125f105e3b328942c04ef73579b1573fc39b5a) - Upgrade `cacheable-lookup` to 5.0.3 [`9770e54`](https://togithub.com/sindresorhus/got/commit/9770e540d088c35ec0b467fa3d2fafb60ed6797d) - Add a Runkit example ([#​1253](https://togithub.com/sindresorhus/got/issues/1253)) [`48bbb36`](https://togithub.com/sindresorhus/got/commit/48bbb369d715b8ec3c36e0af1ec88f47e2299172) - Mention `options.rejectUnauthorized` in the documentation [`9b04963`](https://togithub.com/sindresorhus/got/commit/9b049635570ebbdd9d534ad1860f01d34771a5ee) - Test `responseType` set to `undefined` [`0e8582f`](https://togithub.com/sindresorhus/got/commit/0e8582f24e6903d9079a7d92e9b4d831cb5b5f17) - Slightly improve RunKit example [`6f84051`](https://togithub.com/sindresorhus/got/commit/6f8405102517a1e61393ee7bdb5a4fcff08e64c5) - Make `got.paginate()` an alias for `got.paginate.each()` [`5480b31`](https://togithub.com/sindresorhus/got/commit/5480b3134cfd35497f618f08f574927c2bd7624b) - Don't force query string normalization ([#​1246](https://togithub.com/sindresorhus/got/issues/1246)) [`761b8e0`](https://togithub.com/sindresorhus/got/commit/761b8e01f7d194dd3b9aa6578c26966ebae6172c) - Upgrade `decompress-response` to `6.0.0` [`c2bc014`](https://togithub.com/sindresorhus/got/commit/c2bc014abc8818ad93dd69a0e8cc9d36d0dccb9c) - Migrate from `lolex` to `@sinonjs/fake-timers` ([#​1270](https://togithub.com/sindresorhus/got/issues/1270)) [`df333dd`](https://togithub.com/sindresorhus/got/commit/df333ddbc163e35537a9f49818e722c7aa6803c0) - Make `calculateDelay` promisable ([#​1266](https://togithub.com/sindresorhus/got/issues/1266)) [`3745efc`](https://togithub.com/sindresorhus/got/commit/3745efc9d9d03c78c898f357a34524524cce514d)  ### [`v11.1.3`](https://togithub.com/sindresorhus/got/releases/tag/v11.1.3)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.1.2...v11.1.3)  - Do not use deprecated `request.abort()` ([#​1242](https://togithub.com/sindresorhus/got/issues/1242)) [`ab338a7`](https://togithub.com/sindresorhus/got/commit/ab338a70dd9547a6c48af18ab5e2306639e5cbad) - Remove the `host` header on redirect ([#​1241](https://togithub.com/sindresorhus/got/issues/1241)) [`8ff71d9`](https://togithub.com/sindresorhus/got/commit/8ff71d972ae55700887b45d50a265e3659ac8cce) - Prevent URL pollution ([#​1243](https://togithub.com/sindresorhus/got/issues/1243)) [`7dbb9ee`](https://togithub.com/sindresorhus/got/commit/7dbb9ee2bd58e8ee67ebfe734e0c62e765759593) - Fix duplicated searchParams for pagination API ([#​1229](https://togithub.com/sindresorhus/got/issues/1229)) [`91aa0ac`](https://togithub.com/sindresorhus/got/commit/91aa0ac9e676130cd4cfc1183d16208c6167b31d) - Add a test for stringified `searchParams` in merge ([#​1208](https://togithub.com/sindresorhus/got/issues/1208)) [`7d7361c`](https://togithub.com/sindresorhus/got/commit/7d7361cc3845421f24288fc39464a8b38bd75d56) - Fix reusing options when paginating [`8862270`](https://togithub.com/sindresorhus/got/commit/88622701c70434ddc1040c46ad16de0c0acd9143) - Fix an invalid pagination test [`47c1afe`](https://togithub.com/sindresorhus/got/commit/47c1afedc77b27a2eb3edd85064d8532da835045) [`5131dc2`](https://togithub.com/sindresorhus/got/commit/5131dc2778a9b584acda062635a9458d5b22df0c)  ### [`v11.1.2`](https://togithub.com/sindresorhus/got/releases/tag/v11.1.2)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.1.1...v11.1.2)  ##### Bug fixes  - Disable `options.dnsCache` by default [`79507c2`](https://togithub.com/sindresorhus/got/commit/79507c2cdec137e65d715f36d13a5a0e577ddc01)  > This should stay disabled when making requests to internal hostnames such as localhost, database.local etc. > CacheableLookup uses dns.resolver4(..) and dns.resolver6(...) under the hood and fall backs to dns.lookup(...) when the first two fail, which may lead to additional delay.  ##### Enhancements  - Add test cases for issues [#​1221](https://togithub.com/sindresorhus/got/issues/1221) and [#​1223](https://togithub.com/sindresorhus/got/issues/1223) ([#​1231](https://togithub.com/sindresorhus/got/issues/1231)) [`822bfa7`](https://togithub.com/sindresorhus/got/commit/822bfa770306737a3ad06196101975b669b5d738) - Update dependencies [`05ff878`](https://togithub.com/sindresorhus/got/commit/05ff8780768d48fb58c782ba0b9c141af44a7c15)  ### [`v11.1.1`](https://togithub.com/sindresorhus/got/releases/tag/v11.1.1)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.1.0...v11.1.1)  - Improve Node.js 14 compatibility [`50ef99a`](https://togithub.com/sindresorhus/got/commit/50ef99a) - Fix `got.mergeOptions()` regression [`157e02b`](https://togithub.com/sindresorhus/got/commit/157e02b) - Fix hanging promise when using cache [`7b19e8f`](https://togithub.com/sindresorhus/got/commit/7b19e8f) - Make `options.responseType` optional when using a template [`9ed0a39`](https://togithub.com/sindresorhus/got/commit/9ed0a39)  ### [`v11.1.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.1.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.0.3...v11.1.0)  - Add [`pagination.stackAllItems`](https://togithub.com/sindresorhus/got#paginationstackallitems) option ([#​1214](https://togithub.com/sindresorhus/got/issues/1214)) [`c1208d1`](https://togithub.com/sindresorhus/got/commit/c1208d1) - Allow response body to be typed for pagination API ([#​1212](https://togithub.com/sindresorhus/got/issues/1212)) [`c127f5b`](https://togithub.com/sindresorhus/got/commit/c127f5b) - Fix some options not working with the pagination API [`278c421`](https://togithub.com/sindresorhus/got/commit/278c421)  ### [`v11.0.3`](https://togithub.com/sindresorhus/got/releases/tag/v11.0.3)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.0.2...v11.0.3)  ##### Fixes  - Limit number of requests in pagination to prevent accidental overflows ([#​1181](https://togithub.com/sindresorhus/got/issues/1181)) [`4344c3a`](https://togithub.com/sindresorhus/got/commit/4344c3a) - Fix promise rejecting before retry [`b927e2d`](https://togithub.com/sindresorhus/got/commit/b927e2d) - Fix `options.searchParams` duplicates [`429db40`](https://togithub.com/sindresorhus/got/commit/429db40) - Prevent calling `.abort()` on a destroyed request [`63c1b72`](https://togithub.com/sindresorhus/got/commit/63c1b72)  ##### Docs  - Fix incorrect usage in the readme examples ([#​1203](https://togithub.com/sindresorhus/got/issues/1203)) [`16ff82f`](https://togithub.com/sindresorhus/got/commit/16ff82f) - Note that `cache` and `dnsCache` can be `false` [`7c5290d`](https://togithub.com/sindresorhus/got/commit/7c5290d)  ### [`v11.0.2`](https://togithub.com/sindresorhus/got/releases/tag/v11.0.2)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.0.1...v11.0.2)  - Fix `response.statusMessage` being null [`965bd03`](https://togithub.com/sindresorhus/got/commit/965bd03ad463afb9fdbe098a48b16269b54de9bd) - Update the `http2-wrapper` dependency to `1.0.0-beta.4.4` [`4e8de8e`](https://togithub.com/sindresorhus/got/commit/4e8de8e32cccaafddf0c6ef4f31716810ab4a14b) - Use `Merge` as it's stricter than the intersection operator [`d3b972e`](https://togithub.com/sindresorhus/got/commit/d3b972efaca28d8033468c7232a469e8cb034677) - Prevent silent rejections in rare cases [`8501c69`](https://togithub.com/sindresorhus/got/commit/8501c6901af4f7c74cd0ae3700b499bb42ce5928) - Do not alter `options.body` [`835c70b`](https://togithub.com/sindresorhus/got/commit/835c70bd6fdc5b1ba7e7ffd322490b6d66fb407e)  ### [`v11.0.1`](https://togithub.com/sindresorhus/got/releases/tag/v11.0.1)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v11.0.0...v11.0.1)  Fixed two regressions:  - `HTTPError`s have unspecified response body ([#​1162](https://togithub.com/sindresorhus/got/issues/1162)) - Options are duplicated while merging ([#​1163](https://togithub.com/sindresorhus/got/issues/1163))  [Improved TypeScript types for errors inherited from `RequestError`](https://togithub.com/sindresorhus/got/commit/d914a7e7a0d97b03745b9b47623e4ac3532b4dae#diff-8eef38c70c64f535c3b8046b5ce40d9e)  ### [`v11.0.0`](https://togithub.com/sindresorhus/got/releases/tag/v11.0.0)  [Compare Source](https://togithub.com/sindresorhus/got/compare/v10.7.0...v11.0.0)  Introducing Got 11! :tada: The last major version was in December last year. :snowflake: Since then, a huge amount of bugs has been fixed. There are also many new features, for example, **HTTP2 support** is finally live! :globe_with_meridians:  *If you find Got useful, you might want to [sponsor the Got maintainers](https://togithub.com/sindresorhus/got?sponsor=1).*  ***  #### Breaking changes  ##### Removed support for `electron.net`  Due to the inconsistencies between the Electron's `net` module and the Node.js `http` module, we have decided to officially drop support for it. Therefore, the `useElectronNet` option has been removed.  You'll still be able to use Got in the Electron main process and in the renderer process through the `electron.remote` module or if you use Node.js shims.  ##### The Pagination API is now stable  We haven't seen any bugs yet, so please give it a try! If you want to leave some feedback, you can do it [here](https://togithub.com/sindresorhus/got/issues/1052). Any suggestion is greatly appreciated!  ```diff  { -    _pagination: {...} +    pagination: {...}  } ```  ##### API  - The `options.encoding` behavior has been reverted back to the Got 9 behavior.     In other words, the options is only meant for the Got promise API. To set the encoding for streams, simply call `stream.setEncoding(encoding)`.  ```diff -got.stream('https://sindresorhus.com', {encoding: 'base64'}); +got.stream('https://sindresorhus.com').setEncoding('base64');  // Promises stay untouched await got('https://sindresorhus.com', {encoding: 'base64'}); ```  - The error name `GotError` has been renamed to `RequestError` for better readability and to comply with the documentation.  ```diff -const {GotError} = require('got'); +const {RequestError} = require('got'); ```  - The `agent` option now accepts **only an object** with `http`, `https` and `http2` properties. While the `http` and `https` properties accept native `http(s).Agent` instances, the `http2` property must be an instance of [`http2wrapper.Agent`](https://togithub.com/szmarczak/http2-wrapper#new-http2agentoptions) or be undefined.  ```diff { -    agent: new https.Agent({keepAlive: true}) }  { +    agent: { +        http: new http.Agent({keepAlive: true}), +        https: new https.Agent({keepAlive: true}), +        http2: new http2wrapper.Agent() +    } } ```  - The `dnsCache` option is now set to a default instance of [`CacheableLookup`](https://togithub.com/szmarczak/cacheable-lookup). It cannot be a `Map`-like instance anymore. The underlying [`cacheable-lookup`](https://togithub.com/szmarczak/cacheable-lookup) package has received many improvements, for example, it has received `hosts` file support! Additionally, the `cacheAdapter` option has been renamed to `cache`. Note that it's no longer passed to [Keyv](https://togithub.com/lukechilds/keyv), so you need to pass a Keyv instance it if you want to save the data for later.  ```diff { -    dnsCache: new CacheableLookup({ -        cacheAdapter: new Map() -    }) }  { +    dnsCache: new CacheableLookup({ +        cache: new Keyv({ +            cacheAdapter: new Map() +        }) +    }) }  // Default:  {     dnsCache: new CacheableLookup() } ```  - Errors thrown in `init` hooks will be converted to instances of `RequestError`. `RequestError`s provide much more useful information, for example, you can access the Got options (through `error.options`), which is very useful when debugging.  ```js const got = require('got');  (async () => {     try {         await got('https://sindresorhus.com', {             hooks: {                 init: [                     options => {                         if (!options.context) {                             throw new Error('You need to pass a `context` option');                         }                     }                 ]             }         });     } catch (error) {         console.log(`Request failed: ${error.message}`);         console.log('Here are the options:', error.options);     } })(); ```  - The options passed in an `init` hook may not have a `url` property. To modify the request URL you should use a `beforeRequest` hook instead.  ```diff {     hooks: { -        init: [ +        beforeRequest: [             options => {                 options.url = 'https://sindresorhus.com';             }         ]     } } ```  Note that this example shows a simple use case. In more complicated algorithms, you need to split the `init` hook into another `init` hook and a `beforeRequest` hook.  - The `error.request` property is no longer a `ClientRequest` instance. Instead, it gives a Got stream, which provides a set of useful properties.  ```js const got = require('got');  (async () => {     try {         await got('https://sindresorhus.com/notfound');     } catch (error) {         console.log(`Request failed: ${error.message}`);         console.log('Download progress:', error.request.downloadProgress);     } })(); ```  ##### Renamed TypeScript types  Some of the TypeScript types have been renamed to improve the readability:    Old type New type   ResponseObject Response   Defaults InstanceDefaults   DefaultOptions Defaults   DefaultRetryOptions RequiredRetryOptions   GotOptions Options   GotRequestMethod GotRequestFunction    ##### Other  -   Now requires Node.js 10.19 or later.  #### Enhancements  HTTP2 support is here! Excited? Yay! Unfortunately, it's off by default to make the migration smoother. Many Got users have set up their own Agents and we didn't want to break them. But fear no more, it will come enabled by default in Got 12.  ```js const got = require('got');  (async () => {     const response = await got('https://nghttp2.org/httpbin/anything', {http2: true});     console.log(response.socket.alpnProtocol);     //=> 'h2' })(); ```  1. The `merge` function is slow ([#​1016](https://togithub.com/sindresorhus/got/issues/1016)) 2. Use `error.code` instead of `error.message` to compare errors ([#​981](https://togithub.com/sindresorhus/got/issues/981)) 3. Pass error thrown in the `init` hook to `beforeError` hook ([#​929](https://togithub.com/sindresorhus/got/issues/929)) 4. Errors have undefined body when using streams ([#​1138](https://togithub.com/sindresorhus/got/issues/1138)) 5. Spaces should be normalized as `+` in query strings ([#​1113](https://togithub.com/sindresorhus/got/issues/1113)) 6. Modify response headers while using `got.stream(...)` ([#​1129](https://togithub.com/sindresorhus/got/issues/1129)) 7. Make `error.request` a Got stream ([`af0b147`](https://togithub.com/sindresorhus/got/commit/af0b1472abf48a6c5491dcb36a1d8863c5227fb3)).  #### Known bugs  1. When some errors occur, the `timings` may indicate that the request was successful although it failed. 2. When some errors occur, the `downloadProgress` object may show incorrect data.  #### Bug fixes  1. Requests to UNIX sockets are missing query strings ([#​1036](https://togithub.com/sindresorhus/got/issues/1036)) 2. `beforeRequest` hooks aren't called on redirects ([#​994](https://togithub.com/sindresorhus/got/issues/994)) 3. Errors are swallowed when using `stream.pipeline(got.stream(...), ...)` ([#​1026](https://togithub.com/sindresorhus/got/issues/1026)) 4. Cannot use the `cache` along with the `body` option ([#​1021](https://togithub.com/sindresorhus/got/issues/1021)) 5. Got doesn't throw on leading slashes ([#​1057](https://togithub.com/sindresorhus/got/issues/1057)) 6. Got throws when passing already frozen options ([#​1050](https://togithub.com/sindresorhus/got/issues/1050)) 7. Cannot type Got options properly due to missing types ([#​954](https://togithub.com/sindresorhus/got/issues/954)) 8. `got.mergeOptions(...)` doesn't merge `URLSearchParams` instances ([#​1011](https://togithub.com/sindresorhus/got/issues/1011)) 9. The `authorization` header is leaking ([#​1090](https://togithub.com/sindresorhus/got/issues/1090)) 10. Pagination should ignore the `resolveBodyOnly` option ([#​1140](https://togithub.com/sindresorhus/got/issues/1140)) 11. Cannot reuse user-provided options ([#​1118](https://togithub.com/sindresorhus/got/issues/1118)) 12. Broken with Node.js ≥ 13.10.0 ([#​1107](https://togithub.com/sindresorhus/got/issues/1107)) 13. Cache is not decompressed ([#​1158](https://togithub.com/sindresorhus/got/issues/1158)) 14. `beforeRetry` hooks are missing `options.context` ([#​1141](https://togithub.com/sindresorhus/got/issues/1141)) 15. `promise.json()` doesn't throw `ParseError` ([#​1069](https://togithub.com/sindresorhus/got/issues/1069)) 16. Not compatible with `tough-cookie@4.0.0` ([#​1131](https://togithub.com/sindresorhus/got/issues/1131)) 17. Shortcuts give body from the failed request on token renewal ([#​1120](https://togithub.com/sindresorhus/got/issues/1120)) 18. No effect when replacing the `cache` option in a Got instance ([#​1098](https://togithub.com/sindresorhus/got/issues/1098)) 19. Memory leak when using `cache` ([#​1128](https://togithub.com/sindresorhus/got/issues/1128)) 20. Got doesn't throw on aborted requests by the server ([#​1096](https://togithub.com/sindresorhus/got/issues/1096))  #### All changes    Configuration 📅 Schedule: Branch creation - """" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",fix(deps): update dependency got to v11 [security] (#4457),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | got | ^10.7.0 -> ^11.8.5 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. GitHub Vulnerability Alerts CVE-2022-33987 The got package before 11.8.5 and 12.1.0 for Node.js allows a redirect to a UNIX socket. Release Notes sindresorhus/got  module Compare Source  Backport security fix link CVE-2022-33987   module Compare Source  Bump cacheable-request dependency (#​1921) module Fix module missing module property (#​1739) module   module Compare Source  Make the module option lazy (#​1529) module This slightly improves Got startup performance and fixes an issue with Jest.   module Compare Source  Do not throw on custom stack traces (#​1491) module   module Compare Source  Fix for sending files with size module on module (#​1488) module module allows stream body if different from original (#​1501) module Set default value for an options object (#​1495) module   module Compare Source Improvements  Add module HTTPS option (#​1364) module Update module after module (#​1453) module Don't allocate buffer twice (#​1403) module  Fixes  Fix a regression where body was sent after redirect module Fix destructure error on module module Do not ignore userinfo on a redirect to the same origin module   module Compare Source Bug fixes  Inherit the module option from parent if it's module (#​1448) module Prepare a fix for hanging promise on Node.js 14.10.x module Prepare for Node.js 15.0.0 module  Docs  Point travis-ci.org badge to travis-ci.com (#​1442) module Clarify the retry mechanism module Fix module links module  Tests  Downgrade Travis CI Node.js version to 14.9.0 (#​1454) module   module Compare Source Fixes  Fix module on redirect (#​1439) module  Meta  Welcome @​Giotino as a maintainer 🎉 module Showcase companies using Got (#​1432) module   module Compare Source Improvements  Add module stream event (#​1384) module Add types for module options module Make module inherit module module Add module to module module Add documentation comments to exported TypeScript types (#​1278) module Move cache options into a module property module  Bug fixes  Got promise shouldn't retry when the body is a stream module  Docs  Add an example of nock integration with retrying module Fix module docs module Fix retry delay function in the module (#​1425) module   module Compare Source Docs  Add hpagent to proxy section (#​1363) module Mention header lowercasing inmodule migration guide (#​1387) module Fixed deprecationWarning on https options (#​1391) module  Bug fixes  Fix duplicated hooks when paginating module Fix module having no effect module   module Compare Source Enhancements  Upgrade module to module module Compatibility fix to ignore incorrect Node.js 12 typings module module  Bug fixes  Prevent uncaught errors on HTTP errors module module  Docs  Mention HTTP/2 proxying in module module Update the comparison table module module Document the hierarchy of error classes (#​1359) module Fix example code for HTTPS proxy (#​1360) module   module Compare Source Improvements  Add module option to pagination (#​1182) module Upgrade dependencies (#​1345) module module module Upgrade to TypeScript 3.9 (#​1267) module  Fixes  Fix TypeScript types for Promise API (#​1344) module Fix cache not working with HTTP2 module Fix module event not being emitted on cache verify request (#​1305) module Work around a bug in Node.js <=12.18.2 module Remove request error handler after response is downloaded module Revert ""Remove request error handler after response is downloaded"" module  Docs  Mention advanced usage of a module hook module Mention to end the stream if there's no body module   module Compare Source  Fix hanging promise on timeout on HTTP error module Use async iterators to get response body (#​1256) module Fix promise not returning Buffer on compressed response module Clarify options.encoding docs module Fix unhandled module rejection module Add missing module code to an abort error module Fix module not working when the module argument is empty module Improve the module option module Fix non-enumerable options [such as body] not being used module   module Compare Source  Deep merge module options (#​1304) module Add options to customize parsing/stringifying JSON (#​1298) module Add module option (#​1264) module   module Compare Source  Provide an overload for unknown module (#​1276) module Fix overriding some options in a module hook (#​1293) module Fix hanging promise on aborted requests on Node v14.3.0 (#​1296) module Do not wait for module event if the file descriptor is already opened (#​1289) module General improvements to HTTPS API (#​1255) module   module Compare Source  Clarify docs for got.HTTPError (#​1244) module Upgrade module to 5.0.3 module Add a Runkit example (#​1253) module Mention module in the documentation module Test module set to module module Slightly improve RunKit example module Make module an alias for module module Don't force query string normalization (#​1246) module Upgrade module to module module Migrate from module to module (#​1270) module Make module promisable (#​1266) module   module Compare Source  Do not use deprecated module (#​1242) module Remove the module header on redirect (#​1241) module Prevent URL pollution (#​1243) module Fix duplicated searchParams for pagination API (#​1229) module Add a test for stringified module in merge (#​1208) module Fix reusing options when paginating module Fix an invalid pagination test module module   module Compare Source Bug fixes  Disable module by default module   This should stay disabled when making requests to internal hostnames such as localhost, database.local etc. CacheableLookup uses dns.resolver4(..) and dns.resolver6(...) under the hood and fall backs to dns.lookup(...) when the first two fail, which may lead to additional delay.  Enhancements  Add test cases for issues #​1221 and #​1223 (#​1231) module Update dependencies module   module Compare Source  Improve Node.js 14 compatibility module Fix module regression module Fix hanging promise when using cache module Make module optional when using a template module   module Compare Source  Add module option (#​1214) module Allow response body to be typed for pagination API (#​1212) module Fix some options not working with the pagination API module   module Compare Source Fixes  Limit number of requests in pagination to prevent accidental overflows (#​1181) module Fix promise rejecting before retry module Fix module duplicates module Prevent calling module on a destroyed request module  Docs  Fix incorrect usage in the readme examples (#​1203) module Note that module and module can be module module   module Compare Source  Fix module being null module Update the module dependency to module module Use module as it's stricter than the intersection operator module Prevent silent rejections in rare cases module Do not alter module module   module Compare Source Fixed two regressions:  modules have unspecified response body (#​1162) Options are duplicated while merging (#​1163)  Improved TypeScript types for errors inherited from module  module Compare Source Introducing Got 11! :tada: The last major version was in December last year. :snowflake: Since then, a huge amount of bugs has been fixed. There are also many new features, for example, HTTP2 support is finally live! :globe_with_meridians: If you find Got useful, you might want to sponsor the Got maintainers.  Breaking changes Removed support for module Due to the inconsistencies between the Electron's module module and the Node.js module module, we have decided to officially drop support for it. Therefore, the module option has been removed. You'll still be able to use Got in the Electron main process and in the renderer process through the module module or if you use Node.js shims. The Pagination API is now stable We haven't seen any bugs yet, so please give it a try! If you want to leave some feedback, you can do it here. Any suggestion is greatly appreciated! module API  The module behavior has been reverted back to the Got 9 behavior.     In other words, the options is only meant for the Got promise API. To set the encoding for streams, simply call module.  ```diff -got.stream('link', {encoding: 'base64'}); +got.stream('link'); // Promises stay untouched await got('link', {encoding: 'base64'}); ```  The error name module has been renamed to module for better readability and to comply with the documentation.  module  The module option now accepts only an object with module, module and module properties. While the module and module properties accept native module instances, the module property must be an instance of module or be undefined.  ```diff { -    agent: new https.Agent({keepAlive: true}) } { +    agent: { +        http: new http.Agent({keepAlive: true}), +        https: new https.Agent({keepAlive: true}), +        http2: new http2wrapper.Agent() +    } } ```  The module option is now set to a default instance of module. It cannot be a module-like instance anymore. The underlying module package has received many improvements, for example, it has received module file support! Additionally, the module option has been renamed to module. Note that it's no longer passed to Keyv, so you need to pass a Keyv instance it if you want to save the data for later.  ```diff { -    dnsCache: new CacheableLookup({ -        cacheAdapter: new Map() -    }) } { +    dnsCache: new CacheableLookup({ +        cache: new Keyv({ +            cacheAdapter: new Map() +        }) +    }) } // Default: {     dnsCache: new CacheableLookup() } ```  Errors thrown in module hooks will be converted to instances of module. modules provide much more useful information, for example, you can access the Got options (through module), which is very useful when debugging.  ```js const got = require('got'); (async () => {     try {         await got('link', {             hooks: {                 init: [                     options => {                         if (!options.context) {                             throw new Error('You need to pass a module option');                         }                     }                 ]             }         });     } catch (error) {         console.log(module);         console.log('Here are the options:', error.options);     } })(); ```  The options passed in an module hook may not have a module property. To modify the request URL you should use a module hook instead.  module Note that this example shows a simple use case. In more complicated algorithms, you need to split the module hook into another module hook and a module hook.  The module property is no longer a module instance. Instead, it gives a Got stream, which provides a set of useful properties.  ```js const got = require('got'); (async () => {     try {         await got('link');     } catch (error) {         console.log(module);         console.log('Download progress:', error.request.downloadProgress);     } })(); ``` Renamed TypeScript types Some of the TypeScript types have been renamed to improve the readability: Old type New type ResponseObject Response Defaults InstanceDefaults DefaultOptions Defaults DefaultRetryOptions RequiredRetryOptions GotOptions Options GotRequestMethod GotRequestFunction Other  Now requires Node.js 10.19 or later.  Enhancements HTTP2 support is here! Excited? Yay! Unfortunately, it's off by default to make the migration smoother. Many Got users have set up their own Agents and we didn't want to break them. But fear no more, it will come enabled by default in Got 12. ```js const got = require('got'); (async () => {     const response = await got('link', {http2: true});     console.log(response.socket.alpnProtocol);     //=> 'h2' })(); ```  The module function is slow (#​1016) Use module instead of module to compare errors (#​981) Pass error thrown in the module hook to module hook (#​929) Errors have undefined body when using streams (#​1138) Spaces should be normalized as module in query strings (#​1113) Modify response headers while using module (#​1129) Make module a Got stream (module).  Known bugs  When some errors occur, the module may indicate that the request was successful although it failed. When some errors occur, the module object may show incorrect data.  Bug fixes  Requests to UNIX sockets are missing query strings (#​1036) module hooks aren't called on redirects (#​994) Errors are swallowed when using module (#​1026) Cannot use the module along with the module option (#​1021) Got doesn't throw on leading slashes (#​1057) Got throws when passing already frozen options (#​1050) Cannot type Got options properly due to missing types (#​954) module doesn't merge module instances (#​1011) The module header is leaking (#​1090) Pagination should ignore the module option (#​1140) Cannot reuse user-provided options (#​1118) Broken with Node.js ≥ 13.10.0 (#​1107) Cache is not decompressed (#​1158) module hooks are missing module (#​1141) module doesn't throw module (#​1069) Not compatible with module (#​1131) Shortcuts give body from the failed request on token renewal (#​1120) No effect when replacing the module option in a Got instance (#​1098) Memory leak when using module (#​1128) Got doesn't throw on aborted requests by the server (#​1096)  All changes Configuration 📅 Schedule: Branch creation - """" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
568,ignore external chunks (#4475),Description these chunks need to be captured by e. g. with-client-chunks for include them into the HTML. They can't be handled in dynamic import. fixes WEB-858,ignore external chunks (#4475),Description these chunks need to be captured by e. g. with-client-chunks for include them into the HTML. They can't be handled in dynamic import. fixes WEB-858
569,avoid panic in EsmModuleItem (#4474),Description due to eventual consistency these errors might occur temporarily This change improve how they are handled and avoids panics here,avoid panic in EsmModuleItem (#4474),Description due to eventual consistency these errors might occur temporarily This change improve how they are handled and avoids panics here
570,Use pnpm in prepare script (#4466),"Corepack throws an error when running pnpm install from the root of the monorepo, because the prepare script is run when you run install. Corepack does not allow using npm, because the root of the monorepo has configured the packageManager to be pnpm.",Use pnpm in prepare script (#4466),"Corepack throws an error when running pnpm install from the root of the monorepo, because the prepare script is run when you run install. Corepack does not allow using npm, because the root of the monorepo has configured the packageManager to be pnpm."
571,test(turbopack): add one more test for flaky subsets (#4443),"Description This test is a tiny test suite recently fixed by WEB-667, we can include it in subset tests to verify flakyness.    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",test(turbopack): add one more test for flaky subsets (#4443),"Description This test is a tiny test suite recently fixed by WEB-667, we can include it in subset tests to verify flakyness. ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
572,Redirect all test output to /dev/null (#4460),,Redirect all test output to /dev/null (#4460),
573,fix(lockfile): correct lockfile version (#4461),,fix(lockfile): correct lockfile version (#4461),
574,ci(workflow): apply latest turbopack when build next-swc (#4424),"Description  closes WEB-763.  This PR expands current daily integration setup to apply local patch to the turbopack when build next-swc. This'll allow to run integartion against latest TOT where possible. Since we expect there are breaking changes makes incompatible build with next-* codes in next.js to the turbopack, workflow falls back to building normal next-swc with latest published turbopack if build fails for any reason. We do not have fine grained way to determine if build fails due to incompatiblity or other reason - simply falls back as soon as build fails. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",ci(workflow): apply latest turbopack when build next-swc (#4424),"Description closes WEB-763. This PR expands current daily integration setup to apply local patch to the turbopack when build next-swc. This'll allow to run integartion against latest TOT where possible. Since we expect there are breaking changes makes incompatible build with next-* codes in next.js to the turbopack, workflow falls back to building normal next-swc with latest published turbopack if build fails for any reason. We do not have fine grained way to determine if build fails due to incompatiblity or other reason - simply falls back as soon as build fails. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
575,fix(docs): correct peer dependency (#4455),,fix(docs): correct peer dependency (#4455),
576,chore(version): bump canary version (#4453),,chore(version): bump canary version (#4453),
577,Add a debugging section in our docs (#4423),Co-authored-by: Alexander Lyon arlyon@me.com,Add a debugging section in our docs (#4423),Co-authored-by: Alexander Lyon arlyon@me.com
578,ChunkingContext refactor pt. 1 (#4397),"Next.js side: https://github.com/vercel/next.js/pull/47693 Description This is part one of a larger ChunkingContext refactor. In this episode, we: 1. Move the runtime and evaluation code off of the entry JS chunk and into a dedicated chunk. This means that, within a chunk group, instead of having one chunk that contains modules + runtime code and chunks that only contain modules, we'll have chunks that only contain modules and one chunk that only contains runtime code. 2. Start a larger enterprise of differentiating between ""intermediate"" chunks (ChunkVcs), and ""output"" chunks (raw AssetVcs). Before, we used EcmascriptChunkVcs to represent both intermediate chunks that would never actually be created (optimized away) AND final chunks that would be served or written to disk. Now, EcmascriptChunkVcs are only intermediate assets, and DevEcmascriptChunkVcs are the final chunks. 3. Move a few modules from turbopack-core to turbopack-dev, as their existence (or the implementation) is only meaningful in a dev context (ChunkList and Manifest*, the latter of which depends on the chunk list for now). Things left to figure out: 1. What does the Chunk trait represent here? We no longer use .chunking_context(), and .path() is redundant with Asset::path. However, it no longer makes sense for Chunks to be Assets as their content is determined by the chunking context. Should we have two traits, one for intermediate chunks and one for output chunks? 2. Should EvalutatedEntryVc just be ChunkableAssetVc? We don't need all of the trait methods of either, just an ident and a way to convert to a chunk. The Chunk trait could look like this: rust trait Chunk {   fn ident(&self) -> IdentVc;   fn parallel_chunks(&self) -> ChunksVc;   fn references(&self) -> AssetReferencesVc; } Things that will happen in the next part(s): 1. The ChunkGroupVc::evaluated logic will move into turbopack-dev, as it doesn't make sense in a build context. This will essentially make ChunkGroupVc obsolete: the only thing we need it to do is to compute all parallel chunks, but I'm thinking this should be a method on the Chunk trait instead. Things I'll leave for future refactors: * Figure out the whole Input, Intermediate, and Output asset story. Testing Instructions Snapshots + Next integration tests fix WEB-815 (link)",ChunkingContext refactor pt. 1 (#4397),"Next.js side: link Description This is part one of a larger ChunkingContext refactor. In this episode, we: 1. Move the runtime and evaluation code off of the entry JS chunk and into a dedicated chunk. This means that, within a chunk group, instead of having one chunk that contains modules + runtime code and chunks that only contain modules, we'll have chunks that only contain modules and one chunk that only contains runtime code. 2. Start a larger enterprise of differentiating between ""intermediate"" chunks (ChunkVcs), and ""output"" chunks (raw AssetVcs). Before, we used EcmascriptChunkVcs to represent both intermediate chunks that would never actually be created (optimized away) AND final chunks that would be served or written to disk. Now, EcmascriptChunkVcs are only intermediate assets, and DevEcmascriptChunkVcs are the final chunks. 3. Move a few modules from turbopack-core to turbopack-dev, as their existence (or the implementation) is only meaningful in a dev context (ChunkList and Manifest*, the latter of which depends on the chunk list for now). Things left to figure out: 1. What does the Chunk trait represent here? We no longer use .chunking_context(), and .path() is redundant with Asset::path. However, it no longer makes sense for Chunks to be Assets as their content is determined by the chunking context. Should we have two traits, one for intermediate chunks and one for output chunks? 2. Should EvalutatedEntryVc just be ChunkableAssetVc? We don't need all of the trait methods of either, just an ident and a way to convert to a chunk. The Chunk trait could look like this: rust trait Chunk {   fn ident(&self) -> IdentVc;   fn parallel_chunks(&self) -> ChunksVc;   fn references(&self) -> AssetReferencesVc; } Things that will happen in the next part(s): 1. The ChunkGroupVc::evaluated logic will move into turbopack-dev, as it doesn't make sense in a build context. This will essentially make ChunkGroupVc obsolete: the only thing we need it to do is to compute all parallel chunks, but I'm thinking this should be a method on the Chunk trait instead. Things I'll leave for future refactors: * Figure out the whole Input, Intermediate, and Output asset story. Testing Instructions Snapshots + Next integration tests fix WEB-815 (link)"
579,feat(create-turbo): support examples (#4398),,feat(create-turbo): support examples (#4398),
580,mark resolve issues inside a try block as warnings (#4414),Description I also added source information to the resolve issues where possible fix WEB-633,mark resolve issues inside a try block as warnings (#4414),Description I also added source information to the resolve issues where possible fix WEB-633
581,fix HMR for streaming responses (#4446),Description this adds HMR support for streaming responses  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,fix HMR for streaming responses (#4446),Description this adds HMR support for streaming responses Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
582,make sure Node.js process closes when server disappears (#4448),Description avoid zombie node.js processes,make sure Node.js process closes when server disappears (#4448),Description avoid zombie node.js processes
583,allow to specific effect mode for creating test app (#4447),Description allow to pass effect mode to create-test-app CLI,allow to specific effect mode for creating test app (#4447),Description allow to pass effect mode to create-test-app CLI
584,Add sub-package info to environment-variables.mdx (#4406),"Add info about accessing root level .env file from sub-packages. Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.   Co-authored-by: Anthony Shew anthony.shew@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com",Add sub-package info to environment-variables.mdx (#4406),"Add info about accessing root level .env file from sub-packages. Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: Anthony Shew anthony.shew@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com"
585,release(turborepo): 1.8.9-canary.1 (#4440),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.9-canary.1 (#4440),Co-authored-by: Turbobot turbobot@vercel.com
586,chore(prettier): update and run (#4441),,chore(prettier): update and run (#4441),
587,Polish the shape of the Run Summary JSON (#4421),"Updates some of the key names and positions in the Run Summary Global  globalHashSummary -> globalCacheInputs globalHashSummary.globalCacheKey -> globalCacheInputs.rootKey globalHashSummary.pipeline -> globalCacheInputs.rootPipeline globalHashSummary.rootExternalDepsHash -> globalCacheInputs.hashOfExternalDependencies (matches task[].hashOfExternalDependencies)  Other root things  executionSummary -> execution (matches task[].execution)  Task Summary  cacheState -> cache expandedInputs -> inputs commandArguments -> cliArguments Remove execution.status (exitCode is enough, and ""cached"" status is already reflected in .cache key",Polish the shape of the Run Summary JSON (#4421),"Updates some of the key names and positions in the Run Summary Global globalHashSummary -> globalCacheInputs globalHashSummary.globalCacheKey -> globalCacheInputs.rootKey globalHashSummary.pipeline -> globalCacheInputs.rootPipeline globalHashSummary.rootExternalDepsHash -> globalCacheInputs.hashOfExternalDependencies (matches task[].hashOfExternalDependencies) Other root things executionSummary -> execution (matches task[].execution) Task Summary cacheState -> cache expandedInputs -> inputs commandArguments -> cliArguments Remove execution.status (exitCode is enough, and ""cached"" status is already reflected in .cache key"
588,fix(deps): update dependency node-fetch to v2.6.9 (#4426)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | node-fetch | 2.6.8 -> 2.6.9 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  node-fetch/node-fetch  ### [`v2.6.9`](https://togithub.com/node-fetch/node-fetch/releases/tag/v2.6.9)  [Compare Source](https://togithub.com/node-fetch/node-fetch/compare/v2.6.8...v2.6.9)  ##### Bug Fixes  - ""global is not defined"" ([#​1704](https://togithub.com/bitinn/node-fetch/issues/1704)) ([70f592d](https://togithub.com/bitinn/node-fetch/commit/70f592d9d2da959df1cebc2dd2314286a4bcf345))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMjIuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",fix(deps): update dependency node-fetch to v2.6.9 (#4426),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | node-fetch | 2.6.8 -> 2.6.9 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes node-fetch/node-fetch  module Compare Source Bug Fixes  ""global is not defined"" (#​1704) (70f592d)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMjIuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
589,chore(deps): update yarn to v1.22.19 (#4404)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | yarn | 1.22.17 -> 1.22.19 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  yarnpkg/yarn  ### [`v1.22.19`](https://togithub.com/yarnpkg/yarn/releases/tag/v1.22.19)  [Compare Source](https://togithub.com/yarnpkg/yarn/compare/v1.22.18...v1.22.19)  -   Adds compatibility with WebAuthn on the npm registry  ### [`v1.22.18`](https://togithub.com/yarnpkg/yarn/releases/tag/v1.22.18)  [Compare Source](https://togithub.com/yarnpkg/yarn/compare/v1.22.17...v1.22.18)  Node 17.7.0 had a regression in `url.resolve` which broke Yarn, causing network errors. This release fixes that, although the regression also got fixed on the Node side starting from 17.7.1, so as long as you keep your Node up-to-date it'll be fine.    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMjIuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update yarn to v1.22.19 (#4404),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | yarn | 1.22.17 -> 1.22.19 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes yarnpkg/yarn  module Compare Source  Adds compatibility with WebAuthn on the npm registry   module Compare Source Node 17.7.0 had a regression in module which broke Yarn, causing network errors. This release fixes that, although the regression also got fixed on the Node side starting from 17.7.1, so as long as you keep your Node up-to-date it'll be fine. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4yMi4xIiwidXBkYXRlZEluVmVyIjoiMzUuMjIuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
590,chore: removing signal forwarding test (#4436),"Description Removes test added in #4313 as we've had reports of it being flakey. This isn't too surprising as it it trying to do deterministic process orchestration through just a bash shell with heavy reliance on sleep. I hope to come back to this and fix it, but I don't want to pollute CI results in the meantime. I believe we aren't loosing too much with the removal of this test. The next time we need to be aware of signal forwarding will be when we port the engine into Rust and that should be very obvious as the Go code already has this logic. Testing Instructions N/A",chore: removing signal forwarding test (#4436),"Description Removes test added in #4313 as we've had reports of it being flakey. This isn't too surprising as it it trying to do deterministic process orchestration through just a bash shell with heavy reliance on sleep. I hope to come back to this and fix it, but I don't want to pollute CI results in the meantime. I believe we aren't loosing too much with the removal of this test. The next time we need to be aware of signal forwarding will be when we port the engine into Rust and that should be very obvious as the Go code already has this logic. Testing Instructions N/A"
591,use alias field for resolving module requests in packages (#4434),"Description e. g. ""browser"": { ""fs"": false, ""net"": ""./other.js"" } need to be handled Testing Instructions tests in next.js fix WEB-839",use alias field for resolving module requests in packages (#4434),"Description e. g. ""browser"": { ""fs"": false, ""net"": ""./other.js"" } need to be handled Testing Instructions tests in next.js fix WEB-839"
592,feature(turborepo): -F as filter shorthand (#4422),Description Closes #4417. Testing Instructions Added tests for parsing -F to CLI parser tests,feature(turborepo): -F as filter shorthand (#4422),Description Closes #4417. Testing Instructions Added tests for parsing -F to CLI parser tests
593,fix: update example lockfiles (#4321),"Description Update various lockfiles so that users who copy examples directly don't face unexpected breakages due to outdated lockfiles. Fixes #4316 (and I believe #4307) Testing Instructions As part of this PR, I changed the example tests so we run them using the lockfiles that are checked in. This should help us catch breakages due to old versions. I believe it will become increasingly important if we roll out @tknickman's new version of create-turbo that allows users to specify an example to use as a template as the template includes these lockfiles.",fix: update example lockfiles (#4321),"Description Update various lockfiles so that users who copy examples directly don't face unexpected breakages due to outdated lockfiles. Fixes #4316 (and I believe #4307) Testing Instructions As part of this PR, I changed the example tests so we run them using the lockfiles that are checked in. This should help us catch breakages due to old versions. I believe it will become increasingly important if we roll out @tknickman's new version of create-turbo that allows users to specify an example to use as a template as the template includes these lockfiles."
594,Use SharedError for body streaming (#4392),"Follow up to https://github.com/vercel/turbo/pull/4329, this removes BodyError (which was just a simple String and not an Error) and switches to SharedError. I've implemented a basic PartialEq and Serialization for SharedError so that it doesn't infect everything that uses Body.",Use SharedError for body streaming (#4392),"Follow up to link, this removes BodyError (which was just a simple String and not an Error) and switches to SharedError. I've implemented a basic PartialEq and Serialization for SharedError so that it doesn't infect everything that uses Body."
595,Enable the summarize flag in help output (#4418),Also use this flag everywhere unless explicitly testing with values of environment variables.,Enable the summarize flag in help output (#4418),Also use this flag everywhere unless explicitly testing with values of environment variables.
596,ci(workflow): run next-swc check with latest turbopack (#4400),Description This PR enables our next-swc check runs against with PR's change so we can verify if PR's change will break next-swc or not. Part of WEB-763.,ci(workflow): run next-swc check with latest turbopack (#4400),Description This PR enables our next-swc check runs against with PR's change so we can verify if PR's change will break next-swc or not. Part of WEB-763.
597,"remove process, make env a source asset (#4415)",Description To provide a full process polyfill:  We need to remove the process hack We need to make the ProcessEnvAsset a Source Asset instead of a Module Asset (we want to allow injecting the process polyfill. We need to pass source assets instead of module assets as runtime_entries and process them with the AssetContext   Co-authored-by: Justin Ridgewell justin@ridgewell.name,"remove process, make env a source asset (#4415)",Description To provide a full process polyfill: We need to remove the process hack We need to make the ProcessEnvAsset a Source Asset instead of a Module Asset (we want to allow injecting the process polyfill. We need to pass source assets instead of module assets as runtime_entries and process them with the AssetContext Co-authored-by: Justin Ridgewell justin@ridgewell.name
598,Make --summarize flag to work without a value (#4375),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,Make --summarize flag to work without a value (#4375),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
599,fix: delete libgit2 (#4419),,fix: delete libgit2 (#4419),
600,fix: use signal handler in shim (#4313),"Description I believe this fixes #3711 4196 added graceful shutting down when calling go-turbo, this does the same but for when we need to invoke the correct Rust binary in shim.rs. I extracted the logic added in #4196 to a function that can be used throughout the codebase. Testing Instructions Currently only doing manual via the reproduction provided in #3711. Edit: I originally wanted to add integration test to cover these cases, this has proven to be a challenge. Will still look at trying to orchestrate a test for this, but considering how much traction the related issues have, I don't want to block on getting an integration test.",fix: use signal handler in shim (#4313),"Description I believe this fixes #3711 4196 added graceful shutting down when calling go-turbo, this does the same but for when we need to invoke the correct Rust binary in shim.rs. I extracted the logic added in #4196 to a function that can be used throughout the codebase. Testing Instructions Currently only doing manual via the reproduction provided in #3711. Edit: I originally wanted to add integration test to cover these cases, this has proven to be a challenge. Will still look at trying to orchestrate a test for this, but considering how much traction the related issues have, I don't want to block on getting an integration test."
601,Account for canary versions in integration test for run summary (#4413),,Account for canary versions in integration test for run summary (#4413),
602,ignored modules yield empty objects insteaad of throwing (#4411),"Description require(""x"") where x is ignored should lead to an empty object fixes WEB-829  Co-authored-by: Justin Ridgewell justin@ridgewell.name",ignored modules yield empty objects insteaad of throwing (#4411),"Description require(""x"") where x is ignored should lead to an empty object fixes WEB-829 Co-authored-by: Justin Ridgewell justin@ridgewell.name"
603,release(turborepo): 1.8.9-canary.0 (#4410),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.9-canary.0 (#4410),Co-authored-by: Turbobot turbobot@vercel.com
604,Remove second run of integration tests (#4405),"In d322f50be, we changed the GO_TAG to Rust, and have had a few successful releases with it. We don't need to run tests with GO_TAG set to Go.",Remove second run of integration tests (#4405),"In d322f50be, we changed the GO_TAG to Rust, and have had a few successful releases with it. We don't need to run tests with GO_TAG set to Go."
605,chore(deps): update dependency nodemon to v2.0.22 (#4201)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | nodemon (source) | 2.0.20 -> 2.0.22 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  remy/nodemon  ### [`v2.0.22`](https://togithub.com/remy/nodemon/releases/tag/v2.0.22)  [Compare Source](https://togithub.com/remy/nodemon/compare/v2.0.21...v2.0.22)  ##### Bug Fixes  - remove ts mapping if loader present ([f7816e4](https://togithub.com/remy/nodemon/commit/f7816e445b61e77dd57d5c9ccf5fa0be4f9b18a7)), closes [#​2083](https://togithub.com/remy/nodemon/issues/2083)  ### [`v2.0.21`](https://togithub.com/remy/nodemon/releases/tag/v2.0.21)  [Compare Source](https://togithub.com/remy/nodemon/compare/v2.0.20...v2.0.21)  ##### Bug Fixes  - remove ts mapping if loader present ([1468397](https://togithub.com/remy/nodemon/commit/146839711be58995f88723b29de3007de87d6c3a)), closes [#​2083](https://togithub.com/remy/nodemon/issues/2083)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNjAuMCIsInVwZGF0ZWRJblZlciI6IjM1LjIyLjEifQ== Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency nodemon to v2.0.22 (#4201),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | nodemon (source) | 2.0.20 -> 2.0.22 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes remy/nodemon module Compare Source Bug Fixes  remove ts mapping if loader present (f7816e4), closes #​2083  module Compare Source Bug Fixes  remove ts mapping if loader present (1468397), closes #​2083  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNjAuMCIsInVwZGF0ZWRJblZlciI6IjM1LjIyLjEifQ== Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
606,Remove executionSummary from dry run json (#4394),,Remove executionSummary from dry run json (#4394),
607,Add cache state to task summaries on real runs (2nd try) (#4393),"This commit threads the itemStatus struct all the way down to execContext.exec() so we can include it in the run summaries. This is  a re-implementation of 883d6d4d9f212998869623c25712b5aa3e230871 which had a crucial bug where RestoreOutputs would report a cache hit, but then return a cache miss value, so the caller (execContext.exec()) would continue executing as if there were a cache miss.",Add cache state to task summaries on real runs (2nd try) (#4393),"This commit threads the itemStatus struct all the way down to execContext.exec() so we can include it in the run summaries. This is  a re-implementation of 883d6d4d9f212998869623c25712b5aa3e230871 which had a crucial bug where RestoreOutputs would report a cache hit, but then return a cache miss value, so the caller (execContext.exec()) would continue executing as if there were a cache miss."
608,Make Run Summaries work for Single Package repos (#4387),"Instead of maintaining separate structs for the Single Package case, this PR mutates the RunSummary when it's formatting it for use. Since isSinglePackage doesn't change during a run, we don't need to worry about operating on an Run Summary in different states.",Make Run Summaries work for Single Package repos (#4387),"Instead of maintaining separate structs for the Single Package case, this PR mutates the RunSummary when it's formatting it for use. Since isSinglePackage doesn't change during a run, we don't need to worry about operating on an Run Summary in different states."
609,Refactor Dry Run so that output is printed by Run Summaries (#4403),The goal is to make RunSummary responsible for all the JSON and text and saved-to-disk versions of what happened in a Run via the .Close() method. This commit incorporates DryRun output into this mold. Specifically:  Pass all of RunOpts to RunSummary.     Many of the pieces were being passed in already and this work need     the dry run flag also. Moves runOpts into the util package to avoid circular     imports. Use .Close() to print dry run output Refactor DryRun execution to look more like Real Run.,Refactor Dry Run so that output is printed by Run Summaries (#4403),The goal is to make RunSummary responsible for all the JSON and text and saved-to-disk versions of what happened in a Run via the .Close() method. This commit incorporates DryRun output into this mold. Specifically: Pass all of RunOpts to RunSummary.     Many of the pieces were being passed in already and this work need     the dry run flag also. Moves runOpts into the util package to avoid circular     imports. Use .Close() to print dry run output Refactor DryRun execution to look more like Real Run.
610,Remove unused params in real run functions (#4402),,Remove unused params in real run functions (#4402),
611,ci(workflow): run tests with napi bindings (#4386),"Description  Closes WEB-810.  This PR replaces CI workflow setup to use next-swc, instead of next-dev. Necessary setups are adjusted to trigger test with specified binary as well. Still, we don't apply latest turbopack changes into next-swc when running tests. In results, per daily we'll run whatever the latest turbopack release we have in next-swc. If next-swc have own changes in next-*, it'll be reflected.",ci(workflow): run tests with napi bindings (#4386),"Description Closes WEB-810. This PR replaces CI workflow setup to use next-swc, instead of next-dev. Necessary setups are adjusted to trigger test with specified binary as well. Still, we don't apply latest turbopack changes into next-swc when running tests. In results, per daily we'll run whatever the latest turbopack release we have in next-swc. If next-swc have own changes in next-*, it'll be reflected."
612,release(turborepo): 1.8.8 (#4391),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.8 (#4391),Co-authored-by: Turbobot turbobot@vercel.com
613,Log the location of the summary file in the execution summary (#4385),,Log the location of the summary file in the execution summary (#4385),
614,Implement Streaming Static/Proxy Rendering (#4329),"Description Implements streaming rendering for static/proxy renders (I don't know why they're called static or proxy…) using an initial Headers message, N BodyChunk messages, and a final BodyEnd message. Updating proxy rendering was very easy. It already implemented separate messages for header and body, but it buffered the full body before sending the full contents. But static rendering was a little more difficult, it has multiple paths that are immediately ready with a full body that I didn't want to break apart. So I kept the Response message for a full response that transforms into a ContentSourceContent::Static, and implemented a new enum type for streaming responses into a ContentSourceContent::HttpProxy. These is some weirdness with different data types on the headers field of a ContentSourceContent::Static's StaticContent and a ContentSourceContent::HttpProxy's ProxyResultVc. One is a HeaderListVc and the other is a Vec<(String, String)> (and really should be a HeadersList), but I'm leaving this for a follow up. Testing Instructions Paired Next.js PR: https://github.com/vercel/next.js/pull/47476 Re: WEB-27",Implement Streaming Static/Proxy Rendering (#4329),"Description Implements streaming rendering for static/proxy renders (I don't know why they're called static or proxy…) using an initial Headers message, N BodyChunk messages, and a final BodyEnd message. Updating proxy rendering was very easy. It already implemented separate messages for header and body, but it buffered the full body before sending the full contents. But static rendering was a little more difficult, it has multiple paths that are immediately ready with a full body that I didn't want to break apart. So I kept the Response message for a full response that transforms into a ContentSourceContent::Static, and implemented a new enum type for streaming responses into a ContentSourceContent::HttpProxy. These is some weirdness with different data types on the headers field of a ContentSourceContent::Static's StaticContent and a ContentSourceContent::HttpProxy's ProxyResultVc. One is a HeaderListVc and the other is a Vec<(String, String)> (and really should be a HeadersList), but I'm leaving this for a follow up. Testing Instructions Paired Next.js PR: link Re: WEB-27"
615,"Revert ""Add cache state to task summaries on real runs"" (#4390)",Reverts vercel/turbo#4225 Fixes https://github.com/vercel/turbo/issues/4389,"Revert ""Add cache state to task summaries on real runs"" (#4390)",Reverts vercel/turbo#4225 Fixes link
616,Make attempted include tasks that started but didn't finish (#4378),"The purpose of this is to  account for tasks that somehow don't hit the tracer() function and get marked as done by the time the whole run is done. This is very unlikely. account for new states we may want to add makes attempted more semantically correct. If we started, there was an attempt! It doesn't matter what state we ended up in.",Make attempted include tasks that started but didn't finish (#4378),"The purpose of this is to account for tasks that somehow don't hit the tracer() function and get marked as done by the time the whole run is done. This is very unlikely. account for new states we may want to add makes attempted more semantically correct. If we started, there was an attempt! It doesn't matter what state we ended up in."
617,chore(deps): update dependency tsx to v3.12.6 (#4328)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tsx | 3.12.5 -> 3.12.6 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  esbuild-kit/tsx  ### [`v3.12.6`](https://togithub.com/esbuild-kit/tsx/releases/tag/v3.12.6)  [Compare Source](https://togithub.com/esbuild-kit/tsx/compare/v3.12.5...v3.12.6)  ##### Bug Fixes  - **repl:** suppress autocomplete transformation errors ([#​205](https://togithub.com/esbuild-kit/tsx/issues/205)) ([8e1958d](https://togithub.com/esbuild-kit/tsx/commit/8e1958db41addf52bbe10505099b9e8ed223e62c))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4xNy4xIiwidXBkYXRlZEluVmVyIjoiMzUuMTcuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency tsx to v3.12.6 (#4328),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tsx | 3.12.5 -> 3.12.6 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes esbuild-kit/tsx  module Compare Source Bug Fixes  repl: suppress autocomplete transformation errors (#​205) (8e1958d)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4xNy4xIiwidXBkYXRlZEluVmVyIjoiMzUuMTcuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
618,feat(place patches in json folder when pruning for docker) (#4318),Description Implements #4289 Using the --docker flag with prune produces a full and json directory where the json directory only includes everything required to install dependencies. If a dependency is patched it makes sense to include the patch in the json directory as both the package.json and the lockfile reference the patch file. Testing Instructions Added an integration test to verify that patches end up in the json output folder.,feat(place patches in json folder when pruning for docker) (#4318),Description Implements #4289 Using the --docker flag with prune produces a full and json directory where the json directory only includes everything required to install dependencies. If a dependency is patched it makes sense to include the patch in the json directory as both the package.json and the lockfile reference the patch file. Testing Instructions Added an integration test to verify that patches end up in the json output folder.
619,release(turborepo): 1.8.7 (#4382),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.7 (#4382),Co-authored-by: Turbobot turbobot@vercel.com
620,allow to alias free vars to modules (#4368),"Description Allows to e. g. alias Buffer to import { Buffer } from ""node:buffer"" Basically implements the webpack ProvidePlugin Testing Instructions Tests added in next.js PR",allow to alias free vars to modules (#4368),"Description Allows to e. g. alias Buffer to import { Buffer } from ""node:buffer"" Basically implements the webpack ProvidePlugin Testing Instructions Tests added in next.js PR"
621,ci(workflow): run integration subset daily (#4367),"Description  closes WEB-803  This PR expands current daily integration to have one more job, that runs only known set of files. We'll use this to measure if Turbopack starts to flaky or not over time. Currently it contains just a few set of files.",ci(workflow): run integration subset daily (#4367),"Description closes WEB-803 This PR expands current daily integration to have one more job, that runs only known set of files. We'll use this to measure if Turbopack starts to flaky or not over time. Currently it contains just a few set of files."
622,Increase timeout length for e2e tests (#4374),"We're regularly seeing e2e tests time out especially in Windows. Doubling the timeout length, even though the real fix here is to make them faster. The bulk of the time is compiling turborepo / ffi, so moving more quickly towards full Rust port will alleviate these pains.",Increase timeout length for e2e tests (#4374),"We're regularly seeing e2e tests time out especially in Windows. Doubling the timeout length, even though the real fix here is to make them faster. The bulk of the time is compiling turborepo / ffi, so moving more quickly towards full Rust port will alleviate these pains."
623,release(turborepo): 1.8.7-canary.1 (#4376),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.7-canary.1 (#4376),Co-authored-by: Turbobot turbobot@vercel.com
624,Add --summarize flag and move env var read to Rust (#4364),This commit also sets up clap with the env feature so we have some uniform handling of flags and env vars.  Co-authored-by: Mehul Kar mehul.kar@vercel.com,Add --summarize flag and move env var read to Rust (#4364),This commit also sets up clap with the env feature so we have some uniform handling of flags and env vars. Co-authored-by: Mehul Kar mehul.kar@vercel.com
625,Update Done payload for Vercel Runs (#4371),Adds endTime and parent exitCode,Update Done payload for Vercel Runs (#4371),Adds endTime and parent exitCode
626,release(turborepo): 1.8.7-canary.0 (#4372),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.7-canary.0 (#4372),Co-authored-by: Turbobot turbobot@vercel.com
627,fix: correctly deserialize npm packages in lockfile (#4370),Description Fixes #4365 1.8.6 was our first release with the Rust npm lockfile implementation. It wasn't correctly deserializing optionalDependencies so they were ending up in the other field which isn't used for lockfile analysis. Testing Instructions Added failing unit test. Can also verify that pruning a project that depends on turbo now includes all of the possible binaries. fix WEB-806 (link),fix: correctly deserialize npm packages in lockfile (#4370),Description Fixes #4365 1.8.6 was our first release with the Rust npm lockfile implementation. It wasn't correctly deserializing optionalDependencies so they were ending up in the other field which isn't used for lockfile analysis. Testing Instructions Added failing unit test. Can also verify that pruning a project that depends on turbo now includes all of the possible binaries. fix WEB-806 (link)
628,"Revert ""correctly deserialize packages""",This reverts commit 09e0dfbed36b4fa72e1f3246d6dd8800fff02e21.,"Revert ""correctly deserialize packages""",This reverts commit 09e0dfbed36b4fa72e1f3246d6dd8800fff02e21.
629,correctly deserialize packages,,correctly deserialize packages,
630,Add cache state to task summaries on real runs (#4225),This commit threads the itemStatus struct all the way down to execContext.exec() so we can include it in the run summaries.,Add cache state to task summaries on real runs (#4225),This commit threads the itemStatus struct all the way down to execContext.exec() so we can include it in the run summaries.
631,release(turborepo): 1.8.6 (#4357),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.6 (#4357),Co-authored-by: Turbobot turbobot@vercel.com
632,better turbopack-node rendering error page (#4366),Now looks like this:  fix WEB-808 (link) (link) fix WEB-790 (link),better turbopack-node rendering error page (#4366),Now looks like this: fix WEB-808 (link) (link) fix WEB-790 (link)
633,"ci(workflow): enable daily next.js tests, report build failures (#4346)","Description  closes WEB-762  This PR reenables daily, next.js integration test and also additionally verifies if turbopack change can build with next-swc, then report it as command. It is not fully ready since we have to apply local patch - I need to prepare separate PR for those. Since it is expected we can sometimes break next-swc, the checker won't block CI. Instead it'll leave a comment if build succeed or not. There can be potentional improvement (i.e link next.js PR, then verify against it) something we can consider.","ci(workflow): enable daily next.js tests, report build failures (#4346)","Description closes WEB-762 This PR reenables daily, next.js integration test and also additionally verifies if turbopack change can build with next-swc, then report it as command. It is not fully ready since we have to apply local patch - I need to prepare separate PR for those. Since it is expected we can sometimes break next-swc, the checker won't block CI. Instead it'll leave a comment if build succeed or not. There can be potentional improvement (i.e link next.js PR, then verify against it) something we can consider."
634,fix(turbo-binding): disable default custom alloc features (#4359),"Description Partially resolves WEB-736 Same as https://github.com/vercel/turbo/pull/4355, minor update to not to merge custom alloc features by default.",fix(turbo-binding): disable default custom alloc features (#4359),"Description Partially resolves WEB-736 Same as link, minor update to not to merge custom alloc features by default."
635,release(turborepo): 1.8.6-canary.1 (#4356),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.6-canary.1 (#4356),Co-authored-by: Turbobot turbobot@vercel.com
636,fix(turbo-binding): disable custom alloc default features (#4355),Description Enabling default will merge into all of next-swc for the unsupported platforms.,fix(turbo-binding): disable custom alloc default features (#4355),Description Enabling default will merge into all of next-swc for the unsupported platforms.
637,fix: error swallowing when using continue (#4354),"Description Fixes regression added in #4254 where we swallowed exit codes when --continue was used to invoke turbo. Don't love this fix, but it was the most straightforward fix I could see. @mehulkar unsure if I'm handling the case where an execution summary doesn't have an exit code correctly. Testing Instructions See added integration test and the changed run summary test which now has a 1 exit code.",fix: error swallowing when using continue (#4354),"Description Fixes regression added in #4254 where we swallowed exit codes when --continue was used to invoke turbo. Don't love this fix, but it was the most straightforward fix I could see. @mehulkar unsure if I'm handling the case where an execution summary doesn't have an exit code correctly. Testing Instructions See added integration test and the changed run summary test which now has a 1 exit code."
638,fix nested dynamic imports (#4349),"Description In the case when nesting import() where the second import() references an already available module, it tries to access an non-existing chunk loader module. After this change it will generate Promise.resolve().then(() => __turbopack_import__(""..."") instead. A little bit of refactoring was needed to gain access to the AvailabilityInfo in code generation. fix WEB-789 (link)",fix nested dynamic imports (#4349),"Description In the case when nesting import() where the second import() references an already available module, it tries to access an non-existing chunk loader module. After this change it will generate Promise.resolve().then(() => turbopack_import(""..."") instead. A little bit of refactoring was needed to gain access to the AvailabilityInfo in code generation. fix WEB-789 (link)"
639,Reduce boilerplate in run sumamry tests (#4353),,Reduce boilerplate in run sumamry tests (#4353),
640,Add top level exitCode to RunSummary (#4343),,Add top level exitCode to RunSummary (#4343),
641,Consolidate two representations of task duration (#4342),"Since we are tracking this for reporting, we can also use the same value for logging in terminal.",Consolidate two representations of task duration (#4342),"Since we are tracking this for reporting, we can also use the same value for logging in terminal."
642,Record exit codes per task in a run (#4344),"This adds exitCodes per task when we know them.  Currently, without the --continue flag, when a task fails, turbo exits without closing out the Run Summary. We will address this separately, but this lays the baseline for gathering successful and error codes when possible.",Record exit codes per task in a run (#4344),"This adds exitCodes per task when we know them.  Currently, without the --continue flag, when a task fails, turbo exits without closing out the Run Summary. We will address this separately, but this lays the baseline for gathering successful and error codes when possible."
643,feat(turbo-binding): expose new features (#4350),Description This PR exposes a new feature from dependencies for the next-swc.,feat(turbo-binding): expose new features (#4350),Description This PR exposes a new feature from dependencies for the next-swc.
644,feat(turbopack): Add tree shaking (#3338),x-ref: https://vercel.slack.com/archives/C03EWR7LGEN/p1673561577048649  Implements WEB-468 Implements WEB-469   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com,feat(turbopack): Add tree shaking (#3338),x-ref: link Implements WEB-468 Implements WEB-469 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com
645,build(turbo-binding): export turbopack_dev (#4345),"Description Minor fix from previous PR, actually exposes turbopack_dev.",build(turbo-binding): export turbopack_dev (#4345),"Description Minor fix from previous PR, actually exposes turbopack_dev."
646,build(cargo): expose tasks-bytes (#4339),"Description Part 1 for WEB-736. Followup changes for https://github.com/vercel/turbo/pull/4272, there was another update in upstream next.js exposes this pkg.",build(cargo): expose tasks-bytes (#4339),"Description Part 1 for WEB-736. Followup changes for link, there was another update in upstream next.js exposes this pkg."
647,Add Rope::to_bytes() (#4341),This implements to_bytes() on Rope. Test Plan: Added a unit test,Add Rope::to_bytes() (#4341),This implements to_bytes() on Rope. Test Plan: Added a unit test
648,Add start and endTime to top level execution summary (#4334),,Add start and endTime to top level execution summary (#4334),
649,Fix transposed lookup args (#4340),,Fix transposed lookup args (#4340),
650,allow to mark tasks as finished  (#4336),Description this allows to exclude them from strongly consistency mark evaluate stream as finished to allow to return early from strongly consitent reads,allow to mark tasks as finished  (#4336),Description this allows to exclude them from strongly consistency mark evaluate stream as finished to allow to return early from strongly consitent reads
651,release(turborepo): 1.8.6-canary.0 (#4338),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.6-canary.0 (#4338),Co-authored-by: Turbobot turbobot@vercel.com
652,Add endTime into task execution summary (#4326),"Adds a custom MarshalJSON method to get TaskExection to look the way we want it to look. This also allows us to make the TaskExecutionSummary struct itself a bit tighter with private fields, etc. This commit also: - renames some fields for readability - removes the Label field from TaskExecutionSummary as it isn't needed.   I cross checked with --profile flag to make sure it wasn't somehow   used by the chrometracing profile that is generated",Add endTime into task execution summary (#4326),"Adds a custom MarshalJSON method to get TaskExection to look the way we want it to look. This also allows us to make the TaskExecutionSummary struct itself a bit tighter with private fields, etc. This commit also: - renames some fields for readability - removes the Label field from TaskExecutionSummary as it isn't needed.   I cross checked with --profile flag to make sure it wasn't somehow   used by the chrometracing profile that is generated"
653,ci(workflow): resurrect daily next.js test (#4287),"Description Part 1 for WEB-762. This is an attempt to simple-reenablement to previous next.js integration test. Please note the general test strategy will be still revisited: i.e there was a discussion for making next.js upstream test to turbopack-aware, and some other approaches as well. Meanwhile, this'll allow to resurrect old dashboard / slack status as quick as possible. Once we have stable ground for the whole test, this can go away then.",ci(workflow): resurrect daily next.js test (#4287),"Description Part 1 for WEB-762. This is an attempt to simple-reenablement to previous next.js integration test. Please note the general test strategy will be still revisited: i.e there was a discussion for making next.js upstream test to turbopack-aware, and some other approaches as well. Meanwhile, this'll allow to resurrect old dashboard / slack status as quick as possible. Once we have stable ground for the whole test, this can go away then."
654,build(cargo): turbo-binding (#4272),"Description Part 1 for WEB-736. This PR is revised version of next-binding, reexports most(*1) of features from turbo to consolidate next-swc's import. As same as next-binding, there aren't any functional chaings. *1: There are some macros blocking to reexport, which need to be addressed later.",build(cargo): turbo-binding (#4272),"Description Part 1 for WEB-736. This PR is revised version of next-binding, reexports most(1) of features from turbo to consolidate next-swc's import. As same as next-binding, there aren't any functional chaings. 1: There are some macros blocking to reexport, which need to be addressed later."
655,Pass context through to ImportMappingReplacement::result (#4288),"This passes through the importing context to ImportMap::result, typically the directory of the importing file. This will be used by an upcoming PR to Next.js that implements resolving font files relative to the importing file in next/font/local.",Pass context through to ImportMappingReplacement::result (#4288),"This passes through the importing context to ImportMap::result, typically the directory of the importing file. This will be used by an upcoming PR to Next.js that implements resolving font files relative to the importing file in next/font/local."
656,"Revert ""remove left-over print out"" (#4332)",This reverts commit 6b935dd966ca11c5da0ee9cc278ee6826223319d.,"Revert ""remove left-over print out"" (#4332)",This reverts commit 6b935dd966ca11c5da0ee9cc278ee6826223319d.
657,fix error handling and hanging problems (#4324),"Description  fix hanging tasks when recomputing cells fix inactive tasks when using streams fix fatal error handling for node.js evaluation  We need to ensure that Vc reads and connected Tasks are correctly handled in when producing streams. It's important that the Tasks are connected to something that is active when consumers read from the stream. Also Vc reads need to invalidate the stream and cause the production of a new stream. That was not handled correctly before. Now we use a child task to produce the stream that is active as part of the function that returns the stream. We also use a little hack to update the stream in the parent task when the child task is invalidated. It's a bit hacky, but eventually this kind of logic should probably move into turbo_tasks as part of some streaming concept. Testing Instructions Placing process.exit(0) in next.config.js or postcss.config.js  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",fix error handling and hanging problems (#4324),"Description fix hanging tasks when recomputing cells fix inactive tasks when using streams fix fatal error handling for node.js evaluation We need to ensure that Vc reads and connected Tasks are correctly handled in when producing streams. It's important that the Tasks are connected to something that is active when consumers read from the stream. Also Vc reads need to invalidate the stream and cause the production of a new stream. That was not handled correctly before. Now we use a child task to produce the stream that is active as part of the function that returns the stream. We also use a little hack to update the stream in the parent task when the child task is invalidated. It's a bit hacky, but eventually this kind of logic should probably move into turbo_tasks as part of some streaming concept. Testing Instructions Placing process.exit(0) in next.config.js or postcss.config.js Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
658,limit number of code frames per stack trace to 3 (#4319),Description Avoid stack traces getting to noisy,limit number of code frames per stack trace to 3 (#4319),Description Avoid stack traces getting to noisy
659,Bump rustc version. (#4331),The build issues appear to be related to the rustc version. Rust is in the process of attempting to land llvm@16 which was released on March 18 (depending on where you stand in the world). I've bisected the release versions and confirmed that nightly-2023-03-21 is the last working release— coincidentally the version from the day we ran the 1.8.5 release. For now I'm hardcoding that into our release process; I have not done any further investigation of the actual root cause which will enable us to update past nightly-2023-03-21. We will need to do that at some point in order to make sure we don't lose the ability to release.,Bump rustc version. (#4331),The build issues appear to be related to the rustc version. Rust is in the process of attempting to land llvm@16 which was released on March 18 (depending on where you stand in the world). I've bisected the release versions and confirmed that nightly-2023-03-21 is the last working release— coincidentally the version from the day we ran the 1.8.5 release. For now I'm hardcoding that into our release process; I have not done any further investigation of the actual root cause which will enable us to update past nightly-2023-03-21. We will need to do that at some point in order to make sure we don't lose the ability to release.
660,fix: make turbo command regex stricter (#4325),"Description With #4223, we started checking and throwing on commands that look like they invoke turbo. The regex is fairly permissive and would match any command that contained a path that ended in turbo e.g. rm ~/.turbo would get marked as invoking turbo. This PR restricts the regex so it only matches commands that contain turbo surrounded by whitespace. This means that we now won't throw if the user directly invokes turbo via a path e.g. ./node_modules/turbo/bin/turbo. I think this is the correct tradeoff as it's much more likely a user will invoke turbo via either turbo foo or pnpm turbo foo. Another possibility would be to attempt parse the scripts and do more exact analysis, but to do this and correctly handle Windows would be fun. Testing Instructions See new unit tests",fix: make turbo command regex stricter (#4325),"Description With #4223, we started checking and throwing on commands that look like they invoke turbo. The regex is fairly permissive and would match any command that contained a path that ended in turbo e.g. rm ~/.turbo would get marked as invoking turbo. This PR restricts the regex so it only matches commands that contain turbo surrounded by whitespace. This means that we now won't throw if the user directly invokes turbo via a path e.g. ./node_modules/turbo/bin/turbo. I think this is the correct tradeoff as it's much more likely a user will invoke turbo via either turbo foo or pnpm turbo foo. Another possibility would be to attempt parse the scripts and do more exact analysis, but to do this and correctly handle Windows would be fun. Testing Instructions See new unit tests"
661,Make Single Package repo work with globalDependencies config (#4240),Co-authored-by: Stefano Faieta 9802152+stefanofa@users.noreply.github.com,Make Single Package repo work with globalDependencies config (#4240),Co-authored-by: Stefano Faieta 9802152+stefanofa@users.noreply.github.com
662,Send run summary to API with experimental flag (#4250),"This PR adds an --experimental-space-id flag. When this is provided and the TURBO_RUN_SUMMARY env var set, the Run Summary will be posted to the Vercel API in 3 chunks:  A POST to create the Run POSTs for each task that was executed A PATCH to update the run to ""completed""  At the moment, the Run is created at the end of the run for simplicity. As we add more features (e.g. streaming updates or capturing errors), we will move this to the beginning of the run.",Send run summary to API with experimental flag (#4250),"This PR adds an --experimental-space-id flag. When this is provided and the TURBO_RUN_SUMMARY env var set, the Run Summary will be posted to the Vercel API in 3 chunks: A POST to create the Run POSTs for each task that was executed A PATCH to update the run to ""completed"" At the moment, the Run is created at the end of the run for simplicity. As we add more features (e.g. streaming updates or capturing errors), we will move this to the beginning of the run."
663,fix(signal handling for child process) (#4290),"Description Fixes #4227 As mentioned in the issue if a child process gets killed via signal, Go will report the exit code as -1. This causes issues as turbo will take the highest exit code which if all other tasks are successful will be 0. Testing Instructions Opted for manual testing here as writing a test scenario for this would either require some code shuffling for a unit test or a convoluted integration test. - See repro described in #4227  - Verify that turbo now exits with 1 if a child process got killed: ",fix(signal handling for child process) (#4290),"Description Fixes #4227 As mentioned in the issue if a child process gets killed via signal, Go will report the exit code as -1. This causes issues as turbo will take the highest exit code which if all other tasks are successful will be 0. Testing Instructions Opted for manual testing here as writing a test scenario for this would either require some code shuffling for a unit test or a convoluted integration test. - See repro described in #4227  - Verify that turbo now exits with 1 if a child process got killed: "
664,Don't hash env var when the value is an empty string (#4312),,Don't hash env var when the value is an empty string (#4312),
665,chore(deps): update npm to v8.19.4 (#4252),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,chore(deps): update npm to v8.19.4 (#4252),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
666,improve source mapping of console output and errors (#4284),Description  source map node.js process output fix race condition in console output decode magic identifier add source context add some coloring to the console improve readablility of sources in the devtools    fixes WEB-547 fixes WEB-431 fixes WEB-385 fixes WEB-753,improve source mapping of console output and errors (#4284),Description source map node.js process output fix race condition in console output decode magic identifier add source context add some coloring to the console improve readablility of sources in the devtools fixes WEB-547 fixes WEB-431 fixes WEB-385 fixes WEB-753
667,Implement node eval streaming (#4251),"Description This implements streaming Node evaluation using an fun generic Stream<T>, usable within any Vc (I'm kinda surprised it works). Think of it a bit like a DuplexStream, it implements both a reader (that can be streaming read with the Stream trait) and a writer (that can be sent cross threads). As new values are written to the stream, any readers get woken up to receive the next value. Included as part of this is a rework of our ""bytes"" implementations, extracting some logic into a new turbo-tasks-bytes crate. Eventually, Rope should also move out of turbo-tasks-fs into this crate. BytesValue are cheaply clonable (they're just a wrapper around bytes::Bytes), making them a perfect low-level type to hold the data being sent between processes and threads. They're also easy to convert to and from a real Bytes, so that they can be streamed into our hyper::Server. Testing Instructions Paired next.js PR: https://github.com/vercel/next.js/pull/47264 Fixes WEB-243  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",Implement node eval streaming (#4251),"Description This implements streaming Node evaluation using an fun generic Stream, usable within any Vc (I'm kinda surprised it works). Think of it a bit like a DuplexStream, it implements both a reader (that can be streaming read with the Stream trait) and a writer (that can be sent cross threads). As new values are written to the stream, any readers get woken up to receive the next value. Included as part of this is a rework of our ""bytes"" implementations, extracting some logic into a new turbo-tasks-bytes crate. Eventually, Rope should also move out of turbo-tasks-fs into this crate. BytesValue are cheaply clonable (they're just a wrapper around bytes::Bytes), making them a perfect low-level type to hold the data being sent between processes and threads. They're also easy to convert to and from a real Bytes, so that they can be streamed into our hyper::Server. Testing Instructions Paired next.js PR: link Fixes WEB-243 Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
668,Sort task ancestors in task summary (#4311),,Sort task ancestors in task summary (#4311),
669,Break up client package and delete unused code (#4303), deletes unused methds make some things private to the package when possible moves some methods to separate files to make it clear how they're used fix lint errors around naming fields/structs (linter fails since the file is touched)  No actual method implementations are changed other than updating the references to fields/structs that changed due to linter renames.,Break up client package and delete unused code (#4303),deletes unused methds make some things private to the package when possible moves some methods to separate files to make it clear how they're used fix lint errors around naming fields/structs (linter fails since the file is touched) No actual method implementations are changed other than updating the references to fields/structs that changed due to linter renames.
670,feat: port npm lockfile to Rust (#3632),"Adds a Rust port of the npm lockfile implementation only used when GO_TAG=rust is set. Notes: - The crawling of the lockfile graph is done in the language of the lockfile impl to avoid incurring ffi overhead for every transitive dependency. This change requires moving this function into the lockfile package instead of context in Go (this is probably where it should've belonged all along) - We explicitly make an ffi function in Rust for each lockfile implementation. This adds boilerplate, but as this boundary should be short lived (only around until package graph gets moved into Rust) this is acceptable instead of coming up with a more generic solution. - If we stick with passing the lockfile contents for other implementations then we will be able to share the protobuf message definitions  Co-authored-by: Alexander Lyon arlyon@me.com",feat: port npm lockfile to Rust (#3632),"Adds a Rust port of the npm lockfile implementation only used when GO_TAG=rust is set. Notes: - The crawling of the lockfile graph is done in the language of the lockfile impl to avoid incurring ffi overhead for every transitive dependency. This change requires moving this function into the lockfile package instead of context in Go (this is probably where it should've belonged all along) - We explicitly make an ffi function in Rust for each lockfile implementation. This adds boilerplate, but as this boundary should be short lived (only around until package graph gets moved into Rust) this is acceptable instead of coming up with a more generic solution. - If we stick with passing the lockfile contents for other implementations then we will be able to share the protobuf message definitions Co-authored-by: Alexander Lyon arlyon@me.com"
671,add dynamic embedding feature to turbopack-dev (#4302),,add dynamic embedding feature to turbopack-dev (#4302),
672,fix and improve error handling (#4300),Description  fixes a bug that swallowed the errors pretty print anyhow errors when printing them  Before: ``` [500] error: Execution of get_from_source failed Caused by:     0: Execution of resolve_source_request failed     1: Execution of CombinedContentSource::get failed     2: Execution of CombinedContentSource::get failed     3: Execution of IssueContextContentSource::get failed     4: Execution of CombinedContentSource::get failed     5: Execution of CombinedContentSource::get failed     6: Execution of NodeRenderContentSource::content_source failed     7: Execution of external_asset_entrypoints failed     8: Execution of separate_assets failed     9: Execution of NodeJsBootstrapAsset::references failed    10: Execution of turbopack_core::chunk::ChunkGroupVc::chunks failed    11: Execution of CssChunk::references failed    12: Execution of css_chunk_content_single_entry failed    13: Execution of analyze_css_stylesheet failed    14: Execution of parse failed    15: Execution of PostCssTransformedAsset::content failed    16: Execution of turbopack_node::transforms::postcss::PostCssTransformedAssetVc::process failed    17: Execution of evaluate failed    18: failed to receive message    19: stdout stream ended unexpectedly (13ms) ``` After: ``` [500] error (11ms): failed to receive message Caused by: - reading packet length - unexpected end of file Developer details: - Execution of get_from_source failed - Execution of resolve_source_request failed - Execution of CombinedContentSource::get failed - Execution of CombinedContentSource::get failed - Execution of IssueContextContentSource::get failed - Execution of CombinedContentSource::get failed - Execution of CombinedContentSource::get failed - Execution of NodeRenderContentSource::content_source failed - Execution of external_asset_entrypoints failed - Execution of separate_assets failed - Execution of NodeJsBootstrapAsset::references failed - Execution of turbopack_core::chunk::ChunkGroupVc::chunks failed - Execution of CssChunk::references failed - Execution of css_chunk_content_single_entry failed - Execution of analyze_css_stylesheet failed - Execution of parse failed - Execution of PostCssTransformedAsset::content failed - Execution of turbopack_node::transforms::postcss::PostCssTransformedAssetVc::process failed - Execution of evaluate failed - failed to receive message - reading packet length - unexpected end of file ``` fixes WEB-737,fix and improve error handling (#4300),Description fixes a bug that swallowed the errors pretty print anyhow errors when printing them Before: module After: module fixes WEB-737
673,reduce number of generic instances (#4298),Description Reduces a few copies of functions,reduce number of generic instances (#4298),Description Reduces a few copies of functions
674,fix chunk runner when all chunks are available (#4297),"Description When the runtime chunk is the last one executed, we still need to run the runtime module.",fix chunk runner when all chunks are available (#4297),"Description When the runtime chunk is the last one executed, we still need to run the runtime module."
675,fix(docs): update ent link (#4293),Description contact/turborepo is replaced by contact/sales Testing Instructions    Give a quick description of steps to test your changes.,fix(docs): update ent link (#4293),Description contact/turborepo is replaced by contact/sales Testing Instructions Give a quick description of steps to test your changes.
676,Bring back chunk runner logic for the none runtime (#4285),"This is a fix on top of #4141 to ensure that all chunks instantiate in the proper order when running on the Next.js edge runtime. This brings back a similar ""runner"" logic as what we had before #4141, where registering a new chunk might cause other chunks to be instantiated if we consider all their dependency chunks to be registered.",Bring back chunk runner logic for the none runtime (#4285),"This is a fix on top of #4141 to ensure that all chunks instantiate in the proper order when running on the Next.js edge runtime. This brings back a similar ""runner"" logic as what we had before #4141, where registering a new chunk might cause other chunks to be instantiated if we consider all their dependency chunks to be registered."
677,chore(release): add new packages to publish flow (#4271),,chore(release): add new packages to publish flow (#4271),
678,Refactor ES chunk evaluate logic into a Runtime trait (#4141),"Description This refactors the EcmaScript chunk evaluate segment logic into a separate EcmascriptChunkRuntime trait. ChunkingContext implementors can now optionally implement the EcmascriptChunkContext trait (which already existed before as a struct). This trait has two additional methods: * EcmascriptChunkContext::ecmascript_runtime() -> Creates a ES runtime that only registers chunks' contents * EcmascriptChunkContext::evaluated_ecmascript_runtime() -> Creates an ES runtime that registers chunks' contents and evaluates its entries This is important because we are going to start having more than one runtime evaluation logic with next build (and ncc and any future bundler-specific work). In the future, this could even be used to have non-Ecmascript runtimes. Also fixes WEB-688 PR for the Next.js side: https://github.com/vercel/next.js/pull/47116 TODO   [x] ~~I need to ensure that waitForChunksToLoad works as expected on first load and does not re-create requests to JS and CSS chunks that are already being loaded.~~   [x] ~~Looks like there's a hashing problem (module ident perhaps?) that creates additional snapshots.~~   Testing Instructions Snapshots + Integrations tests",Refactor ES chunk evaluate logic into a Runtime trait (#4141),"Description This refactors the EcmaScript chunk evaluate segment logic into a separate EcmascriptChunkRuntime trait. ChunkingContext implementors can now optionally implement the EcmascriptChunkContext trait (which already existed before as a struct). This trait has two additional methods: * EcmascriptChunkContext::ecmascript_runtime() -> Creates a ES runtime that only registers chunks' contents * EcmascriptChunkContext::evaluated_ecmascript_runtime() -> Creates an ES runtime that registers chunks' contents and evaluates its entries This is important because we are going to start having more than one runtime evaluation logic with next build (and ncc and any future bundler-specific work). In the future, this could even be used to have non-Ecmascript runtimes. Also fixes WEB-688 PR for the Next.js side: link TODO [x] ~~I need to ensure that waitForChunksToLoad works as expected on first load and does not re-create requests to JS and CSS chunks that are already being loaded.~~ [x] ~~Looks like there's a hashing problem (module ident perhaps?) that creates additional snapshots.~~ Testing Instructions Snapshots + Integrations tests"
679,prevent emitting debug symbols in release (#4279),Description We have recently noticed quite large rust binaries. This was due to debug symbols being enabled across the repo. We can (and should) revert this.,prevent emitting debug symbols in release (#4279),Description We have recently noticed quite large rust binaries. This was due to debug symbols being enabled across the repo. We can (and should) revert this.
680,release(turborepo): 1.8.5 (#4278),,release(turborepo): 1.8.5 (#4278),
681,send a SIGTERM on unix rather than just killing the process (#4276),"Description In attempting to fix a zombie process on windows, we accidentally introduced a similar issue on unix. This makes sure to gracefully stop the go binary so that it may in turn gracefully stop its children rather than leave them hanging. Testing Instructions Check out front. On 1.8.4 running multiple turbo dev --filter vercel-site can sometimes cause a race condition where the node process is left hanging causing errors regarding ports being used. It seems to happen in a bout 1 in 5 or so runs and only when quitting at specific times. Checking out this PR, you can observe that crtl-c works as expected, and the existing, correct, windows behaviour still works.",send a SIGTERM on unix rather than just killing the process (#4276),"Description In attempting to fix a zombie process on windows, we accidentally introduced a similar issue on unix. This makes sure to gracefully stop the go binary so that it may in turn gracefully stop its children rather than leave them hanging. Testing Instructions Check out front. On 1.8.4 running multiple turbo dev --filter vercel-site can sometimes cause a race condition where the node process is left hanging causing errors regarding ports being used. It seems to happen in a bout 1 in 5 or so runs and only when quitting at specific times. Checking out this PR, you can observe that crtl-c works as expected, and the existing, correct, windows behaviour still works."
682,Revert rust scm usage (#4277),Description Drop hook to rust implementation of scm. There is an error with turbo-ignore Testing Instructions Existing unit + integration tests,Revert rust scm usage (#4277),Description Drop hook to rust implementation of scm. There is an error with turbo-ignore Testing Instructions Existing unit + integration tests
683,feat(turbopack_ecmascript): support legacy decorators transform (#4187),"Description Partially implements WEB-667.  This is second attempt to implement decorators support. The crux is pretty much same as previous changes to support runtime ts config options - PR enables to accept & perform decorators transform. One thing to note is we apply this transform for the ecma / typescript regardless, since decorators can be applied in either cases. Given next-* is moved to next.js, subsequent changes to next.js is required to close the issue. Will work on once this lands.",feat(turbopack_ecmascript): support legacy decorators transform (#4187),"Description Partially implements WEB-667.  This is second attempt to implement decorators support. The crux is pretty much same as previous changes to support runtime ts config options - PR enables to accept & perform decorators transform. One thing to note is we apply this transform for the ecma / typescript regardless, since decorators can be applied in either cases. Given next-* is moved to next.js, subsequent changes to next.js is required to close the issue. Will work on once this lands."
684,feat(ecmascript): support jsximport/runtime options (#4198),"Description First part of WEB-719 implementation. PR expands enable_jsx option to accept few more configuration point to jsx transforms, mainly its import source. We'll likely to expand options more in the future. One thing I noted in the code but didn't make change is enable_react_refresh, if it needs to be under the jsx option or should be independent. Given react_refresh only should be enabled when jsx is enabled, for me it makes more sense to move it.",feat(ecmascript): support jsximport/runtime options (#4198),"Description First part of WEB-719 implementation. PR expands enable_jsx option to accept few more configuration point to jsx transforms, mainly its import source. We'll likely to expand options more in the future. One thing I noted in the code but didn't make change is enable_react_refresh, if it needs to be under the jsx option or should be independent. Given react_refresh only should be enabled when jsx is enabled, for me it makes more sense to move it."
685,"If a graph walk task fails, stop the walk.  (#4254)","Description Backstory: I was investigating what needs to be done to support unifying our output to support grouping log output. I encountered an os.Exit sitting in run, and while attempting to address that, discovered that we don't fully stop on error even when we mean to. We stop executing scripts but we continue to walk the graph, meaning that we can trigger cache restorations. This PR: - Adds a short-circuiting mechanism to our graph walk so that tasks started after the failed tasks are skipped. Note that tasks started concurrently with the failed task may still run. - Remove the os.Exit for the case where we fail to do the setup work to capture task outputs - Adds a test for short-circuiting using a custom visitor to deterministically inject an error into graph traversal Testing Instructions New test in engine_test.go demonstrates short-circuiting by injecting an error into graph traversal. I opted for a unit test in this case because using a failing script in an integration test will not trigger the broken behavior. We shut down the script-running facility once a script fails. The error needs to occur outside of the user's script to demonstrate the bug, hence a custom graph visitor.  Co-authored-by: Mehul Kar mehul.kar@vercel.com","If a graph walk task fails, stop the walk.  (#4254)","Description Backstory: I was investigating what needs to be done to support unifying our output to support grouping log output. I encountered an os.Exit sitting in run, and while attempting to address that, discovered that we don't fully stop on error even when we mean to. We stop executing scripts but we continue to walk the graph, meaning that we can trigger cache restorations. This PR: - Adds a short-circuiting mechanism to our graph walk so that tasks started after the failed tasks are skipped. Note that tasks started concurrently with the failed task may still run. - Remove the os.Exit for the case where we fail to do the setup work to capture task outputs - Adds a test for short-circuiting using a custom visitor to deterministically inject an error into graph traversal Testing Instructions New test in engine_test.go demonstrates short-circuiting by injecting an error into graph traversal. I opted for a unit test in this case because using a failing script in an integration test will not trigger the broken behavior. We shut down the script-running facility once a script fails. The error needs to occur outside of the user's script to demonstrate the bug, hence a custom graph visitor. Co-authored-by: Mehul Kar mehul.kar@vercel.com"
686,Add valid JSON into test fixture (#4269),"The lint-staged precommit hook scans all package.jsons in the repo and attempts to load configuration from them. Because this one doesn't contain valid JSON, lint-staged throws an error on every commit.",Add valid JSON into test fixture (#4269),"The lint-staged precommit hook scans all package.jsons in the repo and attempts to load configuration from them. Because this one doesn't contain valid JSON, lint-staged throws an error on every commit."
687,release(turborepo): 1.8.4 (#4267),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4 (#4267),Co-authored-by: Turbobot turbobot@vercel.com
688,Remove nextpack (#4266),Nextpack had various problems: - It failed VSCode if nextpack wasn't initialized - The dir hierarchy didn't play well with Vim's COC - The .gitignore prevented ripgrep from finding files (both grepping and fuzzy file path opening) We're instead switching to the internal nextpack repo for development on both the next.js and turbo repos. Closes https://github.com/vercel/turbo/issues/4260,Remove nextpack (#4266),Nextpack had various problems: - It failed VSCode if nextpack wasn't initialized - The dir hierarchy didn't play well with Vim's COC - The .gitignore prevented ripgrep from finding files (both grepping and fuzzy file path opening) We're instead switching to the internal nextpack repo for development on both the next.js and turbo repos. Closes link
689,feat: port daemon client to rust (#3671),"We still need to maintain the go client until run is ported, as the go side needs it to save and request changed files. Now that the daemon client is ported, the next step is to port the globbing tools needed for the daemon server followed by the server itself. Please note this is currently using a fork of the pidlock crate.  Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",feat: port daemon client to rust (#3671),"We still need to maintain the go client until run is ported, as the go side needs it to save and request changed files. Now that the daemon client is ported, the next step is to port the globbing tools needed for the daemon server followed by the server itself. Please note this is currently using a fork of the pidlock crate. Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
690,refactor: Removed includeUntracked because it's always set to true (#4243),Description I realized that we only call ChangedFiles in one place and in that place includeUntracked is always set to true. So I just removed it as a parameter. Testing Instructions    Give a quick description of steps to test your changes.,refactor: Removed includeUntracked because it's always set to true (#4243),Description I realized that we only call ChangedFiles in one place and in that place includeUntracked is always set to true. So I just removed it as a parameter. Testing Instructions Give a quick description of steps to test your changes.
691,Remove gh-pages comparison and publish (#4248),,Remove gh-pages comparison and publish (#4248),
692,Fix benchmark action to create release build (#4246),,Fix benchmark action to create release build (#4246),
693,restore dynamic directory embedding (#4249),,restore dynamic directory embedding (#4249),
694,feat(examples): add vercel template to meta (#4242),,feat(examples): add vercel template to meta (#4242),
695,docs: Document common question around turborepo-ffi (#4232),Description A few people have asked about why we get linker errors on the Go side when they come from the Rust code. I wrote up a small README explaining why and linking to the relevant forum post Testing Instructions    Give a quick description of steps to test your changes.,docs: Document common question around turborepo-ffi (#4232),Description A few people have asked about why we get linker errors on the Go side when they come from the Rust code. I wrote up a small README explaining why and linking to the relevant forum post Testing Instructions Give a quick description of steps to test your changes.
696,Run benchmark workflow on publish (#4244),,Run benchmark workflow on publish (#4244),
697,Filter out summaries of tasks that didn't execute (#4238),"We don't want to exclude tasks entirely from the task graph, because they could be used as virtual wrappers to trigger downstream tasks (via dependsOn), but we can filter them out of the task summary to reduce noise. Another reason to do this, is that the task summary is initialized in ""building"" phase, which is a bit presumptuous, and also wrong for tasks that end up being a no-op because they aren't implemented.",Filter out summaries of tasks that didn't execute (#4238),"We don't want to exclude tasks entirely from the task graph, because they could be used as virtual wrappers to trigger downstream tasks (via dependsOn), but we can filter them out of the task summary to reduce noise. Another reason to do this, is that the task summary is initialized in ""building"" phase, which is a bit presumptuous, and also wrong for tasks that end up being a no-op because they aren't implemented."
698,Default to rustls-tls when building turborepo (#4239),,Default to rustls-tls when building turborepo (#4239),
699,Fix error message documentation (#4094),,Fix error message documentation (#4094),
700,Fix path to turbo to run benchmark action (#4220),This along with a fix in the large-monorepo should make pnpm run benchmark work again.,Fix path to turbo to run benchmark action (#4220),This along with a fix in the large-monorepo should make pnpm run benchmark work again.
701,Check that root commands cannot invoke turbo (#4223),,Check that root commands cannot invoke turbo (#4223),
702,emit a package.json in evaluate too (#4241),Description emit a package.json to .next for evaluate pool fixes WEB-729,emit a package.json in evaluate too (#4241),Description emit a package.json to .next for evaluate pool fixes WEB-729
703,chore(deps): update dependency tsx to v3.12.5 (#3962),,chore(deps): update dependency tsx to v3.12.5 (#3962),
704,"feat(docs): add ""!.next/cache/**"" everywhere (#4159)",Turbo doesn't need to cache this (it's cached by the Vercel build cache) and can make cache unnecessarily large.,"feat(docs): add ""!.next/cache/**"" everywhere (#4159)",Turbo doesn't need to cache this (it's cached by the Vercel build cache) and can make cache unnecessarily large.
705,Always release the current main branch (#4237),Description It's not really helpful that we have to wait for main CI to succeed until we can publish a version. Also note that the action we used to use is broken anyway: https://github.com/talentpair/last-green-commit-action/issues/277,Always release the current main branch (#4237),Description It's not really helpful that we have to wait for main CI to succeed until we can publish a version. Also note that the action we used to use is broken anyway: link
706,fix incorrect refactoring and add comments (#4236),"Description Previous PR introduced a bug, which caused the update to be incorrectly taken: https://github.com/vercel/turbo/pull/4208/files#diff-a50d2da0351cec2aa42fefbb4374be064cc62bcf56c0d56f3b7edf96a92bac33L585-L588",fix incorrect refactoring and add comments (#4236),"Description Previous PR introduced a bug, which caused the update to be incorrectly taken: link"
707,feat(examples): add with-gatsby (#4233),,feat(examples): add with-gatsby (#4233),
708,Drop deprecated experimental go flag (#4231),"Description Gopls no longer supports or requires experimentalWorkspaceModule. The feature (which we don't use) is now built in by default Testing Instructions Open VSCode w/ Go extension, verify no deprecation warning",Drop deprecated experimental go flag (#4231),"Description Gopls no longer supports or requires experimentalWorkspaceModule. The feature (which we don't use) is now built in by default Testing Instructions Open VSCode w/ Go extension, verify no deprecation warning"
709,release(turborepo): 1.8.4-canary.6 (#4234),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.6 (#4234),Co-authored-by: Turbobot turbobot@vercel.com
710,Add a version to the run summary schema (#4230),,Add a version to the run summary schema (#4230),
711,fix test paths on windows (#4228),Description windows has \\?\ magic,fix test paths on windows (#4228),Description windows has \?\ magic
712,fix: prune pnpm patched dependencies with peer dependencies (#4200),"Description Fixes #4133 (huge thanks to @shawnmcknight for the reproduction) The crux of the issue was that if a dependency is patched and peer dependencies than both get encoded into the lockfile key. We can't construct a full expected lockfile key from the patch entry anymore as the patch entry doesn't contain information about peer dependencies. To circumvent this we now scan through the entire package list, parse the key, extract the patch hash (if present), and then check if it matches a patch listed in patchedDependencies. Notes for reviewers: - A large portion of this PR is actually porting the lockfile key parsing logic that pnpm itself uses so we can extract the individual pieces that we care about. This logic is in a slightly messy state as the pnpm codebase is currently in a state where it supports v5 and v6 lockfiles. As mentioned in https://github.com/pnpm/pnpm/pull/5810 once pnpm@8 lands this code will start to be refactored. I tried to keep the Go port as 1:1 as possible in hopes to make future maintenance easier. - This PR includes new logic for v6 as pnpm now encodes patches in lockfile keys: https://github.com/pnpm/pnpm/pull/5979 Testing Instructions Added new packages to the pnpm lockfile fixtures that are patched and have peer dependencies. Also verify that the changes work as expected with the provided repro:  - make turbo  - Clone https://github.com/shawnmcknight/turbo-pnpm-patch-repro - Remove private dependency: pushd packages/test && pnpm rm @sheet/core && popd  - turbo_dev --skip-infer prune --scope=test - Verify that out/pnpm-lock.yaml contains a patchedDependencies section with both @types/jsonwebtoken@8.5.9 and moleculer@0.14.28 as entries",fix: prune pnpm patched dependencies with peer dependencies (#4200),"Description Fixes #4133 (huge thanks to @shawnmcknight for the reproduction) The crux of the issue was that if a dependency is patched and peer dependencies than both get encoded into the lockfile key. We can't construct a full expected lockfile key from the patch entry anymore as the patch entry doesn't contain information about peer dependencies. To circumvent this we now scan through the entire package list, parse the key, extract the patch hash (if present), and then check if it matches a patch listed in patchedDependencies. Notes for reviewers: - A large portion of this PR is actually porting the lockfile key parsing logic that pnpm itself uses so we can extract the individual pieces that we care about. This logic is in a slightly messy state as the pnpm codebase is currently in a state where it supports v5 and v6 lockfiles. As mentioned in link once pnpm@8 lands this code will start to be refactored. I tried to keep the Go port as 1:1 as possible in hopes to make future maintenance easier. - This PR includes new logic for v6 as pnpm now encodes patches in lockfile keys: link Testing Instructions Added new packages to the pnpm lockfile fixtures that are patched and have peer dependencies. Also verify that the changes work as expected with the provided repro:  - make turbo  - Clone link - Remove private dependency: pushd packages/test && pnpm rm @sheet/core && popd  - turbo_dev --skip-infer prune --scope=test - Verify that out/pnpm-lock.yaml contains a patchedDependencies section with both @types/jsonwebtoken@8.5.9 and moleculer@0.14.28 as entries"
713,codespaces need permissions to next.js (#4226),Description The github token needs permissions to push to next.js repo to use codespaces with nextpack,codespaces need permissions to next.js (#4226),Description The github token needs permissions to push to next.js repo to use codespaces with nextpack
714,Add a hash of external dependencies to run summary (#4212),,Add a hash of external dependencies to run summary (#4212),
715,Fix duplicate items in task summaries (#4217),,Fix duplicate items in task summaries (#4217),
716,Add pass through args to run summary (#4209),,Add pass through args to run summary (#4209),
717,track invalidation reasons (#4208),Description tracks reasons for invalidation and reports them as updated event fixes WEB-722 fixes WEB-221,track invalidation reasons (#4208),Description tracks reasons for invalidation and reports them as updated event fixes WEB-722 fixes WEB-221
718,Directly locate the executable. (#4123),"We presently do a lot of indirection when attempting to execute a local copy of turbo. This PR switches to directly locating the executable in the places where it can exist. This PR adds support for local deference for yarn@>=2.1.0 PnP (with preferUnplugged support), which previously didn't work.",Directly locate the executable. (#4123),"We presently do a lot of indirection when attempting to execute a local copy of turbo. This PR switches to directly locating the executable in the places where it can exist. This PR adds support for local deference for yarn@>=2.1.0 PnP (with preferUnplugged support), which previously didn't work."
719,add missing turborepo exclude in turbopack tests (#4222),Description new crate was added which need to be excluded for the tests,add missing turborepo exclude in turbopack tests (#4222),Description new crate was added which need to be excluded for the tests
720,Make the script error ordering deterministic. (#4221),"stdout and stdin don't necessarily provide guarantees in terms of ordering. We're looking at both in the logs. To ensure determinism (because this isn't what this test is testing), simply remove the write to stdout.",Make the script error ordering deterministic. (#4221),"stdout and stdin don't necessarily provide guarantees in terms of ordering. We're looking at both in the logs. To ensure determinism (because this isn't what this test is testing), simply remove the write to stdout."
721,fix: update import for turborepo-paths test on win (#4153),Description This fixes a compile issue in the turborepo-paths crate. Testing Instructions cargo check --tests --target x86_64-pc-windows-gnu,fix: update import for turborepo-paths test on win (#4153),Description This fixes a compile issue in the turborepo-paths crate. Testing Instructions cargo check --tests --target x86_64-pc-windows-gnu
722,Fix forward inference test parallelization. (#4203),4044 removed an anchor that we were specifically checking for in some of our inference tests.,Fix forward inference test parallelization. (#4203),4044 removed an anchor that we were specifically checking for in some of our inference tests.
723,Switch to testing::fixture (#4211),"Description The old test_generator::test_resources could only find resources relative to the project root, and not relative to the test file. Because of the new nextpack directory structure, this causes all kinds of headaches between running in nextpack and running in turbo (crates/turbopack-tests vs nextpack/turbo-crates/crates/turbopack/tests). We'll need to do the same in next-dev-tests in Next.js repo. Testing Instructions bash $ cd turbo $ cargo run nextest -p turbopack-tests $ cd nextpack $ node ./scripts/init.cjs $ cargo run nextest -p turbopack-tests",Switch to testing::fixture (#4211),"Description The old test_generator::test_resources could only find resources relative to the project root, and not relative to the test file. Because of the new nextpack directory structure, this causes all kinds of headaches between running in nextpack and running in turbo (crates/turbopack-tests vs nextpack/turbo-crates/crates/turbopack/tests). We'll need to do the same in next-dev-tests in Next.js repo. Testing Instructions bash $ cd turbo $ cargo run nextest -p turbopack-tests $ cd nextpack $ node ./scripts/init.cjs $ cargo run nextest -p turbopack-tests"
724,release(turborepo): 1.8.4-canary.5 (#4215),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.5 (#4215),Co-authored-by: Turbobot turbobot@vercel.com
725,Exclude snapshots from VSCode search (#4216),,Exclude snapshots from VSCode search (#4216),
726,gracefully handle ctrlc on windows by proactively the killing go process (#4196),Description Closes https://github.com/vercel/turbo/issues/3427 An issue was introduced on windows by the go binary approach where on certain repos the go daemon process would not be killed correctly and hang. This fixes that issue by registering a ctrl-c handler,gracefully handle ctrlc on windows by proactively the killing go process (#4196),Description Closes link An issue was introduced on windows by the go binary approach where on certain repos the go daemon process would not be killed correctly and hang. This fixes that issue by registering a ctrl-c handler
727,chore: Flip the Rust switch (#4181),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.   Co-authored-by: Greg Soltis greg.soltis@vercel.com",chore: Flip the Rust switch (#4181),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: Greg Soltis greg.soltis@vercel.com"
728,fix: Turbo SCM with Windows paths (#4207),Description Fixes a bug where turborepo-scm would return unix style paths on Windows. Testing Instructions test_changed_files_with_subdir_as_monorepo_root is modified to test that the path returned is a system path,fix: Turbo SCM with Windows paths (#4207),Description Fixes a bug where turborepo-scm would return unix style paths on Windows. Testing Instructions test_changed_files_with_subdir_as_monorepo_root is modified to test that the path returned is a system path
729,Throw an error when a task graph cannot run to completion. (#4205),"Throw an error if the task graph will never run to completion. Setting --concurrency for the user to N+1 is likely a worse experience by linearizing everything that isn't persistent, this gives the user enough information to tune their invocation.",Throw an error when a task graph cannot run to completion. (#4205),"Throw an error if the task graph will never run to completion. Setting --concurrency for the user to N+1 is likely a worse experience by linearizing everything that isn't persistent, this gives the user enough information to tune their invocation."
730,Implement Custom Transformers (#4202),"The final part of moving the next-* crates to Next.js is to allow them to use their own custom JS Transformers. This was a bit of a headache. Our turbo/nextpack setup just doesn't work with coc.nvim, we're midway through an SWC upgrade across our repos, and I somehow git reset --hard the &*#(@$ changes while working.  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Implement Custom Transformers (#4202),"The final part of moving the next- crates to Next.js is to allow them to use their own custom JS Transformers. This was a bit of a headache. Our turbo/nextpack setup just doesn't work with coc.nvim, we're midway through an SWC upgrade across our repos, and I somehow git reset --hard the &#(@$ changes while working. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
731,chore(deps): update dependency autoprefixer to v10.4.14 (#4189)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.4.13 -> 10.4.14 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  postcss/autoprefixer  ### [`v10.4.14`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​10414)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.13...10.4.14)  -   Improved startup time and reduced JS bundle size (by Kārlis Gaņģis).    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNjAuMCIsInVwZGF0ZWRJblZlciI6IjM0LjE2MC4wIn0= Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency autoprefixer to v10.4.14 (#4189),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.4.13 -> 10.4.14 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes postcss/autoprefixer  module Compare Source  Improved startup time and reduced JS bundle size (by Kārlis Gaņģis).  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNjAuMCIsInVwZGF0ZWRJblZlciI6IjM0LjE2MC4wIn0= Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
732,fix: SCM relative paths in nested turborepo (#4184),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",fix: SCM relative paths in nested turborepo (#4184),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
733,"Add ""nextpack"" integration setup (#4188)","Hopefully this'll ease our developing in Next.js ``` Nextpack is the development sub-repo, allowing us to develop Next.js features and Turbopack together. This sub-repo will stitch together the rust crates in Next.js and the crates in Turbo, so they appear as 1 logical Cargo workspace. There are two steps: ```bash This will clone next.js into ./next.js if you wanted, you can link your own already-checked-out next.js repo. $ ./scripts/init.cjs This read the Cargo.toml from Next.js and Turbo, generating a new Cargo.toml workspace in this directory. $ cargo run --bin sync-workspace ``` FAQs Failed to load manifest for workspace member … You can't have an optional workspace member (or if you can, I can't figure it out). So the ./next.js/… crate members are gonna error out if you try to run a Turbo crate without first cloning next.js. To fix, run ./scripts/init.js again. It'll resync your Cargo workspace. Why is init written in JS? See the above. If we wrote it in Rust, any failure in the repo setup would prevent it from running. Why is there a turbo-crates symlink dir? Cargo cannot contain nested workspaces, and if we used ../crates/turbopack as a workspace member, it would error out. By using a symlink, we avoid the problem. How do I run next dev --turbo with this? I'm still working on it. ```  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com","Add ""nextpack"" integration setup (#4188)","Hopefully this'll ease our developing in Next.js modulebash This will clone next.js into ./next.js if you wanted, you can link your own already-checked-out next.js repo. $ ./scripts/init.cjs This read the Cargo.toml from Next.js and Turbo, generating a new Cargo.toml workspace in this directory. $ cargo run --bin sync-workspace module Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
734,Update swc_core to v0.69.5 (#4175),Description This is required to update swc_core for next.js Testing Instructions  Co-authored-by: Justin Ridgewell justin@ridgewell.name,Update swc_core to v0.69.5 (#4175),Description This is required to update swc_core for next.js Testing Instructions Co-authored-by: Justin Ridgewell justin@ridgewell.name
735,Run integration tests in parallel (#4044),This cuts the time it takes to run integration tests in half. This commit keeps the serial execution make command for debugging if the parallelism introduces race conditions or needs debugging.,Run integration tests in parallel (#4044),This cuts the time it takes to run integration tests in half. This commit keeps the serial execution make command for debugging if the parallelism introduces race conditions or needs debugging.
736,Revert #3542 (#4197),"Description The fix introduced in #3542 was a workaround for CSS in dynamic imports being included multiple times in a page, potentially overriding precedence of earlier chunks, but introduced its own precedence issue (the semantics of @layer are not fully compatible with our use case). This is no longer necessary since #4056 made it so dynamic imports no longer include items from the parent chunk. Testing Instructions create-next-app with app support now looks visually identical with and without --turbo. Snapshots.",Revert #3542 (#4197),"Description The fix introduced in #3542 was a workaround for CSS in dynamic imports being included multiple times in a page, potentially overriding precedence of earlier chunks, but introduced its own precedence issue (the semantics of @layer are not fully compatible with our use case). This is no longer necessary since #4056 made it so dynamic imports no longer include items from the parent chunk. Testing Instructions create-next-app with app support now looks visually identical with and without --turbo. Snapshots."
737,fix(turborepo): race condition in config tests (#4186),"Description We had a subtle race condition in our config tests where if a test set the TURBO_REMOTE_CACHE_TIMEOUT env var, it would set the remote_cache_timeout field on the config objects in other tests. Fixed this by running the test functions serially inside one test. Testing Instructions    Give a quick description of steps to test your changes.",fix(turborepo): race condition in config tests (#4186),"Description We had a subtle race condition in our config tests where if a test set the TURBO_REMOTE_CACHE_TIMEOUT env var, it would set the remote_cache_timeout field on the config objects in other tests. Fixed this by running the test functions serially inside one test. Testing Instructions Give a quick description of steps to test your changes."
738,Downgrade git warning to debug. (#4193),Fixes #4023,Downgrade git warning to debug. (#4193),Fixes #4023
739,update lockfile due to removed packages (#4192),Description I forgot to update the lockfile after the next.js removal,update lockfile due to removed packages (#4192),Description I forgot to update the lockfile after the next.js removal
740,feat(turbo-workspaces): support single package repos (#4147,,feat(turbo-workspaces): support single package repos (#4147,
741,Add dependencies and dependent tasks into run summaries (#4165),,Add dependencies and dependent tasks into run summaries (#4165),
742,Remove the next-* crates (#4176),"All next crates are being moved to Next.js repo: vercel/next.js#47019 It also removes next related CI workflows, jobs and actions  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Remove the next-* crates (#4176),"All next crates are being moved to Next.js repo: vercel/next.js#47019 It also removes next related CI workflows, jobs and actions Co-authored-by: Justin Ridgewell justin@ridgewell.name"
743,Ensure we record the lockfile name when there's an error unmarshalling (#4180),Description  Adds the name of the lockfile we tried to unmarshal to the error we display when we fail to unmarshal it.  Testing Instructions Tested manually by editing Turbo's own lockfile to be invalid,Ensure we record the lockfile name when there's an error unmarshalling (#4180),Description Adds the name of the lockfile we tried to unmarshal to the error we display when we fail to unmarshal it. Testing Instructions Tested manually by editing Turbo's own lockfile to be invalid
744,Add dynamic_embed_contents feature (#4166),"Based on https://vercel.slack.com/archives/C04KC8A53T7/p1678496137453779?thread_ts=1678468241.013549&cid=C04KC8A53T7, our Next.js test suite is failing because the default test compilation is not portable. This is because the embed_dir and embed_file statically link the directory path into the binary, but do not statically embed the contents. If this same binary is executed on another machine that doesn't follow the exact same directory structure, it'll fail to embed the internal assets.",Add dynamic_embed_contents feature (#4166),"Based on link, our Next.js test suite is failing because the default test compilation is not portable. This is because the embed_dir and embed_file statically link the directory path into the binary, but do not statically embed the contents. If this same binary is executed on another machine that doesn't follow the exact same directory structure, it'll fail to embed the internal assets."
745,fix: Cross compile sandwich (#4163),Changes to get cross compilation of Rust-Go-Rust sandwich to work,fix: Cross compile sandwich (#4163),Changes to get cross compilation of Rust-Go-Rust sandwich to work
746,fix(examples): update kitchen-sink dev task (#4177),"Description When running dev before running a build, the packages won't be built when the apps needed them. This fixes this by adding: ""dependsOn"": [""^build""] on dev to enforce the correct build order first (to make sure the dev script can run successfully every time), and then running dev to kickoff the watch processes in each workspace Testing Instructions pnpm dev",fix(examples): update kitchen-sink dev task (#4177),"Description When running dev before running a build, the packages won't be built when the apps needed them. This fixes this by adding: ""dependsOn"": [""^build""] on dev to enforce the correct build order first (to make sure the dev script can run successfully every time), and then running dev to kickoff the watch processes in each workspace Testing Instructions pnpm dev"
747,chore(deps): update mysql docker tag to v8.0.32 (#4071)," This PR contains the following updates: | Package | Update | Change | |---|---|---| | mysql | patch | 8.0.31 -> 8.0.32 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNTQuNiIsInVwZGF0ZWRJblZlciI6IjM0LjE1NC42In0= Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update mysql docker tag to v8.0.32 (#4071),"This PR contains the following updates: | Package | Update | Change | |---|---|---| | mysql | patch | 8.0.31 -> 8.0.32 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC4xNTQuNiIsInVwZGF0ZWRJblZlciI6IjM0LjE1NC42In0= Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
748,Fix integration tests to add new log message (#4164),,Fix integration tests to add new log message (#4164),
749,Remove env-var linting comments. (#4162),,Remove env-var linting comments. (#4162),
750,Add expandedOutputs to run summary of each task (#4095),,Add expandedOutputs to run summary of each task (#4095),
751,avoid sending modules in parent for dynamic imports (#4056),Description Keeps track of available modules when importing new chunk groups. Omits assets that are already available in the parent chunk group(s) when determining assets to be included in chunks. Testing Instructions Dynamic imports should not include modules that are already in the parent chunks    When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label fixes WEB-599,avoid sending modules in parent for dynamic imports (#4056),Description Keeps track of available modules when importing new chunk groups. Omits assets that are already available in the parent chunk group(s) when determining assets to be included in chunks. Testing Instructions Dynamic imports should not include modules that are already in the parent chunks When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label fixes WEB-599
752,Add log to go binary (#4157),Description Adds a log to Go binary for whether we're using Rust or Go for SCM. Testing Instructions    Give a quick description of steps to test your changes.,Add log to go binary (#4157),Description Adds a log to Go binary for whether we're using Rust or Go for SCM. Testing Instructions Give a quick description of steps to test your changes.
753,fix(create-turbo): update create-turbo eslint template (#4160,"Description Fix ""cannot find module next/babel"" issue",fix(create-turbo): update create-turbo eslint template (#4160,"Description Fix ""cannot find module next/babel"" issue"
754,feat(ecmascript): transform ts input with runtime flags (#4142),"Description Another attempt to close WEB-659. The crux is same as previous PR, but attempt to change the location where it read config / bubble down the config values to the actual transform stage. Mainly, enable_typescript_transform is now accepting an option instead of boolean flag to down to EcmaInputTransform::Typescript, and get_*_module_context() reads the config value as needed.",feat(ecmascript): transform ts input with runtime flags (#4142),"Description Another attempt to close WEB-659. The crux is same as previous PR, but attempt to change the location where it read config / bubble down the config values to the actual transform stage. Mainly, enable_typescript_transform is now accepting an option instead of boolean flag to down to EcmaInputTransform::Typescript, and get_*_module_context() reads the config value as needed."
755,fix sentence (#4158),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",fix sentence (#4158),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
756,feat(turbo-ignore): update logging (#4154),,feat(turbo-ignore): update logging (#4154),
757,fix(docs): remove .next/cache from outputs (#4155),,fix(docs): remove .next/cache from outputs (#4155),
758,Amend incorrect file referenced in Getting Started (#4148),,Amend incorrect file referenced in Getting Started (#4148),
759,fix HMR when module evaluation throws (#4151),"Description  before a self accepting module was disconnected from it's parents and after an error in module evaluation it failed to continue updating. now it keep being connected to its parents, allowing a HMR update to bubble to the parent when evaluation lead to an error  Testing Instructions Introduce a syntax/parse error and fix it again Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",fix HMR when module evaluation throws (#4151),"Description before a self accepting module was disconnected from it's parents and after an error in module evaluation it failed to continue updating. now it keep being connected to its parents, allowing a HMR update to bubble to the parent when evaluation lead to an error Testing Instructions Introduce a syntax/parse error and fix it again Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
760,fix pathname for data requests (#4149),Description | input file         | HTML pathname | Data pathname    | | ------------------ | ------------- | ---------------- | | index.tsx          | /             | .../index.json   | | blog.tsx           | /blog         | .../blog.json    | | pricing/index.tsx  | /pricing      | .../pricing.json |,fix pathname for data requests (#4149),Description | input file         | HTML pathname | Data pathname    | | ------------------ | ------------- | ---------------- | | index.tsx          | /             | .../index.json   | | blog.tsx           | /blog         | .../blog.json    | | pricing/index.tsx  | /pricing      | .../pricing.json |
761,Add TaskExecutionSummary to Run Summary (#4116),"This commit adds - an execution key to each task summary. omitEmpty is used, so the key will not show up in --dry=json output, when there was no execution. - a top level execution key to the Run Summary which includes counts for successful, failed, cached tasks. This is the same as the output that we also see in terminal UI in logs. The existing RunState struct is moved into the runsummary package. The .Run() method now returns a TaskExecutionSummary, which gets updated over the course of the execution, and then attached that to the TaskSummary. RunState (now known as executionSummary) and other related structs are now private to the runsummary package, and all interactions are through the RunSummary struct (namely: TrackTask() and Close())",Add TaskExecutionSummary to Run Summary (#4116),"This commit adds - an execution key to each task summary. omitEmpty is used, so the key will not show up in --dry=json output, when there was no execution. - a top level execution key to the Run Summary which includes counts for successful, failed, cached tasks. This is the same as the output that we also see in terminal UI in logs. The existing RunState struct is moved into the runsummary package. The .Run() method now returns a TaskExecutionSummary, which gets updated over the course of the execution, and then attached that to the TaskSummary. RunState (now known as executionSummary) and other related structs are now private to the runsummary package, and all interactions are through the RunSummary struct (namely: TrackTask() and Close())"
762,"Revert ""chore(labels): add rule to label non-vercel PRs"" (#4144",Reverts vercel/turbo#4120,"Revert ""chore(labels): add rule to label non-vercel PRs"" (#4144",Reverts vercel/turbo#4120
763,fix next.js source map resolving (#4062),"Description Before the error overlay didn't show the source mapped file. Now it does.  The wrapped ContentSources need to wrap a Rewrite result. Instead of returning a ContentSourceResult from a different ContentSource, one need to use Rewrite to get the data correct.  Testing Instructions Throw an error in an next.js app that triggers the error overlay with stack trace.",fix next.js source map resolving (#4062),"Description Before the error overlay didn't show the source mapped file. Now it does. The wrapped ContentSources need to wrap a Rewrite result. Instead of returning a ContentSourceResult from a different ContentSource, one need to use Rewrite to get the data correct. Testing Instructions Throw an error in an next.js app that triggers the error overlay with stack trace."
764,port(turborepo): Paths Crate (#4032),Description Decided to adapt buck2's path module as our turborepo-paths crate. This PR moves it over and adjusts some naming/style choices. Testing Instructions The module came with some pretty thorough tests and doctests. You can run with cargo test -p turborepo-paths.    Give a quick description of steps to test your changes.     When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label,port(turborepo): Paths Crate (#4032),Description Decided to adapt buck2's path module as our turborepo-paths crate. This PR moves it over and adjusts some naming/style choices. Testing Instructions The module came with some pretty thorough tests and doctests. You can run with cargo test -p turborepo-paths. Give a quick description of steps to test your changes. When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label
765,improve introspection (#4135),Description Add more details to introspection and make it more robust to errors during introspection Testing Instructions go to http://localhost:3000/turbopack/,improve introspection (#4135),Description Add more details to introspection and make it more robust to errors during introspection Testing Instructions go to link/
766,fix app dir with latest next.js (#4134),Description  fix manifest for ssr_module_mapping add missing styled-jsx alias  Testing Instructions layout-playground,fix app dir with latest next.js (#4134),Description fix manifest for ssr_module_mapping add missing styled-jsx alias Testing Instructions layout-playground
767,improve handling of syntax errors in HMR (#4129),"Description It's a bit ugly and I dislike the way it's implemented, but this will help for now.  When using HMR and introducing an parse error to a module, this keeps the previous references and exports type to keep the environment intact and avoid unloading a bunch of modules  depends on https://github.com/vercel/turbo/pull/3975 to work correctly",improve handling of syntax errors in HMR (#4129),"Description It's a bit ugly and I dislike the way it's implemented, but this will help for now. When using HMR and introducing an parse error to a module, this keeps the previous references and exports type to keep the environment intact and avoid unloading a bunch of modules depends on link to work correctly"
768,Merge EcmascriptChunkUpdates before sending them to the client (#3975),"This diff: * introduces the VersionedContentMerger trait, which allows for merging the updates of versioned contents within the same chunk group; * implements this for EcmascriptChunkContent/EcmascriptChunkUpdate, turning them into EcmascriptMergedChunkContent/EcmascriptMergedChunkUpdate; * creates a new ChunkList asset which is capable of merging chunk updates of chunks within the same chunk group, and create such an asset for dynamic chunks (through manifest/loader_item.rs) and chunk group files assets. This fixes a bunch of edge cases related to HMR: * HMR of dynamic imports now works; * Chunks getting added/deleted/renamed now also works with HMR, since we're listening to updates at the chunk group level; * CSS chunks get reloaded in the right order, with respect for precedence. There are still known edge cases with HMR: * CSS chunks added through HMR are not inserted at the right position to respect precedence (WEB-652). * Update aggregation is disabled because we don't want a critical issue to stop all HMR (WEB-582) . This would be fixed by applying aggregated updates when dismissing the error modal, but there are some edge cases with this too (e.g. what happens when an HMR update also causes an error on top of an existing error).",Merge EcmascriptChunkUpdates before sending them to the client (#3975),"This diff: * introduces the VersionedContentMerger trait, which allows for merging the updates of versioned contents within the same chunk group; * implements this for EcmascriptChunkContent/EcmascriptChunkUpdate, turning them into EcmascriptMergedChunkContent/EcmascriptMergedChunkUpdate; * creates a new ChunkList asset which is capable of merging chunk updates of chunks within the same chunk group, and create such an asset for dynamic chunks (through manifest/loader_item.rs) and chunk group files assets. This fixes a bunch of edge cases related to HMR: * HMR of dynamic imports now works; * Chunks getting added/deleted/renamed now also works with HMR, since we're listening to updates at the chunk group level; * CSS chunks get reloaded in the right order, with respect for precedence. There are still known edge cases with HMR: * CSS chunks added through HMR are not inserted at the right position to respect precedence (WEB-652). * Update aggregation is disabled because we don't want a critical issue to stop all HMR (WEB-582) . This would be fixed by applying aggregated updates when dismissing the error modal, but there are some edge cases with this too (e.g. what happens when an HMR update also causes an error on top of an existing error)."
769,Update to nightly-2023-03-09 (#4025),Description Updates our Rust toolchain to nightly-2023-03-01. Testing Instructions Automated builds and tests.  Co-authored-by: LongYinan lynweklm@gmail.com,Update to nightly-2023-03-09 (#4025),Description Updates our Rust toolchain to nightly-2023-03-01. Testing Instructions Automated builds and tests. Co-authored-by: LongYinan lynweklm@gmail.com
770,Small cleanup for ChunkGroupFiles (#4061),"Had this diff in my stash, might as well commit it.",Small cleanup for ChunkGroupFiles (#4061),"Had this diff in my stash, might as well commit it."
771,release(turborepo): 1.8.4-canary.4 (#4131),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.4 (#4131),Co-authored-by: Turbobot turbobot@vercel.com
772,update next.js version (#4130),,update next.js version (#4130),
773,Support exclusions in inputs (#4066),"Description  Support exclusion globs (!some-glob) in inputs specifications Modify file hashing for a package to only consider git status in the case where we aren't using inputs. inputs already uses git hash-object which operates on the state of the working tree, as opposed to git ls-tree which operates on a particular commit. This additionally fixes an issue where a dirty file not included in inputs could get included in the hash. Fix manual file hashing to use the correct prefix on globs (and to support exclusions) Modify globby to allow excluding individual files, not just directories  We have behavior to force excludes in globby to apply to directories, but AFAICT we don't document this behavior. Our existing documentation of excludes in outputs uses **. My preference would be to drop it so that we have a unified globbing syntax. However, my code here special-cases user input that ends in ** to maintain both behaviors. Testing Instructions A new integration test uses inputs with an exclusion to exclude a file from the hash. The excluded file is modified in the test, then hash matching and full turbo are verified. Globby has a new test as well for excluding a single file, vs a directory. taskhash_test.go has an additional edge case to handle excluding files in inputs specifications that fall back to manual file hashing. Fixes #1407",Support exclusions in inputs (#4066),"Description Support exclusion globs (!some-glob) in inputs specifications Modify file hashing for a package to only consider git status in the case where we aren't using inputs. inputs already uses git hash-object which operates on the state of the working tree, as opposed to git ls-tree which operates on a particular commit. This additionally fixes an issue where a dirty file not included in inputs could get included in the hash. Fix manual file hashing to use the correct prefix on globs (and to support exclusions) Modify globby to allow excluding individual files, not just directories We have behavior to force excludes in globby to apply to directories, but AFAICT we don't document this behavior. Our existing documentation of excludes in outputs uses **. My preference would be to drop it so that we have a unified globbing syntax. However, my code here special-cases user input that ends in ** to maintain both behaviors. Testing Instructions A new integration test uses inputs with an exclusion to exclude a file from the hash. The excluded file is modified in the test, then hash matching and full turbo are verified. Globby has a new test as well for excluding a single file, vs a directory. taskhash_test.go has an additional edge case to handle excluding files in inputs specifications that fall back to manual file hashing. Fixes #1407"
774,"Revert ""Flag on the Go sandwich, attempt #2"" (#4127","Reverts vercel/turbo#4115 Found issues w/ alpine linux, vercel build container, and windows","Revert ""Flag on the Go sandwich, attempt #2"" (#4127","Reverts vercel/turbo#4115 Found issues w/ alpine linux, vercel build container, and windows"
775,Use streaming file reads when comparing for writes (#4093),"Description Following #3526, this reimplements write(content)'s file comparison to stream the contents of the file. Not every file we write is massive, but some of the ones we generate are 100kb+. I hope this can reduce memory pressure a bit by using a consistent 8kb block size, instead of allocating a buffer for the full file contents just to check if we should write. Testing Instructions Wait for benchmarks.  Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",Use streaming file reads when comparing for writes (#4093),"Description Following #3526, this reimplements write(content)'s file comparison to stream the contents of the file. Not every file we write is massive, but some of the ones we generate are 100kb+. I hope this can reduce memory pressure a bit by using a consistent 8kb block size, instead of allocating a buffer for the full file contents just to check if we should write. Testing Instructions Wait for benchmarks. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
776,release(turborepo): 1.8.4-canary.3 (#4125),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.3 (#4125),Co-authored-by: Turbobot turbobot@vercel.com
777,"Introduce TraitRefs, remove cell_local (#3887)",".cell_local's semantics are very confusing and can be the cause of particularly hard-to-debug issues. Furthermore, they can't be nested correctly, which is necessary for my future HMR work. Instead, @sokra proposed that we should always use ReadRefs instead. This PR introduces a way to generate ReadRef-like TraitRefs for a given trait Vc. The purpose of these refs is only to be passed around, to be converted back into a Vc eventually. You can't call any other method on a TraitRef. This serves the same purpose as cell_local, as you can ""snapshot"" a value pointed to by a trait Vc through a trait ref, and re-cell that snapshot at a later time (see the tests). However, this has the same pitfall as cell_local: nested Vcs will still update. @sokra proposed we should have ValueSnapshot types which flatten nested Vcs recursively, but this will have to wait until we have time to tackle tech debt. This also introduces the ReadRef::cell method, which works the same way as TraitRef::cell but can be used on ReadRefs instead.","Introduce TraitRefs, remove cell_local (#3887)",".cell_local's semantics are very confusing and can be the cause of particularly hard-to-debug issues. Furthermore, they can't be nested correctly, which is necessary for my future HMR work. Instead, @sokra proposed that we should always use ReadRefs instead. This PR introduces a way to generate ReadRef-like TraitRefs for a given trait Vc. The purpose of these refs is only to be passed around, to be converted back into a Vc eventually. You can't call any other method on a TraitRef. This serves the same purpose as cell_local, as you can ""snapshot"" a value pointed to by a trait Vc through a trait ref, and re-cell that snapshot at a later time (see the tests). However, this has the same pitfall as cell_local: nested Vcs will still update. @sokra proposed we should have ValueSnapshot types which flatten nested Vcs recursively, but this will have to wait until we have time to tackle tech debt. This also introduces the ReadRef::cell method, which works the same way as TraitRef::cell but can be used on ReadRefs instead."
778,WEB-415: next/font/google: Use next's bundled font-data.json (#4111),"This removes the duplicated (and possibly mismatching) font data file in favor of loading the copy bundled with next, using load_next_json introduced in #4086. It also removes the associated workflow and generation script.",WEB-415: next/font/google: Use next's bundled font-data.json (#4111),"This removes the duplicated (and possibly mismatching) font data file in favor of loading the copy bundled with next, using load_next_json introduced in #4086. It also removes the associated workflow and generation script."
779,Correct argument to local turbo inference. (#4122),,Correct argument to local turbo inference. (#4122),
780,chore(labels): add rule to label non-vercel PRs (#4120),,chore(labels): add rule to label non-vercel PRs (#4120),
781,build: Make turbo-malloc not depend on mimalloc on linux (#4121),Description This PR fixes the build failure caught at https://github.com/vercel/next.js/pull/46909 Testing Instructions I reverted https://github.com/vercel/turbo/blob/80516ff6f24cd1e83bc4e99a76bff9f0c9e2c42c partially,build: Make turbo-malloc not depend on mimalloc on linux (#4121),Description This PR fixes the build failure caught at link Testing Instructions I reverted link partially
782,fix(turbopack): Update app-renderer (#4102),Description This PR mirrors some related manifest changes in Next.js: https://github.com/vercel/next.js/pull/46881. Testing Instructions    Give a quick description of steps to test your changes.   Co-authored-by: Justin Ridgewell justin@ridgewell.name,fix(turbopack): Update app-renderer (#4102),Description This PR mirrors some related manifest changes in Next.js: link. Testing Instructions Give a quick description of steps to test your changes. Co-authored-by: Justin Ridgewell justin@ridgewell.name
783,Re-repair Root Inference (#4049),Our inference got a little wonky once we started allowing turbo.json in workspaces. This PR restores the ideal selection of the root and reduces the number of syscalls as compared to our current implementation.,Re-repair Root Inference (#4049),Our inference got a little wonky once we started allowing turbo.json in workspaces. This PR restores the ideal selection of the root and reduces the number of syscalls as compared to our current implementation.
784,fix assert alias (#4114),"Description typo, causing resolve failure",fix assert alias (#4114),"Description typo, causing resolve failure"
785,disable issue_path again (#4118),Description Performance is just too bad,disable issue_path again (#4118),Description Performance is just too bad
786,"Revert ""feat(turbopack_ecmascript): support partial tsconfig for the transform"" (#4117)",Reverts vercel/turbo#3995,"Revert ""feat(turbopack_ecmascript): support partial tsconfig for the transform"" (#4117)",Reverts vercel/turbo#3995
787,"Flag on the Go sandwich, attempt #2 (#4115)",Description Flag on builds with the Go sandwich Testing Instructions The team manually verified builds from https://github.com/arlyon/turbo/actions/runs/4355600953 which includes this flag,"Flag on the Go sandwich, attempt #2 (#4115)",Description Flag on builds with the Go sandwich Testing Instructions The team manually verified builds from link which includes this flag
788,Add globalenv to run summary (#4090),"This commit adds a list of environment variables that affect every task hash into the run summary. These could be configured via globalEnv or from turbo itself. There are three separate but related changes here:  Refactors the env package so it can get env vars matching a regex Adapts the existing framework prefix matchers to use that)  Adapts calculateGlobalHash to use the env package to get global env keys   Changes calculateGlobalHash implementation to use a named struct Keep the anonmyous struct to keep global hashes stable, but lets us keep a handle on global env vars in an env.DetailedMapstruct so we can get ""secret"" hashed values for run summaries 3. Finally, adds theglobal` env vars to each task summary. I chose to add these env vars to the task summary, instead in the global space, so that a single TaskSummary contains everything needed to diff between runs ",Add globalenv to run summary (#4090),"This commit adds a list of environment variables that affect every task hash into the run summary. These could be configured via globalEnv or from turbo itself. There are three separate but related changes here: Refactors the env package so it can get env vars matching a regex Adapts the existing framework prefix matchers to use that) Adapts calculateGlobalHash to use the env package to get global env keys Changes calculateGlobalHash implementation to use a named struct Keep the anonmyous struct to keep global hashes stable, but lets us keep a handle on global env vars in an env.DetailedMapstruct so we can get ""secret"" hashed values for run summaries 3. Finally, adds theglobal` env vars to each task summary. I chose to add these env vars to the task summary, instead in the global space, so that a single TaskSummary contains everything needed to diff between runs"
789,chore: Bumping fsnotify version (#3956),Getting some build errors due to out of date dependency.,chore: Bumping fsnotify version (#3956),Getting some build errors due to out of date dependency.
790,release(turborepo): 1.8.4-canary.2 (#4113),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.2 (#4113),Co-authored-by: Turbobot turbobot@vercel.com
791,Do not publish nightly Turbopack Releases (#4112),"We'll still generate the tag, but won't be adding a prerelease release.",Do not publish nightly Turbopack Releases (#4112),"We'll still generate the tag, but won't be adding a prerelease release."
792,feat(turbopack_ecmascript): support partial tsconfig for the transform (#3995),"Resolves WEB-667, WEB-659. This PR allows to specify partial tsconfig (specifically, useDefineForClassFields / legacy decorators for now) into ecmatransform. There are few tsconfig options affect to the runtime output of typescript need to be specified when performing transform, useDefineForClassFields is one of them. For now, PR attempts to fix test/development/basic/define-class-fields.test.ts / test/development/basic/legacy-decorators.test.ts by enabling one options. .swcrc is still not being honored in this changes.",feat(turbopack_ecmascript): support partial tsconfig for the transform (#3995),"Resolves WEB-667, WEB-659. This PR allows to specify partial tsconfig (specifically, useDefineForClassFields / legacy decorators for now) into ecmatransform. There are few tsconfig options affect to the runtime output of typescript need to be specified when performing transform, useDefineForClassFields is one of them. For now, PR attempts to fix test/development/basic/define-class-fields.test.ts / test/development/basic/legacy-decorators.test.ts by enabling one options. .swcrc is still not being honored in this changes."
793,next/font: Generate fallback fonts (#4086),"This: * Generates and uses definitions for fallback system fonts to use in place of user fonts, or as they are loading. * Reads the font metrics file from the next package directly relative to the user's app. * Fixes a bug where adjust_font_fallback defaulted to false instead of true. * Begins to refactor next/font code to be more modular in anticipation of next/font/local support. * Changes handle_resolve_error to take an origin FileSystemPathVc instead of a ResolveOriginVc as this is all it used, and a resolve origin isn't always available.",next/font: Generate fallback fonts (#4086),"This: * Generates and uses definitions for fallback system fonts to use in place of user fonts, or as they are loading. * Reads the font metrics file from the next package directly relative to the user's app. * Fixes a bug where adjust_font_fallback defaulted to false instead of true. * Begins to refactor next/font code to be more modular in anticipation of next/font/local support. * Changes handle_resolve_error to take an origin FileSystemPathVc instead of a ResolveOriginVc as this is all it used, and a resolve origin isn't always available."
794,Parallelize fetching cache state on dry runs (#4110),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Parallelize fetching cache state on dry runs (#4110),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
795,fix: ensure that memory is free'd using the same allocator (#4101),"We were encountering segfaults on certain combinations of go / rust versions. This was determined to be due to differing allocators. Memory reserved on one side of the sandwich and free'd on the other would sometimes fail depending on toolchains / platform. This resolves that problem. To complicate things, this issue would only arise during cross-compilation, and not when building on the target OS / arch, as the allocator would presumably be the same. Testing Instructions I am going to run a dry run canary that we can re-test, though I have manualy verified the cross-compilation for win amd64.",fix: ensure that memory is free'd using the same allocator (#4101),"We were encountering segfaults on certain combinations of go / rust versions. This was determined to be due to differing allocators. Memory reserved on one side of the sandwich and free'd on the other would sometimes fail depending on toolchains / platform. This resolves that problem. To complicate things, this issue would only arise during cross-compilation, and not when building on the target OS / arch, as the allocator would presumably be the same. Testing Instructions I am going to run a dry run canary that we can re-test, though I have manualy verified the cross-compilation for win amd64."
796,fix windows/macOS only warnings (#4108),Description left-over warnings for previous PR,fix windows/macOS only warnings (#4108),Description left-over warnings for previous PR
797,Add tests for RopeReader iteration (#4106),,Add tests for RopeReader iteration (#4106),
798,only use recursive watchers on macOS and windows (#4100),"Description Only windows and macOS support real recursive file watchers, other OS emulate it by walking the directory structure and watching all directories. But that might be really slow and use up a lot of watchers, so we don't want that. Instead we know exactly which directories are used and can watch selectively directories when they are accessed.  only use recursive watchers on macOS and windows fallback to non-recursively watch read directories on other OS  Note that this implementation still has some bugs when renaming folders, but we can probably figure out these edge cases later...",only use recursive watchers on macOS and windows (#4100),"Description Only windows and macOS support real recursive file watchers, other OS emulate it by walking the directory structure and watching all directories. But that might be really slow and use up a lot of watchers, so we don't want that. Instead we know exactly which directories are used and can watch selectively directories when they are accessed. only use recursive watchers on macOS and windows fallback to non-recursively watch read directories on other OS Note that this implementation still has some bugs when renaming folders, but we can probably figure out these edge cases later..."
799,revert workspace dependency to allow building correctly (#4103),"Description Cargo always uses default features for workspace dependencies, so we can't use that here. See also comment. Testing Instructions $ cargo tree -p next-binding -i openssl --target x86_64-unknown-linux-gnu -e features error: package ID specification `openssl` did not match any packages",revert workspace dependency to allow building correctly (#4103),"Description Cargo always uses default features for workspace dependencies, so we can't use that here. See also comment. Testing Instructions $ cargo tree -p next-binding -i openssl --target x86_64-unknown-linux-gnu -e features error: package ID specification module did not match any packages"
800,Add chotot to showcase (#4097),"We use Turporepo at Chợ Tốt to manage internal libraries and build one of the highest traffic websites on Chợ Tốt. The amount of time that Turporepo has helped us save is enormous, and we are very grateful to you for creating such a powerful tool and sharing it with the world completely for free.",Add chotot to showcase (#4097),"We use Turporepo at Chợ Tốt to manage internal libraries and build one of the highest traffic websites on Chợ Tốt. The amount of time that Turporepo has helped us save is enormous, and we are very grateful to you for creating such a powerful tool and sharing it with the world completely for free."
801,ci(workflow): fix detecting current next.js version (#4089),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",ci(workflow): fix detecting current next.js version (#4089),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
802,improve and enable issue path handling (#4017),"Description adds the issue trace again, adds some basic descriptions e. g. to pages Testing Instructions snapshot issues [X] Auto label",improve and enable issue path handling (#4017),"Description adds the issue trace again, adds some basic descriptions e. g. to pages Testing Instructions snapshot issues [X] Auto label"
803,place all pages in the same intermediate output directory (#4081),Description The isolation is unnecessary and we can reuse files when we share directories Testing Instructions Open multiple pages without client-side navigation in multiple tabs concurrently.,place all pages in the same intermediate output directory (#4081),Description The isolation is unnecessary and we can reuse files when we share directories Testing Instructions Open multiple pages without client-side navigation in multiple tabs concurrently.
804,Refactor GraphTraversal to avoid non-determinism (#4098),"Description The current design of the Visit trait makes it easy to introduce non-determinism by having map_children return different results depending on the order in which it's called. For instance, if map_children tries to de-duplicate children (as is the case in ChunkContentVisit): ``` Order 1: 1. (from parent Node1) map_children([NodeA, NodeB]) -> GraphTraversalControlFlow::Continue([NodeA, NodeB]) 2. (from parent Node2) map_children([NodeB, NodeC]) -> GraphTraversalControlFlow::Continue([NodeC]) Order 2: 1. (from parent Node2) map_children([NodeB, NodeC]) -> GraphTraversalControlFlow::Continue([NodeB, NodeC]) 2. (from parent Node1) map_children([NodeA, NodeB]) -> GraphTraversalControlFlow::Continue([NodeA]) ``` These two calling orders will result in different generated graphs, as the first order will forget about the edge Node2 -> NodeB, while the second will forget about the edge Node1 -> NodeB. Instead, this PR makes it so map_children is called after inserting all nodes into the graph. This ensures that a different ordering can't affect the final shape of the graph. It also refactors the GraphTraversal::visit method and the Visit trait to make it more consistent with graph terminology and (hopefully) easier to understand. Testing Instructions This solves an issue on the branch sokra/repro-for-alex.",Refactor GraphTraversal to avoid non-determinism (#4098),"Description The current design of the Visit trait makes it easy to introduce non-determinism by having map_children return different results depending on the order in which it's called. For instance, if map_children tries to de-duplicate children (as is the case in ChunkContentVisit): module These two calling orders will result in different generated graphs, as the first order will forget about the edge Node2 -> NodeB, while the second will forget about the edge Node1 -> NodeB. Instead, this PR makes it so map_children is called after inserting all nodes into the graph. This ensures that a different ordering can't affect the final shape of the graph. It also refactors the GraphTraversal::visit method and the Visit trait to make it more consistent with graph terminology and (hopefully) easier to understand. Testing Instructions This solves an issue on the branch sokra/repro-for-alex."
805,Generate a run summary file on turbo run (#4069),,Generate a run summary file on turbo run (#4069),
806,Reduce memory usage when writing files (#3526),"This PR reduces the our total memory usage (hopefully) for files that we write to disk. When we write a file, we obviously have the input bytes (the bytes we want to write to disk). But we also read the file to see if the file needs to be written at all. This means we have another copy of the bytes, the ones that came from the disk. Worse, our write is strongly dependent on the read's RopeVc. Meaning we're stuck with that read memory until some indeterminate time. And any time we update the written contents, we're gonna get more bytes stuck in our Vc cache. The goal here is to track the file, so that we can rewrite it if it's modified/deleted. Why not have an API specific to tracking, without actually reading any contents? This PR does exactly that. And now that we don't need to read contents to track, we can avoid using the read() API (and its RopeVc) in order to do our new-old contents comparison.",Reduce memory usage when writing files (#3526),"This PR reduces the our total memory usage (hopefully) for files that we write to disk. When we write a file, we obviously have the input bytes (the bytes we want to write to disk). But we also read the file to see if the file needs to be written at all. This means we have another copy of the bytes, the ones that came from the disk. Worse, our write is strongly dependent on the read's RopeVc. Meaning we're stuck with that read memory until some indeterminate time. And any time we update the written contents, we're gonna get more bytes stuck in our Vc cache. The goal here is to track the file, so that we can rewrite it if it's modified/deleted. Why not have an API specific to tracking, without actually reading any contents? This PR does exactly that. And now that we don't need to read contents to track, we can avoid using the read() API (and its RopeVc) in order to do our new-old contents comparison."
807,ci(workflow): use named volume mount for the next.js tests (#4072),"Description This PR is workaround for WEB-679. Since most of perf bottleneck comes from bind-mounted host volume to the container, PR changes it to use named volume without bind to the host. Note this is a stopgap workaround, not a fix for the issue.",ci(workflow): use named volume mount for the next.js tests (#4072),"Description This PR is workaround for WEB-679. Since most of perf bottleneck comes from bind-mounted host volume to the container, PR changes it to use named volume without bind to the host. Note this is a stopgap workaround, not a fix for the issue."
808,fix(eslint-plugin): fix perf and file perms error (#4084),,fix(eslint-plugin): fix perf and file perms error (#4084),
809,fix module options in middleware (#4083),Description allows to use jsx in middleware,fix module options in middleware (#4083),Description allows to use jsx in middleware
810,ci(workflow): fix build errors (#4082),Description Minor fix for the daily next.js test runs.,ci(workflow): fix build errors (#4082),Description Minor fix for the daily next.js test runs.
811,Log the json that we are sending to the go binary (#4067),Description Adds a trace log line for the json payload that we use to invoke the go binary Testing Instructions tested manually w/ turbo build -vvv,Log the json that we are sending to the go binary (#4067),Description Adds a trace log line for the json payload that we use to invoke the go binary Testing Instructions tested manually w/ turbo build -vvv
812,Make  in next.config.js optional (#4080),"Description Ensures target is optional to match #46801 which removes the option.    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.",Make  in next.config.js optional (#4080),"Description Ensures target is optional to match #46801 which removes the option. ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes."
813,Remove graceful failure handling in routing (#3959),The graceful failures mean it's easy to accidentally break the router without noticing.,Remove graceful failure handling in routing (#3959),The graceful failures mean it's easy to accidentally break the router without noticing.
814,improve symbol mangling for profiling (#4063),Description This includes the values of generics in debug symbols which improves profiling,improve symbol mangling for profiling (#4063),Description This includes the values of generics in debug symbols which improves profiling
815,inject swc helpers (#4060),Description This fixed the _extends is not defined issue.,inject swc helpers (#4060),Description This fixed the _extends is not defined issue.
816,next/font: Align with Next.js integration test suite (#4039),"This: * Adds a compile-time feature, __internal_nextjs_integration_test, which is set when building Turbopack for the Next.js integration test suite. * When built with __internal_nextjs_integration_test, expects the environment variable NEXT_FONT_GOOGLE_MOCKED_RESPONSES to be set with an absolute path to a JavaScript file exporting a mapping of urls to stylesheet text. This is used in place of making real requests to Google Fonts. * Addresses some small bugs in next/font/google to bring the implementation in line with the urls generated by Next.js without Turbopack. * Changes classnames generated by next/font to use 6 character hashes, bringing it in alignment with Next.js without Turbopack. Test Plan: * Adjusted existing unit tests * In Next.js, node run-tests.js -c 1 test/e2e/next-font/index.test.ts Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.     When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label",next/font: Align with Next.js integration test suite (#4039),"This: * Adds a compile-time feature, __internal_nextjs_integration_test, which is set when building Turbopack for the Next.js integration test suite. * When built with __internal_nextjs_integration_test, expects the environment variable NEXT_FONT_GOOGLE_MOCKED_RESPONSES to be set with an absolute path to a JavaScript file exporting a mapping of urls to stylesheet text. This is used in place of making real requests to Google Fonts. * Addresses some small bugs in next/font/google to bring the implementation in line with the urls generated by Next.js without Turbopack. * Changes classnames generated by next/font to use 6 character hashes, bringing it in alignment with Next.js without Turbopack. Test Plan: * Adjusted existing unit tests * In Next.js, node run-tests.js -c 1 test/e2e/next-font/index.test.ts Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes. When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label"
817,release(turborepo): 1.8.4-canary.1 (#4070),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.1 (#4070),Co-authored-by: Turbobot turbobot@vercel.com
818,release(turborepo): 1.8.4-canary.0 (#4065),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.4-canary.0 (#4065),Co-authored-by: Turbobot turbobot@vercel.com
819,"Revert ""enable rust codepath in release process"" (#4068)",Reverts vercel/turbo#3903 Flag rust library off until we sort out compatibility issues,"Revert ""enable rust codepath in release process"" (#4068)",Reverts vercel/turbo#3903 Flag rust library off until we sort out compatibility issues
820,Create runsummary package and rename DryRunSummary to RunSummary (#4052),This refactor starts to the stage to use the same struct for to report on real runs,Create runsummary package and rename DryRunSummary to RunSummary (#4052),This refactor starts to the stage to use the same struct for to report on real runs
821,Fix/handle cross compile release (#4012),We are currently not cross-compiling during release. This makes a few changes to the go sandwich to make this possible.,Fix/handle cross compile release (#4012),We are currently not cross-compiling during release. This makes a few changes to the go sandwich to make this possible.
822,Assign Framework to PackageTask struct (#4050),This change helps to keep taskhash internals private and protects against read/write race conditions against an internal map. This will also make the framework more easily accessible in the Real Run Summary,Assign Framework to PackageTask struct (#4050),This change helps to keep taskhash internals private and protects against read/write race conditions against an internal map. This will also make the framework more easily accessible in the Real Run Summary
823,Add turboVersion into dry run summary (#4047),,Add turboVersion into dry run summary (#4047),
824,move common dependencies to workspace root (#3890),,move common dependencies to workspace root (#3890),
825,Client timeout (#3998),"This commit authored in part by @tm1000. Closes #1993 Closes #2096 Closes #2428 Notes: - You may want to look at the original diff: https://github.com/vercel/turbo/pull/2428/files?w=1 - I've completely removed pflag at this point. It was only being used in tests. - I've added a new ""config"" in Rust land, for the API client. It only accepts timeout right now.",Client timeout (#3998),"This commit authored in part by @tm1000. Closes #1993 Closes #2096 Closes #2428 Notes: - You may want to look at the original diff: link - I've completely removed pflag at this point. It was only being used in tests. - I've added a new ""config"" in Rust land, for the API client. It only accepts timeout right now."
826,webpack loaders: implement emitError and emitWarning (#3983),"This implements webpack loader context api for emitError and emitWarning, each of which emit Turbopack issues at the appropriate error level. As with webpack’s implementation, emitError does not cause builds to fail [0]. This uses next-dev issue snapshots (#3774) to test that issues are emitted. [0] https://webpack.js.org/api/loaders/#thisemiterror  Co-authored-by: Justin Ridgewell justin@ridgewell.name",webpack loaders: implement emitError and emitWarning (#3983),"This implements webpack loader context api for emitError and emitWarning, each of which emit Turbopack issues at the appropriate error level. As with webpack’s implementation, emitError does not cause builds to fail [0]. This uses next-dev issue snapshots (#3774) to test that issues are emitted. [0] link Co-authored-by: Justin Ridgewell justin@ridgewell.name"
827,Remove box indirection in Ropes (#4040),,Remove box indirection in Ropes (#4040),
828,Hoist TransientInstances in Turbotrace (#4058),,Hoist TransientInstances in Turbotrace (#4058),
829,handle data paths for pages with getStaticPaths (#4013),,handle data paths for pages with getStaticPaths (#4013),
830,add env to spawned processes (#4005),Fixes WEB-517 Fixes #3876,add env to spawned processes (#4005),Fixes WEB-517 Fixes #3876
831,Separate tabs for Errors and Warnings in error overlay (#4001),,Separate tabs for Errors and Warnings in error overlay (#4001),
832,Expose module_options and resolve_options in turbotrace (#3839),"This pr allows passing ModuleOptionsContext and ResolveOptionsContext in fn start, so next.js can pass enableJsx: true, enableTypes: true while tracing entries, and enableJsx: false, enableTypes: false while tracing compiled files.",Expose module_options and resolve_options in turbotrace (#3839),"This pr allows passing ModuleOptionsContext and ResolveOptionsContext in fn start, so next.js can pass enableJsx: true, enableTypes: true while tracing entries, and enableJsx: false, enableTypes: false while tracing compiled files."
833,fix(codemod): don’t set outputs for cache:false (#4029),Description Fixes https://github.com/vercel/turbo/issues/3979. We don't need to add outputs to tasks with cache: false Testing Instructions This change is fully covered with unit tests.    When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label,fix(codemod): don’t set outputs for cache:false (#4029),Description Fixes link. We don't need to add outputs to tasks with cache: false Testing Instructions This change is fully covered with unit tests. When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label
834,chore(repo): remove auto label option (#4057),"Description    ✍️ Write a short summary of your work.   If necessary, include relevant screenshots.  Testing Instructions    Give a quick description of steps to test your changes.     When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label",chore(repo): remove auto label option (#4057),"Description ✍️ Write a short summary of your work.   If necessary, include relevant screenshots. Testing Instructions Give a quick description of steps to test your changes. When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label"
835,Typo Turobpack -> Turbopack (#4055),^,Typo Turobpack -> Turbopack (#4055),^
836,Only handle issues in dev server (#3891),All issues from source are already handled here: https://github.com/vercel/turbo/blob/24801f42c4a5249854d05f3cc788e7d9a3291796/crates/turbopack-dev-server/src/lib.rs#L168 So no need to handle them multiple times,Only handle issues in dev server (#3891),All issues from source are already handled here: link So no need to handle them multiple times
837,avoid bundling and execution of modules just of watching (#4053),"Description  use completions to signal additional invalidations for evaluation avoid adding these modules as runtime entries, since that will unnecessarily code generate, bundle and execute these modules gets rid of the watch_files_hack  Testing Instructions  change postcss.config, next.config.js, etc. -> changes will be reflected by the app and process restarts",avoid bundling and execution of modules just of watching (#4053),"Description use completions to signal additional invalidations for evaluation avoid adding these modules as runtime entries, since that will unnecessarily code generate, bundle and execute these modules gets rid of the watch_files_hack Testing Instructions change postcss.config, next.config.js, etc. -> changes will be reflected by the app and process restarts"
838,follow up changes from review (#4051),Description Follow-up changes for https://github.com/vercel/turbo/pull/4018    When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.   [x] Auto label,follow up changes from review (#4051),Description Follow-up changes for link When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [x] Auto label
839,Capture console statements as one unit including stack trace (#4028),Description fixes the deduplication issue with multiple output,Capture console statements as one unit including stack trace (#4028),Description fixes the deduplication issue with multiple output
840,debug print errors for nested vcs (#4026),Description It's annoying to debug when the whole dbg will throw an error if any nested Vc is in error state. Instead we want to print the errors here. Testing Instructions    Give a quick description of steps to test your changes.     When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.  [X] Auto label,debug print errors for nested vcs (#4026),Description It's annoying to debug when the whole dbg will throw an error if any nested Vc is in error state. Instead we want to print the errors here. Testing Instructions Give a quick description of steps to test your changes. When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [X] Auto label
841,refactor internal modules (#4018),"Description  get rid of attached filesystem for our embedded modules get rid of import ""."" in favor of inner assets  depends on #3999 Testing Instructions existing tests    When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster.  [X] Auto label",refactor internal modules (#4018),"Description get rid of attached filesystem for our embedded modules get rid of import ""."" in favor of inner assets depends on #3999 Testing Instructions existing tests When the below is checked (default) our PR bot will automatically   assign labels to your PR based on the content to help the team   organize and review it faster. [X] Auto label"
842,fix(route_matcher): do not include empty segment (#4037),"Description Closes WEB-674 if a matcher tries to split path have a slash like /x/y, split gives a redundant empty segment ["""", 'x', 'y'].",fix(route_matcher): do not include empty segment (#4037),"Description Closes WEB-674 if a matcher tries to split path have a slash like /x/y, split gives a redundant empty segment ["""", 'x', 'y']."
843,feat(devserver/http): support gzipped responses (#4011),"Implements WEB-666. This PR enables gzip compressions for the responses by default. This can be extended to other compression method (i.e brotli), but for now implements minimal default compression only to pass existing test case. Fixes test/integration/compression/test/index.test.js.",feat(devserver/http): support gzipped responses (#4011),"Implements WEB-666. This PR enables gzip compressions for the responses by default. This can be extended to other compression method (i.e brotli), but for now implements minimal default compression only to pass existing test case. Fixes test/integration/compression/test/index.test.js."
844,Add task + framework env vars into Dry Run Summary (#4020),"This commit adds an environmentVariables key into dry run output. The data is broken down by the source (configured, and inferred).",Add task + framework env vars into Dry Run Summary (#4020),"This commit adds an environmentVariables key into dry run output. The data is broken down by the source (configured, and inferred)."
845,Refactor env package to breakdown env vars for task by source (#4021),We want this so that we can report on it in Run summaries downstream. The ToHashable() method continues to guarantee that the Composite env vars is deterministic and will not change the input to determining the task hash.,Refactor env package to breakdown env vars for task by source (#4021),We want this so that we can report on it in Run summaries downstream. The ToHashable() method continues to guarantee that the Composite env vars is deterministic and will not change the input to determining the task hash.
846,Calculate TaskHash while constructing PackageTask (#4016),"We want to calculate this earlier, because it has some important side effects such as gathering the hashable inputs, etc. By moving this up the chain, we can ensure that more information is available for run summary and dry run summary in a consistent way.",Calculate TaskHash while constructing PackageTask (#4016),"We want to calculate this earlier, because it has some important side effects such as gathering the hashable inputs, etc. By moving this up the chain, we can ensure that more information is available for run summary and dry run summary in a consistent way."
847,Add missing function from port. (#4027),,Add missing function from port. (#4027),
848,ci(workflow): fix slack post condition (#4033),Small fixes to adjust condition to post to slack for daily test run.,ci(workflow): fix slack post condition (#4033),Small fixes to adjust condition to post to slack for daily test run.
849,chore(repo): fix markdown checkbox in PR template (#4030),,chore(repo): fix markdown checkbox in PR template (#4030),
850,Build Requirements for Ubuntu (#4010),Add this to save other some time in figuring out what exactly Ubuntu needs to build Turbo Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Build Requirements for Ubuntu (#4010),Add this to save other some time in figuring out what exactly Ubuntu needs to build Turbo Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
851,refactor asset identification (#3999)," add Asset::ident() as unique identifier of an Asset add ChunkItem::ident() instead of ChunkItem::to_string() (ValueToString) base chunk_path on AssetIdent instead of path only  Motivation: We want to get rid of the import ""."" in favor of inner assets. When doing this we no longer need to place virtual assets below the actual file path and they can stay in their original path. But placing virtual assets below the actual asset also made the Asset::path unique, which would no longer be the case after using inner assets. Some parts of the code base relied on Asset::path being unique (e. g. module ids and chunk paths). But actually we never guaranteed that to be unique. After this PR Asset::ident is intended to be unique and allow to carry more information than only the path: * Query string (module?query) * Fragment (module#fragment) * Asset (additional wrapped assets by key value pairs) * Modifiers (additional transformations applied on the module, e. g. chunks, client chunks) * In future: Part (select a subpart of the module, e. g. only export abc, or the module evaluation, or some internal part)",refactor asset identification (#3999),"add Asset::ident() as unique identifier of an Asset add ChunkItem::ident() instead of ChunkItem::to_string() (ValueToString) base chunk_path on AssetIdent instead of path only Motivation: We want to get rid of the import ""."" in favor of inner assets. When doing this we no longer need to place virtual assets below the actual file path and they can stay in their original path. But placing virtual assets below the actual asset also made the Asset::path unique, which would no longer be the case after using inner assets. Some parts of the code base relied on Asset::path being unique (e. g. module ids and chunk paths). But actually we never guaranteed that to be unique. After this PR Asset::ident is intended to be unique and allow to carry more information than only the path: * Query string (module?query) * Fragment (module#fragment) * Asset (additional wrapped assets by key value pairs) * Modifiers (additional transformations applied on the module, e. g. chunks, client chunks) * In future: Part (select a subpart of the module, e. g. only export abc, or the module evaluation, or some internal part)"
852,Fix lint error (#4022),,Fix lint error (#4022),
853,feat(overlay): apply data-* header for the error desc (#4015),"Partially resolves WEB-671. There are some test cases use data-nextjs-dialog-header to lookup its inner text to verify error output. Due to differences of error overlay layout between turbopack / next-dev, those 2 have different inner texts. PR applies a workaround, by introducing new data tag data-nextjs-turbo-dialog-body. Next.js upstream will need following update to utilize this tag in its test suites.",feat(overlay): apply data-* header for the error desc (#4015),"Partially resolves WEB-671. There are some test cases use data-nextjs-dialog-header to lookup its inner text to verify error output. Due to differences of error overlay layout between turbopack / next-dev, those 2 have different inner texts. PR applies a workaround, by introducing new data tag data-nextjs-turbo-dialog-body. Next.js upstream will need following update to utilize this tag in its test suites."
854,Convert examples tests to run through prysk (#4000),The advantage of running examples tests through prysk are:  isolated directory by default. don't need to setup a nested git repo can run all tests in a single command (`.cram_env/bin/prysk example_tests/1) matching the pattern with existing integration tests set the pattern to add more sophisticated real-world integration tests against examples,Convert examples tests to run through prysk (#4000),The advantage of running examples tests through prysk are: isolated directory by default. don't need to setup a nested git repo can run all tests in a single command (`.cram_env/bin/prysk example_tests/1) matching the pattern with existing integration tests set the pattern to add more sophisticated real-world integration tests against examples
855,chore(repo): add PR template (#3987),,chore(repo): add PR template (#3987),
856,feat(docs): use ssg for examples (#4014),Add examples to docs via SSG and add new page in getting started to improve discoverability. @anthonyshew feel free to workshop these titles.  Co-authored-by: Anthony Shew anthony.shew@vercel.com,feat(docs): use ssg for examples (#4014),Add examples to docs via SSG and add new page in getting started to improve discoverability. @anthonyshew feel free to workshop these titles. Co-authored-by: Anthony Shew anthony.shew@vercel.com
857,Add inferred framework to Dry Run Summary (#3941),,Add inferred framework to Dry Run Summary (#3941),
858,fix(docs): consistent cta sizes on pack & repo (#4004),,fix(docs): consistent cta sizes on pack & repo (#4004),
859,feat(docs): move reference up in priority (#4007,Based on recent feedback in discord (come hang! https://turbo.build/discord) we're moving the reference (api and cli docs) up in the sidebar to help with discoverability.,feat(docs): move reference up in priority (#4007,Based on recent feedback in discord (come hang! link) we're moving the reference (api and cli docs) up in the sidebar to help with discoverability.
860,chore: add rust ffi integration tests to CI (#3991),As we write Rust code called by Go via FFI we should run integration tests against it. Once we delete the Go code we can delete the go_integration job in favor of the Rust FFI one Waiting to merge until #3996 to reduce noise on PRs Test plan: Make sure that integration tests run on CI,chore: add rust ffi integration tests to CI (#3991),As we write Rust code called by Go via FFI we should run integration tests against it. Once we delete the Go code we can delete the go_integration job in favor of the Rust FFI one Waiting to merge until #3996 to reduce noise on PRs Test plan: Make sure that integration tests run on CI
861,feat(cli): support --no-update-notifier (#4003),,feat(cli): support --no-update-notifier (#4003),
862,Implement faster Rope equality (#3955),"This optimizes for more reference equality checks. The old code allowed for this to happen for Local(Bytes) checks, but it didn't implement reference checks for Shared(InnerRope) shared data. Instead, it'd iterate every RopeElem inside the shared rope and perform equality on those.",Implement faster Rope equality (#3955),"This optimizes for more reference equality checks. The old code allowed for this to happen for Local(Bytes) checks, but it didn't implement reference checks for Shared(InnerRope) shared data. Instead, it'd iterate every RopeElem inside the shared rope and perform equality on those."
863,fix: scm make patterns relative (#3996),"Since the Go ChangedFiles used the command line git it appears that the CLI did some light data processing and if we passed the absolute repo root as the pathspec via CLI we wouldn't have issue. It looks like libgit2 doesn't do this and expects well formed pathspecs so we shouldn't be passing in absolute paths. This PR will attempt to remove the repo root prefix from relative_to. An alternative would be to change Go's behavior to no longer pass the repo root as the default, but that's a larger change and the Rust and Go implementations of ChangedFiles would still differ in the same way, we'd just avoid hitting this behavior in turbo. Test plan: GO_TAG=rust make integration-tests now passes as well as the new unit test",fix: scm make patterns relative (#3996),"Since the Go ChangedFiles used the command line git it appears that the CLI did some light data processing and if we passed the absolute repo root as the pathspec via CLI we wouldn't have issue. It looks like libgit2 doesn't do this and expects well formed pathspecs so we shouldn't be passing in absolute paths. This PR will attempt to remove the repo root prefix from relative_to. An alternative would be to change Go's behavior to no longer pass the repo root as the default, but that's a larger change and the Rust and Go implementations of ChangedFiles would still differ in the same way, we'd just avoid hitting this behavior in turbo. Test plan: GO_TAG=rust make integration-tests now passes as well as the new unit test"
864,feat(codemod): support workspace configs (#3992),"This fixes turbo codemod not building due to the new config schema introduced for workspace configs.  It also adds workspace config support and tests to the codemods that are relevant (env vars and outputs). This isn't strictly necessary as workspace configs were introduced after the version that required these codemods, but I wanted to add this just in case someone uses an old example from around the web to update a workspace config or similar.",feat(codemod): support workspace configs (#3992),"This fixes turbo codemod not building due to the new config schema introduced for workspace configs.  It also adds workspace config support and tests to the codemods that are relevant (env vars and outputs). This isn't strictly necessary as workspace configs were introduced after the version that required these codemods, but I wanted to add this just in case someone uses an old example from around the web to update a workspace config or similar."
865,fix(ci): add back check-types step (#3984),"This was added as part of https://github.com/vercel/turbo/pull/1807, but lost in one of our CI updates.",fix(ci): add back check-types step (#3984),"This was added as part of link, but lost in one of our CI updates."
866,fix prisma example ReferenceError (#3947),The prisma example currently exports the variable client but it should be prisma. database:db:seed: ReferenceError: prisma is not defined,fix prisma example ReferenceError (#3947),The prisma example currently exports the variable client but it should be prisma. database:db:seed: ReferenceError: prisma is not defined
867,"Split the ES chunk module into smaller, more focused modules (#3974)","This diff splits the turbopack-ecmascript/src/chunk/mod.rs and turbopack-ecmascript/src/loader.rs modules into smaller modules, usually centered around one type. The goal of this PR is to make the ecmascript crate easier to navigate and review, as well as reduce the amount of merge conflicts that can arise from modifying imports in two separate diffs within the same module. This PR also changes the visibility of most modules within the crate to be pub(crate) so they're available to the generated register function, but not accidentally leaked outside of the crate. The same is done on a per-type basis with pub(crate) or pub(super).","Split the ES chunk module into smaller, more focused modules (#3974)","This diff splits the turbopack-ecmascript/src/chunk/mod.rs and turbopack-ecmascript/src/loader.rs modules into smaller modules, usually centered around one type. The goal of this PR is to make the ecmascript crate easier to navigate and review, as well as reduce the amount of merge conflicts that can arise from modifying imports in two separate diffs within the same module. This PR also changes the visibility of most modules within the crate to be pub(crate) so they're available to the generated register function, but not accidentally leaked outside of the crate. The same is done on a per-type basis with pub(crate) or pub(super)."
868,Include expanded inputs config for each task in dry run summary (#3957),"This PR adds an expandedInputs key for each task in the --dry=json output and Inputs Files Considered in --dry text output with a number of files considered. This only include a count, because the entire list of files could be long.",Include expanded inputs config for each task in dry run summary (#3957),"This PR adds an expandedInputs key for each task in the --dry=json output and Inputs Files Considered in --dry text output with a number of files considered. This only include a count, because the entire list of files could be long."
869,Update Middleware Routing (#3930),"This accomplishes 2 things: - Moves the creation of the edge info onto the Next.js side - Extracts the middleware's export const config = {}, so that we can know what matchers are needed before invoking the edge function definition. After this, an update to the Next.js side will enable middleware. Fixes WEB-623",Update Middleware Routing (#3930),"This accomplishes 2 things: - Moves the creation of the edge info onto the Next.js side - Extracts the middleware's export const config = {}, so that we can know what matchers are needed before invoking the edge function definition. After this, an update to the Next.js side will enable middleware. Fixes WEB-623"
870,fix: make inputs relative to workspace root (#3993),"Inputs are relative to workspace and not repo root so we need to drop the cli prefix here. I removed the shim/** input as that directory no longer exists and to correctly capture these inputs we should Turbo-fy our crates instead of listing out all of the directories out here. Also, I'm not sure how we feel about a task depending on a file outside of the workspace. Test plan: pnpm -- turbo run e2e --filter=cli echo ""console.log('big change')"" >> cli/scripts/e2e/e2e.ts pnpm -- turbo run e2e --filter=cli should no longer produce a cache hit on the second run",fix: make inputs relative to workspace root (#3993),"Inputs are relative to workspace and not repo root so we need to drop the cli prefix here. I removed the shim/** input as that directory no longer exists and to correctly capture these inputs we should Turbo-fy our crates instead of listing out all of the directories out here. Also, I'm not sure how we feel about a task depending on a file outside of the workspace. Test plan: pnpm -- turbo run e2e --filter=cli echo ""console.log('big change')"" >> cli/scripts/e2e/e2e.ts pnpm -- turbo run e2e --filter=cli should no longer produce a cache hit on the second run"
871,Add tests to validate errors-only is working (#3945),,Add tests to validate errors-only is working (#3945),
872,fix: Parse from and to commits with revparse instead of OID (#3988),,fix: Parse from and to commits with revparse instead of OID (#3988),
873,docs: Updated codeowners with new turborepo crates (#3990),Also updated documentation on adding crate,docs: Updated codeowners with new turborepo crates (#3990),Also updated documentation on adding crate
874,enable rust codepath in release process (#3903),This enables the 'go sandwich' by flipping the go tag in our release pipeline.,enable rust codepath in release process (#3903),This enables the 'go sandwich' by flipping the go tag in our release pipeline.
875,release(turborepo): 1.8.3 (#3989),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.3 (#3989),Co-authored-by: Turbobot turbobot@vercel.com
876,Snapshot issues in next-dev-tests (#3774),"This: * Adds issue snapshot support to next-dev-tests. This will allow us to assert that certain issues are raised in tests that require next-dev. * Extracts common snapshot code into a new crates, turbopack-test-utils, which is shared between snapshot tests and next-dev-tests. * Implements an issue reporter that emits issues in a channel to the the integration test code, where they are snapshotted. * Fixes an issue where next-dev tests that were not Next.js apps would emit non-fatal issues for a missing pages/ directory. Co-authored-by: Justin Ridgewell justin@ridgewell.name  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Snapshot issues in next-dev-tests (#3774),"This: * Adds issue snapshot support to next-dev-tests. This will allow us to assert that certain issues are raised in tests that require next-dev. * Extracts common snapshot code into a new crates, turbopack-test-utils, which is shared between snapshot tests and next-dev-tests. * Implements an issue reporter that emits issues in a channel to the the integration test code, where they are snapshotted. * Fixes an issue where next-dev tests that were not Next.js apps would emit non-fatal issues for a missing pages/ directory. Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name"
877,ci(workflow): daily next.js test runs against default branch (#3949),This PR switches daily next.js integration test to use latest default branch (canary) instead of specific published version.,ci(workflow): daily next.js test runs against default branch (#3949),This PR switches daily next.js integration test to use latest default branch (canary) instead of specific published version.
878,release(turborepo): 1.8.3-canary.0 (#3981),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.3-canary.0 (#3981),Co-authored-by: Turbobot turbobot@vercel.com
879,Add more notes to release.md (#3980),,Add more notes to release.md (#3980),
880,chore(owners): remove pnpm-lock.yaml (#3977),,chore(owners): remove pnpm-lock.yaml (#3977),
881,Automatic babel-loader followup (#3944),This: * Addresses feedback from https://github.com/vercel/turbo/pull/3862 * Exempts VirtualAssets from webpack loaders. This addresses a bug where next-hydrate.tsx could not be read.     * Adds ModuleRuleCondition::ResourceIsVirtualAsset to filter these  Co-authored-by: Justin Ridgewell justin@ridgewell.name,Automatic babel-loader followup (#3944),This: * Addresses feedback from link * Exempts VirtualAssets from webpack loaders. This addresses a bug where next-hydrate.tsx could not be read.     * Adds ModuleRuleCondition::ResourceIsVirtualAsset to filter these Co-authored-by: Justin Ridgewell justin@ridgewell.name
882,chore(renovate): ignore more turbopack tests (#3978),,chore(renovate): ignore more turbopack tests (#3978),
883,chore(eslint): bump version (#3976),,chore(eslint): bump version (#3976),
884,fix(eslint): better messaging and bug fix (#3950,A few fixes for the eslint plugin.   Fix error message to remove the leading $ since that was deprecated in 1.5 Provides more explicit error messaging  Fixes a bug that could cause the rule to exit early if no global deps were provided Cleans up / standardizes tests and mocks  This should also fix https://github.com/vercel/turbo/issues/3943,fix(eslint): better messaging and bug fix (#3950,A few fixes for the eslint plugin.  Fix error message to remove the leading $ since that was deprecated in 1.5 Provides more explicit error messaging  Fixes a bug that could cause the rule to exit early if no global deps were provided Cleans up / standardizes tests and mocks This should also fix link
885,fix: support prune without turbo.json (#3785),,fix: support prune without turbo.json (#3785),
886,Remove non-functional css property (#3968),,Remove non-functional css property (#3968),
887,Add per-package-manager instructions to create-new (#3971),,Add per-package-manager instructions to create-new (#3971),
888,Root inference: skip turbo.json (#3946),"Integration tests for inferring the root. This demonstrates that detection based upon turbo.json (and the change made in #3938) is not (particularly) relevant to root identification. How to review: - Each commit is pretty self-contained. You can see me adding a debug line to assert against in the first commit. - The third commit is both a revert of #3938 and a full deletion of the turbo.json-included detection logic.  OUTDATED There is _one_ behavior change. If you previously: 1. Had nested workspaces (which is not supported by us or any package manager). 2. Had a `turbo.json` at the ""outer"" one. 3. Did _not_ have a `turbo.json` at the ""inner"" one  Then we would have selected the outer one. We now select the inner one, and throw an error because the inner one does not have a `turbo.json`. I believe this to be an _improvement_.   3938 treats any turbo.json that has comments in it as nonexistent since serde_json doesn't support JSONC. That everything still worked with parsing that is throwing an error made it clear that the turbo.json check was not being used except for the described edge case.",Root inference: skip turbo.json (#3946),"Integration tests for inferring the root. This demonstrates that detection based upon turbo.json (and the change made in #3938) is not (particularly) relevant to root identification. How to review: - Each commit is pretty self-contained. You can see me adding a debug line to assert against in the first commit. - The third commit is both a revert of #3938 and a full deletion of the turbo.json-included detection logic. OUTDATED There is one behavior change. If you previously: 1. Had nested workspaces (which is not supported by us or any package manager). 2. Had a module at the ""outer"" one. 3. Did not have a module at the ""inner"" one Then we would have selected the outer one. We now select the inner one, and throw an error because the inner one does not have a module. I believe this to be an improvement. 3938 treats any turbo.json that has comments in it as nonexistent since serde_json doesn't support JSONC. That everything still worked with parsing that is throwing an error made it clear that the turbo.json check was not being used except for the described edge case."
889,Update getting started to depend on turbo.json for order (#3859),"With the improvements to dependOn, it seems to be that this is the new best practice and not having the order defined in the npx turbo run ... This would make it easier for new adopters how to structure their turborepo project",Update getting started to depend on turbo.json for order (#3859),"With the improvements to dependOn, it seems to be that this is the new best practice and not having the order defined in the npx turbo run ... This would make it easier for new adopters how to structure their turborepo project"
890,Update index.mdx (#3958),,Update index.mdx (#3958),
891,feat(turbo-utils): bundle to esm (#3952,"Now that we're throwing a few more things in turbo-utils, we should bundle it to esm instead of cjs to support code splitting. This is an internal package, and everything that consumes this bundles to cjs, so compatibility isn't an issue, and this will ensure each package that uses a util from turbo-utils only gets what it needs instead of the entire package. I tested this locally to see the bundle size difference.  For turbo-ignore, the bundle size drops from 245K to 229K. No huge (~6%) but worth it.",feat(turbo-utils): bundle to esm (#3952,"Now that we're throwing a few more things in turbo-utils, we should bundle it to esm instead of cjs to support code splitting. This is an internal package, and everything that consumes this bundles to cjs, so compatibility isn't an issue, and this will ensure each package that uses a util from turbo-utils only gets what it needs instead of the entire package. I tested this locally to see the bundle size difference.  For turbo-ignore, the bundle size drops from 245K to 229K. No huge (~6%) but worth it."
892,Fix issue with --filter when only root pkg contains task (#3951),"Always look up task definition, but limit when it's added to the task graph. This allows us to lazy look up task definitions for the purpose of making sure they are defined, even if we aren't going to run them.",Fix issue with --filter when only root pkg contains task (#3951),"Always look up task definition, but limit when it's added to the task graph. This allows us to lazy look up task definitions for the purpose of making sure they are defined, even if we aren't going to run them."
893,Remove ownership on Cargo.lock file (#3953),,Remove ownership on Cargo.lock file (#3953),
894,Update Google font-data.json (2023-02-24) (#3942),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-02-24) (#3942),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com
895,ci(workflow): upload test results daily (#3926),"This PR moves uploading test results data to the daily cron workflow, and removes per-main-checkin test execution until we reduce number of failing test to consistently check regressions per each changes.",ci(workflow): upload test results daily (#3926),"This PR moves uploading test results data to the daily cron workflow, and removes per-main-checkin test execution until we reduce number of failing test to consistently check regressions per each changes."
896,Update configuring-workspaces.mdx (#3940),,Update configuring-workspaces.mdx (#3940),
897,Fix relative links on installing page (#3937),,Fix relative links on installing page (#3937),
898,Add global hash inputs to dry run output (#3934),,Add global hash inputs to dry run output (#3934),
899,fix: Inference with workspace config (#3938),,fix: Inference with workspace config (#3938),
900,fix(docs): loading eager for blog avatars (#3935),Avatar's shouldn't load lazily (they're always above the fold),fix(docs): loading eager for blog avatars (#3935),Avatar's shouldn't load lazily (they're always above the fold)
901,"docs: Restore webpack loader documentation under ""Customizing Turbopack"" (#3829)","This restores documentation for webpack loaders and resolve aliases under a new page, ""Customizing Turbopack"". This page is now linked to under a new section in ""Migrating from Webpack"". Do not merge until Next 13.2 lands","docs: Restore webpack loader documentation under ""Customizing Turbopack"" (#3829)","This restores documentation for webpack loaders and resolve aliases under a new page, ""Customizing Turbopack"". This page is now linked to under a new section in ""Migrating from Webpack"". Do not merge until Next 13.2 lands"
902,feature: Use error_for_status (#3898),"Instead of manually handling the error, check the HTTP code and error accordingly.",feature: Use error_for_status (#3898),"Instead of manually handling the error, check the HTTP code and error accordingly."
903,Improve lint setup (#3835),Run lint task in each workspace instead of as a global task,Improve lint setup (#3835),Run lint task in each workspace instead of as a global task
904,Add empty public folder to stop Docker builds breaking (#3899),Otherwise it can't create a cache key and the builds fail.  This error affects both buildkit and moby Docker builds.,Add empty public folder to stop Docker builds breaking (#3899),Otherwise it can't create a cache key and the builds fail.  This error affects both buildkit and moby Docker builds.
905,disable bloom filter for now (#3933),it currently breaks because it imports crypto in edge environment which isn't allowed. We need to fix this properly eventually...,disable bloom filter for now (#3933),it currently breaks because it imports crypto in edge environment which isn't allowed. We need to fix this properly eventually...
906,update to 13.1.7-canary.28 (#3931), add @opentelemetry/api alias fix some renamed imports,update to 13.1.7-canary.28 (#3931),add @opentelemetry/api alias fix some renamed imports
907,implement route.js support (#3923),https://beta.nextjs.org/docs/routing/route-handlers,implement route.js support (#3923),link
908,improve startup performance (#3927),lazy parse page config from pages this avoids to need to transform and parse all pages,improve startup performance (#3927),lazy parse page config from pages this avoids to need to transform and parse all pages
909,ci: Remove build debug turborepo (#3893),,ci: Remove build debug turborepo (#3893),
910,fix(prettier): remove whitespace from example (#3924,Force merged an example to unblock the template and missed this line.  :shame:,fix(prettier): remove whitespace from example (#3924,Force merged an example to unblock the template and missed this line.  :shame:
911,fix(examples): kitchen-sink (#3920,Update lock and remix app for kitchen sink example,fix(examples): kitchen-sink (#3920,Update lock and remix app for kitchen sink example
912,fix(examples): svelte (#3919,,fix(examples): svelte (#3919,
913,ci(workflow): notify daily test results (#3843)," closes WEB-601  This PR setups workflow to trigger next.js integration test daily, then post its result into slack. The summary from this daily run is simplified - no base, no commit link unfurl.",ci(workflow): notify daily test results (#3843),"closes WEB-601 This PR setups workflow to trigger next.js integration test daily, then post its result into slack. The summary from this daily run is simplified - no base, no commit link unfurl."
914,feat(@turbo/workspaces): add new workspaces package (#3818,,feat(@turbo/workspaces): add new workspaces package (#3818,
915,feat(blog): 1.8 post (#3913,,feat(blog): 1.8 post (#3913,
916,Automatically apply babel-loader for apps with babel configs (#3862),This will automatically apply babel-loader to Next.js apps that include a babel configuration file alongside next.config.js. It requires the app to provide babel-loader itself. Test Plan: Added an integration test.,Automatically apply babel-loader for apps with babel configs (#3862),This will automatically apply babel-loader to Next.js apps that include a babel configuration file alongside next.config.js. It requires the app to provide babel-loader itself. Test Plan: Added an integration test.
917,Align carets to key in JSON file (#3909),"In the documentation the carets don't point to the appropriate location in the JSON file. This PR removes the whitespace in front of the double slashes, so that the alignment is corrected. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",Align carets to key in JSON file (#3909),"In the documentation the carets don't point to the appropriate location in the JSON file. This PR removes the whitespace in front of the double slashes, so that the alignment is corrected. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
918,Support NeedData responses in SourceMap/SourceMapTrace ContentSources (#3907),"This implements a new ContentSourceProcessor trait and WrappedContentSource struct that allows our ContentSources to register some processor to transform the eventual ContentSourceContent that an inner ContentSource returns. Yah, it's a bit of a mouthful with lots of very similar sounding names. Essentially, the old SourceMapContentSource and NextSourceMapTraceContentSource wrapped some inner ContentSource, and would request content from them, and process that content into a source map JSON or trace JSON. But, they didn't implement the NeedData response, so it only supported very primitive inner content sources. This PR extracts that knowledge into a single WrappedContentSource, which will recursively wrap every ContentSourceResult until we land on a fully resolved ContentSourceResult::Result. At that point, it hands off the work to a WrappedGetContentSource, which performs the processing on whatever content is returned by the inner GetContentSourceContent. If you can't tell yet, I'm making the description intentionally verbose to highlight just how similar our struct/trait names are. Fixes WEB-614",Support NeedData responses in SourceMap/SourceMapTrace ContentSources (#3907),"This implements a new ContentSourceProcessor trait and WrappedContentSource struct that allows our ContentSources to register some processor to transform the eventual ContentSourceContent that an inner ContentSource returns. Yah, it's a bit of a mouthful with lots of very similar sounding names. Essentially, the old SourceMapContentSource and NextSourceMapTraceContentSource wrapped some inner ContentSource, and would request content from them, and process that content into a source map JSON or trace JSON. But, they didn't implement the NeedData response, so it only supported very primitive inner content sources. This PR extracts that knowledge into a single WrappedContentSource, which will recursively wrap every ContentSourceResult until we land on a fully resolved ContentSourceResult::Result. At that point, it hands off the work to a WrappedGetContentSource, which performs the processing on whatever content is returned by the inner GetContentSourceContent. If you can't tell yet, I'm making the description intentionally verbose to highlight just how similar our struct/trait names are. Fixes WEB-614"
919,Make chunk_content_internal parallel (#3836),"This switches the chunk_content_internal function from a sequential BFS to a parallel BFS (+ reverse topological sort at the end). I expected this to make some difference in performance, as traversing references in parallel can lead to better CPU usage (see #3771), but in practice our benchmarks show no significant difference. Real apps might be a different story, but I didn't notice any particular performance improvement on vercel.com either. This implementation is not perfect (we're making more calls to get_children than strictly necessary), but I think it's enough to measure a potential performance improvement. Marking this as a draft for now as it's more complicated than the current implementation and there's no clear win to adopting this.",Make chunk_content_internal parallel (#3836),"This switches the chunk_content_internal function from a sequential BFS to a parallel BFS (+ reverse topological sort at the end). I expected this to make some difference in performance, as traversing references in parallel can lead to better CPU usage (see #3771), but in practice our benchmarks show no significant difference. Real apps might be a different story, but I didn't notice any particular performance improvement on vercel.com either. This implementation is not perfect (we're making more calls to get_children than strictly necessary), but I think it's enough to measure a potential performance improvement. Marking this as a draft for now as it's more complicated than the current implementation and there's no clear win to adopting this."
920,fix: allow HMR to recover from hydration errors (#3805),"We now store react errors in the error overlay (hydration errors) and if the error overlay receives the ""build ok"" message after that it will hard reload the page to recover",fix: allow HMR to recover from hydration errors (#3805),"We now store react errors in the error overlay (hydration errors) and if the error overlay receives the ""build ok"" message after that it will hard reload the page to recover"
921,add process.env.NODE_ENV support (#3670),define process.env.NODE_ENV to development for next-dev define and set process.turbopack  Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com,add process.env.NODE_ENV support (#3670),define process.env.NODE_ENV to development for next-dev define and set process.turbopack Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com
922,separate app and pages structure extraction from source generation (#3912),We need to invalidate router node.js process when routes change for correctness In future we can pass the routes list to next.js instead of only invalidating @jridgewell  We also need the separated structure for next build @alexkirsz,separate app and pages structure extraction from source generation (#3912),We need to invalidate router node.js process when routes change for correctness In future we can pass the routes list to next.js instead of only invalidating @jridgewell  We also need the separated structure for next build @alexkirsz
923,make assets share the webpack loader executor again (#3914),celling a String in module_options will create a different node.js pool for every processed asset,make assets share the webpack loader executor again (#3914),celling a String in module_options will create a different node.js pool for every processed asset
924,Create turbo-ignore doc. (#3814),Documenting turbo-ignore!  Co-authored-by: Mehul Kar mehul.kar@vercel.com,Create turbo-ignore doc. (#3814),Documenting turbo-ignore! Co-authored-by: Mehul Kar mehul.kar@vercel.com
925,release(turborepo): 1.8.2 (#3915),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.2 (#3915),Co-authored-by: Turbobot turbobot@vercel.com
926,update next.js to 13.1.7-canary.25 (#3895),,update next.js to 13.1.7-canary.25 (#3895),
927,Include chunk path in WithClientChunks (#3910),"WithClientChunksChunkItem currently only includes paths to chunks' references, but not chunks themselves. Fixes WEB-621.",Include chunk path in WithClientChunks (#3910),"WithClientChunksChunkItem currently only includes paths to chunks' references, but not chunks themselves. Fixes WEB-621."
928,"add ==, !=, ===, !== operator support for evaluation (#3693)",extracted from https://github.com/vercel/turbo/pull/3670 depends on #3685  adds the equal operators to the evaluator,"add ==, !=, ===, !== operator support for evaluation (#3693)",extracted from link depends on #3685  adds the equal operators to the evaluator
929,Update Google font-data.json (2023-02-22) (#3905),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-02-22) (#3905),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com
930,Implement Rewrite Headers support during routing (#3897),,Implement Rewrite Headers support during routing (#3897),
931,release(turborepo): 1.8.2-canary.0 (#3906),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.2-canary.0 (#3906),Co-authored-by: Turbobot turbobot@vercel.com
932,Fix turbo run when --filter is provided and no packages are affected (#3901),,Fix turbo run when --filter is provided and no packages are affected (#3901),
933,Tag nightlies as prerelease releases (#3892),"This does 2 main things: - Sets each nightly release as a prerelease on GH's releases page - Adds a notice annotation to the workflow, so that the new tag is logged in the workflow's execution Additionally, it fixes the pnpm workspace so that the action's dist code is actually built. This also means we'll finally see the output of https://github.com/vercel/turbo/pull/3819 in our release bodies.",Tag nightlies as prerelease releases (#3892),"This does 2 main things: - Sets each nightly release as a prerelease on GH's releases page - Adds a notice annotation to the workflow, so that the new tag is logged in the workflow's execution Additionally, it fixes the pnpm workspace so that the action's dist code is actually built. This also means we'll finally see the output of link in our release bodies."
934,no longer build arm64 go builds (#3838)," 🚨 note: I am assuming here that npm is intelligent enough to offer up the x86 package automatically, but there may be more we need to do here..  Rust's only toolchain on windows arm is msvc, which complicates linking now that we have the rust sandwich, as go uses gnu. Rather than attempt to get go building with msvc, we can instead just rely on windows' x86 emulation and publish one set of binaries for that platform until go is removed from our toolchain altogether.",no longer build arm64 go builds (#3838),"🚨 note: I am assuming here that npm is intelligent enough to offer up the x86 package automatically, but there may be more we need to do here.. Rust's only toolchain on windows arm is msvc, which complicates linking now that we have the rust sandwich, as go uses gnu. Rather than attempt to get go building with msvc, we can instead just rely on windows' x86 emulation and publish one set of binaries for that platform until go is removed from our toolchain altogether."
935,Move workspace-specific tasks to Workspace Configuration (#3834),,Move workspace-specific tasks to Workspace Configuration (#3834),
936,port(turborepo): SCM package (#3775),Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com,port(turborepo): SCM package (#3775),Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com
937,Add --log-prefix=none option (#3851),"This adds a --log-prefix=none CLI argument to turbo run commands that will remove the <package>:<task>: prefix when running tasks (both on execute and replay from cache). This removal will also apply to ""single package"" repos where the prefix is just <task>: This new option is intended to alleviate some user issues piping logs into other tools, but comes with a Buyer Beware warning that logs from parallel tasks are still interleaved. We may implement a buffering mechanism (long time issue: #219), that will further help with this, but this PR does not do that.",Add --log-prefix=none option (#3851),"This adds a --log-prefix=none CLI argument to turbo run commands that will remove the :: prefix when running tasks (both on execute and replay from cache). This removal will also apply to ""single package"" repos where the prefix is just : This new option is intended to alleviate some user issues piping logs into other tools, but comes with a Buyer Beware warning that logs from parallel tasks are still interleaved. We may implement a buffering mechanism (long time issue: #219), that will further help with this, but this PR does not do that."
938,Ensure next global is initialized correctly (#3894),This ensures our tests can run properly as they rely on the next global being present.,Ensure next global is initialized correctly (#3894),This ensures our tests can run properly as they rely on the next global being present.
939,loaders: use pre-compiled loader-runner distributed with Next.js (#3823),"The benefit of this depends on https://github.com/vercel/next.js/pull/45962, but it remains compatible with apps including loader-runner. This first attempts to require loader-runner from the app's installed version of Next.js, falling back to requiring the package directly. We should probably eventually remove this fallback once all compatible versions of Next.js include the precompiled version, as that has a more predictable version of the package. Test Plan: Linked a local copy of Next.js including https://github.com/vercel/next.js/pull/45962 to an app without loader-runner that uses loaders and verified loaders ran.",loaders: use pre-compiled loader-runner distributed with Next.js (#3823),"The benefit of this depends on link, but it remains compatible with apps including loader-runner. This first attempts to require loader-runner from the app's installed version of Next.js, falling back to requiring the package directly. We should probably eventually remove this fallback once all compatible versions of Next.js include the precompiled version, as that has a more predictable version of the package. Test Plan: Linked a local copy of Next.js including link to an app without loader-runner that uses loaders and verified loaders ran."
940,add possible unknown mutation to objects and arrays (#3882),Before the static evaluation didn't consider the fact that objects and arrays can be mutated. So we can't just assume for sure that they have certain properties/items. Instead we add an unknown mutation alternative to handle that. This avoids if(obj.prop) to be replaced with if(true) when prop is initialized with true. It might be modified in future.,add possible unknown mutation to objects and arrays (#3882),Before the static evaluation didn't consider the fact that objects and arrays can be mutated. So we can't just assume for sure that they have certain properties/items. Instead we add an unknown mutation alternative to handle that. This avoids if(obj.prop) to be replaced with if(true) when prop is initialized with true. It might be modified in future.
941,add link to issue (#3888),,add link to issue (#3888),
942,fix consistency issue with reading collectibles (#3878),"connect original task to collectibles reading to fix strongly consistency move read collectibles tasks to task and scope instead of a separate cache reading collectibles is no longer strongly consistent by default, it's opt-in now",fix consistency issue with reading collectibles (#3878),"connect original task to collectibles reading to fix strongly consistency move read collectibles tasks to task and scope instead of a separate cache reading collectibles is no longer strongly consistent by default, it's opt-in now"
943,Add missing comma to dependsOn code example (#3884),,Add missing comma to dependsOn code example (#3884),
944,refactor: remove react/jsx-key ESLint rule (#3880),It was added in vercel/turbo#779 as a temporary fix but forgotten about.,refactor: remove react/jsx-key ESLint rule (#3880),It was added in vercel/turbo#779 as a temporary fix but forgotten about.
945,release(turborepo): 1.8.1 (#3869),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.1 (#3869),Co-authored-by: Turbobot turbobot@vercel.com
946,Fix issue with merging dependsOn from Workspace Configs (#3866),The previous bookkeeping markers were not getting set if dependsOn was set to an empty array. We need to set the marker so we can tell whether the user intended to overwrite dependsOn from a workspace or not.,Fix issue with merging dependsOn from Workspace Configs (#3866),The previous bookkeeping markers were not getting set if dependsOn was set to an empty array. We need to set the marker so we can tell whether the user intended to overwrite dependsOn from a workspace or not.
947,Documentation for Workspace Configs (#3788),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Rich Haines hello@richardhaines.dev,Documentation for Workspace Configs (#3788),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Rich Haines hello@richardhaines.dev
948,change to NoHashHasher for ID keys (#3864),,change to NoHashHasher for ID keys (#3864),
949,alias @swc/helpers to the version within next.js (#3865),,alias @swc/helpers to the version within next.js (#3865),
950,Bump versions for eslint plugin packages (#3868),,Bump versions for eslint plugin packages (#3868),
951,release(turborepo): 1.8.0 (#3863),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.8.0 (#3863),Co-authored-by: Turbobot turbobot@vercel.com
952,feat(eslint): support turbo.json workspace configs (#3846),"Support turbo.json workspace configs.  Still to do: - [x] Support workspace specific linting There exists one edge case here, if a user forgets to add an ""extend"" to workspace config, we can treat it as root. I punted on this one for now since it's not this packages domain to solve that (at the moment)",feat(eslint): support turbo.json workspace configs (#3846),"Support turbo.json workspace configs.  Still to do: - [x] Support workspace specific linting There exists one edge case here, if a user forgets to add an ""extend"" to workspace config, we can treat it as root. I punted on this one for now since it's not this packages domain to solve that (at the moment)"
953,Use IndexSet in IntrospectableChildrenVc (#3853),"Another small cleanup stemming from the the basePath PR. Makes the introspection ordering consistent, which is a nice usability win. Co-authored-by: Alex Kirszenberg 1621758+alexkirsz@users.noreply.github.com",Use IndexSet in IntrospectableChildrenVc (#3853),"Another small cleanup stemming from the the basePath PR. Makes the introspection ordering consistent, which is a nice usability win. Co-authored-by: Alex Kirszenberg 1621758+alexkirsz@users.noreply.github.com"
954,make error overlay message scrollable (#3861),Before long messages would just be hidden:,make error overlay message scrollable (#3861),Before long messages would just be hidden:
955,Use references to link the manifest loader item to the manifest chunk (#3860),"Now that we have ChunkableAssetReference, we no longer need to special-case async asset references in chunk_content_internal.",Use references to link the manifest loader item to the manifest chunk (#3860),"Now that we have ChunkableAssetReference, we no longer need to special-case async asset references in chunk_content_internal."
956,Update Google font-data.json (2023-02-17) (#3850),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-02-17) (#3850),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com
957,Update profiling instructions for macOS (#3837),cargo-instruments 0.4.8 has since been released with an updated cargo dependency.,Update profiling instructions for macOS (#3837),cargo-instruments 0.4.8 has since been released with an updated cargo dependency.
958,improve performance of TaskScopes and collectibes (#3849),,improve performance of TaskScopes and collectibes (#3849),
959,Add comparastore as a company that uses Turbo (#3852),"Very grateful for the work of the developers behind this incredible tool that is Turbo. 🙏 As a company that implemented Turborepo and very soon Turbopack, we would be honoured to have our logo on the showcase page. Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com",Add comparastore as a company that uses Turbo (#3852),"Very grateful for the work of the developers behind this incredible tool that is Turbo. 🙏 As a company that implemented Turborepo and very soon Turbopack, we would be honoured to have our logo on the showcase page. Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com"
960,Update Code of Conduct to match Next.js,,Update Code of Conduct to match Next.js,
961,Copy public directory to docker (#2642),Added copy public directory command to Dockerfile in order for nextjs to be able to read static files from it.  Co-authored-by: Sandu Morari 96115029+sandu-m@users.noreply.github.com,Copy public directory to docker (#2642),Added copy public directory command to Dockerfile in order for nextjs to be able to read static files from it. Co-authored-by: Sandu Morari 96115029+sandu-m@users.noreply.github.com
962,Add package version to eslint.mdx in eslint-config-custom example (#3511),,Add package version to eslint.mdx in eslint-config-custom example (#3511),
963,chore(deps): update dependency @types/express to v4.17.17 (#3636)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/express (source) | 4.17.14 -> 4.17.17 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @types/express to v4.17.17 (#3636),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/express (source) | 4.17.14 -> 4.17.17 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
964,RSS Feed (#3855),Add link tag for the Turbo Blog's RSS feed.  Co-authored-by: Joost Schuur jschuur@jschuur.com,RSS Feed (#3855),Add link tag for the Turbo Blog's RSS feed. Co-authored-by: Joost Schuur jschuur@jschuur.com
965,Add Þ & # to the showcase (#3400),Thanks for all the awesome dev work! This PR adds the Block Protocol (Þ) and HASH (#) to the list of users in the showcase. Both open-source projects/organizations operate monorepos which use Turbo tools w/ Vercel in production.  Þ GitHub repository and website # GitHub repository and website   Co-authored-by: Leah github.leah@hrmny.sh,Add Þ & # to the showcase (#3400),Thanks for all the awesome dev work! This PR adds the Block Protocol (Þ) and HASH (#) to the list of users in the showcase. Both open-source projects/organizations operate monorepos which use Turbo tools w/ Vercel in production. Þ GitHub repository and website GitHub repository and website Co-authored-by: Leah github.leah@hrmny.sh
966,Bump @types/react version in create-turbo starter (#3844),"Also removes @types/react-dom, since react-dom is not a dependency of the ui package.",Bump @types/react version in create-turbo starter (#3844),"Also removes @types/react-dom, since react-dom is not a dependency of the ui package."
967,Use name-value tuples for headers (#3848),This is a small cleanup extracted out of the WIP basePath PR.,Use name-value tuples for headers (#3848),This is a small cleanup extracted out of the WIP basePath PR.
968,strip UNC prefix on windows paths (#3847),,strip UNC prefix on windows paths (#3847),
969,Callout installation docs in getting started (#3833),,Callout installation docs in getting started (#3833),
970,fix: test.yml (#3845),,fix: test.yml (#3845),
971,ci(workflow): move integration test to daily (#3842),"This PR attempts to move next.js integration workflow to the daily cron job, and then post it to the slack since we don't write comment to the PR.",ci(workflow): move integration test to daily (#3842),"This PR attempts to move next.js integration workflow to the daily cron job, and then post it to the slack since we don't write comment to the PR."
972,ci(workflow): attempts to skip retry for the know failed tests (#3809),"This PR tries to implement WEB-588. Note this still need to be verified, not able to close WEB-588 completely until verification. PR uses upstream next.js changes with latest test results in the turbo repo, attempts to skip tests if it is already known to fail. It only relies on the latest main branch's result currently. Meanwhile this PR also limits concurrency of the tests suite since it may related with random sigterm causes test flaky / count drift across runs. Originally I thought WEB-544 is fixed, but seems not and require more investigations.",ci(workflow): attempts to skip retry for the know failed tests (#3809),"This PR tries to implement WEB-588. Note this still need to be verified, not able to close WEB-588 completely until verification. PR uses upstream next.js changes with latest test results in the turbo repo, attempts to skip tests if it is already known to fail. It only relies on the latest main branch's result currently. Meanwhile this PR also limits concurrency of the tests suite since it may related with random sigterm causes test flaky / count drift across runs. Originally I thought WEB-544 is fixed, but seems not and require more investigations."
973,Add outputs to all examples (#3830),"As of 1.7, you're required to specify your outputs. The docs weren't caught up yet, though, leaving a lot of the old implicit cache behavior. In the interest of always educating with ""the happy path"", I've added output arrays to our examples with various combinations of .next/**, .svelte-kit, and dist/**.  Co-authored-by: Nathan Hammond nathan.hammond@vercel.com",Add outputs to all examples (#3830),"As of 1.7, you're required to specify your outputs. The docs weren't caught up yet, though, leaving a lot of the old implicit cache behavior. In the interest of always educating with ""the happy path"", I've added output arrays to our examples with various combinations of .next/, .svelte-kit, and dist/. Co-authored-by: Nathan Hammond nathan.hammond@vercel.com"
974,chore(release): move turborepo release.yml (#3840),,chore(release): move turborepo release.yml (#3840),
975,port(turborepo): Unlink (#3824),,port(turborepo): Unlink (#3824),
976,remove shebang when turning ecmascript modules into chunk items (#3827),,remove shebang when turning ecmascript modules into chunk items (#3827),
977,Error if none of the tasks passed to CLI were found (#3828),"Previously, a validate method asserted that tasks passed to the CLI exist. We removed this validation for the purpose of lazily loading turbo.jsons. Bringing back this feature here.",Error if none of the tasks passed to CLI were found (#3828),"Previously, a validate method asserted that tasks passed to the CLI exist. We removed this validation for the purpose of lazily loading turbo.jsons. Bringing back this feature here."
978,Fix routing cases (#3832),"This fixes 2 bugs that I've found: 1. If the middleware.ts file doesn't exist, then we get an unhelpful unable to resolve relative ""."" error during next-edge transition processing    - This is fixed by not processing the VirtualAssetVc with the edge transition 2. If you're using an older Next version, then the router doesn't have a type field    - Because the type field is empty, we hit neither the rewrite nor none cases and fall through to the middleware case, returning an empty response with no body.    - This is fixed by treating { url: string, headers: … } as { type: 'rewrite', url: string, headers: … }",Fix routing cases (#3832),"This fixes 2 bugs that I've found: 1. If the middleware.ts file doesn't exist, then we get an unhelpful unable to resolve relative ""."" error during next-edge transition processing    - This is fixed by not processing the VirtualAssetVc with the edge transition 2. If you're using an older Next version, then the router doesn't have a type field    - Because the type field is empty, we hit neither the rewrite nor none cases and fall through to the middleware case, returning an empty response with no body.    - This is fixed by treating { url: string, headers: … } as { type: 'rewrite', url: string, headers: … }"
979,set correct CWD for node processes (#3746),,set correct CWD for node processes (#3746),
980,Nightly releases: generate basic release body (#3819),"The nightly releases are using the last commit message for the release body, which is a bit weird. This generates a ""compare at https://github.com/vercel/turbo/compare/turbopack-230214.2...turbopack-230215.1"" listing the commits between the last and new tag.",Nightly releases: generate basic release body (#3819),"The nightly releases are using the last commit message for the release body, which is a bit weird. This generates a ""compare at link"" listing the commits between the last and new tag."
981,Next Router Middleware Support (#3690),"This updates our Next.js router, passing the edgeInfo manifest generated from the middleware.js file (or any other configured page extension). Fixes WEB-277 Fixes WEB-370",Next Router Middleware Support (#3690),"This updates our Next.js router, passing the edgeInfo manifest generated from the middleware.js file (or any other configured page extension). Fixes WEB-277 Fixes WEB-370"
982,docs: revert webpack loader documentation for now (#3825),"These docs are currently live on https://turbo.build, but don't reflect the currently available version of Turbopack. Let's revert them, and land a separate PR restoring them before 13.2 ships.",docs: revert webpack loader documentation for now (#3825),"These docs are currently live on link, but don't reflect the currently available version of Turbopack. Let's revert them, and land a separate PR restoring them before 13.2 ships."
983,Ensure tasks can depend on Workspace-Specific tasks (#3820),"This specifically adds a test to ensure that tasks from Workspace Configs can still depend on tasks from other workspaces with the worksapce#task syntax. Because workspace#task syntax is not allowed for pipeline entries, we need to make sure we don't accidentally start parsing all task references and validating them this way.",Ensure tasks can depend on Workspace-Specific tasks (#3820),"This specifically adds a test to ensure that tasks from Workspace Configs can still depend on tasks from other workspaces with the worksapce#task syntax. Because workspace#task syntax is not allowed for pipeline entries, we need to make sure we don't accidentally start parsing all task references and validating them this way."
984,feat(types): update turbo.json schema (#3821),Updated schema to support extends,feat(types): update turbo.json schema (#3821),Updated schema to support extends
985,add CompileTimeInfo struct for passing compile time info (#3685),"extracted from https://github.com/vercel/turbo/pull/3670 Refactoring to allow to pass more compile time info next to the environment to modules. e. g. we want to pass process.env.NODE_ENV = ""development"" in future",add CompileTimeInfo struct for passing compile time info (#3685),"extracted from link Refactoring to allow to pass more compile time info next to the environment to modules. e. g. we want to pass process.env.NODE_ENV = ""development"" in future"
986,use consistent actions/checkout version in examples (#3791),The other example on this page uses actions/checkout@v3,use consistent actions/checkout version in examples (#3791),The other example on this page uses actions/checkout@v3
987,fix: Link formatting (#3804),Realized our ported link command is slightly different than the original Go one. It's still a little different but not significantly: Old link   New link: ,fix: Link formatting (#3804),Realized our ported link command is slightly different than the original Go one. It's still a little different but not significantly: Old link New link:
988,docs: Documented process for adding crate (#3806),,docs: Documented process for adding crate (#3806),
989,Add support for CSS module composes: and fix CSS precedence issues (#3771),"Adds support for the CSS module composes: rule. This also fixes a large issue with our chunk ordering and CSS precedence, where the BFS order of our chunks did not match the expected topological ordering.",Add support for CSS module composes: and fix CSS precedence issues (#3771),"Adds support for the CSS module composes: rule. This also fixes a large issue with our chunk ordering and CSS precedence, where the BFS order of our chunks did not match the expected topological ordering."
990,Use non-high intensity yellow for warnings for readability on white background (#3810),"Closes #3799.  | bg | before | after | | --- | --- | --- | | dark |  |  | | light |  |  | the new color is a bit more dull, but it is also more visible. There are a few other options we can pick from without spending too much more time on this: https://github.com/fatih/color/blob/3d5097c6b003cf3a784e670ddb79710cf46e9a07/color.go#L68-L90",Use non-high intensity yellow for warnings for readability on white background (#3810),"Closes #3799.  | bg | before | after | | --- | --- | --- | | dark |  |  | | light |  |  | the new color is a bit more dull, but it is also more visible. There are a few other options we can pick from without spending too much more time on this: link"
991,add test to verify that turbo.json can have comments (#3812),"This doesn't c lose #3793, but verifies that comments work",add test to verify that turbo.json can have comments (#3812),"This doesn't c lose #3793, but verifies that comments work"
992,Remove TIMING=1 from eslint command in examples and create-turbo starter (#3813),"This is not a cross-platform compatible way to set an environment variable, and it is not critical to have this as part of the examples and starter template. Fixes https://github.com/vercel/turbo/issues/3797",Remove TIMING=1 from eslint command in examples and create-turbo starter (#3813),"This is not a cross-platform compatible way to set an environment variable, and it is not critical to have this as part of the examples and starter template. Fixes link"
993,"Change error log line to debug, it's not an error (#3808)",,"Change error log line to debug, it's not an error (#3808)",
994,Add needs:triage label to new issues (#3776),,Add needs:triage label to new issues (#3776),
995,ci(workflow): store failed test path list (#3792),"Trying to close WEB-589: along with full test results, stores latest test failure list to skip retrying for the known failures.",ci(workflow): store failed test path list (#3792),"Trying to close WEB-589: along with full test results, stores latest test failure list to skip retrying for the known failures."
996,Restore Issue Reporters (#3803),"This restores issue reporters, addressing a bug that prevented turbo-trace from completing. This moves ConsoleUiVc::new into an async block to prevent it from stalling. Test Plan: Verify cargo run --bin node-file-trace -- print path/to/my/app no longer stalls.",Restore Issue Reporters (#3803),"This restores issue reporters, addressing a bug that prevented turbo-trace from completing. This moves ConsoleUiVc::new into an async block to prevent it from stalling. Test Plan: Verify cargo run --bin node-file-trace -- print path/to/my/app no longer stalls."
997,fix export * warning for client pages (#3795),"This gets rid of this warning when using a client component as page: warning - [analyze] [project-with-next]/src/app/client/page.jsx  unexpected export *   export * used with module [project-with-next]/src/app/client/page.jsx which has no exports   Typescript only: Did you want to export only types with `export type { ... } from ""...""`?  fix export * warning for client pages Detect __turbopack_export_value__ as CJS style exports fix __turbopack_cjs__ name flag turbopackHelper in client proxy",fix export * warning for client pages (#3795),This gets rid of this warning when using a client component as page: warning - [analyze] [project-with-next]/src/app/client/page.jsx  unexpected export *   export * used with module [project-with-next]/src/app/client/page.jsx which has no exports   Typescript only: Did you want to export only types with module? fix export * warning for client pages Detect turbopack_export_value as CJS style exports fix turbopack_cjs name flag turbopackHelper in client proxy
998,reduce function count (#3768),avoid a few resolve tasks in this hot code,reduce function count (#3768),avoid a few resolve tasks in this hot code
999,Fix Bench Turbotrace against @vercel/nft ci (#3721),,Fix Bench Turbotrace against @vercel/nft ci (#3721),
1000,"Revert ""Issue Reporters (#3707)"" (#3796)","This reverts commit dae3e2155dcc5dc8e240825da4fd091296486b18. This commit makes the turbotrace hanging, x-ref: https://vercel.slack.com/archives/C02UJN0A1UL/p1676369060652879","Revert ""Issue Reporters (#3707)"" (#3796)","This reverts commit dae3e2155dcc5dc8e240825da4fd091296486b18. This commit makes the turbotrace hanging, x-ref: link"
1001,Fix the router when Next.js returns no result (#3741),I changed the return type of the Next.js router in https://github.com/vercel/next.js/pull/45668 to account for cases where the router does and does not find a matching rewrite.,Fix the router when Next.js returns no result (#3741),I changed the return type of the Next.js router in link to account for cases where the router does and does not find a matching rewrite.
1002,perf: skip visiting if it's out of range (#3762),"Visiting is not necessary for those sub-trees that are already out of range. The first code change For example, we have visitors with ast_path like this, and the current index is 1, and the current path is Path::A: ```rust enum Path {   A,   B,   C,   D,   E } visitors: vec![(vec![Path::B, Path::C], visitor), (vec![Path::B, Path::D], visitor)] ``` Given the fact that sub-trees that are not matched were already skipped, so there is no possibility for us to have things like this if we are already under Path::B and looking for the next path (ast_path: [Path::B]):  rust visitors: vec![(vec![Path::B, Path::C], visitor), (vec![Path::C, Path::A], visitor)] Combining all the things above, we can skip visits any furthur where its kind is greater than the kind for the current index, for the first example, the underlying path is Path::A, we can skip the sub-tree Path::C and Path::D as there's no possibility for the visitor subscribers to do with them. The second code change If the starting point for the partition result is already greater than the underlying kind, it's not necessary for us to visit them too.",perf: skip visiting if it's out of range (#3762),"Visiting is not necessary for those sub-trees that are already out of range. The first code change For example, we have visitors with ast_path like this, and the current index is 1, and the current path is Path::A: module Given the fact that sub-trees that are not matched were already skipped, so there is no possibility for us to have things like this if we are already under Path::B and looking for the next path (ast_path: [Path::B]):  rust visitors: vec![(vec![Path::B, Path::C], visitor), (vec![Path::C, Path::A], visitor)] Combining all the things above, we can skip visits any furthur where its kind is greater than the kind for the current index, for the first example, the underlying path is Path::A, we can skip the sub-tree Path::C and Path::D as there's no possibility for the visitor subscribers to do with them. The second code change If the starting point for the partition result is already greater than the underlying kind, it's not necessary for us to visit them too."
1003,Split swc_core/allocator_node out of __swc_core_binding_napi (#3772),We only can use turbo_malloc  in next.js without swc_node_base included,Split swc_core/allocator_node out of __swc_core_binding_napi (#3772),We only can use turbo_malloc  in next.js without swc_node_base included
1004,Update $schema for turbo.json. (#3789),The in-editor recommendations for turbo.json that come from $schema seem to have fallen behind the API in a few spots. I also took a moment to update some language for improved clarity. I also had to shave a few yaks to work on this: - Updated docs#dev task to ensure it generates the schema.json when we run pnpm run docs - Improve deprecation note for environment variables - Added errors-only to outputMode doc,Update $schema for turbo.json. (#3789),The in-editor recommendations for turbo.json that come from $schema seem to have fallen behind the API in a few spots. I also took a moment to update some language for improved clarity. I also had to shave a few yaks to work on this: - Updated docs#dev task to ensure it generates the schema.json when we run pnpm run docs - Improve deprecation note for environment variables - Added errors-only to outputMode doc
1005,"ci(workflow): adjust summary report, drain all logs correctly (#3681)","Closes WEB-544. PR fixes minor issue to drain logs correctly.  Also PR adjusts summary to not to print fixed tests - upstream test sometimes flaky and displaying some test as fixed intermittently can cause some confusions. For now, disabling those summary. Still we display new failed, false negatives are relatively not occur frequently and we can try for a while to see.","ci(workflow): adjust summary report, drain all logs correctly (#3681)","Closes WEB-544. PR fixes minor issue to drain logs correctly.  Also PR adjusts summary to not to print fixed tests - upstream test sometimes flaky and displaying some test as fixed intermittently can cause some confusions. For now, disabling those summary. Still we display new failed, false negatives are relatively not occur frequently and we can try for a while to see."
1006,Warn on absolute paths used in turbo.json (#3658),,Warn on absolute paths used in turbo.json (#3658),
1007,Composable turbo.json (#2706),"This feature allows monorepos to place a turbo.json file in workspaces with an ""extends"" key to override task configuration for that workspace. After this PR, individual workspaces should be able to:  add keys to task defintions (e.g. changing dependsOn or outputs configs) reset keys in task definitions to defaults (e.g.dependsOn: []`) add tasks (e.g add a lint command only in the workspace that implements it)",Composable turbo.json (#2706),"This feature allows monorepos to place a turbo.json file in workspaces with an ""extends"" key to override task configuration for that workspace. After this PR, individual workspaces should be able to: add keys to task defintions (e.g. changing dependsOn or outputs configs) reset keys in task definitions to defaults (e.g.dependsOn: []`) add tasks (e.g add a lint command only in the workspace that implements it)"
1008,"Revert ""chore: add option to dump args sent to go (#3515)"" (#3782)",This reverts commit dea257ace031859ed92614aa087f8497b2056977.,"Revert ""chore: add option to dump args sent to go (#3515)"" (#3782)",This reverts commit dea257ace031859ed92614aa087f8497b2056977.
1009,Fix typo (#3763),Just a small type I belive :),Fix typo (#3763),Just a small type I belive :)
1010,chunks in chunk groups no longer reference parallel chunks (#3767),optimized chunks no longer reference unoptimized chunks This fixes a bug where unoptimized chunks where written to the temporary output directory,chunks in chunk groups no longer reference parallel chunks (#3767),optimized chunks no longer reference unoptimized chunks This fixes a bug where unoptimized chunks where written to the temporary output directory
1011,Make stringify_str and stringify_module_id use Serialize (#3770),"Both stringify_str and stringify_module_id are now simply stringify_js. We could skip this and go directly to serde_json, but this hides the dependency behind turbopack-ecmascript.",Make stringify_str and stringify_module_id use Serialize (#3770),"Both stringify_str and stringify_module_id are now simply stringify_js. We could skip this and go directly to serde_json, but this hides the dependency behind turbopack-ecmascript."
1012,chore: add option to dump args sent to go (#3515),I used this yesterday when debugging package inference and found it helpful for launching the Go debugger with the correct args. I figure it might be helpful for other devs as well.,chore: add option to dump args sent to go (#3515),I used this yesterday when debugging package inference and found it helpful for launching the Go debugger with the correct args. I figure it might be helpful for other devs as well.
1013,fix integration tests on windows (#3737),For windows it's important that the browser is dropped so that the test can complete. To do that we need to cancel the spawned task below (which will drop the browser). For this we are using a JoinSet which cancels all tasks when dropped.,fix integration tests on windows (#3737),For windows it's important that the browser is dropped so that the test can complete. To do that we need to cancel the spawned task below (which will drop the browser). For this we are using a JoinSet which cancels all tasks when dropped.
1014,Issue Reporters (#3707),"Big thanks to @jridgewell for helping me out with a number of Rust-isms with this change. This expands handle_issues and the NextDevServerBuilder to accept an arbitrary IssueReporter -- a trait implementing report_issues which receives captured issues to send somewhere. This replaces using a fixed ConsoleUi to send issues to stdout/stderr, though ConsoleUi now implements IssueReporter and is the default implementation of an issue reporter if no other is provided. It also moves the responsibility of detecting fatal errors out of ConsoleUi and into handle_issues itself. This lays the foundation for alternative reporters, such as a test reporter to snapshot or assert against issues emitted, or a newline-delimited JSON reporter for other tools to consume. Co-authored-by: Justin Ridgewell justin@ridgewell.name  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Issue Reporters (#3707),"Big thanks to @jridgewell for helping me out with a number of Rust-isms with this change. This expands handle_issues and the NextDevServerBuilder to accept an arbitrary IssueReporter -- a trait implementing report_issues which receives captured issues to send somewhere. This replaces using a fixed ConsoleUi to send issues to stdout/stderr, though ConsoleUi now implements IssueReporter and is the default implementation of an issue reporter if no other is provided. It also moves the responsibility of detecting fatal errors out of ConsoleUi and into handle_issues itself. This lays the foundation for alternative reporters, such as a test reporter to snapshot or assert against issues emitted, or a newline-delimited JSON reporter for other tools to consume. Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1015,Implement FromSubTrait for ValueDebug (#3769),This is necessary in order to pass in a SomeTraitVc to a function which expects T: ValueDebug.,Implement FromSubTrait for ValueDebug (#3769),This is necessary in order to pass in a SomeTraitVc to a function which expects T: ValueDebug.
1016,Add support for ctx.params in getStaticProps/getServerSideProps (#3696),"Dynamic segments should be passed a single string, while catch-all segments should be passed a list of strings. Furthermore, ctx.params was previously undefined because we weren't passing it forward through the render options.",Add support for ctx.params in getStaticProps/getServerSideProps (#3696),"Dynamic segments should be passed a single string, while catch-all segments should be passed a list of strings. Furthermore, ctx.params was previously undefined because we weren't passing it forward through the render options."
1017,Add support for --graph=file.mermaid (#3633),This PR adds support for mermaid graph syntax (which is also supported by GitHub markdown). https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/  Co-authored-by: Greg Soltis greg@goldfiglabs.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,Add support for --graph=file.mermaid (#3633),This PR adds support for mermaid graph syntax (which is also supported by GitHub markdown). link/ Co-authored-by: Greg Soltis greg@goldfiglabs.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
1018,ci(workflow): expand integration test groups (#3659),"closes WEB-545, WEB-571. This PR mimic upstream next.js test group config to expand turbopack's integration integration to match with it. To reduce some of duplication, this PR also sets up reusable workflow to setup / build next.js and share its build artifact via github cache. Since those build artifacts are one-off usage per each test, it doesn't use upload/download artifact which is too slow & heavyweight for those purpose.",ci(workflow): expand integration test groups (#3659),"closes WEB-545, WEB-571. This PR mimic upstream next.js test group config to expand turbopack's integration integration to match with it. To reduce some of duplication, this PR also sets up reusable workflow to setup / build next.js and share its build artifact via github cache. Since those build artifacts are one-off usage per each test, it doesn't use upload/download artifact which is too slow & heavyweight for those purpose."
1019,improve node_modules as externals handling (#3736),Run after_resolve with original request try to resolve original request with node.js options to determine if it can be external typescript extends need to resolve with bare node.js resolving to avoid custom resolve options add special pnpm logic to improve externals when pnpm is used,improve node_modules as externals handling (#3736),Run after_resolve with original request try to resolve original request with node.js options to determine if it can be external typescript extends need to resolve with bare node.js resolving to avoid custom resolve options add special pnpm logic to improve externals when pnpm is used
1020,release(turborepo): 1.7.5-canary.0 (#3752),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.5-canary.0 (#3752),Co-authored-by: Turbobot turbobot@vercel.com
1021,make sure node.js worker processes are cleaned up correctly on errors (#3618),"Before it tried to reuse processes even if they crashed which leads to ""connection is closed"" errors on send and recv",make sure node.js worker processes are cleaned up correctly on errors (#3618),"Before it tried to reuse processes even if they crashed which leads to ""connection is closed"" errors on send and recv"
1022,fix: Made native-tls our default feature for ease of dev workflows (#3748),,fix: Made native-tls our default feature for ease of dev workflows (#3748),
1023,feature(turborepo): SSO Login (#3612),,feature(turborepo): SSO Login (#3612),
1024,More Turbopack Nightly Fixes (#3745)," new RegExp(""\d"") wasn't escaping correctly Fixed incorrectly imported @actions/core dep Fixed REST API usage Added minimal logging",More Turbopack Nightly Fixes (#3745),"new RegExp(""\d"") wasn't escaping correctly Fixed incorrectly imported @actions/core dep Fixed REST API usage Added minimal logging"
1025,fix(turbo): improved yarn berry pnp support (#3744,This improves yarn berry support when using nodeLinker: pnp by using the correct binary path for the child process. This ensure our rust binary is can correctly find the go binary. Fixes https://github.com/vercel/turbo/issues/3280,fix(turbo): improved yarn berry pnp support (#3744,This improves yarn berry support when using nodeLinker: pnp by using the correct binary path for the child process. This ensure our rust binary is can correctly find the go binary. Fixes link
1026,fix: use prerelease update-informer to cut ureq (#3726),update-informer has some good stuff in the pipeline that allows us to specify the http client we use. This is a quick and dirty add support for the updater on Windows ARM. If we don't want to use a non-release version of update-informer than #3722 should be merged instead of this. I expect a new release of update-informer might take a little bit as this is a breaking change due to the updated Registry trait definition.,fix: use prerelease update-informer to cut ureq (#3726),update-informer has some good stuff in the pipeline that allows us to specify the http client we use. This is a quick and dirty add support for the updater on Windows ARM. If we don't want to use a non-release version of update-informer than #3722 should be merged instead of this. I expect a new release of update-informer might take a little bit as this is a breaking change due to the updated Registry trait definition.
1027,feat(cli): reccomend codemod in updater (#3743),,feat(cli): reccomend codemod in updater (#3743),
1028,Fix Turbopack nightly release workflow,,Fix Turbopack nightly release workflow,
1029,feat(docs): update verbosity reference (#3740),Make the verbosity docs a little more clear (thanks to @Kikobeats for flagging),feat(docs): update verbosity reference (#3740),Make the verbosity docs a little more clear (thanks to @Kikobeats for flagging)
1030,docs(turborepo): Enumerate supported install scenarios (#3687),Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com,docs(turborepo): Enumerate supported install scenarios (#3687),Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com
1031,Implement custom nightly tag bumping (#3734),"This accomplishes a few things: - Aligns with our date-based versioning, instead of semver - Removes our reliance on github-tag-action, which was designed for semver, and didn't like our old tags - Allows us to manually rerun the release process, bumping the patch of the current day automatically Fixes WEB-502",Implement custom nightly tag bumping (#3734),"This accomplishes a few things: - Aligns with our date-based versioning, instead of semver - Removes our reliance on github-tag-action, which was designed for semver, and didn't like our old tags - Allows us to manually rerun the release process, bumping the patch of the current day automatically Fixes WEB-502"
1032,Add req.cookies to API requests (#3695),"This PR does a little bit more than what it says on the box. Before, we were parsing URL queries and request headers, only to serialize them some other way afterwards. The reason why we were parsing headers and queries is because we sometimes need to filter them. However, we don't need that for router/page SSR/page API. This PR makes it so we avoid parsing on Turbopack's side through rawHeaders and rawQuery.",Add req.cookies to API requests (#3695),"This PR does a little bit more than what it says on the box. Before, we were parsing URL queries and request headers, only to serialize them some other way afterwards. The reason why we were parsing headers and queries is because we sometimes need to filter them. However, we don't need that for router/page SSR/page API. This PR makes it so we avoid parsing on Turbopack's side through rawHeaders and rawQuery."
1033,Various Rope updates and fixes (#3629),"Updates and fixes a few items: - Fix: Prevents a Rope from containing an empty Bytes section - Perf: Use a Box<[RopeElem]> instead of a Vec<RopeElem>, reducing memory useage - Perf: Implement fast path for Rope::to_str() when containing a single Shared element The first one is the important change. The assumption while iterating (for streaming, equality checks, etc) is that the only time we can hit an empty Bytes section is when we reach the end of the entire Rope. If an empty section is hit in the middle of a rope, we can't tell if we've reached the end or we're in the middle without calling N more times (eg, what if an empty section followed an empty section, then we'd need to call 2 more times to see).  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Various Rope updates and fixes (#3629),"Updates and fixes a few items: - Fix: Prevents a Rope from containing an empty Bytes section - Perf: Use a Box<[RopeElem]> instead of a Vec, reducing memory useage - Perf: Implement fast path for Rope::to_str() when containing a single Shared element The first one is the important change. The assumption while iterating (for streaming, equality checks, etc) is that the only time we can hit an empty Bytes section is when we reach the end of the entire Rope. If an empty section is hit in the middle of a rope, we can't tell if we've reached the end or we're in the middle without calling N more times (eg, what if an empty section followed an empty section, then we'd need to call 2 more times to see). Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1034,update to 13.1.7-canary.8 (#3712),,update to 13.1.7-canary.8 (#3712),
1035,fix incorrect segment path (#3739),fixes app dir with /(basic)/about routes,fix incorrect segment path (#3739),fixes app dir with /(basic)/about routes
1036,Enable HMR updates even when critical issues occur (#3714),"This enables HMR updates, even when the update message also contains critical issues. There were some inconsistencies with the logic previously, so I'm not sure whether this fix is fully correct. More on that in PR comments.",Enable HMR updates even when critical issues occur (#3714),"This enables HMR updates, even when the update message also contains critical issues. There were some inconsistencies with the logic previously, so I'm not sure whether this fix is fully correct. More on that in PR comments."
1037,"share asset and chunking context between server, server data and client navigation (#3738)",This improves the performance for client-side navigation as it can reuse the modules from the initial navigation. Same for server data requests.,"share asset and chunking context between server, server data and client navigation (#3738)",This improves the performance for client-side navigation as it can reuse the modules from the initial navigation. Same for server data requests.
1038,Allow opt-in release dry run for turborepo (#3720),This modifies the release pipeline to add an opt-in dry run step that simply ignores the final stage of the publish pipeline. It also updates the release to handle the new tags added for the rust sandwich.  Co-authored-by: Mehul Kar mehul.kar@vercel.com,Allow opt-in release dry run for turborepo (#3720),This modifies the release pipeline to add an opt-in dry run step that simply ignores the final stage of the publish pipeline. It also updates the release to handle the new tags added for the rust sandwich. Co-authored-by: Mehul Kar mehul.kar@vercel.com
1039,include stderr and stdout in the error message when process failed to start (#3718),This improves debugging startup node.js crashes,include stderr and stdout in the error message when process failed to start (#3718),This improves debugging startup node.js crashes
1040,chore(releases): add release config (#3719),Generate release notes automatically.,chore(releases): add release config (#3719),Generate release notes automatically.
1041,Update SWC to fix JSX regression (#3733),Re: https://github.com/swc-project/swc/pull/6928,Update SWC to fix JSX regression (#3733),Re: link
1042,Update swc_core dependencies (#3731),Resolves a broken swc_css_parser fixed in swc-project/swc#6924.,Update swc_core dependencies (#3731),Resolves a broken swc_css_parser fixed in swc-project/swc#6924.
1043,fix(turborepo): Check for TLS feature at build-time (#3585),,fix(turborepo): Check for TLS feature at build-time (#3585),
1044,match next.js client side routing (buildManifest rewrites & devPagesManifest HMR) (#3701),,match next.js client side routing (buildManifest rewrites & devPagesManifest HMR) (#3701),
1045,Use correct key in migrating webpack docs (#3725),,Use correct key in migrating webpack docs (#3725),
1046,ci(workflow): set diff_base for release publish event (#3727),Trying to fix slack posting issue.  Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com,ci(workflow): set diff_base for release publish event (#3727),Trying to fix slack posting issue. Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com
1047,set nextExport flag for page rendering (#3717),"Otherwise router.isReady will never be true for pages without gSSP, gSP or gIP",set nextExport flag for page rendering (#3717),"Otherwise router.isReady will never be true for pages without gSSP, gSP or gIP"
1048,Check in Go file generated from protobuf (#3710),,Check in Go file generated from protobuf (#3710),
1049,use apply when expanding amd pattern matches (#3677),,use apply when expanding amd pattern matches (#3677),
1050,[Turbopack release workflow]: Fix github-tag-action param name,,[Turbopack release workflow]: Fix github-tag-action param name,
1051,Accept next/font/google as well as @next/font/google (#3723),"Aligning with https://github.com/vercel/next.js/pull/45707, this allows users to import fonts from next/font/google as well as @next/font/google. Test Plan: Adjusted tests to use next/font/google and added another test to verify @next/font/google continues to work.",Accept next/font/google as well as @next/font/google (#3723),"Aligning with link, this allows users to import fonts from next/font/google as well as @next/font/google. Test Plan: Adjusted tests to use next/font/google and added another test to verify @next/font/google continues to work."
1052,Run the Test workflow on all PRs (#3713),"When using stacked PRs with Graphite, PRs up the stack will not target main. This means that, with the current filter, the Test workflow will not apply to them.",Run the Test workflow on all PRs (#3713),"When using stacked PRs with Graphite, PRs up the stack will not target main. This means that, with the current filter, the Test workflow will not apply to them."
1053,Combine next.config.js Turbopack options into a nested object (#3689),"This combines Turbopack-specific options into a nested object experimental.turbopack, exposing loaders and resolveAlias properties. x-ref: https://github.com/vercel/next.js/pull/45560/files/631b637f42757e20aabe84dc933527dc66b55173#r1098123643 Test Plan: Integration tests for loaders and resolveAlias.",Combine next.config.js Turbopack options into a nested object (#3689),"This combines Turbopack-specific options into a nested object experimental.turbopack, exposing loaders and resolveAlias properties. x-ref: link Test Plan: Integration tests for loaders and resolveAlias."
1054,Re-add ffi-install step during make (#3708),Revert the part of #3705 that hadn't been vetted properly.,Re-add ffi-install step during make (#3708),Revert the part of #3705 that hadn't been vetted properly.
1055,Revert protoc version and stop building ffi on make (#3705),,Revert protoc version and stop building ffi on make (#3705),
1056,fix: turborepo integration test glob (#3702),"Expanding the patterns to include any changes to the cli directory as well as changing crates/turborepo* to creates/turborepo*/** which seems to be what we want. Testing: Under the hood get-diff-action uses minimatch for matching patterns against git diff. I quick wrote a test script to verify these patterns should get us what we want: ``` const { minimatch } = require(""minimatch"") const paths = [ 'crates/turborepo', 'crates/turborepo-ffi', 'crates/turborepo-lib/src/shim.rs', 'crates/turborepo/Cargo.toml', ] for (const pat of ['crates/turborepo', 'crates/turborepo/']) {     for (const path of paths) {         console.log(${pat} matches ${path}: ${minimatch(path, pat)})     } } Output: ""crates/turborepo matches crates/turborepo: true"" ""crates/turborepo matches crates/turborepo-ffi: true"" ""crates/turborepo matches crates/turborepo-lib/src/shim.rs: false"" ""crates/turborepo matches crates/turborepo/Cargo.toml: false"" ""crates/turborepo*/ matches crates/turborepo: false"" ""crates/turborepo/ matches crates/turborepo-ffi: false"" ""crates/turborepo/ matches crates/turborepo-lib/src/shim.rs: true"" ""crates/turborepo*/ matches crates/turborepo/Cargo.toml: true"" ```",fix: turborepo integration test glob (#3702),Expanding the patterns to include any changes to the cli directory as well as changing crates/turborepo to creates/turborepo/** which seems to be what we want. Testing: Under the hood get-diff-action uses minimatch for matching patterns against git diff. I quick wrote a test script to verify these patterns should get us what we want: module
1057,fix json assets (#3700),,fix json assets (#3700),
1058,fix: update verbosity integration tests (#3699),Fixes breakage introduced in #3661 I'll open another PR that expands when these tests get run to prevent breakages from landing.,fix: update verbosity integration tests (#3699),Fixes breakage introduced in #3661 I'll open another PR that expands when these tests get run to prevent breakages from landing.
1059,[Turbopack release workflow]: Fix last-green-commit SHA reference,,[Turbopack release workflow]: Fix last-green-commit SHA reference,
1060,"Add a page about installing turbo, including both global and repo-local (#3686)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com,"Add a page about installing turbo, including both global and repo-local (#3686)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com
1061,test(turborepo): Login (#3663),"Adds a test for login. A little messy with the cfgs. Perhaps at some point we can abstract out the dialoguer terminal interactions into a module, then stub it more cleanly.",test(turborepo): Login (#3663),"Adds a test for login. A little messy with the cfgs. Perhaps at some point we can abstract out the dialoguer terminal interactions into a module, then stub it more cleanly."
1062,Allow tuples as TaskInputs (#3692),"(I would have created a Linear issue for this specifically but Linear is down) This PR allows the use of (A, B, ...) as TaskInputs. This means that the following are now valid turbo_tasks::function signatures: rust fn do_the_thing(path: (FileSystemPathVc, BoolVc)) -> SomeVc; fn parse_headers(headers: Vec<(StringVc, StringVc)>) -> HeadersVc;",Allow tuples as TaskInputs (#3692),"(I would have created a Linear issue for this specifically but Linear is down) This PR allows the use of (A, B, ...) as TaskInputs. This means that the following are now valid turbo_tasks::function signatures: rust fn do_the_thing(path: (FileSystemPathVc, BoolVc)) -> SomeVc; fn parse_headers(headers: Vec<(StringVc, StringVc)>) -> HeadersVc;"
1063,improve error reporting of JSON parsing (#3676),"also make source context generation more reusable This adds a source context snippet of the JSON that failed parsing and the json path to the error. An error occurred while generating the chunk item [project]/crates/turbopack-tests/tests/snapshot/imports/json/input/invalid.json (json)   at Execution of module_factory failed   at Execution of JsonChunkItem::content failed   at Unable to make a module from invalid JSON: expected `,` or `}` at line 3 column 26   at nested.?      1 | {      2 |   ""nested"": {        |                          v      3 |     ""this-is"": ""invalid"" // lint-staged will remove trailing commas, so here's a comment        |                          ^      4 |   }      5 | }",improve error reporting of JSON parsing (#3676),"also make source context generation more reusable This adds a source context snippet of the JSON that failed parsing and the json path to the error. An error occurred while generating the chunk item [project]/crates/turbopack-tests/tests/snapshot/imports/json/input/invalid.json (json)   at Execution of module_factory failed   at Execution of JsonChunkItem::content failed   at Unable to make a module from invalid JSON: expected module or module at line 3 column 26   at nested.?      1 | {      2 |   ""nested"": {        |                          v      3 |     ""this-is"": ""invalid"" // lint-staged will remove trailing commas, so here's a comment        |                          ^      4 |   }      5 | }"
1064,Update SWC (#3691), Ref: https://github.com/swc-project/swc/pull/6910,Update SWC (#3691),Ref: link
1065,release(turborepo): 1.7.4 (#3688),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.4 (#3688),Co-authored-by: Turbobot turbobot@vercel.com
1066,Automate nightly Turbopack release tagging (#3594),"This adds a new workflow which automatically releases nightly versions of turbopack. Coupled with https://github.com/vercel/next.js/pull/45506, we'll be able to fully automate our release process into Next.js.  The process kicks of with cron every midnight-ish PST. We find the latest commit that passes CI We bump the latest tag version (more on this in a bit) We generate a new GH release with this version  The automated tagging version will break with our current turbopack-YYMMDD.XYZ release process just a bit. The tag action that I'm using can't generate a date-like tag, it can only handle semver (with optional prefix). So I've set it up to generate turbopack-MAJOR.MINOR.PATCH-nightly.XYZ tags. The turbopack- here differentiates us from Turborepo, and the nightly tag denotes this a non-release software. I hope that I've configured this correctly to always bump patches, but I'm not 100% confident until it runs. Fixes WEB-502",Automate nightly Turbopack release tagging (#3594),"This adds a new workflow which automatically releases nightly versions of turbopack. Coupled with link, we'll be able to fully automate our release process into Next.js. The process kicks of with cron every midnight-ish PST. We find the latest commit that passes CI We bump the latest tag version (more on this in a bit) We generate a new GH release with this version The automated tagging version will break with our current turbopack-YYMMDD.XYZ release process just a bit. The tag action that I'm using can't generate a date-like tag, it can only handle semver (with optional prefix). So I've set it up to generate turbopack-MAJOR.MINOR.PATCH-nightly.XYZ tags. The turbopack- here differentiates us from Turborepo, and the nightly tag denotes this a non-release software. I hope that I've configured this correctly to always bump patches, but I'm not 100% confident until it runs. Fixes WEB-502"
1067,docs: add package.json and turbo.json to a pruned directory example (#3666),I fixed two mistakes. - ./out/json has package.json and ./out/full has package.json and turbo.json in fact. - You don't need to copy turbo.json manually in Dockerfile because turbo.json is already copied in the previous line,docs: add package.json and turbo.json to a pruned directory example (#3666),I fixed two mistakes. - ./out/json has package.json and ./out/full has package.json and turbo.json in fact. - You don't need to copy turbo.json manually in Dockerfile because turbo.json is already copied in the previous line
1068,refactor ResolveResult to allow mixing special and assets in alternatives (#3675),Co-authored-by: Justin Ridgewell justin@ridgewell.name,refactor ResolveResult to allow mixing special and assets in alternatives (#3675),Co-authored-by: Justin Ridgewell justin@ridgewell.name
1069,chore: add local and global versions in debug (#3661),Adds some additional debug logs in the shim about the global/local versions: ``` olszewski@chriss-mbp sushiswap % turbo_dev -vv --version 2023-02-06T13:38:47.876-0800 [DEBUG] turborepo_lib::shim: Global turbo version: 1.7.3 2023-02-06T13:38:47.880-0800 [DEBUG] turborepo_lib::shim: Local turbo version: 1.7.2 2023-02-06T13:38:47.880-0800 [DEBUG] turborepo_lib::shim: Running local turbo binary in /private/tmp/sushiswap/node_modules/.bin/turbo 2023-02-06T13:38:47.880-0800 [DEBUG] turborepo_lib::shim: supports_skip_infer_and_single_package true 1.7.2 ``` a future PR will add this to the github issues template once this gets released,chore: add local and global versions in debug (#3661),Adds some additional debug logs in the shim about the global/local versions: module a future PR will add this to the github issues template once this gets released
1070,chore(repo): add new labeler (#3684),,chore(repo): add new labeler (#3684),
1071,fix: remove turborepo binary dependency on ffi (#3683),"Currently our release process is broken due to protoc not being setup on the machine: https://github.com/vercel/turbo/actions/runs/4118079447/jobs/7110161689#step:6:363 We shouldn't need protoc when building the top level Rust binary as it's only used when building turborepo-ffi which is used by go-turbo to call Rust code. turborepo-ffi is already built if one runs make go-turbo which happens as part of our Rust binary's build script (when not creating a release build). During a release build we don't build go-turbo since it is built in an earlier step and is only needed when we package up the two binaries. We could instead setup protoc in the Rust build process, but that adds time to the release process.",fix: remove turborepo binary dependency on ffi (#3683),"Currently our release process is broken due to protoc not being setup on the machine: link We shouldn't need protoc when building the top level Rust binary as it's only used when building turborepo-ffi which is used by go-turbo to call Rust code. turborepo-ffi is already built if one runs make go-turbo which happens as part of our Rust binary's build script (when not creating a release build). During a release build we don't build go-turbo since it is built in an earlier step and is only needed when we package up the two binaries. We could instead setup protoc in the Rust build process, but that adds time to the release process."
1072,Avoid filename conflict (#3673),We need to make sure that .json and .json.js doesn't end up with the same name.,Avoid filename conflict (#3673),We need to make sure that .json and .json.js doesn't end up with the same name.
1073,fix: Use go implementation when no build tags present (#3678),Currently our release process is broken as we aren't passing any tags: https://github.com/vercel/turbo/actions/runs/4117196602/jobs/7108350138#step:6:35 Currently the default go tag is applied in the makefile which doesn't get picked up by goreleaser. We now default to a go implementation if the rust tag isn't present (or if the go tag is present). I did this instead of setting default tags in all of our .yml files to avoid needing to remember to keep in in sync with the makefile default.,fix: Use go implementation when no build tags present (#3678),Currently our release process is broken as we aren't passing any tags: link Currently the default go tag is applied in the makefile which doesn't get picked up by goreleaser. We now default to a go implementation if the rust tag isn't present (or if the go tag is present). I did this instead of setting default tags in all of our .yml files to avoid needing to remember to keep in in sync with the makefile default.
1074,Next.js integration ci: fall back to false for force_post_to_slack (#3674),,Next.js integration ci: fall back to false for force_post_to_slack (#3674),
1075,detect missing trait methods at compile time (#3657),"Leaves the default implementations of a trait ""in place"" and implements the ""cross-trait"" resolving differently we get back the normal rust error messages when you don't have every method implemented 🎉",detect missing trait methods at compile time (#3657),"Leaves the default implementations of a trait ""in place"" and implements the ""cross-trait"" resolving differently we get back the normal rust error messages when you don't have every method implemented 🎉"
1076,Reuse TurboTasks cross turbotrace runs (#3653),"Allow reusing TurboTasks cross multiple turbotrace runs, can create TurboTasks in the next.js side and pass it back to reuse it. Partially Close WEB-562",Reuse TurboTasks cross turbotrace runs (#3653),"Allow reusing TurboTasks cross multiple turbotrace runs, can create TurboTasks in the next.js side and pass it back to reuse it. Partially Close WEB-562"
1077,Export __N_SSG and __N_SSP from the error component (#3574),export * would be preferable once supported.,Export __N_SSG and __N_SSP from the error component (#3574),export * would be preferable once supported.
1078,add missing workspace members and default members (#3668),That's extracted from @ForsakenHarmony's PR #3657 and fixes the workspace members,add missing workspace members and default members (#3668),That's extracted from @ForsakenHarmony's PR #3657 and fixes the workspace members
1079,ci(workflow): fix summary count error (#3628),Minor fix for calculation error.,ci(workflow): fix summary count error (#3628),Minor fix for calculation error.
1080,docs: Add webpack loader docs to 'Migrating from Webpack' (#3613),Fixes WEB-549. Test Plan: Vercel preview  Co-authored-by: Justin Ridgewell justin@ridgewell.name,docs: Add webpack loader docs to 'Migrating from Webpack' (#3613),Fixes WEB-549. Test Plan: Vercel preview Co-authored-by: Justin Ridgewell justin@ridgewell.name
1081,docs: Update casing from Webpack to webpack (#3655),Following discussion in https://github.com/vercel/next.js/pull/45560,docs: Update casing from Webpack to webpack (#3655),Following discussion in link
1082,fix: No longer error on pnpm lockfile specifier mismatch (#3656),Fixes #3638 I added a regression in #3611 where we would error if there was a specifier mismatch and the specifier wasn't totally resolved. This was an unintended change to the previous behavior would indicate it didn't find a package resolution. Tested against provided reproduction,fix: No longer error on pnpm lockfile specifier mismatch (#3656),Fixes #3638 I added a regression in #3611 where we would error if there was a specifier mismatch and the specifier wasn't totally resolved. This was an unintended change to the previous behavior would indicate it didn't find a package resolution. Tested against provided reproduction
1083,Rename experimental.resolveAlias to experimental.turbopackResolveAlias (#3651),"Following discussion at https://github.com/vercel/next.js/pull/45560, this renames experimental.resolveAlias to experimental.turbopackResolveAlias to make it clear that this option is only available in Turbopack. Test Plan: cargo test -p next-dev-tests",Rename experimental.resolveAlias to experimental.turbopackResolveAlias (#3651),"Following discussion at link, this renames experimental.resolveAlias to experimental.turbopackResolveAlias to make it clear that this option is only available in Turbopack. Test Plan: cargo test -p next-dev-tests"
1084,fix: turbo login on Windows (#3664),Fixes #3647 Issue was that we were constructing a header with an unescaped \r on Windows as the user agent. CRLF is the gift that keeps on giving,fix: turbo login on Windows (#3664),Fixes #3647 Issue was that we were constructing a header with an unescaped \r on Windows as the user agent. CRLF is the gift that keeps on giving
1085,fix: remove quotes around extension in makefile (#3662),"There was an issue with building the go binary on windows.  Before this PR: make -p ... go-turbo"".exe"": internal/turbodprotocol/turbod.pb.go internal/turbodprotocol/turbod_grpc.pb.go go.mod turborepo-ffi-install ... Now dropping the quotes we get the desired build target: make -p ... go-turbo.exe: internal/turbodprotocol/turbod.pb.go internal/turbodprotocol/turbod_grpc.pb.go go.mod turborepo-ffi-install ... and make go-turbo.exe works.",fix: remove quotes around extension in makefile (#3662),"There was an issue with building the go binary on windows.  Before this PR: make -p ... go-turbo"".exe"": internal/turbodprotocol/turbod.pb.go internal/turbodprotocol/turbod_grpc.pb.go go.mod turborepo-ffi-install ... Now dropping the quotes we get the desired build target: make -p ... go-turbo.exe: internal/turbodprotocol/turbod.pb.go internal/turbodprotocol/turbod_grpc.pb.go go.mod turborepo-ffi-install ... and make go-turbo.exe works."
1086,Import Next's CJS AsyncLocalStorage modules (#3634),"The node evaluation always renders with type: ""commonjs"" and require() calls, so we'll always import the CJS files. But here we're importing the ESM files. That means we have 2 distinct instances of requestAsyncStorage in our node instance, and they cannot properly communicate with the other. Fixes WEB-543",Import Next's CJS AsyncLocalStorage modules (#3634),"The node evaluation always renders with type: ""commonjs"" and require() calls, so we'll always import the CJS files. But here we're importing the ESM files. That means we have 2 distinct instances of requestAsyncStorage in our node instance, and they cannot properly communicate with the other. Fixes WEB-543"
1087,ci(workflow): use release build of next-dev for integration test (#3650),"Context: https://vercel.slack.com/archives/C04KC8A53T7/p1675471724960239?thread_ts=1675469142.533699&cid=C04KC8A53T7 There are some expected failures with debug build (without proper setup) for the integration test. This PR choose to build release binary, as it'll also help overall test turnaround time since debug build is lot slower.",ci(workflow): use release build of next-dev for integration test (#3650),"Context: link There are some expected failures with debug build (without proper setup) for the integration test. This PR choose to build release binary, as it'll also help overall test turnaround time since debug build is lot slower."
1088,Update Google font-data.json (2023-02-06) (#3614),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-02-06) (#3614),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com
1089,docs: Increase sidebar text contrast in dark mode (#3625),This increases the contrast of the sidebar text against its dark background by slightly lightening it. It now passes WCAG AA guidelines. Test Plan: https://webaim.org/resources/contrastchecker/,docs: Increase sidebar text contrast in dark mode (#3625),This increases the contrast of the sidebar text against its dark background by slightly lightening it. It now passes WCAG AA guidelines. Test Plan: link/
1090,Add force_post_to_slack to repository dispatch (#3649),This adds the force_post_to_slack option to the Next.js release workflow's repository_dispatch event. It defaults to false for the repository dispatch event and is now required for manual dispatch. This should ensure that the value is always present as it's expected to be a boolean later in the workflow.,Add force_post_to_slack to repository dispatch (#3649),This adds the force_post_to_slack option to the Next.js release workflow's repository_dispatch event. It defaults to false for the repository dispatch event and is now required for manual dispatch. This should ensure that the value is always present as it's expected to be a boolean later in the workflow.
1091,exlcude turborepo-ffi in turbopack build (#3654),,exlcude turborepo-ffi in turbopack build (#3654),
1092,Unwrap sequence await callee in analyzer (#3623),Close WEB-555,Unwrap sequence await callee in analyzer (#3623),Close WEB-555
1093,"split tests into two steps, report ok and done separately (#3646)","This removes some long running tests (mac and windows) from the required PR checks. Now the CI workflow is split into two parts, Ok (required) for the required checks and Done (non-blocking) for all checks. The PR comment will show 🟢 CI likely successful 🟢 A few longer running steps are still running, but they should not be considered as blocking. See workflow summary for details after the required checks are done. Once all checks are done, it will be updated to 🟢 CI successful 🟢 or to ⚠️ CI failed ⚠️ depending on the full result","split tests into two steps, report ok and done separately (#3646)","This removes some long running tests (mac and windows) from the required PR checks. Now the CI workflow is split into two parts, Ok (required) for the required checks and Done (non-blocking) for all checks. The PR comment will show 🟢 CI likely successful 🟢 A few longer running steps are still running, but they should not be considered as blocking. See workflow summary for details after the required checks are done. Once all checks are done, it will be updated to 🟢 CI successful 🟢 or to ⚠️ CI failed ⚠️ depending on the full result"
1094,"examples/basic is using PNPM, not Yarn (#3488)","This project example uses PNPM as the package manager, but the README.md guide uses PNPM at first and Yarn for the rest of the command docs. Co-authored-by: Mehul Kar mehul.kar@vercel.com","examples/basic is using PNPM, not Yarn (#3488)","This project example uses PNPM as the package manager, but the README.md guide uses PNPM at first and Yarn for the rest of the command docs. Co-authored-by: Mehul Kar mehul.kar@vercel.com"
1095,Update minor tailwind example issues. (#3642),The UI package had a few residual config issues from tweaks.,Update minor tailwind example issues. (#3642),The UI package had a few residual config issues from tweaks.
1096,add first version of rgr sandwich (#3306),,add first version of rgr sandwich (#3306),
1097,fix glob parsing and improve error reporting (#3644),Our glob parser was not able to parse alternatives that contain a slash: {a/b},fix glob parsing and improve error reporting (#3644),Our glob parser was not able to parse alternatives that contain a slash: {a/b}
1098,Support for getStaticPaths.fallback = false (#3600),"Adds support for getStaticPaths returning { fallback: false } by building out all static paths and checking whether the resolved path is included in that list. buildStaticPaths requires the next.config.js path, as well as other config options such as locale. I created WEB-546 to track being able to pass them to the handlers.",Support for getStaticPaths.fallback = false (#3600),"Adds support for getStaticPaths returning { fallback: false } by building out all static paths and checking whether the resolved path is included in that list. buildStaticPaths requires the next.config.js path, as well as other config options such as locale. I created WEB-546 to track being able to pass them to the handlers."
1099,[docs] Fix typo: pipline => pipeline (#3635),,[docs] Fix typo: pipline => pipeline (#3635),
1100,Fix enable_mdx short flag conflict with exact flag (#3622),,Fix enable_mdx short flag conflict with exact flag (#3622),
1101,Load TaskDefinitions lazily when building taskGraph (#3562),"Previously, before the Engine struct is Prepared for execution, Turbo stored a map of core.Task instances to look up Task Definitions.  This change removes that behavior and instead looks up TaskDefinitions during task graph construction. This bakes in the assumption that there is more than one place for Tasks to be defined, which is a pre-requisite for composable configs. This implementation hardcodes looking up the turbo.json from the root workspace, but in the future, we'll update to start looking for the TaskDefinition in the task's workspace.",Load TaskDefinitions lazily when building taskGraph (#3562),"Previously, before the Engine struct is Prepared for execution, Turbo stored a map of core.Task instances to look up Task Definitions.  This change removes that behavior and instead looks up TaskDefinitions during task graph construction. This bakes in the assumption that there is more than one place for Tasks to be defined, which is a pre-requisite for composable configs. This implementation hardcodes looking up the turbo.json from the root workspace, but in the future, we'll update to start looking for the TaskDefinition in the task's workspace."
1102,Send Next.js Integration test results to Slack (#3591),"This uses Slack's GitHub action [0] to send the contents of the summary markdown file to a custom workflow for posting in Slack. Since the markdown file includes newlines and quotes, this uses jq to escape it and format a new json file that the action reads. Test Plan: Manually run the workflow against this branch [0] https://github.com/slackapi/slack-github-action  Co-authored-by: OJ Kwon 1210596+kwonoj@users.noreply.github.com",Send Next.js Integration test results to Slack (#3591),"This uses Slack's GitHub action [0] to send the contents of the summary markdown file to a custom workflow for posting in Slack. Since the markdown file includes newlines and quotes, this uses jq to escape it and format a new json file that the action reads. Test Plan: Manually run the workflow against this branch [0] link Co-authored-by: OJ Kwon 1210596+kwonoj@users.noreply.github.com"
1103,Hoist DryRunSummary fields to PackageTask (#3615),"The PackageTask abstraction has some statically analyzable information about the task, and DryRunSummary collects the rest. Hoisting as much of this information up to the PackageTask will make it easier to make it available on RealRuns without duplicating code. Ideally, DryRun doesn't do anything except print the information we already have.",Hoist DryRunSummary fields to PackageTask (#3615),"The PackageTask abstraction has some statically analyzable information about the task, and DryRunSummary collects the rest. Hoisting as much of this information up to the PackageTask will make it easier to make it available on RealRuns without duplicating code. Ideally, DryRun doesn't do anything except print the information we already have."
1104,release(turborepo): 1.7.3 (#3627),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.3 (#3627),Co-authored-by: Turbobot turbobot@vercel.com
1105,add helper for walking a tree concurrently and deterministic (#3619),"Similar to our try_join helper this adds a try_flat_map_recursive_join helper, which allows to async expand a tree structure into all nodes. It will call the async mapper function concurrently to allow parallelism. It will handle circular and duplicate references and return all nodes in a determinstic way (breath-first).",add helper for walking a tree concurrently and deterministic (#3619),"Similar to our try_join helper this adds a try_flat_map_recursive_join helper, which allows to async expand a tree structure into all nodes. It will call the async mapper function concurrently to allow parallelism. It will handle circular and duplicate references and return all nodes in a determinstic way (breath-first)."
1106,fix: SSO Login (#3626),,fix: SSO Login (#3626),
1107,always allow to close the error overlay (#3624),"It's difficult to test an app, if a single error blocks using the whole page. Therefore, error overlay should always be closeable.",always allow to close the error overlay (#3624),"It's difficult to test an app, if a single error blocks using the whole page. Therefore, error overlay should always be closeable."
1108,feat: Use lockfiles when determining what packages changed across commits (#3250),"This PR attempts to address #2162 This PR was written to be conservative by nature and it will mark packages as changed on almost any lockfile change that isn't just a version bump. Notable changes: - Extended SCM interface as we need to be able to reconstruct old lockfile - Refactored calculation of the transitive closure of the package graph so a full Context object isn't required - Merged TransitiveDeps and ExternalDeps as they contained almost identical information I haven't been able to fully test this, but from a quick spot check of pnpm it seems to behave as expected. Needed testing:  [x] Npm [x] Yarn [x] Yarn2+ [x] Pnpm",feat: Use lockfiles when determining what packages changed across commits (#3250),"This PR attempts to address #2162 This PR was written to be conservative by nature and it will mark packages as changed on almost any lockfile change that isn't just a version bump. Notable changes: - Extended SCM interface as we need to be able to reconstruct old lockfile - Refactored calculation of the transitive closure of the package graph so a full Context object isn't required - Merged TransitiveDeps and ExternalDeps as they contained almost identical information I haven't been able to fully test this, but from a quick spot check of pnpm it seems to behave as expected. Needed testing: [x] Npm [x] Yarn [x] Yarn2+ [x] Pnpm"
1109,fix: mismatched pnpm lockfile version resolution (#3611),Fixes #3564 I created a regression when adding support for pnpm lockfileVersion: 6 that caused us to not include some indirect dependencies of a workspace. A package would be missing only if a workspace had a direct dependency on the package that was also included as an indirect dependency where the version ranges didn't overlap. See the new test fixture for a basic version of how this could occur. Huge thanks to @shawnmcknight for providing a reproduction!,fix: mismatched pnpm lockfile version resolution (#3611),Fixes #3564 I created a regression when adding support for pnpm lockfileVersion: 6 that caused us to not include some indirect dependencies of a workspace. A package would be missing only if a workspace had a direct dependency on the package that was also included as an indirect dependency where the version ranges didn't overlap. See the new test fixture for a basic version of how this could occur. Huge thanks to @shawnmcknight for providing a reproduction!
1110,initial work for compile-time evaluation (#3495),"Allows to skip unreachable code based on compile-time constant conditions e. g. if (!process.turbopack) {   require(""will-not-be-processed""); }  add if() and process.turbopack fixes WEB-491 Removes unreachable code fixes WEB-498 evaluate some logical operations &&, ||, ??, ! fix arguments handling fixes WEB-529 nested effects for function called with closures handle closures when array methods are used fixes WEB-538 evaluates process.turbopack fixes WEB-496",initial work for compile-time evaluation (#3495),"Allows to skip unreachable code based on compile-time constant conditions e. g. if (!process.turbopack) {   require(""will-not-be-processed""); } add if() and process.turbopack fixes WEB-491 Removes unreachable code fixes WEB-498 evaluate some logical operations &&, ||, ??, ! fix arguments handling fixes WEB-529 nested effects for function called with closures handle closures when array methods are used fixes WEB-538 evaluates process.turbopack fixes WEB-496"
1111,Move integration test entries to input/ (#3590),"Moves all next-dev integration test code into a parent input/ directory, like our snapshot tests. This prepares for introducing issues snapshots to next-dev integration tests. Test Plan: CI",Move integration test entries to input/ (#3590),"Moves all next-dev integration test code into a parent input/ directory, like our snapshot tests. This prepares for introducing issues snapshots to next-dev integration tests. Test Plan: CI"
1112,Update swc_core to v0.59.11 (#3484),This is required for https://vercel.slack.com/archives/C03S8ED1DKM/p1674046006491839  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Update swc_core to v0.59.11 (#3484),This is required for link Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1113,ci(actions): adjust test summary format (#3588),"closes WEB-541, test summary format adjustments.",ci(actions): adjust test summary format (#3588),"closes WEB-541, test summary format adjustments."
1114,fix outstanding clippy lints (#3601),"Two minor issues that clippy complains about. `` cargo clippy     Blocking waiting for file lock on package cache warning: usingwrite!()with a format string that ends in a single newline    --> crates/turbopack-ecmascript/src/chunk/mod.rs:515:17     | 515 | /                 write!( 516 | |                     code, 517 | |                     ""throw new Error({error});\n"", 518 | |                     error = &js_error_message 519 | |                 )?;     | |_________________^     |     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#write_with_newline     = note:#[warn(clippy::write_with_newline)]on by default help: usewriteln!` instead     | 515 ~                 writeln!( 516 |                     code, 517 ~                     ""throw new Error({error});"",     | warning: turbopack-ecmascript (lib) generated 1 warning warning: useless conversion to the same type: turbo_tasks_fs::File    --> crates/turbopack-node/src/render/render_static.rs:128:38     | 128 |                 FileContent::Content({ File::from(body) }.into()).into(),     |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing .into(): { File::from(body) }     |     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_conversion     = note: #[warn(clippy::useless_conversion)] on by default ```",fix outstanding clippy lints (#3601),"Two minor issues that clippy complains about. module instead     | 515 ~                 writeln!( 516 |                     code, 517 ~                     ""throw new Error({error});"",     | warning: turbopack-ecmascript (lib) generated 1 warning warning: useless conversion to the same type: turbo_tasks_fs::File    --> crates/turbopack-node/src/render/render_static.rs:128:38     | 128 |                 FileContent::Content({ File::from(body) }.into()).into(),     |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing .into(): { File::from(body) }     |     = help: for further information visit link     = note: #[warn(clippy::useless_conversion)] on by default ```"
1115,fix(cli): prefer constant over name (#3608),,fix(cli): prefer constant over name (#3608),
1116,needs this -- to actually pass the flag (#3487),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,needs this -- to actually pass the flag (#3487),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1117,fix(docs): update turbo.json highlighting in docs (#3609),,fix(docs): update turbo.json highlighting in docs (#3609),
1118,release(turborepo): 1.7.3-canary.1 (#3606),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.3-canary.1 (#3606),Co-authored-by: Turbobot turbobot@vercel.com
1119,fix(cli): ci detection (#3605),,fix(cli): ci detection (#3605),
1120,Add print_task_invalidation feature (#3537),"I used this to track down the infinite looping behavior #3525 and #3526. Running cargo run --features print_task_invalidation --bin next-dev will print something similar to: ``` invalidated Task { id: 16875, name: ConditionalContentSource::get } Task { id: 16875, name: ConditionalContentSource::get } invalidates:     Task { id: 16873, name: CombinedContentSource::get }     Task { id: 16832, name: CombinedContentSource::get }     Task { id: 16815, name: CombinedContentSource::get }     Task { id: 16807, name: CombinedContentSource::get }     Task { id: 15384, name: get_from_source } invalidated Task { id: 16873, name: CombinedContentSource::get } invalidated Task { id: 16832, name: CombinedContentSource::get } invalidated Task { id: 16815, name: CombinedContentSource::get } invalidated Task { id: 16807, name: CombinedContentSource::get } invalidated Task { id: 15384, name: get_from_source } invalidated Task { id: 71537, name: DiskFileSystem::read } invalidated Task { id: 71517, name: DiskFileSystem::write } invalidated Task { id: 72217, name: DiskFileSystem::read } invalidated Task { id: 72214, name: DiskFileSystem::write }",Add print_task_invalidation feature (#3537),"I used this to track down the infinite looping behavior #3525 and #3526. Running cargo run --features print_task_invalidation --bin next-dev will print something similar to: ``` invalidated Task { id: 16875, name: ConditionalContentSource::get } Task { id: 16875, name: ConditionalContentSource::get } invalidates:     Task { id: 16873, name: CombinedContentSource::get }     Task { id: 16832, name: CombinedContentSource::get }     Task { id: 16815, name: CombinedContentSource::get }     Task { id: 16807, name: CombinedContentSource::get }     Task { id: 15384, name: get_from_source } invalidated Task { id: 16873, name: CombinedContentSource::get } invalidated Task { id: 16832, name: CombinedContentSource::get } invalidated Task { id: 16815, name: CombinedContentSource::get } invalidated Task { id: 16807, name: CombinedContentSource::get } invalidated Task { id: 15384, name: get_from_source } invalidated Task { id: 71537, name: DiskFileSystem::read } invalidated Task { id: 71517, name: DiskFileSystem::write } invalidated Task { id: 72217, name: DiskFileSystem::read } invalidated Task { id: 72214, name: DiskFileSystem::write }"
1121,Capture engine/run unit tests with prysk (#3592),"This converts unit tests exercising the task graph to integration tests.  The purpose of this change is to make it easier to land lazy loading task definitions, which breaks all these unit tests, due to their use of the AddTask API to setup the test. Additionally, the lazy loading feature will require that these tests have access to the file system to read from config file, which would make them closer to integration tests already. Note that the new tests are here are:  not 1:1 with the old ones, but attempt to capture the scenarios in spirit. asserted with --graph, because parallel execution makes it a bit more challenging to assert against logs. combined with existing topological-deps tests",Capture engine/run unit tests with prysk (#3592),"This converts unit tests exercising the task graph to integration tests.  The purpose of this change is to make it easier to land lazy loading task definitions, which breaks all these unit tests, due to their use of the AddTask API to setup the test. Additionally, the lazy loading feature will require that these tests have access to the file system to read from config file, which would make them closer to integration tests already. Note that the new tests are here are: not 1:1 with the old ones, but attempt to capture the scenarios in spirit. asserted with --graph, because parallel execution makes it a bit more challenging to assert against logs. combined with existing topological-deps tests"
1122,chore: Removed Cargo.lock from CI for PRs (#3558),"We remove this requirement so that PRs for just turborepo code + Cargo.lock or just turbopack code + Cargo.lock can only run the corresponding Turbopack/Turborepo workflows, thus saving time. Since the workflows are still run on main, we can catch dependency errors before shipping.",chore: Removed Cargo.lock from CI for PRs (#3558),"We remove this requirement so that PRs for just turborepo code + Cargo.lock or just turbopack code + Cargo.lock can only run the corresponding Turbopack/Turborepo workflows, thus saving time. Since the workflows are still run on main, we can catch dependency errors before shipping."
1123,update next.js to 13.1.7-canary.2 (#3595),,update next.js to 13.1.7-canary.2 (#3595),
1124,instatiated -> instantiated (#3602),,instatiated -> instantiated (#3602),
1125,test(turborepo): Test link (#3556),Tests link by mocking API calls and stubbing out the interactive parts.  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,test(turborepo): Test link (#3556),Tests link by mocking API calls and stubbing out the interactive parts. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1126,release(turborepo): 1.7.3-canary.0 (#3603),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.3-canary.0 (#3603),Co-authored-by: Turbobot turbobot@vercel.com
1127,Share request resolving logic between http and update servers (#3597),"With the addition of the Next.js routing layer at the root of our content sources, we need the update server to also be able to follow Next.js rewrites, like the HTTP server. This requires the following: * Rewrites need to be able to indicate a source where to ""resume"" after rewriting. Otherwise, we would enter an infinite loop of the Next.js layer rewriting to the Next.js layer. * The resolving logic from process_request_with_content_source needs to be extracted into its own function, so it may be called both from the HTTP server (which expects fully resolved ReadRefs) and the update server (which needs a VersionedContentVc): this is where resolve_source_request comes in. Co-authored-by: Justin Ridgewell justin@ridgewell.name",Share request resolving logic between http and update servers (#3597),"With the addition of the Next.js routing layer at the root of our content sources, we need the update server to also be able to follow Next.js rewrites, like the HTTP server. This requires the following: * Rewrites need to be able to indicate a source where to ""resume"" after rewriting. Otherwise, we would enter an infinite loop of the Next.js layer rewriting to the Next.js layer. * The resolving logic from process_request_with_content_source needs to be extracted into its own function, so it may be called both from the HTTP server (which expects fully resolved ReadRefs) and the update server (which needs a VersionedContentVc): this is where resolve_source_request comes in. Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1128,add rust_prepare to Ok requirements (#3599),Before that the PR will be Ok even if rust code doesn't compile,add rust_prepare to Ok requirements (#3599),Before that the PR will be Ok even if rust code doesn't compile
1129,improve error reporting for fatal errors (#3550),This adds the turbo-tasks function name as context of all fatal errors propagated from executing or reading turbo-tasks functions. That should help in debugging fatal errors.,improve error reporting for fatal errors (#3550),This adds the turbo-tasks function name as context of all fatal errors propagated from executing or reading turbo-tasks functions. That should help in debugging fatal errors.
1130,fix: bring back tty into ci detection (#3589),3586 changed how we calculate IsCI and dropped the !IsTTY start to the calculation. This breaks our cmdutil tests as they require the IsCI flag to be true when the test is running. We need IsCI to be true otherwise we won't look at VERCEL_ARTIFACTS_TOKEN as a possible token source.,fix: bring back tty into ci detection (#3589),3586 changed how we calculate IsCI and dropped the !IsTTY start to the calculation. This breaks our cmdutil tests as they require the IsCI flag to be true when the test is running. We need IsCI to be true otherwise we won't look at VERCEL_ARTIFACTS_TOKEN as a possible token source.
1131,fix: pnpm prune misses git dependency (#3517),Fixes #2870 The resolved version of a github: dependency is the lockfile key of the package so now when resolving a package we check and see if we can find a package by using just the version instead of /name@version. This is built on top of #3483 so review that first.,fix: pnpm prune misses git dependency (#3517),Fixes #2870 The resolved version of a github: dependency is the lockfile key of the package so now when resolving a package we check and see if we can find a package by using just the version instead of /name@version. This is built on top of #3483 so review that first.
1132,feat(cli): support ci header (#3586),,feat(cli): support ci header (#3586),
1133,Remove unused code (#3579),,Remove unused code (#3579),
1134,Move persistent deps tests to prysk (#3566),"These unit tests made heavy use of the internals of setting up a TaskGraph. These internals will change with lazy task definition retrieval. Instead of rewriting unit tests, this updates the tests to integration tests. This will also make them  resilient to the Rust port.",Move persistent deps tests to prysk (#3566),"These unit tests made heavy use of the internals of setting up a TaskGraph. These internals will change with lazy task definition retrieval. Instead of rewriting unit tests, this updates the tests to integration tests. This will also make them  resilient to the Rust port."
1135,fix(use correct serialization logic for turbo.json) (#3580),"Fixes #3570  The issue here was that we implemented the custom marshalling behavior on a pointer of TaskDefinition, but the pipeline is map[string]TaskDefinition. I chose to change the MarshalJSON implementation to not be on a pointer type. I also added custom marshalling behavior to output mode so we no longer output the number of the enum.",fix(use correct serialization logic for turbo.json) (#3580),"Fixes #3570  The issue here was that we implemented the custom marshalling behavior on a pointer of TaskDefinition, but the pipeline is map[string]TaskDefinition. I chose to change the MarshalJSON implementation to not be on a pointer type. I also added custom marshalling behavior to output mode so we no longer output the number of the enum."
1136,Configure label to auto-update PRs with Kodiak (#3577),,Configure label to auto-update PRs with Kodiak (#3577),
1137,ci(actions): skip unparseable tree (#3584),Minor null check fix.,ci(actions): skip unparseable tree (#3584),Minor null check fix.
1138,avoid warning in webpack loader executor (#3551),,avoid warning in webpack loader executor (#3551),
1139,release(turborepo): 1.7.2 (#3583),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,release(turborepo): 1.7.2 (#3583),Co-authored-by: Turbobot turbobot@vercel.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1140,chore(deps): update dependency prettier to v2.8.3 (#3424)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | prettier (source) | 2.8.0 -> 2.8.3 |  |  |  |  | | prettier (source) | 2.7.1 -> 2.8.3 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  prettier/prettier  ### [`v2.8.3`](https://togithub.com/prettier/prettier/blob/HEAD/CHANGELOG.md#​283)  [Compare Source](https://togithub.com/prettier/prettier/compare/2.8.2...2.8.3)  [diff](https://togithub.com/prettier/prettier/compare/2.8.2...2.8.3)  ##### Allow self-closing tags on custom elements ([#​14170](https://togithub.com/prettier/prettier/pull/14170) by [@​fisker](https://togithub.com/fisker))  See [Angular v15.1.0 release note](https://togithub.com/angular/angular/releases/tag/15.1.0) for details.    ```html // Input   // Prettier 2.8.2 SyntaxError: Only void and foreign elements can be self closed ""app-test"" (1:1) > 1 |      | ^^^^^^^^^   2 |  // Prettier 2.8.3  ```  ### [`v2.8.2`](https://togithub.com/prettier/prettier/blob/HEAD/CHANGELOG.md#​282)  [Compare Source](https://togithub.com/prettier/prettier/compare/2.8.1...2.8.2)  [diff](https://togithub.com/prettier/prettier/compare/2.8.1...2.8.2)  ##### Don't lowercase link references ([#​13155](https://togithub.com/prettier/prettier/pull/13155) by [@​DerekNonGeneric](https://togithub.com/DerekNonGeneric) & [@​fisker](https://togithub.com/fisker))    ```markdown  Input  We now don't strictly follow the release notes format suggested by [Keep a Changelog].  [Keep a Changelog]: https://example.com/   Prettier 2.8.1  We now don't strictly follow the release notes format suggested by [Keep a Changelog].  [keep a changelog]: https://example.com/  ^^^^^^^^^^^^^^^^^^ lowercased   Prettier 2.8.2   ```  ##### Preserve self-closing tags ([#​13691](https://togithub.com/prettier/prettier/pull/13691) by [@​dcyriller](https://togithub.com/dcyriller))    ```hbs {{! Input }}          {{! Prettier 2.8.1 }}          {{! Prettier 2.8.2 }}         ```  ##### Allow custom ""else if""-like blocks with block params ([#​13930](https://togithub.com/prettier/prettier/pull/13930) by [@​jamescdavis](https://togithub.com/jamescdavis))  [#​13507](https://togithub.com/prettier/prettier/issues/13507) added support for custom block keywords used with `else`, but failed to allow block params. This updates printer-glimmer to allow block params with custom ""else if""-like blocks.    ```hbs {{! Input }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading as |book|}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}}  {{! Prettier 2.8.1 }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}}  {{! Prettier 2.8.2 }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading as |book|}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}} ```  ##### Preserve empty lines between nested SCSS maps ([#​13931](https://togithub.com/prettier/prettier/pull/13931) by [@​jneander](https://togithub.com/jneander))    ```scss /* Input */ $map: (   'one': (      'key': 'value',   ),    'two': (      'key': 'value',   ), )  /* Prettier 2.8.1 */ $map: (   'one': (      'key': 'value',   ),   'two': (      'key': 'value',   ), )  /* Prettier 2.8.2 */ $map: (   'one': (      'key': 'value',   ),    'two': (      'key': 'value',   ), ) ```  ##### Fix missing parentheses when an expression statement starts with `let[` ([#​14000](https://togithub.com/prettier/prettier/pull/14000), [#​14044](https://togithub.com/prettier/prettier/pull/14044) by [@​fisker](https://togithub.com/fisker), [@​thorn0](https://togithub.com/thorn0))    ```jsx // Input (let[0] = 2);  // Prettier 2.8.1 let[0] = 2;  // Prettier 2.8.1 (second format) SyntaxError: Unexpected token (1:5) > 1 | let[0] = 2;     |     ^   2 |  // Prettier 2.8.2 (let)[0] = 2; ```  ##### Fix semicolon duplicated at the end of LESS file ([#​14007](https://togithub.com/prettier/prettier/pull/14007) by [@​mvorisek](https://togithub.com/mvorisek))    ```less // Input @​variable: {   field: something; };  // Prettier 2.8.1 @​variable: {   field: something; }; ;  // Prettier 2.8.2 @​variable: {   field: something; }; ```  ##### Fix no space after unary minus when followed by opening parenthesis in LESS ([#​14008](https://togithub.com/prettier/prettier/pull/14008) by [@​mvorisek](https://togithub.com/mvorisek))    ```less // Input .unary_minus_single {   margin: -(@​a); }  .unary_minus_multi {   margin: 0 -(@​a); }  .binary_minus {   margin: 0 - (@​a); }  // Prettier 2.8.1 .unary_minus_single {   margin: - (@​a); }  .unary_minus_multi {   margin: 0 - (@​a); }  .binary_minus {   margin: 0 - (@​a); }  // Prettier 2.8.2 .unary_minus_single {   margin: -(@​a); }  .unary_minus_multi {   margin: 0 -(@​a); }  .binary_minus {   margin: 0 - (@​a); } ```  ##### Do not change case of property name if inside a variable declaration in LESS ([#​14034](https://togithub.com/prettier/prettier/pull/14034) by [@​mvorisek](https://togithub.com/mvorisek))    ```less // Input @​var: {   preserveCase: 0; };  // Prettier 2.8.1 @​var: {   preservecase: 0; };  // Prettier 2.8.2 @​var: {   preserveCase: 0; }; ```  ##### Fix formatting for auto-accessors with comments ([#​14038](https://togithub.com/prettier/prettier/pull/14038) by [@​fisker](https://togithub.com/fisker))    ```jsx // Input class A {   @​dec()   // comment   accessor b; }  // Prettier 2.8.1 class A {   @​dec()   accessor // comment   b; }  // Prettier 2.8.1 (second format) class A {   @​dec()   accessor; // comment   b; }  // Prettier 2.8.2 class A {   @​dec()   // comment   accessor b; } ```  ##### Add parentheses for TSTypeQuery to improve readability ([#​14042](https://togithub.com/prettier/prettier/pull/14042) by [@​onishi-kohei](https://togithub.com/onishi-kohei))    ```tsx // Input a as (typeof node.children)[number] a as (typeof node.children)[] a as ((typeof node.children)[number])[]  // Prettier 2.8.1 a as typeof node.children[number]; a as typeof node.children[]; a as typeof node.children[number][];  // Prettier 2.8.2 a as (typeof node.children)[number]; a as (typeof node.children)[]; a as (typeof node.children)[number][]; ```  ##### Fix displacing of comments in default switch case ([#​14047](https://togithub.com/prettier/prettier/pull/14047) by [@​thorn0](https://togithub.com/thorn0))  It was a regression in Prettier 2.6.0.    ```jsx // Input switch (state) {   default:     result = state; // no change     break; }  // Prettier 2.8.1 switch (state) {   default: // no change     result = state;     break; }  // Prettier 2.8.2 switch (state) {   default:     result = state; // no change     break; } ```  ##### Support type annotations on auto accessors via `babel-ts` ([#​14049](https://togithub.com/prettier/prettier/pull/14049) by [@​sosukesuzuki](https://togithub.com/sosukesuzuki))  [The bug that `@babel/parser` cannot parse auto accessors with type annotations](https://togithub.com/babel/babel/issues/15205) has been fixed. So we now support it via `babel-ts` parser.    ```tsx class Foo {   accessor prop: number; } ```  ##### Fix formatting of empty type parameters ([#​14073](https://togithub.com/prettier/prettier/pull/14073) by [@​fisker](https://togithub.com/fisker))    ```jsx // Input const foo: bar* comment */ = () => baz;  // Prettier 2.8.1 Error: Comment ""comment"" was not printed. Please report this error!  // Prettier 2.8.2 const foo: bar* comment */ = () => baz; ```  ##### Add parentheses to head of `ExpressionStatement` instead of the whole statement ([#​14077](https://togithub.com/prettier/prettier/pull/14077) by [@​fisker](https://togithub.com/fisker))    ```jsx // Input ({}).toString.call(foo) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo);  // Prettier 2.8.1 ({}.toString.call(foo) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo));  // Prettier 2.8.2 ({}).toString.call(foo.forEach) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo); ```  ##### Fix comments after directive ([#​14081](https://togithub.com/prettier/prettier/pull/14081) by [@​fisker](https://togithub.com/fisker))    ```jsx // Input ""use strict"" /* comment */;  // Prettier 2.8.1 (with other js parsers except `babel`) Error: Comment ""comment"" was not printed. Please report this error!  // Prettier 2.8.2  ```  ##### Fix formatting for comments inside JSX attribute ([#​14082](https://togithub.com/prettier/prettier/pull/14082) with by [@​fisker](https://togithub.com/fisker))    ```jsx // Input function MyFunctionComponent() {   button }  // Prettier 2.8.1 Error: Comment ""old"" was not printed. Please report this error!  // Prettier 2.8.2 function MyFunctionComponent() {   button; } ```  ##### Quote numeric keys for json-stringify parser ([#​14083](https://togithub.com/prettier/prettier/pull/14083) by [@​fisker](https://togithub.com/fisker))    ```jsx // Input {0: 'value'}  // Prettier 2.8.1 {   0: ""value"" }  // Prettier 2.8.2 {   ""0"": ""value"" } ```  ##### Fix removing commas from function arguments in maps ([#​14089](https://togithub.com/prettier/prettier/pull/14089) by [@​sosukesuzuki](https://togithub.com/sosukesuzuki))    ```scss /* Input */ $foo: map-fn(   (     ""#{prop}"": inner-fn($first, $second),   ) );  /* Prettier 2.8.1 */ $foo: map-fn((""#{prop}"": inner-fn($first $second)));  /* Prettier 2.8.2 */ $foo: map-fn(   (     ""#{prop}"": inner-fn($first, $second),   ) );  ```  ##### Do not insert space in LESS property access ([#​14103](https://togithub.com/prettier/prettier/pull/14103) by [@​fisker](https://togithub.com/fisker))    ```less // Input a {   color: @​colors[@​white]; }  // Prettier 2.8.1 a {   color: @​colors[ @​white]; }  // Prettier 2.8.2  ```  ### [`v2.8.1`](https://togithub.com/prettier/prettier/blob/HEAD/CHANGELOG.md#​281)  [Compare Source](https://togithub.com/prettier/prettier/compare/2.8.0...2.8.1)  [diff](https://togithub.com/prettier/prettier/compare/2.8.0...2.8.1)  ##### Fix SCSS map in arguments ([#​9184](https://togithub.com/prettier/prettier/pull/9184) by [@​agamkrbit](https://togithub.com/agamkrbit))    ```scss // Input $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, ""sm"")-1})"",   ),   $display-breakpoints );  // Prettier 2.8.0 $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, "" sm       "")-1})"",   ),   $display-breakpoints );  // Prettier 2.8.1 $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, ""sm"")-1})"",   ),   $display-breakpoints ); ```  ##### Support auto accessors syntax ([#​13919](https://togithub.com/prettier/prettier/pull/13919) by [@​sosukesuzuki](https://togithub.com/sosukesuzuki))  Support for [Auto Accessors Syntax](https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/#auto-accessors-in-classes) landed in TypeScript 4.9.  (Doesn't work well with `babel-ts` parser)    ```tsx class Foo {   accessor foo: number = 3; } ```    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency prettier to v2.8.3 (#3424),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | prettier (source) | 2.8.0 -> 2.8.3 |  |  |  |  | | prettier (source) | 2.7.1 -> 2.8.3 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes prettier/prettier module Compare Source diff Allow self-closing tags on custom elements (#​14170 by @​fisker) See Angular v15.1.0 release note for details. ```html // Input // Prettier 2.8.2 SyntaxError: Only void and foreign elements can be self closed ""app-test"" (1:1)  1 |      | ^^^^^^^^^   2 |  // Prettier 2.8.3 ``` module Compare Source diff Don't lowercase link references (#​13155 by @​DerekNonGeneric & @​fisker) ```markdown  Input  We now don't strictly follow the release notes format suggested by Keep a Changelog. Prettier 2.8.1  We now don't strictly follow the release notes format suggested by Keep a Changelog. ^^^^^^^^^^^^^^^^^^ lowercased Prettier 2.8.2  ``` Preserve self-closing tags (#​13691 by @​dcyriller) ```hbs {{! Input }} {{! Prettier 2.8.1 }} {{! Prettier 2.8.2 }} ``` Allow custom ""else if""-like blocks with block params (#​13930 by @​jamescdavis) #​13507 added support for custom block keywords used with module, but failed to allow block params. This updates printer-glimmer to allow block params with custom ""else if""-like blocks. ```hbs {{! Input }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading as |book|}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}} {{! Prettier 2.8.1 }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}} {{! Prettier 2.8.2 }} {{#when isAtWork as |work|}}   Ship that   {{work}}! {{else when isReading as |book|}}   You can finish   {{book}}   eventually... {{else}}   Go to bed! {{/when}} ``` Preserve empty lines between nested SCSS maps (#​13931 by @​jneander) ```scss / Input / $map: (   'one': (      'key': 'value',   ), 'two': (      'key': 'value',   ), ) / Prettier 2.8.1 / $map: (   'one': (      'key': 'value',   ),   'two': (      'key': 'value',   ), ) / Prettier 2.8.2 / $map: (   'one': (      'key': 'value',   ), 'two': (      'key': 'value',   ), ) ``` Fix missing parentheses when an expression statement starts with module (#​14000, #​14044 by @​fisker, @​thorn0) ```jsx // Input (let[0] = 2); // Prettier 2.8.1 let[0] = 2; // Prettier 2.8.1 (second format) SyntaxError: Unexpected token (1:5)  1 | let[0] = 2;     |     ^   2 |  // Prettier 2.8.2 (let)[0] = 2; ``` Fix semicolon duplicated at the end of LESS file (#​14007 by @​mvorisek) ```less // Input @​variable: {   field: something; }; // Prettier 2.8.1 @​variable: {   field: something; }; ; // Prettier 2.8.2 @​variable: {   field: something; }; ``` Fix no space after unary minus when followed by opening parenthesis in LESS (#​14008 by @​mvorisek) ```less // Input .unary_minus_single {   margin: -(@​a); } .unary_minus_multi {   margin: 0 -(@​a); } .binary_minus {   margin: 0 - (@​a); } // Prettier 2.8.1 .unary_minus_single {   margin: - (@​a); } .unary_minus_multi {   margin: 0 - (@​a); } .binary_minus {   margin: 0 - (@​a); } // Prettier 2.8.2 .unary_minus_single {   margin: -(@​a); } .unary_minus_multi {   margin: 0 -(@​a); } .binary_minus {   margin: 0 - (@​a); } ``` Do not change case of property name if inside a variable declaration in LESS (#​14034 by @​mvorisek) ```less // Input @​var: {   preserveCase: 0; }; // Prettier 2.8.1 @​var: {   preservecase: 0; }; // Prettier 2.8.2 @​var: {   preserveCase: 0; }; ``` Fix formatting for auto-accessors with comments (#​14038 by @​fisker) ```jsx // Input class A {   @​dec()   // comment   accessor b; } // Prettier 2.8.1 class A {   @​dec()   accessor // comment   b; } // Prettier 2.8.1 (second format) class A {   @​dec()   accessor; // comment   b; } // Prettier 2.8.2 class A {   @​dec()   // comment   accessor b; } ``` Add parentheses for TSTypeQuery to improve readability (#​14042 by @​onishi-kohei) ```tsx // Input a as (typeof node.children)[number] a as (typeof node.children)[] a as ((typeof node.children)[number])[] // Prettier 2.8.1 a as typeof node.children[number]; a as typeof node.children[]; a as typeof node.children[number][]; // Prettier 2.8.2 a as (typeof node.children)[number]; a as (typeof node.children)[]; a as (typeof node.children)[number][]; ``` Fix displacing of comments in default switch case (#​14047 by @​thorn0) It was a regression in Prettier 2.6.0. ```jsx // Input switch (state) {   default:     result = state; // no change     break; } // Prettier 2.8.1 switch (state) {   default: // no change     result = state;     break; } // Prettier 2.8.2 switch (state) {   default:     result = state; // no change     break; } ``` Support type annotations on auto accessors via module (#​14049 by @​sosukesuzuki) The bug that module cannot parse auto accessors with type annotations has been fixed. So we now support it via module parser. module Fix formatting of empty type parameters (#​14073 by @​fisker) ```jsx // Input const foo: bar comment / = () => baz; // Prettier 2.8.1 Error: Comment ""comment"" was not printed. Please report this error! // Prettier 2.8.2 const foo: bar comment / = () => baz; ``` Add parentheses to head of module instead of the whole statement (#​14077 by @​fisker) ```jsx // Input ({}).toString.call(foo) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo); // Prettier 2.8.1 ({}.toString.call(foo) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo)); // Prettier 2.8.2 ({}).toString.call(foo.forEach) === ""[object Array]""   ? foo.forEach(iterateArray)   : iterateObject(foo); ``` Fix comments after directive (#​14081 by @​fisker) ```jsx // Input ""use strict"" / comment /; // Prettier 2.8.1 (with other js parsers except module) Error: Comment ""comment"" was not printed. Please report this error! // Prettier 2.8.2 ``` Fix formatting for comments inside JSX attribute (#​14082 with by @​fisker) ```jsx // Input function MyFunctionComponent() {   button } // Prettier 2.8.1 Error: Comment ""old"" was not printed. Please report this error! // Prettier 2.8.2 function MyFunctionComponent() {   button; } ``` Quote numeric keys for json-stringify parser (#​14083 by @​fisker) ```jsx // Input {0: 'value'} // Prettier 2.8.1 {   0: ""value"" } // Prettier 2.8.2 {   ""0"": ""value"" } ``` Fix removing commas from function arguments in maps (#​14089 by @​sosukesuzuki) ```scss / Input / $foo: map-fn(   (     ""#{prop}"": inner-fn($first, $second),   ) ); / Prettier 2.8.1 / $foo: map-fn((""#{prop}"": inner-fn($first $second))); / Prettier 2.8.2 / $foo: map-fn(   (     ""#{prop}"": inner-fn($first, $second),   ) ); ``` Do not insert space in LESS property access (#​14103 by @​fisker) ```less // Input a {   color: @​colors[@​white]; } // Prettier 2.8.1 a {   color: @​colors[ @​white]; } // Prettier 2.8.2 ``` module Compare Source diff Fix SCSS map in arguments (#​9184 by @​agamkrbit) ```scss // Input $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, ""sm"")-1})"",   ),   $display-breakpoints ); // Prettier 2.8.0 $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, "" sm       "")-1})"",   ),   $display-breakpoints ); // Prettier 2.8.1 $display-breakpoints: map-deep-merge(   (     ""print-only"": ""only print"",     ""screen-only"": ""only screen"",     ""xs-only"": ""only screen and (max-width: #{map-get($grid-breakpoints, ""sm"")-1})"",   ),   $display-breakpoints ); ``` Support auto accessors syntax (#​13919 by @​sosukesuzuki) Support for Auto Accessors Syntax landed in TypeScript 4.9. (Doesn't work well with module parser) module Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1141,ci(workflow): fix version trim for test results data (#3581),Trying to fix filename issue for the uploading test results.,ci(workflow): fix version trim for test results data (#3581),Trying to fix filename issue for the uploading test results.
1142,fix cache cleanup (#3546),,fix cache cleanup (#3546),
1143,Bump cli dependency (#3563),"This bumps our transitive dependency on goutils, which has a vulnerability reported. I suspect we are not impacted, since we are only using the cli library for writing to the terminal, but the version bump also appears to be fine. cc @aaronbrown-vercel",Bump cli dependency (#3563),"This bumps our transitive dependency on goutils, which has a vulnerability reported. I suspect we are not impacted, since we are only using the cli library for writing to the terminal, but the version bump also appears to be fine. cc @aaronbrown-vercel"
1144,ci(workflow): store plain text test summary (#3567),"Requires https://github.com/vercel/turbo/pull/3534 Partially progresses WEB-460 This PR creates a plain text summary, so subsequent workflow can download it via download-artifact then broadcast as needed. We'll use it to posting into Slack channel. Action will only generate text file when we supposed to report (currently, release-to-release) so if download-artifact does not contain text-summary.md, it can skip to broadcast into Slack channel.",ci(workflow): store plain text test summary (#3567),"Requires link Partially progresses WEB-460 This PR creates a plain text summary, so subsequent workflow can download it via download-artifact then broadcast as needed. We'll use it to posting into Slack channel. Action will only generate text file when we supposed to report (currently, release-to-release) so if download-artifact does not contain text-summary.md, it can skip to broadcast into Slack channel."
1145,fix: Use rustls-tls feature (#3578),,fix: Use rustls-tls feature (#3578),
1146,Document global turbo package inference behavior (#3535)," adds package inference to the docs on filtering workspaces adds package inference to the dev topic in the handbook, which AFAICT is where we introduce the concept of filtering.",Document global turbo package inference behavior (#3535),"adds package inference to the docs on filtering workspaces adds package inference to the dev topic in the handbook, which AFAICT is where we introduce the concept of filtering."
1147,show turbopack warnings in error overlay (#3465),,show turbopack warnings in error overlay (#3465),
1148,docs: add quotes to directory filter with glob (#3554),As reported in #3480 pnpm seems to intercept filter syntax before it reaches turbo if a package script uses --filter=./dir/* without quotes. Since quotes are also required to use a directory with a glob via ZSH it seems to make sense to add them to our docs.,docs: add quotes to directory filter with glob (#3554),As reported in #3480 pnpm seems to intercept filter syntax before it reaches turbo if a package script uses --filter=./dir/* without quotes. Since quotes are also required to use a directory with a glob via ZSH it seems to make sense to add them to our docs.
1149,fix: update rust test references (#3565),3523 missed some references to rust_test and rust_test_bench that it removed  Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix: update rust test references (#3565),3523 missed some references to rust_test and rust_test_bench that it removed Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1150,Move helpers for getting task ancestors/descendants to engine (#3555),"This starts to clean up / consolidate the differences between the information Dry Run gathers and the information RealRun has, so we can consolidate to a RunSummary.",Move helpers for getting task ancestors/descendants to engine (#3555),"This starts to clean up / consolidate the differences between the information Dry Run gathers and the information RealRun has, so we can consolidate to a RunSummary."
1151,include omit entries in hash (#3552),The omit entries need to be included into chunk hashing to avoid conflicting filenames when only omit entries differ,include omit entries in hash (#3552),The omit entries need to be included into chunk hashing to avoid conflicting filenames when only omit entries differ
1152,style(prettier): apply prettier (#3575),Adjust styles to pass CI.,style(prettier): apply prettier (#3575),Adjust styles to pass CI.
1153,Avoids emitting the same output from multiple processes of the same process pool (#3531),"It uses a shared set of (line: [u8], occurences: u32) to avoid emitting lines that has been emitted by other processes already. It still supports emitting the same line multiple times from one process. The shared data might be later used for showing logging from a worker pool. It contains the merged output of all processes. Fixes WEB-489",Avoids emitting the same output from multiple processes of the same process pool (#3531),"It uses a shared set of (line: [u8], occurences: u32) to avoid emitting lines that has been emitted by other processes already. It still supports emitting the same line multiple times from one process. The shared data might be later used for showing logging from a worker pool. It contains the merged output of all processes. Fixes WEB-489"
1154,external node_modules for SSR (#3361),"Adds resolve plugins (currently only running after_resolve, could add resolve later) Had to fix ResolveResult::merge_alternatives because it merged two external results into Unresolvable",external node_modules for SSR (#3361),"Adds resolve plugins (currently only running after_resolve, could add resolve later) Had to fix ResolveResult::merge_alternatives because it merged two external results into Unresolvable"
1155,ci(renovate): trying to enable swc_* updates (#3572),Trying to progress WEB-510. PR updates renovate config to include specific dependencies we want to get an update. This might need some verification once it lands.,ci(renovate): trying to enable swc_* updates (#3572),Trying to progress WEB-510. PR updates renovate config to include specific dependencies we want to get an update. This might need some verification once it lands.
1156,feat(example): tailwind improvement and treeshaking (#3557),Tailwind example improvements: * Enable treeshaking by bundling to esm instead of cjs * Prefix UI classes to avoid app conflicts * Use tsup to bundle css instead of tailwindcss * Write new Card component to demo bundle size difference between web / docs,feat(example): tailwind improvement and treeshaking (#3557),Tailwind example improvements: * Enable treeshaking by bundling to esm instead of cjs * Prefix UI classes to avoid app conflicts * Use tsup to bundle css instead of tailwindcss * Write new Card component to demo bundle size difference between web / docs
1157,Wrap CSS chunk items in a @layer (#3542),"In Turbopack, as a consequence of our lazy compilation model, CSS chunks can contain duplicate CSS chunk items. This can cause issues with precedence. Take the following example: Initial CSS chunk: ```css / ... / / chunk item A / h1 {   font-size: 2rem; } / ... / / other chunk item / h1 {   font-size: 4rem; } / ... / ``` Dynamic CSS chunk (loaded after the first page load completes) ```css / ... / / chunk item A / h1 {   font-size: 2rem; } / ... / ``` In this example, when the page first loads, the following rule will be applied: css h1 {   font-size: 4rem; } But as soon as the dynamic CSS chunk loads, the following rule will be applied instead: css h1 {   font-size: 2rem; } However, from the order of rules in the initial load, we know that the former should still apply. We can remedy this particular issue by wrapping each CSS chunk item into its own @layer (thanks @sokra for the idea!). This ensures that when a CSS chunk item is re-encountered at a later time, it is automatically de-duplicated thanks to the inherent CSS layering algorithm. This is not an issue in Next.js as we can't have duplicated CSS chunk items.",Wrap CSS chunk items in a @layer (#3542),"In Turbopack, as a consequence of our lazy compilation model, CSS chunks can contain duplicate CSS chunk items. This can cause issues with precedence. Take the following example: Initial CSS chunk: module Dynamic CSS chunk (loaded after the first page load completes) module In this example, when the page first loads, the following rule will be applied: css h1 {   font-size: 4rem; } But as soon as the dynamic CSS chunk loads, the following rule will be applied instead: css h1 {   font-size: 2rem; } However, from the order of rules in the initial load, we know that the former should still apply. We can remedy this particular issue by wrapping each CSS chunk item into its own @layer (thanks @sokra for the idea!). This ensures that when a CSS chunk item is re-encountered at a later time, it is automatically de-duplicated thanks to the inherent CSS layering algorithm. This is not an issue in Next.js as we can't have duplicated CSS chunk items."
1158,add worker condition to edge compilation (#3549),some packages expect worker or browser condition to work on edge runtime,add worker condition to edge compilation (#3549),some packages expect worker or browser condition to work on edge runtime
1159,font/google test: update cssmodule classnames (#3568),3437 wasn't up to date with main when it was merged. Test Plan: CI,font/google test: update cssmodule classnames (#3568),3437 wasn't up to date with main when it was merged. Test Plan: CI
1160,ci(workflow): format integration test results (#3534),"Closes WEB-486. This PR amends stat report action formatting - mainly introducing diff summary between base (main for the PR, release to release for new next.js release). This summary will be piped into slack channel once this PR lands. There maybe some things to amend further, but primary logic seems to working. Please note current base (main) results are incorrectly collected, makes diff summary looks weird. We may need wipe out incorrect data.",ci(workflow): format integration test results (#3534),"Closes WEB-486. This PR amends stat report action formatting - mainly introducing diff summary between base (main for the PR, release to release for new next.js release). This summary will be piped into slack channel once this PR lands. There maybe some things to amend further, but primary logic seems to working. Please note current base (main) results are incorrectly collected, makes diff summary looks weird. We may need wipe out incorrect data."
1161,turbopackLoaders: accept basic loader options (#3540),"Fixes WEB-525 This allows webpack loaders defined by experimental.turbopackLoaders in next.config.js to pass serializable options to loaders. It expands turbopackLoaders to accept not just loader names for a given extension, but also {loader: string, options: Object}. These options are verified to be serializable and passed to loader-runner and exposed as getOptions() to the loader. Test Plan: Added an integration test for basic options. Verified the serializable check by passing class Foo {}; new Foo() as an option value and verified the error was displayed.",turbopackLoaders: accept basic loader options (#3540),"Fixes WEB-525 This allows webpack loaders defined by experimental.turbopackLoaders in next.config.js to pass serializable options to loaders. It expands turbopackLoaders to accept not just loader names for a given extension, but also {loader: string, options: Object}. These options are verified to be serializable and passed to loader-runner and exposed as getOptions() to the loader. Test Plan: Added an integration test for basic options. Verified the serializable check by passing class Foo {}; new Foo() as an option value and verified the error was displayed."
1162,release(turborepo): 1.7.1 (#3560),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.1 (#3560),Co-authored-by: Turbobot turbobot@vercel.com
1163,port(turbo): Link (#3500),Ported link. Required porting more APIClient functionality  Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com,port(turbo): Link (#3500),Ported link. Required porting more APIClient functionality Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com
1164,chore: Split up turbopack and turborepo workflows (#3523),,chore: Split up turbopack and turborepo workflows (#3523),
1165,css modules: use a terser selector format that requires less escaping (#3437),"Fixes WEB-447. Previously, generated classnames would include literal / characters, which need escaping when generating selectors. While users should still escape selectors, this avoids it for this case and makes generated code easier to read. This format is also more aligned with what webpack-based css modules generates. This also removes the square character as a separator, since it breaks words and makes double-clicking for selection more difficult.",css modules: use a terser selector format that requires less escaping (#3437),"Fixes WEB-447. Previously, generated classnames would include literal / characters, which need escaping when generating selectors. While users should still escape selectors, this avoids it for this case and makes generated code easier to read. This format is also more aligned with what webpack-based css modules generates. This also removes the square character as a separator, since it breaks words and makes double-clicking for selection more difficult."
1166,Note that path globs must be relative (#3536),"Paths in configuration are intended to work across machines, and thus must be relative to some anchor in the monorepo (turbo.json location or workspace where a task is being run).",Note that path globs must be relative (#3536),"Paths in configuration are intended to work across machines, and thus must be relative to some anchor in the monorepo (turbo.json location or workspace where a task is being run)."
1167,release(turborepo): 1.7.1-canary.8 (#3553),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.1-canary.8 (#3553),Co-authored-by: Turbobot turbobot@vercel.com
1168,Handle empty path specification (#3538)," Makes clear that an empty path specification ({}) is an error, with test (note + -> * change in regex) Switch regex to named capture groups to reduce arbitrary-looking indices in the code  cc @chloetedder",Handle empty path specification (#3538),"Makes clear that an empty path specification ({}) is an error, with test (note + -> * change in regex) Switch regex to named capture groups to reduce arbitrary-looking indices in the code cc @chloetedder"
1169,chore: add snapshot test for graph output (#3539),Given discussion about the stability of the graph output I figured we should have a snapshot test to catch any changes.,chore: add snapshot test for graph output (#3539),Given discussion about the stability of the graph output I figured we should have a snapshot test to catch any changes.
1170,fix(turborepo): Add TLS Crate Feature (#3548),,fix(turborepo): Add TLS Crate Feature (#3548),
1171,Return a 404 status code when a data route is .notFound (#3545),Returning a 404 status code is required for the client-side router to redirect to the error page.,Return a 404 status code when a data route is .notFound (#3545),Returning a 404 status code is required for the client-side router to redirect to the error page.
1172,fix(ci): require go integration (#3519),Introduced when moving go integration tests into our main test workflow: https://github.com/vercel/turbo/pull/3429,fix(ci): require go integration (#3519),Introduced when moving go integration tests into our main test workflow: link
1173,feat(blog): add alexanderlyon (#3544),,feat(blog): add alexanderlyon (#3544),
1174,feat(ci): published smoke tests (#3529),,feat(ci): published smoke tests (#3529),
1175,fix: pnpm prune misses root dependency (#3483),Fixes #2798 which comprised of two issues: - We eagerly checked if a version specifier was already resolved in the package list. This can lead to grabbing a version of the package that doesn't have the expected peer dependencies. This was as easy as moving this check after we have gone down the happy path. - Not copying internal dependencies of the monorepo root. We now internally add // to the prune scope to make sure we get any internal dependencies. For reviewers: I highly recommend reviewing the first commit in this PR initially as it unifies the pnpm lockfile implementations. I realized that my code split was unnecessary and made fixing bugs for lockfile v5 and v6 very difficult.,fix: pnpm prune misses root dependency (#3483),Fixes #2798 which comprised of two issues: - We eagerly checked if a version specifier was already resolved in the package list. This can lead to grabbing a version of the package that doesn't have the expected peer dependencies. This was as easy as moving this check after we have gone down the happy path. - Not copying internal dependencies of the monorepo root. We now internally add // to the prune scope to make sure we get any internal dependencies. For reviewers: I highly recommend reviewing the first commit in this PR initially as it unifies the pnpm lockfile implementations. I realized that my code split was unnecessary and made fixing bugs for lockfile v5 and v6 very difficult.
1176,@next/font/google: css variable followup (#3514),This addresses feedback from #3505,@next/font/google: css variable followup (#3514),This addresses feedback from #3505
1177,"ci(workflow): upload integration test resuls from main branch, next.j… …s release (#3502)","Closes WEB-487. This PR amends existing workflow for next-integration test to store its aggregated test results into github artifacts, then corresponding events for the running test (main branch update / new next.js release) to upload it into specific github branch nextjs-integration-test-data.","ci(workflow): upload integration test resuls from main branch, next.j… …s release (#3502)","Closes WEB-487. This PR amends existing workflow for next-integration test to store its aggregated test results into github artifacts, then corresponding events for the running test (main branch update / new next.js release) to upload it into specific github branch nextjs-integration-test-data."
1178,Doc for environment variables. (#3527),Folks have asked about how to handle environment variables. Our current recommendation is to use dotenv-cli. A Turborepo-native solution for environment variables is something we are all looking forward to.,Doc for environment variables. (#3527),Folks have asked about how to handle environment variables. Our current recommendation is to use dotenv-cli. A Turborepo-native solution for environment variables is something we are all looking forward to.
1179,Expose memory_limit option in turbotrace (#3530),So that the next-swc can expose it to next.config.js,Expose memory_limit option in turbotrace (#3530),So that the next-swc can expose it to next.config.js
1180,Allow controlling depth of Vc debugging (#3512),"Adds a mechanism for controlling the depth of Vc debugging, to avoid printing out huge structs when we're only interested in some superficial overview of it. This will only affect Vcs: if a Vc contains a non-Vc, very deep struct, the struct will be fully printed out. This is because you can't control the printing depth of the default Rust Debug trait. Marking this as a draft for now as I intend to change the name and arguments of dbg_depth. rust eprintln!(""{:?}"", some_vc.dbg_depth(2).await?) // will now only print up to a depth of 2",Allow controlling depth of Vc debugging (#3512),"Adds a mechanism for controlling the depth of Vc debugging, to avoid printing out huge structs when we're only interested in some superficial overview of it. This will only affect Vcs: if a Vc contains a non-Vc, very deep struct, the struct will be fully printed out. This is because you can't control the printing depth of the default Rust Debug trait. Marking this as a draft for now as I intend to change the name and arguments of dbg_depth. rust eprintln!(""{:?}"", some_vc.dbg_depth(2).await?) // will now only print up to a depth of 2"
1181,Ignore non-JS chunks on the server (#3507),I also considered not including invalid chunks for the current environment in the ManifestChunkAsset. This could use the result of the EnvironmentVc::chunk_loading() method. I'm partial to neither solution.,Ignore non-JS chunks on the server (#3507),I also considered not including invalid chunks for the current environment in the ManifestChunkAsset. This could use the result of the EnvironmentVc::chunk_loading() method. I'm partial to neither solution.
1182,Align ids and data attributes with Next.js's redbox (#3522),Next.js's integration test suite depends on these ids and data attributes to select against items in running test pages. This gets us passing some of those tests.,Align ids and data attributes with Next.js's redbox (#3522),Next.js's integration test suite depends on these ids and data attributes to select against items in running test pages. This gets us passing some of those tests.
1183,add pageExtensions support to appDir (#3510),"The previous PR #3499 only implemented support for pages directory. The app directory previously had no validation at all, it's added with this PR. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",add pageExtensions support to appDir (#3510),"The previous PR #3499 only implemented support for pages directory. The app directory previously had no validation at all, it's added with this PR. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1184,Fix infinite loop caused by error page rendering (#3525),"The new error paths introduced in #3448 both write their outputs to .next/server/pages/, which conflicts with: - The main pages source - Each other The infinite loop is very fun: 1. We need a NodeJsPoolVc to render pages 2. To get a NodeJsPoolVc, you need to write your files onto disk     - So a pool is dependent on the contents of those files 3. When we render an error page, we need to write those files to disk 4. The error page shares the same file entrypoint as the main page source So, to render an error, we write the entrypoint, which is shared with main source. This alone is pretty bad, because it will invalidate our page source's node pool (and kill those processes). But, the loop is triggered by a more subtle bug: When we write a file, we read it to see if the contents have changed. Writing creates a dependency on the read! So when the error page is written to disk, it invalidated the read we preformed when we wrote the main page. That invalidated the main page (and it's node pool), and so we rendered again. That wrote the main page's code to disk, invalidating the read of the error page performed when we wrote the error page. ♾️ (I'll be opening more PRs…)",Fix infinite loop caused by error page rendering (#3525),"The new error paths introduced in #3448 both write their outputs to .next/server/pages/, which conflicts with: - The main pages source - Each other The infinite loop is very fun: 1. We need a NodeJsPoolVc to render pages 2. To get a NodeJsPoolVc, you need to write your files onto disk     - So a pool is dependent on the contents of those files 3. When we render an error page, we need to write those files to disk 4. The error page shares the same file entrypoint as the main page source So, to render an error, we write the entrypoint, which is shared with main source. This alone is pretty bad, because it will invalidate our page source's node pool (and kill those processes). But, the loop is triggered by a more subtle bug: When we write a file, we read it to see if the contents have changed. Writing creates a dependency on the read! So when the error page is written to disk, it invalidated the read we preformed when we wrote the main page. That invalidated the main page (and it's node pool), and so we rendered again. That wrote the main page's code to disk, invalidating the read of the error page performed when we wrote the error page. ♾️ (I'll be opening more PRs…)"
1185,Move E2E tests to main test.yml workflow (#3442),,Move E2E tests to main test.yml workflow (#3442),
1186,Allow manual workflow dispatch and send a basic message through Slack (#3524),This:  adds workflow_dispatch to on for the integration test workflow adds a basic Slack message that's sent when integration tests complete  It seems like we have to land this change before manual workflow runs become available in the GitHub UI.,Allow manual workflow dispatch and send a basic message through Slack (#3524),This: adds workflow_dispatch to on for the integration test workflow adds a basic Slack message that's sent when integration tests complete It seems like we have to land this change before manual workflow runs become available in the GitHub UI.
1187,Rerecord snapshot tests (#3521),This updates an outdated snapshot test. It also has turbopack-tests use the native-tls feature when building next-core so that cargo test -p turbopack-tests can be run without qualifiers. Ran UPDATE=1 cargo test -p turbopack-tests.,Rerecord snapshot tests (#3521),This updates an outdated snapshot test. It also has turbopack-tests use the native-tls feature when building next-core so that cargo test -p turbopack-tests can be run without qualifiers. Ran UPDATE=1 cargo test -p turbopack-tests.
1188,Fix test asserting verbose log output (#3520),,Fix test asserting verbose log output (#3520),
1189,Add headers to app routes IPC (#3518),,Add headers to app routes IPC (#3518),
1190,filter out invalid Pipelines from TurboJSON when running turbo prune (#3216),Closes #1161,filter out invalid Pipelines from TurboJSON when running turbo prune (#3216),Closes #1161
1191,feature(turborepo): Port login without sso team (#3372),,feature(turborepo): Port login without sso team (#3372),
1192,Fix prettier for examples (#3508),CI currently fails on main because of Prettier.,Fix prettier for examples (#3508),CI currently fails on main because of Prettier.
1193,clean branch caches less often (#3509),,clean branch caches less often (#3509),
1194,Handle getStaticProps.redirect (#3497),"This PR adds support for returning redirect: { destination, permanent, statusCode } from getStaticProps.",Handle getStaticProps.redirect (#3497),"This PR adds support for returning redirect: { destination, permanent, statusCode } from getStaticProps."
1195,Handle 404 page when getStaticProps.notFound = true or the route is not found (#3448),"This specifically supports the case where getStaticProps.notFound = true or a matching route is not found, but not the case where getStaticPaths.fallback = false and the route is not enumerated; This separate case will be implemented in another PR.",Handle 404 page when getStaticProps.notFound = true or the route is not found (#3448),"This specifically supports the case where getStaticProps.notFound = true or a matching route is not found, but not the case where getStaticPaths.fallback = false and the route is not enumerated; This separate case will be implemented in another PR."
1196,enable and fix backtracing for fatal errors in tasks (#3504),Enables the anyhow backtrace feature to capture backtraces for errors too when RUST_BACKTRACE is enabled. When running in release mode compiling with CARGO_PROFILE_RELEASE_DEBUG=1 is recommended to get debug info into the errors.,enable and fix backtracing for fatal errors in tasks (#3504),Enables the anyhow backtrace feature to capture backtraces for errors too when RUST_BACKTRACE is enabled. When running in release mode compiling with CARGO_PROFILE_RELEASE_DEBUG=1 is recommended to get debug info into the errors.
1197,@next/font/google: support setting a css variable for fonts (#3505),"Fixes WEB-501 Fixes https://github.com/vercel/turbo/issues/3139 This adds proper support for the variable property when constructing fonts. This results in:  defining a selector in the css module for a classname defining the css custom property (css variable), whose value is the font family adding a variable property to the resulting js object whose value is the classname used in the selector above  Test Plan: Added an integration test.",@next/font/google: support setting a css variable for fonts (#3505),"Fixes WEB-501 Fixes link This adds proper support for the variable property when constructing fonts. This results in: defining a selector in the css module for a classname defining the css custom property (css variable), whose value is the font family adding a variable property to the resulting js object whose value is the classname used in the selector above Test Plan: Added an integration test."
1198,"[FIX]: VSCode ""Parsing error: Cannot find module 'next/babel"" PNPM ESLint (#3489)","🪲 Error Reported bash Parsing error: Cannot find module 'next/babel' 💻 Where does the Error Spawn? Requirements:  PNPM ESLint Monorepo (Turborepo) Next.js  If all of the above requirements ✅ checked, you can see the Error in every ESLint config file in the children directories. 🤔 Cause Still needed to figure out why does this happen. My hypothesis as it is because of the PNPM node_modules design that is read by VSCode's ESLint extension. But it's because ESLint cannot resolve next/babel. 🚀 How this solution works? This works because require.resolve uses the node's module resolution to return the absolute path to a module. It can provide that absolute path to any importing modules.","[FIX]: VSCode ""Parsing error: Cannot find module 'next/babel"" PNPM ESLint (#3489)","🪲 Error Reported bash Parsing error: Cannot find module 'next/babel' 💻 Where does the Error Spawn? Requirements: PNPM ESLint Monorepo (Turborepo) Next.js If all of the above requirements ✅ checked, you can see the Error in every ESLint config file in the children directories. 🤔 Cause Still needed to figure out why does this happen. My hypothesis as it is because of the PNPM node_modules design that is read by VSCode's ESLint extension. But it's because ESLint cannot resolve next/babel. 🚀 How this solution works? This works because require.resolve uses the node's module resolution to return the absolute path to a module. It can provide that absolute path to any importing modules."
1199,fix(shim): better error message for missing go bin (#3498),,fix(shim): better error message for missing go bin (#3498),
1200,Review fixes for Next routing (#3501),This completes a few review requests from #3446.,Review fixes for Next routing (#3501),This completes a few review requests from #3446.
1201,fix(turborepo): Add .npmrc support to turbo prune (#3492),closes #2871  Copying .npmrc file if it exists to keep packageManager settings the same during deploy/Docker builds.,fix(turborepo): Add .npmrc support to turbo prune (#3492),closes #2871  Copying .npmrc file if it exists to keep packageManager settings the same during deploy/Docker builds.
1202,fix: Skip over repo root package for package inferrence (#3503),"Once again map iteration is the culprit. The failure of infer_pkg.t is caused by package inference iterating over the root package before the correct candidate package. This results in pkgPath == repoRoot and since fullInferencePath is necessarily contained in the repo root, the root package will always be selected as the exact package. The fix is just skipping over the root package. First commit adds a root package to the tests. The package inference cases will fail in a non-deterministic fashion since this bug depends on the repo root package being iterated over before the package that should be inferred. The next commit is a fix.",fix: Skip over repo root package for package inferrence (#3503),"Once again map iteration is the culprit. The failure of infer_pkg.t is caused by package inference iterating over the root package before the correct candidate package. This results in pkgPath == repoRoot and since fullInferencePath is necessarily contained in the repo root, the root package will always be selected as the exact package. The fix is just skipping over the root package. First commit adds a root package to the tests. The package inference cases will fail in a non-deterministic fashion since this bug depends on the repo root package being iterated over before the package that should be inferred. The next commit is a fix."
1203,Handle routing by calling Next.js code (#3446),"This implements routing by using a-yet-to-be-implemented API exposed by Next.js. The API follows something similar to: ```typescript type MakeResolver = (config: NextConfig) => Resolver; type Resolver = (IncomingMessage, ServerResponse) => Promise | void; import { makeResolver } from ""next/dist/...""; const resolver  = makeResolver(nextConfig as object); // Later, once we have a request we'd like to route: // We don't care what the promise resolved to, we just want it to settle. await resolver(req, res); ``` The resolver can do 1 of 3 things with this: 1. ~~Return a redirect response~~ Removed 2. Return a rewrite response 3. Stream a middleware response  ~~1. Return a redirect response~~    First, ensure a `x-nextjs-route-result: 1` header is present on the response. Then return a JSON encoded body:  ```typescript {   url: string,   statusCode: u16,   headers: Record   isRedirect: true } ```  The Rust server will then respond with a redirect using to the appropriate location.     Return a rewrite response   First, ensure a x-nextjs-route-result: 1 header is present on the response. Then return a JSON encoded body: typescript {   url: string,   headers: Record<string, string> } The Rust server will use this updated URL to request content from our handlers.   Stream a middleware response   Ensure x-nextjs-route-result header is not present on the response. All headers will be sent back, and the body will be streamed back to the browser.  TODO: - ~~Do headers actually matter to a redirect~~ Yes? - ~~Does statusCode actually matter to a rewrite?~~ No - ~~We can't handle streaming body responses yet.~~ Mocked by buffering. Fixes WEB-228 Co-authored-by: JJ Kasper jj@jjsweb.site",Handle routing by calling Next.js code (#3446),"This implements routing by using a-yet-to-be-implemented API exposed by Next.js. The API follows something similar to: module The resolver can do 1 of 3 things with this: 1. ~~Return a redirect response~~ Removed 2. Return a rewrite response 3. Stream a middleware response ~~1. Return a redirect response~~ First, ensure a module header is present on the response. Then return a JSON encoded body: module The Rust server will then respond with a redirect using to the appropriate location. Return a rewrite response First, ensure a x-nextjs-route-result: 1 header is present on the response. Then return a JSON encoded body: typescript {   url: string,   headers: Record } The Rust server will use this updated URL to request content from our handlers. Stream a middleware response Ensure x-nextjs-route-result header is not present on the response. All headers will be sent back, and the body will be streamed back to the browser. TODO: - ~~Do headers actually matter to a redirect~~ Yes? - ~~Does statusCode actually matter to a rewrite?~~ No - ~~We can't handle streaming body responses yet.~~ Mocked by buffering. Fixes WEB-228 Co-authored-by: JJ Kasper jj@jjsweb.site"
1204,add support for pageExtensions in next.config.js (#3499),,add support for pageExtensions in next.config.js (#3499),
1205,Update Google font-data.json (2023-01-26) (#3479),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-01-26) (#3479),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com
1206,decode magic identifiers in error overlay (#3433),,decode magic identifiers in error overlay (#3433),
1207,ci(workflow): fix integration job log detection (#3481),"Fixes integration test stat report in PR, due to changing workflow group with reusable one. One day we may need better than this, but changing detection more generic for now.",ci(workflow): fix integration job log detection (#3481),"Fixes integration test stat report in PR, due to changing workflow group with reusable one. One day we may need better than this, but changing detection more generic for now."
1208,"Revert ""ci: test publish dry run""",This reverts commit 59b5f10ed50977c3c422d220860c1ce978e3043e.,"Revert ""ci: test publish dry run""",This reverts commit 59b5f10ed50977c3c422d220860c1ce978e3043e.
1209,ci: test publish dry run,,ci: test publish dry run,
1210,fix(examples) tailwind - ignore ui dist/ (#3494),,fix(examples) tailwind - ignore ui dist/ (#3494),
1211,chore(ci): update release branch dep (#3486),,chore(ci): update release branch dep (#3486),
1212,better action cleanup (#3332),,better action cleanup (#3332),
1213,"add edge compilation, runtime config parsing and edge apis (#3396)",,"add edge compilation, runtime config parsing and edge apis (#3396)",
1214,fix clippy warnings (#3490),,fix clippy warnings (#3490),
1215,release(turborepo): 1.7.1-canary.7 (#3485),Co-authored-by: Turbobot turbobot@vercel.com,release(turborepo): 1.7.1-canary.7 (#3485),Co-authored-by: Turbobot turbobot@vercel.com
1216,fix(codemod): correct to flag validation (#3478),,fix(codemod): correct to flag validation (#3478),
1217,fix: Support pnpm lockfile keys in dependencies (#3461),Fixes #3382 This PR adds support for when pnpm encodes a dependency version as a lockfile key instead of just a version. We already have similar logic in the npm lockfile implementation. Thanks to @omarahm3 for the reproduction!,fix: Support pnpm lockfile keys in dependencies (#3461),Fixes #3382 This PR adds support for when pnpm encodes a dependency version as a lockfile key instead of just a version. We already have similar logic in the npm lockfile implementation. Thanks to @omarahm3 for the reproduction!
1218,changesets action: add pnpm install (#3482),pnpm needs to be set up before it can be installed inside Actions,changesets action: add pnpm install (#3482),pnpm needs to be set up before it can be installed inside Actions
1219,fix(shim): use custom version parser (#3474),,fix(shim): use custom version parser (#3474),
1220,changesets action: yarn -> pnpm (#3477),"Looks like we missed the action here when we moved our examples from yarn to pnpm. Thanks, @colbyfayock for letting us know!",changesets action: yarn -> pnpm (#3477),"Looks like we missed the action here when we moved our examples from yarn to pnpm. Thanks, @colbyfayock for letting us know!"
1221,fix(turborepo): fix create branch workflow (#3471),,fix(turborepo): fix create branch workflow (#3471),
1222,Use mdxjs upstream at 0.1.5 (#3473),This replaces our use of @jridgewell's fork as upstream has updated to swc_core@0.56.0.,Use mdxjs upstream at 0.1.5 (#3473),This replaces our use of @jridgewell's fork as upstream has updated to swc_core@0.56.0.
1223,Added an example with rollup (#1867),"Thanks, Matt! 🐐  Co-authored-by: Anthony Shew anthony.shew@vercel.com",Added an example with rollup (#1867),"Thanks, Matt! 🐐  Co-authored-by: Anthony Shew anthony.shew@vercel.com"
1224,port(turborepo): Ported CommandBase from Go (#3459),"Since we have all of the config and UI logic, we should have the Rust equivalent of Go's cmdbase, i.e. a single struct that contains all of the helper structs for running a command.",port(turborepo): Ported CommandBase from Go (#3459),"Since we have all of the config and UI logic, we should have the Rust equivalent of Go's cmdbase, i.e. a single struct that contains all of the helper structs for running a command."
1225,Documentation for Remote Caching in Docker builds. (#3080),Title! I've also updated the with-docker example to optionally include this behavior with instructions in the README.,Documentation for Remote Caching in Docker builds. (#3080),Title! I've also updated the with-docker example to optionally include this behavior with instructions in the README.
1226,partially support next metadata (#3464),This adds support for metadata in pages and layouts. Full metadata support also needs support for implicit metadata with files named icon.ico etc. This PR also improves the test suite and adds a basic test case for app dir support,partially support next metadata (#3464),This adds support for metadata in pages and layouts. Full metadata support also needs support for implicit metadata with files named icon.ico etc. This PR also improves the test suite and adds a basic test case for app dir support
1227,ci(workflow): run next.js integration test with new release (#3468),"This PR actually triggers integration tests when there's a new Next.js release. Collecting stats / displaying it required some trial & error, probably comes after this PR.",ci(workflow): run next.js integration test with new release (#3468),"This PR actually triggers integration tests when there's a new Next.js release. Collecting stats / displaying it required some trial & error, probably comes after this PR."
1228,ci(workflow): reusable next.js integration test (#3460),"We'll need to run next.js test in multiple place (PR, new next.js release..). This PR makes running next.js integration test reusable without duplicating same logics. Also this PR changes default behavior of next.js integration test to always pull latest version of next.js.",ci(workflow): reusable next.js integration test (#3460),"We'll need to run next.js test in multiple place (PR, new next.js release..). This PR makes running next.js integration test reusable without duplicating same logics. Also this PR changes default behavior of next.js integration test to always pull latest version of next.js."
1229,nextest.toml update to next-dev-tests and add retries (#3456),"This updates nextest.toml to use the new package name for next-dev tests, next-dev-tests and adds up to 2 additional retries (for a total of 3 attempts) since these tests tend to be flakey. Note: This requires cargo-nextest version 0.9.49, which includes a fix for https://github.com/nextest-rs/nextest/issues/762. Otherwise, you may receive an error when running nextest like: `` error: failed to parse nextest config atpath/to/.config/nextest.toml` Caused by:   profile.default.overrides[0].leak-timeout: invalid type: string ""500ms"", expected struct Duration Caused by:   invalid type: string ""500ms"", expected struct Duration ``` Test Plan: Temporarily changed slow-timeout to 0s and verified the override selected next-dev tests by marking them as slow.",nextest.toml update to next-dev-tests and add retries (#3456),"This updates nextest.toml to use the new package name for next-dev tests, next-dev-tests and adds up to 2 additional retries (for a total of 3 attempts) since these tests tend to be flakey. Note: This requires cargo-nextest version 0.9.49, which includes a fix for link. Otherwise, you may receive an error when running nextest like: module Caused by:   profile.default.overrides[0].leak-timeout: invalid type: string ""500ms"", expected struct Duration Caused by:   invalid type: string ""500ms"", expected struct Duration ``` Test Plan: Temporarily changed slow-timeout to 0s and verified the override selected next-dev tests by marking them as slow."
1230,move clippy to separate action and remove cache (#3311),,move clippy to separate action and remove cache (#3311),
1231,fix chunk optimization (#3450),before it just merged all stuff into one chunk when over the chunk limit,fix chunk optimization (#3450),before it just merged all stuff into one chunk when over the chunk limit
1232,Update Google font-data.json (2023-01-25) (#3463),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-01-25) (#3463),Automated changes by create-pull-request GitHub action Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com
1233,ci(workflow): setup a new workflow for next.js repo_dispatch (#3441),"Partially progresses WEB-457. This PR sets up new workflow to subscribe into repository_dispatch event. The event is supposed to be dispatched from next.js upstream when there is a new release. Currently this is for the access scope (token) verification, so it doesn't do any actual work other than payload correctly delivers ref to the release.",ci(workflow): setup a new workflow for next.js repo_dispatch (#3441),"Partially progresses WEB-457. This PR sets up new workflow to subscribe into repository_dispatch event. The event is supposed to be dispatched from next.js upstream when there is a new release. Currently this is for the access scope (token) verification, so it doesn't do any actual work other than payload correctly delivers ref to the release."
1234,fix: use the correct value in termsize tuple (#3458),"In #3371, I messed up and used the number of rows instead of the number of columns as the width of the terminal. We now don't require a very tall terminal to print out the full update message:",fix: use the correct value in termsize tuple (#3458),"In #3371, I messed up and used the number of rows instead of the number of columns as the width of the terminal. We now don't require a very tall terminal to print out the full update message:"
1235,Fixed prisma example to allow importing interfaces from database (#2710),For context: https://twitter.com/javier_dev/status/1592532624635199489,Fixed prisma example to allow importing interfaces from database (#2710),For context: link
1236,don't run cargo fmt --all in pre-commit hook (#3403),"This action started failing because cargo fmt was added to the pre-commit hook and the tool is not available without running Rust setup. Instead, we should just skip applying hooks when creating commits from this workflow. ~Since the create-pull-request doesn't have a way of disabling hooks, simply remove the file before husky installs it into place.~ Let cargo fmt run on individual files through lint-staged, but don't run it on everything on every precommit. Test Plan: Manual workflow run on this branch which opened #3401",don't run cargo fmt --all in pre-commit hook (#3403),"This action started failing because cargo fmt was added to the pre-commit hook and the tool is not available without running Rust setup. Instead, we should just skip applying hooks when creating commits from this workflow. ~Since the create-pull-request doesn't have a way of disabling hooks, simply remove the file before husky installs it into place.~ Let cargo fmt run on individual files through lint-staged, but don't run it on everything on every precommit. Test Plan: Manual workflow run on this branch which opened #3401"
1237,force entrypoint file name for node.js execution to be .js (#3451),,force entrypoint file name for node.js execution to be .js (#3451),
1238,publish 1.7.1-canary.6 to registry (#3457),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.6 to registry (#3457),Co-authored-by: Turbobot turbobot@vercel.com
1239,Fix data requests for dynamic routes (#3435),"In addition to the fix, I've extracted the path regex/params matching logic from turbopack-node to next-core. turbopack-node now only declares a value trait which next-core implements.",Fix data requests for dynamic routes (#3435),"In addition to the fix, I've extracted the path regex/params matching logic from turbopack-node to next-core. turbopack-node now only declares a value trait which next-core implements."
1240,fix(release): use turbo to build packages (#3454),,fix(release): use turbo to build packages (#3454),
1241,feat(release): auto create release PR (#3453),,feat(release): auto create release PR (#3453),
1242,chore: Port configuration files to Rust (#3440),"A full Rust port of configuration reading and writing. This PR is probably best reviewed in each individual commit. This PR establishes, but doesn't enforce a pattern of ConfigLoader, Config, and ConfigInner. In the future we can generalize this to reduce boilerplate, but considering we have two configs at the moment that seemed like overkill.  ConfigInner: This is the configuration file layout on disk. This is just a data object and shouldn't have any logic Config: Handles the applying of defaults and writing config updates to disk. Internally it holds onto a copy of the config that comes from the file exclusively to avoid accidentally writing a value that was provided via command line or environment variable to the configuration file. ConfigLoader: Handles the loading of the Config structure this is where the command line overrides are applied and can be used to mock out the environment to allow for testing without polluting the test proc's environment.  Notes: - We need to use a handrolled MappedEnvironment to provide custom mappings from environment variable names to config file keys. e.g. TURBO_TEAM gets mapped to teamslug in config.json",chore: Port configuration files to Rust (#3440),"A full Rust port of configuration reading and writing. This PR is probably best reviewed in each individual commit. This PR establishes, but doesn't enforce a pattern of ConfigLoader, Config, and ConfigInner. In the future we can generalize this to reduce boilerplate, but considering we have two configs at the moment that seemed like overkill. ConfigInner: This is the configuration file layout on disk. This is just a data object and shouldn't have any logic Config: Handles the applying of defaults and writing config updates to disk. Internally it holds onto a copy of the config that comes from the file exclusively to avoid accidentally writing a value that was provided via command line or environment variable to the configuration file. ConfigLoader: Handles the loading of the Config structure this is where the command line overrides are applied and can be used to mock out the environment to allow for testing without polluting the test proc's environment. Notes: - We need to use a handrolled MappedEnvironment to provide custom mappings from environment variable names to config file keys. e.g. TURBO_TEAM gets mapped to teamslug in config.json"
1243,fix(release): build turbo-ignore (#3452),,fix(release): build turbo-ignore (#3452),
1244,refactor content sources to avoid evaluating content before serving (#3334),"fixes WEB-141 This changes the ContentSource API. Before a ContentSource returned a tuple of specificity and content. Now it returns a tuple of specificity and a get_content function. The old way made it very inefficient to combine multiple ContentSource. All combined ContentSources were ask before, all returned specificity and content, and they are ordered after that. That required to compute all contents, even if it is not really used after ordering. Now we order specificity and a get_content function and only compute the content (by calling get_content) with the final result. It also changes how data needs are expressed in the get_content function. Instead of asking it over and over again with more data, it statically returns the needed data with vary and the get function is only called with that data. This is technically more limited than the old way, but one can workaround that if needed. But practically we probably never need that. On the other hand it improves the number of function calls, since the vary method is only called once and the get only once per request. Before data needs required at least 2 get calls per request.",refactor content sources to avoid evaluating content before serving (#3334),"fixes WEB-141 This changes the ContentSource API. Before a ContentSource returned a tuple of specificity and content. Now it returns a tuple of specificity and a get_content function. The old way made it very inefficient to combine multiple ContentSource. All combined ContentSources were ask before, all returned specificity and content, and they are ordered after that. That required to compute all contents, even if it is not really used after ordering. Now we order specificity and a get_content function and only compute the content (by calling get_content) with the final result. It also changes how data needs are expressed in the get_content function. Instead of asking it over and over again with more data, it statically returns the needed data with vary and the get function is only called with that data. This is technically more limited than the old way, but one can workaround that if needed. But practically we probably never need that. On the other hand it improves the number of function calls, since the vary method is only called once and the get only once per request. Before data needs required at least 2 get calls per request."
1245,Fixed printing of FULL TURBO on macOS terminal (#3096),,Fixed printing of FULL TURBO on macOS terminal (#3096),
1246,Remove empty outputs config from turbo.json (#3443),"outputs are empty arrays by default since 1.7, so we don't need to specify them anymore.",Remove empty outputs config from turbo.json (#3443),"outputs are empty arrays by default since 1.7, so we don't need to specify them anymore."
1247,Store TaskDefinitions in the Graph by Task ID (#3428),"Moves TaskDefinitions in the CompleteGraph struct, so we can look it up during execution. We want to do this here, because during execution, The TaskGraph has already been constructed, so it is too late to change the definition at the point. Although this commit does not try to change any TaskDefinitions, we will implement that for composable configs in the future.",Store TaskDefinitions in the Graph by Task ID (#3428),"Moves TaskDefinitions in the CompleteGraph struct, so we can look it up during execution. We want to do this here, because during execution, The TaskGraph has already been constructed, so it is too late to change the definition at the point. Although this commit does not try to change any TaskDefinitions, we will implement that for composable configs in the future."
1248,Refactor task dependencies retrieval to support composable configs (#3410),"This means we look up a task's dependencies when iterating per-workspace, rather than per-task. This will allow us to customize each task per workspace based on additional config that may be present in that workspace. After this change, core.Task is essentially a tuple that contains the Task name and the Task Definition.  This follows the work in 2a8832b4b that moved other parts of TaskDefinition retrieval to per-workspace.",Refactor task dependencies retrieval to support composable configs (#3410),"This means we look up a task's dependencies when iterating per-workspace, rather than per-task. This will allow us to customize each task per workspace based on additional config that may be present in that workspace. After this change, core.Task is essentially a tuple that contains the Task name and the Task Definition.  This follows the work in 2a8832b4b that moved other parts of TaskDefinition retrieval to per-workspace."
1249,feat: add support for pnpm v6 lockfiles (#3352),"Add support for pnpm lockfile v6 (https://github.com/pnpm/pnpm/pull/5810) Notable changes in the lockfile v6: - Lockfile keys are encoded as /name@version as opposed to /name/version - Specifiers are inline with resolved versions as opposed to being in their own field - Packages with multiple peer dependencies no longer have the peer dependencies hashed Notes: - We currently just attempt to parse the v5 structure and if that fails we attempt v6. We do this since lockfile version can be decided by a combination of pnpm version and .npmrc contents. In the future once pnpm@8 is widely used we can switch the ordering of this if it becomes a performance bottle neck - A lot of the implementation was copy/pasta for the slightly different structure. I could have gone the route of making most of these functions work on map[string]interface{}, but I don't love doing type assertions all over the place.",feat: add support for pnpm v6 lockfiles (#3352),"Add support for pnpm lockfile v6 (link) Notable changes in the lockfile v6: - Lockfile keys are encoded as /name@version as opposed to /name/version - Specifiers are inline with resolved versions as opposed to being in their own field - Packages with multiple peer dependencies no longer have the peer dependencies hashed Notes: - We currently just attempt to parse the v5 structure and if that fails we attempt v6. We do this since lockfile version can be decided by a combination of pnpm version and .npmrc contents. In the future once pnpm@8 is widely used we can switch the ordering of this if it becomes a performance bottle neck - A lot of the implementation was copy/pasta for the slightly different structure. I could have gone the route of making most of these functions work on map[string]interface{}, but I don't love doing type assertions all over the place."
1250,publish 1.7.1-canary.5 to registry (#3444),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.5 to registry (#3444),Co-authored-by: Turbobot turbobot@vercel.com
1251,Implementing package inference (#2112)," Adds TURBO_INVOCATION_DIR env var to global turbo's invocation of local turbo. This allows local turbos that support it to calculate package inference, without passing a bad argument to local turbos that don't yet have this feature. Adds --pkg-inference-root flag, intended to be passed by the shim after calculating an appropriate value, based on the monorepo root and TURBO_INVOCATION_DIR env variable. Adds code to update TargetSelector instances in the presence of an inferred directory. If there's a single package at or above the directory, use that. Otherwise, consider the directory to be a prefix on a parentDir specifier Pass TargetSelector instances by reference so they can be updated in place Add to the global integration test to demonstrate package inference from a directory, as well as bypassing inference by passing --cwd",Implementing package inference (#2112),"Adds TURBO_INVOCATION_DIR env var to global turbo's invocation of local turbo. This allows local turbos that support it to calculate package inference, without passing a bad argument to local turbos that don't yet have this feature. Adds --pkg-inference-root flag, intended to be passed by the shim after calculating an appropriate value, based on the monorepo root and TURBO_INVOCATION_DIR env variable. Adds code to update TargetSelector instances in the presence of an inferred directory. If there's a single package at or above the directory, use that. Otherwise, consider the directory to be a prefix on a parentDir specifier Pass TargetSelector instances by reference so they can be updated in place Add to the global integration test to demonstrate package inference from a directory, as well as bypassing inference by passing --cwd"
1252,fix(prune) pnpm patch name incorrectness (#3176),We had an incorrect assumption about how patches would be named in the pnpm section in package.json. Added some unit tests using the fixtures from the reproduction provided in #2788,fix(prune) pnpm patch name incorrectness (#3176),We had an incorrect assumption about how patches would be named in the pnpm section in package.json. Added some unit tests using the fixtures from the reproduction provided in #2788
1253,chore(turbo-ignore): update release flow (#3421),Pull turbo-ignore into the standard release flow,chore(turbo-ignore): update release flow (#3421),Pull turbo-ignore into the standard release flow
1254,fix(examples): correct tailwind editor support (#3438),"Thanks @gaspar09 for the identification and fix here. We were getting a little too fancy for our own good I think. Passing the config right to postcss works, but you lose all the editor niceties. Creating an empty tailwind config that re exports our shared config get's full editor support.",fix(examples): correct tailwind editor support (#3438),"Thanks @gaspar09 for the identification and fix here. We were getting a little too fancy for our own good I think. Passing the config right to postcss works, but you lose all the editor niceties. Creating an empty tailwind config that re exports our shared config get's full editor support."
1255,chore(examples): update with-docker lock (#3436),Fixes https://github.com/vercel/turbo/issues/3419 Updates Next.js to latest so we get support for experimental transpilePackages,chore(examples): update with-docker lock (#3436),Fixes link Updates Next.js to latest so we get support for experimental transpilePackages
1256,feat(turbo-test-utils): share internal test utils (#3418),"This is an inconsequential PR, but in the turbo-codemod rewrite I borrowed some test utils that I wrote for turbo-ignore. This revisits that and abstracts them to a shared turbo-test-utils package instead of duplicating them (we're a monorepo tool, let's practice what we preach)",feat(turbo-test-utils): share internal test utils (#3418),"This is an inconsequential PR, but in the turbo-codemod rewrite I borrowed some test utils that I wrote for turbo-ignore. This revisits that and abstracts them to a shared turbo-test-utils package instead of duplicating them (we're a monorepo tool, let's practice what we preach)"
1257,Move Go Integration tests into main test Github workflow (#3429),,Move Go Integration tests into main test Github workflow (#3429),
1258,Rename TopologicGraph to WorkspaceGraph (#3411),"TopologicGraph in the engine sounds like it's for tasks, since the engine is for executing tasks, but it's really the workspace graph.",Rename TopologicGraph to WorkspaceGraph (#3411),"TopologicGraph in the engine sounds like it's for tasks, since the engine is for executing tasks, but it's really the workspace graph."
1259,Fix deprecated turbo.json in E2E tests (#3430),,Fix deprecated turbo.json in E2E tests (#3430),
1260,Add minimal source map for css modules locals js (#3320),,Add minimal source map for css modules locals js (#3320),
1261,ci(actions): report failed --turbo next.js tests (#3350),"Closes WEB-168. This PR changes the behavior of next.js integration test in this repo to run everything with --turbo by default, instead of manually opt in per each PR. Since current next.js integration tests are expected to fail with turbopack, PR adds changes   Do not fail CI when next.js integration test fails So we can keep CI checker green for  the daily workflow   Report failed tests in the PR comment  Instead, report failed tests in the comment, like https://github.com/vercel/turbo/pull/3350#issuecomment-1387356900   This is largely similar to what next.js upstream does for failing report, but does not use exact same webhook since the way CI pipeline sets up is bit different so we can't use it out of the box. However, the logic in the custom action is short & straightforward enough to keep internally. One thing to note is this report uses default automatic github auth token (user github-actions bot). This means report comment will not be created if PR is created from fork, but I expect that's acceptable limitation. There maybe some improvements we want to add, like diff-between-main but probably not a high priority & maybe we can fix all the turbopack faster than having those.",ci(actions): report failed --turbo next.js tests (#3350),"Closes WEB-168. This PR changes the behavior of next.js integration test in this repo to run everything with --turbo by default, instead of manually opt in per each PR. Since current next.js integration tests are expected to fail with turbopack, PR adds changes Do not fail CI when next.js integration test fails So we can keep CI checker green for  the daily workflow Report failed tests in the PR comment  Instead, report failed tests in the comment, like link This is largely similar to what next.js upstream does for failing report, but does not use exact same webhook since the way CI pipeline sets up is bit different so we can't use it out of the box. However, the logic in the custom action is short & straightforward enough to keep internally. One thing to note is this report uses default automatic github auth token (user github-actions bot). This means report comment will not be created if PR is created from fork, but I expect that's acceptable limitation. There maybe some improvements we want to add, like diff-between-main but probably not a high priority & maybe we can fix all the turbopack faster than having those."
1262,Handle empty pageData during HMR (#3412),"Our pageData HMR process treated an undefined response as an error condition, but if the page doesn't have a getXyzProps exported method, then this is the default response. This prevented us from having any pages without page props. The new code just sends down an empty object, which seems to work for establishing the connection. HMR updates are sent down (and seem to trigger restarts, at least from what I tested with getStaticProps). Fixes WEB-445",Handle empty pageData during HMR (#3412),"Our pageData HMR process treated an undefined response as an error condition, but if the page doesn't have a getXyzProps exported method, then this is the default response. This prevented us from having any pages without page props. The new code just sends down an empty object, which seems to work for establishing the connection. HMR updates are sent down (and seem to trigger restarts, at least from what I tested with getStaticProps). Fixes WEB-445"
1263,ci(actions): ensure cargo check with frozen lockfile (#3391),retry #3388 with --locked instead of --frozen,ci(actions): ensure cargo check with frozen lockfile (#3391),retry #3388 with --locked instead of --frozen
1264,Add support for jsconfig.json resolution (#3409),There doesn't appear to be any issues with just returning a jsconfig.json when we're looking for a tsconfig.json (provided one didn't exist). Finding this gives a TsConfigReferenceVc (used for finding type definitions only) and enables the paths/baseUrl resolution options. Fixes WEB-230,Add support for jsconfig.json resolution (#3409),There doesn't appear to be any issues with just returning a jsconfig.json when we're looking for a tsconfig.json (provided one didn't exist). Finding this gives a TsConfigReferenceVc (used for finding type definitions only) and enables the paths/baseUrl resolution options. Fixes WEB-230
1265,Refactor Task Definition retrieval to support composable configs(#3405),"In order to create composable configs, we need to calculate Task dependencies and topological dependencies when iterating per-workspace. Currently this happens too early.  This commit moves part of the work happening when building the TaskGraph to a later stagey where we are prepping to create PackageTasks. This PR moves TopoDeps and Persistent values, because there is no business logic around them. In a future PR, we will also move Deps.",Refactor Task Definition retrieval to support composable configs(#3405),"In order to create composable configs, we need to calculate Task dependencies and topological dependencies when iterating per-workspace. Currently this happens too early.  This commit moves part of the work happening when building the TaskGraph to a later stagey where we are prepping to create PackageTasks. This PR moves TopoDeps and Persistent values, because there is no business logic around them. In a future PR, we will also move Deps."
1266,feat(codemod): use transform as default command (#3408),,feat(codemod): use transform as default command (#3408),
1267,publish 1.7.1-canary.4 to registry (#3407),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.4 to registry (#3407),Co-authored-by: Turbobot turbobot@vercel.com
1268,chore(docs): use tabular-nums for counter (#3404),Good suggestion from @shuding,chore(docs): use tabular-nums for counter (#3404),Good suggestion from @shuding
1269,fix(docs): use correct enterprise link in footer (#3406),,fix(docs): use correct enterprise link in footer (#3406),
1270,feat(release): cleanup release docs & workflows (#3290),Remove old release workflows that are no longer being used now that we're shipping a Rust binary. Rename our current workflows and improve docs for clarify.,feat(release): cleanup release docs & workflows (#3290),Remove old release workflows that are no longer being used now that we're shipping a Rust binary. Rename our current workflows and improve docs for clarify.
1271,publish 1.7.1-canary.3 to registry (#3402),"This includes release flow changes to pack with pnpm instead of npm to ensure we convert workspace references correctly. This branch has already released, which is why I'm including them here. Co-authored-by: Turbobot turbobot@vercel.com",publish 1.7.1-canary.3 to registry (#3402),"This includes release flow changes to pack with pnpm instead of npm to ensure we convert workspace references correctly. This branch has already released, which is why I'm including them here. Co-authored-by: Turbobot turbobot@vercel.com"
1272,prevent injecting non js files in app renderer (#3399),,prevent injecting non js files in app renderer (#3399),
1273,Update mdxjs and testing crates (#3398),"This updates our mdxjs dependency to the tip of https://github.com/wooorm/mdxjs-rs/pull/11, so that we can update it's swc_core dependency (it conflicts with ours). It also updates the testing crate to update it's swc_common dependency (also conflicting with ours), and makes it a workspace dependency.",Update mdxjs and testing crates (#3398),"This updates our mdxjs dependency to the tip of link, so that we can update it's swc_core dependency (it conflicts with ours). It also updates the testing crate to update it's swc_common dependency (also conflicting with ours), and makes it a workspace dependency."
1274,publish 1.7.1-canary.2 to registry (#3395),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.2 to registry (#3395),Co-authored-by: Turbobot turbobot@vercel.com
1275,feat(codemod): turbo migrate (#3367),"Details:  New migrate command that will run all codemods needed to move from turbo x to turbo y and will (optionally) upgrade turbo for you as well Rewritten transforms using new transform class that automatically handles logging, determining when to write the file, file diffs, consistent outputs, and consistent logging When running with --print, we now show changed file diffs complete with colors 100% test coverage for all transforms A codemod for adding new codemods (:yodog:) pnpm add-transform. Adds tests, fixtures, and new transform boilerplate. Moved from meow to commander.js for arg parsing  Reviewers Guide This PR is huge. But it’s almost all tests and fixtures. I have split the commits for easier review: 1. new arg parsing 2. rewrite transforms 3. add codemod generation 4. add migrate command 5. add tests FAQ Q. Why not just use jscodeshift?  A. It would be major overkill. We don’t need AST’s. Everything we touch (and likely will touch for the foreseeable future) is JSON. Q. Why add an extra class for file transforms? A. This abstracts away the need to care about the CLI options or handle output. Writing a new transform is as simple as - 1. read the file, 2. make changes, 3. pass it to runner.modifyFile. It does the rest (logging, determining when to write, file diffing, consistent outputs, consistent logging) TODO:  [ ] Update codemod docs and in-product reccomendations",feat(codemod): turbo migrate (#3367),"Details: New migrate command that will run all codemods needed to move from turbo x to turbo y and will (optionally) upgrade turbo for you as well Rewritten transforms using new transform class that automatically handles logging, determining when to write the file, file diffs, consistent outputs, and consistent logging When running with --print, we now show changed file diffs complete with colors 100% test coverage for all transforms A codemod for adding new codemods (:yodog:) pnpm add-transform. Adds tests, fixtures, and new transform boilerplate. Moved from meow to commander.js for arg parsing Reviewers Guide This PR is huge. But it’s almost all tests and fixtures. I have split the commits for easier review: 1. new arg parsing 2. rewrite transforms 3. add codemod generation 4. add migrate command 5. add tests FAQ Q. Why not just use jscodeshift?  A. It would be major overkill. We don’t need AST’s. Everything we touch (and likely will touch for the foreseeable future) is JSON. Q. Why add an extra class for file transforms? A. This abstracts away the need to care about the CLI options or handle output. Writing a new transform is as simple as - 1. read the file, 2. make changes, 3. pass it to runner.modifyFile. It does the rest (logging, determining when to write, file diffing, consistent outputs, consistent logging) TODO: [ ] Update codemod docs and in-product reccomendations"
1276,Introduce next-dev-tests to rebuild automatically on test input changes (#3288),I verified that the crate is rebuilt if I make a change of inputs. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Introduce next-dev-tests to rebuild automatically on test input changes (#3288),I verified that the crate is rebuilt if I make a change of inputs. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1277,improve resolveAlias to allow conditions to allow to apply aliases to… (#3324),… client/server only,improve resolveAlias to allow conditions to allow to apply aliases to… (#3324),… client/server only
1278,add garbage collection (#3094),fixes WEB-265 fixes WEB-268 fixes WEB-4 fixes WEB-359,add garbage collection (#3094),fixes WEB-265 fixes WEB-268 fixes WEB-4 fixes WEB-359
1279,Anthony changed his Twitter handle! (#3383),Just updating here. 😄,Anthony changed his Twitter handle! (#3383),Just updating here. 😄
1280,"Revert ""ci(actions): ensure cargo check with frozen lockfile"" (#3390)",Reverts vercel/turbo#3388,"Revert ""ci(actions): ensure cargo check with frozen lockfile"" (#3390)",Reverts vercel/turbo#3388
1281,Factor out method to get resolved TaskDefinition (#3378),The way we resolve a taskDefinition will change once we start allowing workspaces to create their own config so it makes sense to factor this method out first.,Factor out method to get resolved TaskDefinition (#3378),The way we resolve a taskDefinition will change once we start allowing workspaces to create their own config so it makes sense to factor this method out first.
1282,ci(actions): ensure cargo check with frozen lockfile (#3388),Avoid cases like https://github.com/vercel/turbo/pull/3387,ci(actions): ensure cargo check with frozen lockfile (#3388),Avoid cases like link
1283,Always mark styled-jsx as external to avoid duplicating with bundled copies (#3386),"Fixes WEB-412. Previously, references to styled-jsx inserted by the swc transform would be bundled, which duplicated the copy required by next, which is external. This marks the dependency is to be resolved as external always. Test Plan: Verified in a small app that <style jsx> nodes result in a server-rendered response with the appropriate <style> tag in the head.",Always mark styled-jsx as external to avoid duplicating with bundled copies (#3386),"Fixes WEB-412. Previously, references to styled-jsx inserted by the swc transform would be bundled, which duplicated the copy required by next, which is external. This marks the dependency is to be resolved as external always. Test Plan: Verified in a small app that "
1284,Print resolvedTaskDefinition in DryRun (#3377),"This PR adds a resolvedTaskDefinition key to the Dry Run output. Today, this allows users to see the applied defaults for each key in their tasks. In the future, this will allow users to introspect the task config when it's composed from multiple sources.",Print resolvedTaskDefinition in DryRun (#3377),"This PR adds a resolvedTaskDefinition key to the Dry Run output. Today, this allows users to see the applied defaults for each key in their tasks. In the future, this will allow users to introspect the task config when it's composed from multiple sources."
1285,NodeProcessPool: implement debug mode for a single-process passing --inspect-brk (#3385),This implements a debug mode for spawning Node processes across multiple surfaces including evaluate and get_renderer_pool. It:  automatically limits concurrency to 1 process per pool passes --inspect-brk to spawned Node process sets the timeout to effectively-infinite duration  Test Plan: set the value to true for the call to get_renderer_pool in render_static.rs and attached to a debuggable server renderer process.,NodeProcessPool: implement debug mode for a single-process passing --inspect-brk (#3385),This implements a debug mode for spawning Node processes across multiple surfaces including evaluate and get_renderer_pool. It: automatically limits concurrency to 1 process per pool passes --inspect-brk to spawned Node process sets the timeout to effectively-infinite duration Test Plan: set the value to true for the call to get_renderer_pool in render_static.rs and attached to a debuggable server renderer process.
1286,Dev server: only log requests with status >=400 (#3366),"Fixes WEB-433. This adjusts the devserver to only log requests that have response status >=400. Previously, it logged responses with status between 200-299 (and long requests, if enabled). This change prevents it from logging responses in the 3xx range and the 1xx range. Test Plan: Load a page that uses next/image, which logs a 302 response without this patch.",Dev server: only log requests with status >=400 (#3366),"Fixes WEB-433. This adjusts the devserver to only log requests that have response status >=400. Previously, it logged responses with status between 200-299 (and long requests, if enabled). This change prevents it from logging responses in the 3xx range and the 1xx range. Test Plan: Load a page that uses next/image, which logs a 302 response without this patch."
1287,Fix test fixture for duplicate-names test (#3376),Also updates the name of the fixture,Fix test fixture for duplicate-names test (#3376),Also updates the name of the fixture
1288,fix: update cargo lockfile (#3387),"Cargo.lock on main appears to be out of date, these are the results of cargo check",fix: update cargo lockfile (#3387),"Cargo.lock on main appears to be out of date, these are the results of cargo check"
1289,Basic @next/font/google integration test (#3170),"This:  Implements a basic http server to mock returning a stylesheet from the Google Fonts API (Note: This importantly does not mock returning the font resources themselves, which are currently loaded by the browser. We should implement something to do this when we implement caching arbitrary http resources traced from url() and this is no longer loaded by the test browser) Adds an integration test that asserts the basic shape of the JS object returned by font functions ~Adds an integration test that asserts the browser correctly loads a font for the ascii unicode range, along with the appropriate font-display, variant, etc.~ Unfortunately document.fonts is not reliable with different font-display loading patterns as any of them can fall back.  As noted, this does not mock responses from Google for the font resources themselves, which are currently loaded by the test browser. This means that we'll be dependent on this external service for passing integration tests until we implement caching of url()s in Turbopack. We should monitor the reliability of this test.",Basic @next/font/google integration test (#3170),"This: Implements a basic http server to mock returning a stylesheet from the Google Fonts API (Note: This importantly does not mock returning the font resources themselves, which are currently loaded by the browser. We should implement something to do this when we implement caching arbitrary http resources traced from url() and this is no longer loaded by the test browser) Adds an integration test that asserts the basic shape of the JS object returned by font functions ~Adds an integration test that asserts the browser correctly loads a font for the ascii unicode range, along with the appropriate font-display, variant, etc.~ Unfortunately document.fonts is not reliable with different font-display loading patterns as any of them can fall back. As noted, this does not mock responses from Google for the font resources themselves, which are currently loaded by the test browser. This means that we'll be dependent on this external service for passing integration tests until we implement caching of url()s in Turbopack. We should monitor the reliability of this test."
1290,add full next.js config (#3343),,add full next.js config (#3343),
1291,Update link hash in blog post (#3384),,Update link hash in blog post (#3384),
1292,chore: switch turbo updater to use console for coloring (#3371),"In an attempt to unify our crate usage, this PR switches over turbo-updater to use console for terminal measurement/coloring and atty for tty detection. Apologies to @tknickman for suggesting the crates I did and kudos to @ForsakenHarmony for suggesting console",chore: switch turbo updater to use console for coloring (#3371),"In an attempt to unify our crate usage, this PR switches over turbo-updater to use console for terminal measurement/coloring and atty for tty detection. Apologies to @tknickman for suggesting the crates I did and kudos to @ForsakenHarmony for suggesting console"
1293,Remove unused param from getTaskDefinition (#3379),,Remove unused param from getTaskDefinition (#3379),
1294,Fix community contributor's name. (#3316),,Fix community contributor's name. (#3316),
1295,chore(deps): update dependency @babel/core to v7.20.12 (#3337)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.20.5 -> 7.20.12 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  babel/babel  ### [`v7.20.12`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v72012-2023-01-04)  [Compare Source](https://togithub.com/babel/babel/compare/v7.20.7...v7.20.12)  ##### :bug: Bug Fix  -   `babel-traverse`     -   [#​15224](https://togithub.com/babel/babel/pull/15224) Fix `TaggedTemplateLiteral` evaluation ([@​nmn](https://togithub.com/nmn)) -   `babel-helper-create-class-features-plugin`, `babel-plugin-proposal-class-properties`     -   [#​15312](https://togithub.com/babel/babel/pull/15312) fix: `delete this` in static class properties initialization ([@​SuperSodaSea](https://togithub.com/SuperSodaSea))  ##### :nail_care: Polish  -   `babel-traverse`     -   [#​15313](https://togithub.com/babel/babel/pull/15313) Implement support for evaluating computed properties. ([@​JBYoshi](https://togithub.com/JBYoshi))  ### [`v7.20.7`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7207-2022-12-22)  [Compare Source](https://togithub.com/babel/babel/compare/v7.20.5...v7.20.7)  ##### :eyeglasses: Spec Compliance  -   `babel-helper-member-expression-to-functions`, `babel-helper-replace-supers`, `babel-plugin-proposal-class-properties`, `babel-plugin-transform-classes`     -   [#​15223](https://togithub.com/babel/babel/pull/15223) fix: Deleting super property should throw ([@​SuperSodaSea](https://togithub.com/SuperSodaSea)) -   `babel-helpers`, `babel-plugin-proposal-class-properties`, `babel-plugin-transform-classes`, `babel-plugin-transform-object-super`     -   [#​15241](https://togithub.com/babel/babel/pull/15241) fix: Throw correct error types from sed ant class TDZ helpers ([@​SuperSodaSea](https://togithub.com/SuperSodaSea))  ##### :bug: Bug Fix  -   `babel-parser`, `babel-plugin-transform-typescript`     -   [#​15209](https://togithub.com/babel/babel/pull/15209) fix: Support auto accessors with TypeScript annotations ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-traverse`     -   [#​15287](https://togithub.com/babel/babel/pull/15287) Fix `.parentPath` after rename in `SwitchCase` ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-plugin-transform-typescript`, `babel-traverse`     -   [#​15284](https://togithub.com/babel/babel/pull/15284) fix: Ts import type and func with duplicate name ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-plugin-transform-block-scoping`     -   [#​15278](https://togithub.com/babel/babel/pull/15278) Fix tdz analysis for reassigned captured for bindings ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-plugin-proposal-async-generator-functions`, `babel-preset-env`     -   [#​15235](https://togithub.com/babel/babel/pull/15235) fix: Transform `for await` with shadowed variables ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-generator`, `babel-plugin-proposal-optional-chaining`     -   [#​15258](https://togithub.com/babel/babel/pull/15258) fix: Correctly generate `(a ?? b) as T` ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-plugin-transform-react-jsx`, `babel-types`     -   [#​15233](https://togithub.com/babel/babel/pull/15233) fix: Emit correct sourcemap ranges for `JSXText` ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-core`, `babel-helpers`, `babel-plugin-transform-computed-properties`, `babel-runtime-corejs2`, `babel-runtime-corejs3`, `babel-runtime`     -   [#​15232](https://togithub.com/babel/babel/pull/15232) fix: Computed properties should keep original definition order ([@​SuperSodaSea](https://togithub.com/SuperSodaSea)) -   `babel-helper-member-expression-to-functions`, `babel-helper-replace-supers`, `babel-plugin-proposal-class-properties`, `babel-plugin-transform-classes`     -   [#​15223](https://togithub.com/babel/babel/pull/15223) fix: Deleting super property should throw ([@​SuperSodaSea](https://togithub.com/SuperSodaSea)) -   `babel-generator`     -   [#​15216](https://togithub.com/babel/babel/pull/15216) fix: Print newlines for leading Comments of `TSEnumMember` ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu))  ##### :nail_care: Polish  -   `babel-plugin-transform-block-scoping`, `babel-traverse`     -   [#​15275](https://togithub.com/babel/babel/pull/15275) Improve relative execution tracking in fn exprs ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))  ##### :house: Internal  -   `babel-helper-define-map`, `babel-plugin-transform-property-mutators`     -   [#​15274](https://togithub.com/babel/babel/pull/15274) Inline & simplify `@babel/helper-define-map` ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-core`, `babel-plugin-proposal-class-properties`, `babel-plugin-transform-block-scoping`, `babel-plugin-transform-classes`, `babel-plugin-transform-destructuring`, `babel-plugin-transform-parameters`, `babel-plugin-transform-regenerator`, `babel-plugin-transform-runtime`, `babel-preset-env`, `babel-traverse`     -   [#​15200](https://togithub.com/babel/babel/pull/15200) Rewrite `transform-block-scoping` plugin ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))  ##### :running_woman: Performance  -   `babel-helper-compilation-targets`     -   [#​15228](https://togithub.com/babel/babel/pull/15228) perf: Speed up `getTargets` ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @babel/core to v7.20.12 (#3337),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.20.5 -> 7.20.12 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes babel/babel module Compare Source :bug: Bug Fix  module #​15224 Fix module evaluation (@​nmn)   module, module #​15312 fix: module in static class properties initialization (@​SuperSodaSea)    :nail_care: Polish  module #​15313 Implement support for evaluating computed properties. (@​JBYoshi)    module Compare Source :eyeglasses: Spec Compliance  module, module, module, module #​15223 fix: Deleting super property should throw (@​SuperSodaSea)   module, module, module, module #​15241 fix: Throw correct error types from sed ant class TDZ helpers (@​SuperSodaSea)    :bug: Bug Fix  module, module #​15209 fix: Support auto accessors with TypeScript annotations (@​liuxingbaoyu)   module #​15287 Fix module after rename in module (@​nicolo-ribaudo)   module, module #​15284 fix: Ts import type and func with duplicate name (@​liuxingbaoyu)   module #​15278 Fix tdz analysis for reassigned captured for bindings (@​nicolo-ribaudo)   module, module #​15235 fix: Transform module with shadowed variables (@​liuxingbaoyu)   module, module #​15258 fix: Correctly generate module (@​liuxingbaoyu)   module, module #​15233 fix: Emit correct sourcemap ranges for module (@​liuxingbaoyu)   module, module, module, module, module, module #​15232 fix: Computed properties should keep original definition order (@​SuperSodaSea)   module, module, module, module #​15223 fix: Deleting super property should throw (@​SuperSodaSea)   module #​15216 fix: Print newlines for leading Comments of module (@​liuxingbaoyu)    :nail_care: Polish  module, module #​15275 Improve relative execution tracking in fn exprs (@​nicolo-ribaudo)    :house: Internal  module, module #​15274 Inline & simplify module (@​nicolo-ribaudo)   module, module, module, module, module, module, module, module, module, module #​15200 Rewrite module plugin (@​nicolo-ribaudo)    :running_woman: Performance  module #​15228 perf: Speed up module (@​liuxingbaoyu)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1296,Install AsyncLocalStorage for appDir rendering (#3374),"https://github.com/vercel/next.js/pull/44668 refactored Next's use of AsyncLocalStorage, and installs a ""polyfill"" of the API by patching the node import onto globalThis. Importantly, it's then used in the module scope during imports, so we need to install the polyfill early in the app rendering startup. Fixes https://github.com/vercel/turbo/issues/3319",Install AsyncLocalStorage for appDir rendering (#3374),"link refactored Next's use of AsyncLocalStorage, and installs a ""polyfill"" of the API by patching the node import onto globalThis. Importantly, it's then used in the module scope during imports, so we need to install the polyfill early in the app rendering startup. Fixes link"
1297,fix error overlay sometimes now showing (#3331),,fix error overlay sometimes now showing (#3331),
1298,Factor out ReadTurboConfig method (#3368),"We need this method to be able to read arbitrary turbo.json files, without falling back on package.json config or synthesizing from the package.json. This will be useful when reading configs from workspace directories for composable config.",Factor out ReadTurboConfig method (#3368),"We need this method to be able to read arbitrary turbo.json files, without falling back on package.json config or synthesizing from the package.json. This will be useful when reading configs from workspace directories for composable config."
1299,Unused packages. (#3358),"While investigating a Sentry error I discovered that we weren't using a few packages. An error message came in for clipboard copies, and we have no code for that in our (reachable) codebase. Root reason for discovery of these superfluous packages: https://sentry.io/organizations/vercel/issues/3874526717/ (33 fewer packages!) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com",Unused packages. (#3358),"While investigating a Sentry error I discovered that we weren't using a few packages. An error message came in for clipboard copies, and we have no code for that in our (reachable) codebase. Root reason for discovery of these superfluous packages: link/ (33 fewer packages!) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1300,fix(docs): small typo in caching doc (#3365),a tiny update Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,fix(docs): small typo in caching doc (#3365),a tiny update Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1301,chore: Port logout to be pure Rust (#3302),"With this PR turbo logout can run without jumping to Go. Notes: - Used config-rs for our config reading. It doesn't support writing configs to disk out of the box, but this can be solved with a wrapper struct. This can probably be abstracted to be generic over different configs, but we should hold off until that seems beneficial. - termcolor is used for coloring output, this is the same crate that env_logger uses for coloring outputs. The UI struct is expected to be passed into any subcommands that need pretty output. - A slight behavior change is that we no longer delete the entire config file and instead make the token null (""token"": null). If this is unwanted, I can change it back to the old behavior, but I wanted to test out UserConfig::set_token before someone else tried using it. Co-authored-by: Leah github.leah@hrmny.sh",chore: Port logout to be pure Rust (#3302),"With this PR turbo logout can run without jumping to Go. Notes: - Used config-rs for our config reading. It doesn't support writing configs to disk out of the box, but this can be solved with a wrapper struct. This can probably be abstracted to be generic over different configs, but we should hold off until that seems beneficial. - termcolor is used for coloring output, this is the same crate that env_logger uses for coloring outputs. The UI struct is expected to be passed into any subcommands that need pretty output. - A slight behavior change is that we no longer delete the entire config file and instead make the token null (""token"": null). If this is unwanted, I can change it back to the old behavior, but I wanted to test out UserConfig::set_token before someone else tried using it. Co-authored-by: Leah github.leah@hrmny.sh"
1302,Fix mdx test on Windows (#3363),,Fix mdx test on Windows (#3363),
1303,Update swc_core to v0.56.0 (#3303),"This PR updates SWC crates to https://github.com/swc-project/swc/commit/b27793f5798aecee8f7f28bce587f3fc5c275cd4 The main purpose of this PR is to apply https://github.com/swc-project/swc/pull/6801, which is required to update next-swc. Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",Update swc_core to v0.56.0 (#3303),"This PR updates SWC crates to link The main purpose of this PR is to apply link, which is required to update next-swc. Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1304,Cover gitignored env files in docs and examples (#3270),"Adds some information about how to use dotenv, since it is a common way of loading environment variables. Co-authored-by: Eric Matthys ericmatthys@gmail.com Co-authored-by: Anthony Shew anthony.shew@vercel.com",Cover gitignored env files in docs and examples (#3270),"Adds some information about how to use dotenv, since it is a common way of loading environment variables. Co-authored-by: Eric Matthys ericmatthys@gmail.com Co-authored-by: Anthony Shew anthony.shew@vercel.com"
1305,add sweep timestamp to gitignore,,add sweep timestamp to gitignore,
1306,rename turbopackWebpackLoaders to turbopackLoaders (#3325),since they don't have exactly the same API Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,rename turbopackWebpackLoaders to turbopackLoaders (#3325),since they don't have exactly the same API Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1307,fix(docs): remove empty array instruction (#3351),"outputs: [] is no longer required to cache logs, and can be omitted entirely.",fix(docs): remove empty array instruction (#3351),"outputs: [] is no longer required to cache logs, and can be omitted entirely."
1308,fix(prettier): format (#3353),Fix prettier,fix(prettier): format (#3353),Fix prettier
1309,Recommend cram extension in dev environment (#3349),Adds syntax highlighting in .t integration files and allow configuration with [cram] language support,Recommend cram extension in dev environment (#3349),Adds syntax highlighting in .t integration files and allow configuration with [cram] language support
1310,fix(turborepo): Passing a relative path to --cwd when using --skip-infer. (#3348),Allows user to pass relative path to --cwd instead of erroring while using --skip-infer,fix(turborepo): Passing a relative path to --cwd when using --skip-infer. (#3348),Allows user to pass relative path to --cwd instead of erroring while using --skip-infer
1311,read env vars from next.config.js (#3128),,read env vars from next.config.js (#3128),
1312,Disable mdx parsing in turbotrace (#3304),"It's not necessary to enable MDX parsing in turbotrace, and there was a parsing error that caused the build to fail when I was trying to enable turbotrace in verce/site: https://vercel.com/vercel/vercel-site/7pFWUVMWVAv3jC44WD2nBnwrbJpM Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",Disable mdx parsing in turbotrace (#3304),"It's not necessary to enable MDX parsing in turbotrace, and there was a parsing error that caused the build to fail when I was trying to enable turbotrace in verce/site: link Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1313,publish 1.7.1-canary.1 to registry (#3341),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.1 to registry (#3341),Co-authored-by: Turbobot turbobot@vercel.com
1314,feat(turbopack): Support export * from 'cjs' (#3111),"Many unrelated tests files are changed because this PR adds a new runtime function, __turbopack_cjs__. Fixes WEB-3 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",feat(turbopack): Support export * from 'cjs' (#3111),"Many unrelated tests files are changed because this PR adds a new runtime function, turbopack_cjs. Fixes WEB-3 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1315,improve SSR data handling for pages (#3326),,improve SSR data handling for pages (#3326),
1316,reduce function count (#3335),avoid creating very many resolve tasks by resolving the arguments before calling methods on it,reduce function count (#3335),avoid creating very many resolve tasks by resolving the arguments before calling methods on it
1317,add cargo-sweep action (#3265),This should clean up old build artifacts,add cargo-sweep action (#3265),This should clean up old build artifacts
1318,fix(docs): remove old image link (#3330),,fix(docs): remove old image link (#3330),
1319,Update images with Acme organization. (#3274),,Update images with Acme organization. (#3274),
1320,test(integration): update next.js to latest (#3055),,test(integration): update next.js to latest (#3055),
1321,style(docs): fix prettier (#3313),"This is so minor, but seeing CI check failure earliest with this prettier check can be confusing so attempt to fix it. Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",style(docs): fix prettier (#3313),"This is so minor, but seeing CI check failure earliest with this prettier check can be confusing so attempt to fix it. Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1322,Fix name of command in blog post (#3315),turbo build --output-logs=error-only => turbo build --output-logs=errors-only,Fix name of command in blog post (#3315),turbo build --output-logs=error-only => turbo build --output-logs=errors-only
1323,Add build script and update instructions to test locally (#3300),,Add build script and update instructions to test locally (#3300),
1324,use the first result when resolving extends in tsconfig.json (#3282),,use the first result when resolving extends in tsconfig.json (#3282),
1325,add documentation about memory profiling on linux (#2776),,add documentation about memory profiling on linux (#2776),
1326,Fix tasks.json for Prettier (#3305),This is failing CI for all new PRs.,Fix tasks.json for Prettier (#3305),This is failing CI for all new PRs.
1327,Add basic test for next/dynamic (#3307),This adds two basic tests for next/dynamic: * one ensures that SSR supports dynamic components; * the other ensures that SSR doesn't run when ssr: false.,Add basic test for next/dynamic (#3307),This adds two basic tests for next/dynamic: * one ensures that SSR supports dynamic components; * the other ensures that SSR doesn't run when ssr: false.
1328,Apply the next/dynamic SWC transform  (#3184),"This PR adds the next/dynamic SWC transform to the repo. This is copied over from the implementation in , with an additional mode for Turbopack. For now, it applies it to all sources files (excluding node_modules, but including embedded modules). I've refactored the Next transforms logic to make it more easily extendable in the future, and avoid creating more Vcs than absolutely necessary. This PR is the last item in the list of what's needed to support next/dynamic in development.",Apply the next/dynamic SWC transform  (#3184),"This PR adds the next/dynamic SWC transform to the repo. This is copied over from the implementation in , with an additional mode for Turbopack. For now, it applies it to all sources files (excluding node_modules, but including embedded modules). I've refactored the Next transforms logic to make it more easily extendable in the future, and avoid creating more Vcs than absolutely necessary. This PR is the last item in the list of what's needed to support next/dynamic in development."
1329,Implement experimental.resolveAlias map for next.config.js (#3298),Fixes WEB-416. This implements loading an alias map set as experimental.resolveAlias in next.config.js. Test Plan: Added an integration test.,Implement experimental.resolveAlias map for next.config.js (#3298),Fixes WEB-416. This implements loading an alias map set as experimental.resolveAlias in next.config.js. Test Plan: Added an integration test.
1330,Fix deduplication when importing module statically and dynamically (#3297),"The processed_assets IndexSet was performing deduplication on the AssetVc, which is the same between static (import ... from ""foo"") and dynamic (import(""foo"")) imports of the same specifier. But, the reference to those assets is different, and generates different chunking semantics. In order for both to succeed, we need to process both assets. Coupled with #3193's ability to load chunks on the server side, this fixes fixes WEB-381.",Fix deduplication when importing module statically and dynamically (#3297),"The processed_assets IndexSet was performing deduplication on the AssetVc, which is the same between static (import ... from ""foo"") and dynamic (import(""foo"")) imports of the same specifier. But, the reference to those assets is different, and generates different chunking semantics. In order for both to succeed, we need to process both assets. Coupled with #3193's ability to load chunks on the server side, this fixes fixes WEB-381."
1331,Do not submit a default --output-logs argument from Rust (#3299),"Specifying the CLI arg overrides outputMode from Task Definitions, so we want to ensure that the user explicitly passes it, and not provide a default. Fixes #3272",Do not submit a default --output-logs argument from Rust (#3299),"Specifying the CLI arg overrides outputMode from Task Definitions, so we want to ensure that the user explicitly passes it, and not provide a default. Fixes #3272"
1332,fix(examples): ignore node_modules in docker (#3301),,fix(examples): ignore node_modules in docker (#3301),
1333,chore(editor): do not display successful auto task terminal output (#3013),"There is an auto task in our vscode task config, which opens up terminal every time. Changing options to not to open terminal by default if there aren't any failures.",chore(editor): do not display successful auto task terminal output (#3013),"There is an auto task in our vscode task config, which opens up terminal every time. Changing options to not to open terminal by default if there aren't any failures."
1334,add basic webpack loader support (#3284),"add the minimum to run a simple raw-loader (see test case)  add experimental.turbopackWebpackLoaders to next.config.js key is extension like "".mdx"", value is an array of loaders like [""mdx-loader""]",add basic webpack loader support (#3284),"add the minimum to run a simple raw-loader (see test case) add experimental.turbopackWebpackLoaders to next.config.js key is extension like "".mdx"", value is an array of loaders like [""mdx-loader""]"
1335,fix(docs): corect blog typo (#3296),credit @anthonyshew,fix(docs): corect blog typo (#3296),credit @anthonyshew
1336,fix(docs): update yarn install command (#3287),Fixes https://github.com/vercel/turbo/issues/3286,fix(docs): update yarn install command (#3287),Fixes link
1337,chore(docs): update 1.7 OG image (#3295),,chore(docs): update 1.7 OG image (#3295),
1338,publish 1.7.1-canary.0 to registry (#3293),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.1-canary.0 to registry (#3293),Co-authored-by: Turbobot turbobot@vercel.com
1339,fix imports in default arguments in functions (#3292),,fix imports in default arguments in functions (#3292),
1340,node: prefixed aliases must not be in fallback aliases (#3291),,node: prefixed aliases must not be in fallback aliases (#3291),
1341,Add support for dynamic import()s on the server-side (#3193),"This PR separates Turbopack's runtime.js into two:  the Browser/DOM implementation, which uses <script> and <link> tags for dynamically loading chunks; the Node.js/CommonJS implementation, which uses require instead.  ~~The two runtimes share a lot of code, but I'm not sure what's the best approach for sharing this logic, or even if we should, so for now they are two separate entities.~~ The shared code between the two runtimes is now in a separate file to avoid duplication. Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",Add support for dynamic import()s on the server-side (#3193),"This PR separates Turbopack's runtime.js into two: the Browser/DOM implementation, which uses "
1342,only try to push benchmark data (#3289),do not push other artifacts,only try to push benchmark data (#3289),do not push other artifacts
1343,fix: use error logger in Rust turborepo (#3253),"Moves messaging in Rust land to use the standard logger where applicable:  - clap errors will now be printed via the error logger - turborepo_lib::main now logs any errors via the error logger instead of having the caller decide how to handle the error The following are other uses of standard (println!/write!) print functionality that weren't changed:  - clap help text  - turbo --version  - turbo bin This PR does not change the Go side of error logging, but there should only be a single place that needs updating: root.go Example of new output:  Co-authored-by: Thomas Knickman tom.knickman@vercel.com",fix: use error logger in Rust turborepo (#3253),"Moves messaging in Rust land to use the standard logger where applicable:  - clap errors will now be printed via the error logger - turborepo_lib::main now logs any errors via the error logger instead of having the caller decide how to handle the error The following are other uses of standard (println!/write!) print functionality that weren't changed:  - clap help text  - turbo --version  - turbo bin This PR does not change the Go side of error logging, but there should only be a single place that needs updating: root.go Example of new output: Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1344,fix(turborepo): typos (#3285),,fix(turborepo): typos (#3285),
1345,One pixel transparent border to reveal background. (#3279),before:  after:  Co-authored-by: Thomas Knickman tknickman@gmail.com,One pixel transparent border to reveal background. (#3279),before: after: Co-authored-by: Thomas Knickman tknickman@gmail.com
1346,Apply hygiene pass before fixer (#3283),hygiene pass is required to prevent duplicate variable names. fixes WEB-393 x-ref: https://vercel.slack.com/archives/C02HY34AKME/p1673451065749759,Apply hygiene pass before fixer (#3283),hygiene pass is required to prevent duplicate variable names. fixes WEB-393 x-ref: link
1347,fix windows paths with --root (#3281),,fix windows paths with --root (#3281),
1348,fix code generation in shorthand properties (#3259),,fix code generation in shorthand properties (#3259),
1349,improve caching of worker pool for postcss (#3260),,improve caching of worker pool for postcss (#3260),
1350,improve typescript recommendation (#3262),,improve typescript recommendation (#3262),
1351,escape error message for HTML (#3263),,escape error message for HTML (#3263),
1352,provide resolvedUrl to next.js for rendering (#3267),,provide resolvedUrl to next.js for rendering (#3267),
1353,feat(docs): 1.7 blog post (#3264),Blog post for turbo@1.7,feat(docs): 1.7 blog post (#3264),Blog post for turbo@1.7
1354,nextest: time out leaky check after 500ms (#3277),"nexttest considers tests leaky if they do not close stdout and stderr within 100ms by default. I've noticed that the tailwind basic test is the only test considered flakey on macOS. Increasing this timeout to 500ms locally makes it no longer marked as leaky. It's still possible the integration tests leak subprocesses on Windows, but this should clear up confusion on other environments. Test Plan: cargo nextest run -p next-dev test_crates_next_dev_tests_integration_next_tailwind_basic without it being marked leaky on macOS.",nextest: time out leaky check after 500ms (#3277),"nexttest considers tests leaky if they do not close stdout and stderr within 100ms by default. I've noticed that the tailwind basic test is the only test considered flakey on macOS. Increasing this timeout to 500ms locally makes it no longer marked as leaky. It's still possible the integration tests leak subprocesses on Windows, but this should clear up confusion on other environments. Test Plan: cargo nextest run -p next-dev test_crates_next_dev_tests_integration_next_tailwind_basic without it being marked leaky on macOS."
1355,Make file paths shorter to fix windows build (#3256),I verified that CI works with this change. https://github.com/kdy1/turbo-windows-path-length/actions/runs/3889566103/jobs/6638025437  x-ref: https://github.com/vercel/next.js/pull/44760 x-ref: https://github.com/vercel/next.js/actions/runs/3888528533/jobs/6635975573 x-ref: https://github.com/vercel/next.js/actions/runs/3888528533/jobs/6635975680 x-ref: https://github.com/vercel/next.js/actions/runs/3888528533/jobs/6635976658,Make file paths shorter to fix windows build (#3256),I verified that CI works with this change. link x-ref: link x-ref: link x-ref: link x-ref: link
1356,ignore .env file and .vercel directory (#2847),Co-authored-by: Mehul Kar mehul.kar@vercel.com,ignore .env file and .vercel directory (#2847),Co-authored-by: Mehul Kar mehul.kar@vercel.com
1357,Make pre-commit hoook executable (#3275),"Husky is not executing this precommit, because the file is not executable. File permissions were changed in daaeabfb502d3b1f6c1acfae31d0d2cf8a740463, maybe accidentally.",Make pre-commit hoook executable (#3275),"Husky is not executing this precommit, because the file is not executable. File permissions were changed in daaeabfb502d3b1f6c1acfae31d0d2cf8a740463, maybe accidentally."
1358,feat(docs): add remote cache counter (#3271),,feat(docs): add remote cache counter (#3271),
1359,Refactor Summary structs for more flexible use (#2792),"This massages our data flow to put RunState and DryRunSummary closer together. Together, these will eventually form the RunSummary data structure that will contain all the data users need to debug turbo run. Making these two pieces of data work well together will be the key to standardizing the data we have from runs.",Refactor Summary structs for more flexible use (#2792),"This massages our data flow to put RunState and DryRunSummary closer together. Together, these will eventually form the RunSummary data structure that will contain all the data users need to debug turbo run. Making these two pieces of data work well together will be the key to standardizing the data we have from runs."
1360,feat(docs): update output-logs options (#3266),,feat(docs): update output-logs options (#3266),
1361,Update Google font-data.json (2023-01-11) (#3255),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com,Update Google font-data.json (2023-01-11) (#3255),Automated changes by create-pull-request GitHub action Co-authored-by: Will Binns-Smith 755844+wbinnssmith@users.noreply.github.com
1362,add necessary permissions to commit step again (#3258),Currently it fails with permission error,add necessary permissions to commit step again (#3258),Currently it fails with permission error
1363,Moved docs to global turbo installation (#2701),Co-authored-by: tknickman tom.knickman@vercel.com,Moved docs to global turbo installation (#2701),Co-authored-by: tknickman tom.knickman@vercel.com
1364,Update examples with features from 1.7 release (#2738),,Update examples with features from 1.7 release (#2738),
1365,Document persistent key (#2669),"This adds documentation for the persistent key, adds it into documentation examples, and removes --parallel where it isn't necessary. It also updates examples/ where dev tasks are used. ⚠️ This PR should be merged after turbo@1.7 is released to npm. Stacked PRs: 1. #2546 2. #2258 3. #2669 (this one) 4. #2738 Separate PR so we can merge docs in after the feature has been released.",Document persistent key (#2669),"This adds documentation for the persistent key, adds it into documentation examples, and removes --parallel where it isn't necessary. It also updates examples/ where dev tasks are used. ⚠️ This PR should be merged after turbo@1.7 is released to npm. Stacked PRs: 1. #2546 2. #2258 3. #2669 (this one) 4. #2738 Separate PR so we can merge docs in after the feature has been released."
1366,Update docs on default outputs (#2713),Stacked PRs: - #2712  - #2714 - Release turbo@1.7 - (This one) #2713 - #2738,Update docs on default outputs (#2713),Stacked PRs: - #2712  - #2714 - Release turbo@1.7 - (This one) #2713 - #2738
1367,publish 1.7.0 to registry (#3251),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0 to registry (#3251),Co-authored-by: Turbobot turbobot@vercel.com
1368,remove muzzammil.xyz/jsonc package in favour of more stable github url (#3213),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,remove muzzammil.xyz/jsonc package in favour of more stable github url (#3213),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1369,improve error handling for commands in singlePackage projects (#3243),"Currently in 'single package mode' the error message for missing turbo commands is a little misleading: bash turbo-single-test on  main [?] is 📦 v1.0.0 via  v19.4.0  ❯ ../turbo/target/debug/turbo ls  ERROR  run failed: task `ls` not found in turbo `pipeline` in ""turbo.json"". Are you sure you added it? Turbo error: task `ls` not found in turbo `pipeline` in ""turbo This PR makes a small change to the validation to respect the singlePackage option. bash turbo-single-test on  main [?] is 📦 v1.0.0 via  v19.4.0  ❯ ../turbo/target/debug/turbo ls  ERROR  run failed: task `ls` not found in `scripts` in ""package.json"" Turbo error: task `ls` not found in `scripts` in ""package.json"" Co-authored-by: Thomas Knickman tom.knickman@vercel.com",improve error handling for commands in singlePackage projects (#3243),"Currently in 'single package mode' the error message for missing turbo commands is a little misleading: bash turbo-single-test on  main [?] is 📦 v1.0.0 via  v19.4.0  ❯ ../turbo/target/debug/turbo ls  ERROR  run failed: task module not found in turbo module in ""turbo.json"". Are you sure you added it? Turbo error: task module not found in turbo module in ""turbo This PR makes a small change to the validation to respect the singlePackage option. bash turbo-single-test on  main [?] is 📦 v1.0.0 via  v19.4.0  ❯ ../turbo/target/debug/turbo ls  ERROR  run failed: task module not found in module in ""package.json"" Turbo error: task module not found in module in ""package.json"" Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1370,fix(next-dev): add name to test package (#3249),,fix(next-dev): add name to test package (#3249),
1371,publish 1.7.0-canary.9 to registry (#3248),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.9 to registry (#3248),Co-authored-by: Turbobot turbobot@vercel.com
1372,clean cache a little less often (#3245),"check_run was probably overkill, also added concurrency to not make it run multiple times for the same commit",clean cache a little less often (#3245),"check_run was probably overkill, also added concurrency to not make it run multiple times for the same commit"
1373,fix(cli): npm lockfile workspace parsing (#3244),"We were unable to parse an npm lockfile that used the alternate format for workspaces (""workspaces"": { ""packages"": [ ""packages/**"" ]}) Error manifested as: WARNING  Issues occurred when constructing package graph. Turbo will function, but some features may not be available:  1 error occurred:     * json: cannot unmarshal object into Go struct field NpmPackage.packages.workspaces of type []string Fixes https://github.com/vercel/turbo/issues/3207 and https://github.com/vercel/turbo/issues/3050",fix(cli): npm lockfile workspace parsing (#3244),"We were unable to parse an npm lockfile that used the alternate format for workspaces (""workspaces"": { ""packages"": [ ""packages/**"" ]}) Error manifested as: WARNING  Issues occurred when constructing package graph. Turbo will function, but some features may not be available:  1 error occurred:     * json: cannot unmarshal object into Go struct field NpmPackage.packages.workspaces of type []string Fixes link and link"
1374,add support for transpilePackages (#3116),,add support for transpilePackages (#3116),
1375,fix inconsistent sys_path leading to watching issue on root dir (#3224),"It fixes the case when adding, removing or renaming files on root dir doesn't trigger an update. maybe fixes #3215, but I can confirm as I can't really reproduce with the steps provided. Co-authored-by: Leah github.leah@hrmny.sh",fix inconsistent sys_path leading to watching issue on root dir (#3224),"It fixes the case when adding, removing or renaming files on root dir doesn't trigger an update. maybe fixes #3215, but I can confirm as I can't really reproduce with the steps provided. Co-authored-by: Leah github.leah@hrmny.sh"
1376,fix main push detection in workflow (#3240),,fix main push detection in workflow (#3240),
1377,Open PRs for font data updates instead (#3232),This is currently failing as a direct commit due to main being protected: https://github.com/vercel/turbo/actions/runs/3869665076/jobs/6595936942 Test Plan: https://github.com/vercel/turbo/pull/3233 was opened via a manual run of the workflow on this branch.,Open PRs for font data updates instead (#3232),This is currently failing as a direct commit due to main being protected: link Test Plan: link was opened via a manual run of the workflow on this branch.
1378,Update swc_core to v0.53.0 (#3210),,Update swc_core to v0.53.0 (#3210),
1379,update to next.js version with working test suite (#3211),,update to next.js version with working test suite (#3211),
1380,Show an error if no tasks are supplied to run (#3236),"Top-level Go errors currently get swallowed, this PR sends them to stderr.  Includes an integration test to ensure that the error is visible",Show an error if no tasks are supplied to run (#3236),"Top-level Go errors currently get swallowed, this PR sends them to stderr.  Includes an integration test to ensure that the error is visible"
1381,fix: support both formats of workspace definition for npm and yarn (#3235),We can support both by creating an untagged enum in serde. Quick spot checked the issue we saw on vercel/vercel and it no longer happens with this shim.,fix: support both formats of workspace definition for npm and yarn (#3235),We can support both by creating an untagged enum in serde. Quick spot checked the issue we saw on vercel/vercel and it no longer happens with this shim.
1382,fix(next-core): check axes for variable fonts only (#3209),"Addresses an issue currently affecting non-variable fonts in which next-dev errors for non-variable Google fonts. This issue can be replicated by using next dev --turbo and using a Google font that isn't variable, like Hind. The problem is resolved by unwrapping axes only if the font is variable. Relevant issue: vercel/next.js#44282 Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com",fix(next-core): check axes for variable fonts only (#3209),"Addresses an issue currently affecting non-variable fonts in which next-dev errors for non-variable Google fonts. This issue can be replicated by using next dev --turbo and using a Google font that isn't variable, like Hind. The problem is resolved by unwrapping axes only if the font is variable. Relevant issue: vercel/next.js#44282 Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com"
1383,publish 1.7.0-canary.8 to registry (#3231),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.8 to registry (#3231),Co-authored-by: Turbobot turbobot@vercel.com
1384,fix(ci): swap turbo back to actions-rs/toolchain (#3230),Fix from change introduced here: https://github.com/vercel/turbo/pull/3175/files,fix(ci): swap turbo back to actions-rs/toolchain (#3230),Fix from change introduced here: link
1385,fix(create-turbo): bump next.js version (#3228),,fix(create-turbo): bump next.js version (#3228),
1386,fix(turborepo): resolve go bin correctly (#3226),NPM installs global packages by symlinking them to the correct bin. Rusts current_exe doesn't play nice with symlinks so we were unable to find go-turbo. This resolve the turbo symlink before calling go-turbo to ensure it can be properly found.,fix(turborepo): resolve go bin correctly (#3226),NPM installs global packages by symlinking them to the correct bin. Rusts current_exe doesn't play nice with symlinks so we were unable to find go-turbo. This resolve the turbo symlink before calling go-turbo to ensure it can be properly found.
1387,always clean PR action caches (#3227),,always clean PR action caches (#3227),
1388,feat(cli): disable package.json config support (#3221),Deprecate package.json configs. We've had a warning and migration path (codemod) in place for close to a year.,feat(cli): disable package.json config support (#3221),Deprecate package.json configs. We've had a warning and migration path (codemod) in place for close to a year.
1389,feat(create-turbo): use canary if pre-release (#3225),"If using a pre-release version of create-turbo, install turbo@canary instead of turbo@latest",feat(create-turbo): use canary if pre-release (#3225),"If using a pre-release version of create-turbo, install turbo@canary instead of turbo@latest"
1390,feat(docs): animate header logos when switching (#3198),https://user-images.githubusercontent.com/16027268/211107001-748f516b-77ca-4a11-a4d6-d314ab5db454.mp4,feat(docs): animate header logos when switching (#3198),link
1391,Fix clippy warnings with next-transform-strip-page-exports (#3220),,Fix clippy warnings with next-transform-strip-page-exports (#3220),
1392,fix github actions rust caching (#3175), moves rust setup & caching to a composite action only caches on main (we are using 80gb of github's 10gb evicting all our cache entries instantly)   will see if this is enough or if it has to be reduced further cleans up some workflows,fix github actions rust caching (#3175),moves rust setup & caching to a composite action only caches on main (we are using 80gb of github's 10gb evicting all our cache entries instantly)   will see if this is enough or if it has to be reduced further cleans up some workflows
1393,fix(codeowners): remove web tooling from versions.txt (#3223),,fix(codeowners): remove web tooling from versions.txt (#3223),
1394,feat(release): publish 1.7.0-canary.7 to registry (#3222),Co-authored-by: Turbobot turbobot@vercel.com,feat(release): publish 1.7.0-canary.7 to registry (#3222),Co-authored-by: Turbobot turbobot@vercel.com
1395,Copy go-turbo as well as turbo in install script (#3202),"We need to ensure that both binaries are copied in our optimized case, they expect to be next to each other.",Copy go-turbo as well as turbo in install script (#3202),"We need to ensure that both binaries are copied in our optimized case, they expect to be next to each other."
1396,publish 1.7.0-canary.6 to registry (#3203),"Deployed, merging back into main. Co-authored-by: Turbobot turbobot@vercel.com",publish 1.7.0-canary.6 to registry (#3203),"Deployed, merging back into main. Co-authored-by: Turbobot turbobot@vercel.com"
1397,"Use the correct binary name for Go binaries, also copy them (#3201)",Ensure the Go pieces are called go-turbo,"Use the correct binary name for Go binaries, also copy them (#3201)",Ensure the Go pieces are called go-turbo
1398,Explicitly chmod binaries (#3199),"Rather than * (on the wrong path), chmod exactly the binaries we expect to be there",Explicitly chmod binaries (#3199),"Rather than * (on the wrong path), chmod exactly the binaries we expect to be there"
1399,refactor(turborepo): Two binaries (#3189),"Because of golang/go#13492, we cannot use Go as a shared library that we link to Rust. Instead we are now building the Go code as a separate binary that is executed by the Rust one. Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg@goldfiglabs.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com",refactor(turborepo): Two binaries (#3189),"Because of golang/go#13492, we cannot use Go as a shared library that we link to Rust. Instead we are now building the Go code as a separate binary that is executed by the Rust one. Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com Co-authored-by: Greg Soltis greg@goldfiglabs.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1400,fix(turborepo): Run update notifier on turbo that is actually executed (#3190),"To avoid running the update notifier twice, we delay running it until the shim decides between executing local turbo or current turbo. At that point, we check either the local turbo version or the current turbo version and run the update notifier. Co-authored-by: Thomas Knickman tom.knickman@vercel.com",fix(turborepo): Run update notifier on turbo that is actually executed (#3190),"To avoid running the update notifier twice, we delay running it until the shim decides between executing local turbo or current turbo. At that point, we check either the local turbo version or the current turbo version and run the update notifier. Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1401,Share rust config ownership between web-tooling and turbo-oss (#3196),"Both teams have an interest in top-level configuration, and we shouldn't block merges on changes to, e.g. Cargo.lock.",Share rust config ownership between web-tooling and turbo-oss (#3196),"Both teams have an interest in top-level configuration, and we shouldn't block merges on changes to, e.g. Cargo.lock."
1402,Changes to support two binaries (#3192),"Group effort from Turbo team.  Adds an action to build a go binary Updates rust wrapper to package go binary in npm package Switches Linux builds of rust binary to statically link musl, allowing alpine containers to work",Changes to support two binaries (#3192),"Group effort from Turbo team. Adds an action to build a go binary Updates rust wrapper to package go binary in npm package Switches Linux builds of rust binary to statically link musl, allowing alpine containers to work"
1403,Reorganize next_client and next_server modules (#3182),"This is a straightforward chore PR to move next_client and next_server modules around, in order to make navigation and imports more predictable between them. I'm also planning to introduce a next_shared::context in a further PR, hence the changes.",Reorganize next_client and next_server modules (#3182),"This is a straightforward chore PR to move next_client and next_server modules around, in order to make navigation and imports more predictable between them. I'm also planning to introduce a next_shared::context in a further PR, hence the changes."
1404,fix: packageManager value (#3161),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,fix: packageManager value (#3161),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1405,feat(shim): add logger (#3177),"This parses verbosity in the shim, and then configures a shim logger that matches the format of the go logger. This also moves all messages about detecting local vs global and inference to DEBUG (hidden by default)",feat(shim): add logger (#3177),"This parses verbosity in the shim, and then configures a shim logger that matches the format of the go logger. This also moves all messages about detecting local vs global and inference to DEBUG (hidden by default)"
1406,"switch to husky, fix prettier (#3179)",,"switch to husky, fix prettier (#3179)",
1407,fix(vscode): prettier (#3187),Remove extra commas in vscode tasks and launch,fix(vscode): prettier (#3187),Remove extra commas in vscode tasks and launch
1408,fix(docs): update eslint-plugin-turbo README (#3186),The documentation of eslint-plugin-turbo still referred to envs with the $ prefix which is deprecated,fix(docs): update eslint-plugin-turbo README (#3186),The documentation of eslint-plugin-turbo still referred to envs with the $ prefix which is deprecated
1409,chore(dev): turborepo shim entrypoint (#3174),Add a vscode action that uses the turbo crate as an entrypoint to debug the rust shim,chore(dev): turborepo shim entrypoint (#3174),Add a vscode action that uses the turbo crate as an entrypoint to debug the rust shim
1410,fix(docs): refer to pnpm instead of yarn in the design-system README (#3100),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): refer to pnpm instead of yarn in the design-system README (#3100),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1411,fix: add info message when using global turbo in repo (#3169),"Adds an info message if the turbo shim detects it's being run in a Turborepo project, but there's no local turbo binary to invoke e.g. the Turborepo project itself",fix: add info message when using global turbo in repo (#3169),"Adds an info message if the turbo shim detects it's being run in a Turborepo project, but there's no local turbo binary to invoke e.g. the Turborepo project itself"
1412,Page data HMR (#3132),"Based on #2968  This builds upon #2968 and @ForsakenHarmony's work on data routes to enable page data HMR. Page data HMR is a bit more clever than it is in Next.js as we won't re-render a Node.js result for each page file update. Instead, thanks to the StripPageDefaultExport transform, there are three versions of the page chunks: * client-side (strips page data exports); * server-side (full); * data server-side (strips page default export). Instead of subscribing to the full server-side result, on hydration, the client-side page separately subscribes to: * client-side updates (already the case); * data server-side updates (new). This means that updating something that only affects the page component will only cause a client-side update and no Node.js re-rendering, while updating something that only affects the data will only cause a server-side update. ~~I'm marking this as a draft for now as there are still a few areas to test/investigate:~~ - [x] When something that is used in both the default page export and data exports is changed, this will cause two HMR updates: one data update, and one client-side chunk update. The same case breaks in Next.js, where we will receive a client-side update, but no server-side update, ending up with an incorrect result. - [x] Differences between getStaticProps/getServerSideProps, as well as getInitialProps (need to talk with @timneutkens about this) (see https://github.com/vercel/next.js/pull/44523) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",Page data HMR (#3132),"Based on #2968  This builds upon #2968 and @ForsakenHarmony's work on data routes to enable page data HMR. Page data HMR is a bit more clever than it is in Next.js as we won't re-render a Node.js result for each page file update. Instead, thanks to the StripPageDefaultExport transform, there are three versions of the page chunks: * client-side (strips page data exports); * server-side (full); * data server-side (strips page default export). Instead of subscribing to the full server-side result, on hydration, the client-side page separately subscribes to: * client-side updates (already the case); * data server-side updates (new). This means that updating something that only affects the page component will only cause a client-side update and no Node.js re-rendering, while updating something that only affects the data will only cause a server-side update. ~~I'm marking this as a draft for now as there are still a few areas to test/investigate:~~ - [x] When something that is used in both the default page export and data exports is changed, this will cause two HMR updates: one data update, and one client-side chunk update. The same case breaks in Next.js, where we will receive a client-side update, but no server-side update, ending up with an incorrect result. - [x] Differences between getStaticProps/getServerSideProps, as well as getInitialProps (need to talk with @timneutkens about this) (see link) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1413,fix(turborepo): Check version before adding --single-package flag (#3165),,fix(turborepo): Check version before adding --single-package flag (#3165),
1414,Update examples for stable transpilePackages. (#3167),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Update examples for stable transpilePackages. (#3167),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1415,Refactor the Next SSG transform to handle the inverse operation (#2968),"The original transform The original behavior of the Next SSG transform is to remove getServerSideProps, getStaticProps, and getStaticPaths from Next.js page files so they can be bundled for the client. This is what enables the following code to work properly without advanced tree shaking: ```jsx import db from ""db""; import PostCounter from  export default function Home(props) {   return <>{props.posts.length} post(s); } const postsPromise = db.getPosts(); export async function getStaticProps() {   return {     props: {       posts: await postsPromise,     },   }; } ``` The transform is able to remove both getStaticProps and all its exclusive, transitive dependencies, so this is what the client would see: jsx import PostCounter from ""components/PostCounter""; export var __N_SSG = true; export default function Home(props) {     return __jsx(PostCounter, {         count: props.posts.length     }); } Adding the inverse operation However, to support proper HMR for these data exports, we need to be able to execute somewhat of an inverse operation: remove the default component export, but preserve all the rest. This allows Turbopack to bundle server-side only declarations, only re-rendering when one of these changes, instead of re-rendering on any server-side and client-side change. From our module above, the updated transform is now also able to generate the following: jsx import db from ""db""; const postsPromise = db.getPosts(); export async function getStaticProps() {     return {         props: {             posts: await postsPromise         }     }; } As you can see, this module is no longer importing the PostCounter, which means re-rendering will not invalidate when that counter changes. However, if the ""db"" module changes, we will still be able to detect a change and re-render. Other notes  I renamed the transform from ""next_ssg"" to ""next_transform_strip_page_exports"". It's much more verbose, but hopefully also much clearer about what it does at a glance. I took the liberty to clean up and comment some parts of the transform to make it more easily understandable (at least for someone like me, who hasn't written a lot of SWC code). I also fixed a few bugs and edge cases. I brought over the tests from the transform in the Next.js and added a couple of them. For now, only the StripDataExports filter is used. A future PR will build on this and @ForsakenHarmony's https://github.com/vercel/turbo/pull/2949 PR to actually implement SSR/SSG HMR.   Reviewing guide  The crux of the change is the move (and refactor) of the next ssg transform from https://github.com/vercel/turbo/pull/2968/files#diff-133d73657647ed793ca4782a73552650b32ad565094b1e0faf452ad58705499b to https://github.com/vercel/turbo/pull/2968/files#diff-d6442fa6af9b66e581f062739dd6de2419f5e8f6f3d97cfa63518c72b0a9ee3e. I also added the errors.rs and fixture.rs tests. I adapted fixture.rs to execute on the two transform filters: data exports and default export. Most of the tests in tests/ are copied from https://github.com/vercel/next.js/tree/canary/packages/next-swc/crates/core/tests. The changes I made are:   i. https://github.com/vercel/turbo/pull/2968/files#diff-774abee6a1bf139c9ce55e226bf15b52e56ea091170ee5d6295c191fd8d793c7: made this one symmetric for both strip data and strip default transforms.   ii. https://github.com/vercel/turbo/pull/2968/files#diff-4792266a264dc67da93748d2c6522917f860527a689891bd5f8f4add9841e7f6 wasn't supported before AFAIK.   iii. https://github.com/vercel/turbo/pull/2968/files#diff-a3b12adbce1dec40f39ff8af13ffecbe7f6963e21bc402cef6332ecf5018877e similar to i.",Refactor the Next SSG transform to handle the inverse operation (#2968),"The original transform The original behavior of the Next SSG transform is to remove getServerSideProps, getStaticProps, and getStaticPaths from Next.js page files so they can be bundled for the client. This is what enables the following code to work properly without advanced tree shaking: module The transform is able to remove both getStaticProps and all its exclusive, transitive dependencies, so this is what the client would see: jsx import PostCounter from ""components/PostCounter""; export var __N_SSG = true; export default function Home(props) {     return __jsx(PostCounter, {         count: props.posts.length     }); } Adding the inverse operation However, to support proper HMR for these data exports, we need to be able to execute somewhat of an inverse operation: remove the default component export, but preserve all the rest. This allows Turbopack to bundle server-side only declarations, only re-rendering when one of these changes, instead of re-rendering on any server-side and client-side change. From our module above, the updated transform is now also able to generate the following: jsx import db from ""db""; const postsPromise = db.getPosts(); export async function getStaticProps() {     return {         props: {             posts: await postsPromise         }     }; } As you can see, this module is no longer importing the PostCounter, which means re-rendering will not invalidate when that counter changes. However, if the ""db"" module changes, we will still be able to detect a change and re-render. Other notes I renamed the transform from ""next_ssg"" to ""next_transform_strip_page_exports"". It's much more verbose, but hopefully also much clearer about what it does at a glance. I took the liberty to clean up and comment some parts of the transform to make it more easily understandable (at least for someone like me, who hasn't written a lot of SWC code). I also fixed a few bugs and edge cases. I brought over the tests from the transform in the Next.js and added a couple of them. For now, only the StripDataExports filter is used. A future PR will build on this and @ForsakenHarmony's link PR to actually implement SSR/SSG HMR.  Reviewing guide The crux of the change is the move (and refactor) of the next ssg transform from link to link. I also added the errors.rs and fixture.rs tests. I adapted fixture.rs to execute on the two transform filters: data exports and default export. Most of the tests in tests/ are copied from link. The changes I made are:   i. link: made this one symmetric for both strip data and strip default transforms.   ii. link wasn't supported before AFAIK.   iii. link similar to i."
1416,Update docs to use transpilePackages instead of next-transpile-modules. (#3158),,Update docs to use transpilePackages instead of next-transpile-modules. (#3158),
1417,fix(vite): update deps (#3133),,fix(vite): update deps (#3133),
1418,Allow CombinedContentSource to need data without locking up (#3124),"Currently when an individual ContentSource inside a CombinedContentSource requests additional vary data, the combined source will treat that source as the winner of the query. But, sometimes the vary data is necessary to determine that the content is not found by this source. And if that's the case, we'll hit a 404 when we should actually keep iterating. This is exactly the case we're going to hit with redirect/rewrites. Redirects need to be the very first content source, and I also need query/header/cookie/hostname data in order to determine if a redirect applies. Without this, every request becomes a 404.",Allow CombinedContentSource to need data without locking up (#3124),"Currently when an individual ContentSource inside a CombinedContentSource requests additional vary data, the combined source will treat that source as the winner of the query. But, sometimes the vary data is necessary to determine that the content is not found by this source. And if that's the case, we'll hit a 404 when we should actually keep iterating. This is exactly the case we're going to hit with redirect/rewrites. Redirects need to be the very first content source, and I also need query/header/cookie/hostname data in order to determine if a redirect applies. Without this, every request becomes a 404."
1419,Fix vite example build (#3129),,Fix vite example build (#3129),
1420,Fix command to delete local turborepo cache (#3109),"It was in a fenced code block on a single line, which was causing sh to be present at the beginning of each command (very confusing and hard to catch). On a completely unrelated topic... (content warning: sarcasm) I used StackBlitz Codeflow to make this PR, and pnpm run docs did not work because make isn't available (Codeflow uses a technology called WebContainers, which runs entirely in the browser). I think we should port Make, the Rust compiler, Cargo and anything needed to compile Turbo to Web Assembly and/or JavaScript, so that we can run the whole toolchain in the browser. Sounds pretty easy honestly 👍 Co-authored-by: Thomas Knickman tom.knickman@vercel.com",Fix command to delete local turborepo cache (#3109),"It was in a fenced code block on a single line, which was causing sh to be present at the beginning of each command (very confusing and hard to catch). On a completely unrelated topic... (content warning: sarcasm) I used StackBlitz Codeflow to make this PR, and pnpm run docs did not work because make isn't available (Codeflow uses a technology called WebContainers, which runs entirely in the browser). I think we should port Make, the Rust compiler, Cargo and anything needed to compile Turbo to Web Assembly and/or JavaScript, so that we can run the whole toolchain in the browser. Sounds pretty easy honestly 👍 Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1421,chore(examples): update tailwind lock (#3130),,chore(examples): update tailwind lock (#3130),
1422,chore(deps): update mysql docker tag to v8.0.31 (#3102)," This PR contains the following updates: | Package | Update | Change | |---|---|---| | mysql | patch | 8.0.28 -> 8.0.31 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC42Ni4xIiwidXBkYXRlZEluVmVyIjoiMzQuNjYuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update mysql docker tag to v8.0.31 (#3102),"This PR contains the following updates: | Package | Update | Change | |---|---|---| | mysql | patch | 8.0.28 -> 8.0.31 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC42Ni4xIiwidXBkYXRlZEluVmVyIjoiMzQuNjYuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
1423,chore(deps): update dependency tar to v6.1.13 (#3053)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tar | 6.1.12 -> 6.1.13 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  npm/node-tar  ### [`v6.1.13`](https://togithub.com/npm/node-tar/blob/HEAD/CHANGELOG.md#​6113-httpsgithubcomnpmnode-tarcomparev6112v6113-2022-12-07)  [Compare Source](https://togithub.com/npm/node-tar/compare/v6.1.12...v6.1.13)  ##### Dependencies  - [`cc4e0dd`](https://togithub.com/npm/node-tar/commit/cc4e0ddfe523a0bce383846a67442c637a65d486) [#​343](https://togithub.com/npm/node-tar/pull/343) bump minipass from 3.3.6 to 4.0.0    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC41OS4wIiwidXBkYXRlZEluVmVyIjoiMzQuNjYuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency tar to v6.1.13 (#3053),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tar | 6.1.12 -> 6.1.13 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes npm/node-tar  module Compare Source Dependencies - module #​343 bump minipass from 3.3.6 to 4.0.0 Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC41OS4wIiwidXBkYXRlZEluVmVyIjoiMzQuNjYuMSJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
1424,chore(deps): update rust crate assert_cmd to 2.0.7 (#3106),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update rust crate assert_cmd to 2.0.7 (#3106),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
1425,Turbo will error if you add an env var with prefix $ in globalEnv (#3123),,Turbo will error if you add an env var with prefix $ in globalEnv (#3123),
1426,feat(turborepo-lib): no update alert on some args (#3126),,feat(turborepo-lib): no update alert on some args (#3126),
1427,Add a SWC badge to Vite's graph label (#3125),Before:  After:,Add a SWC badge to Vite's graph label (#3125),Before: After:
1428,Good looking light and dark performance charts (#3113),"Notable changes: * Displaying labels for every sampled module count (1000, 5000, 10000, 30000) * Thicker lines without points, larger text and legend * Proper number and unit formatting, automatic switching between milliseconds and seconds * Removed the title (we don't use it when embedding into the website) * Light and dark themes * Consistent ordering and colors for bundlers. This means that if we want to add new bundlers, we'll have to edit the code. In the future, we might want to do these mappings in a json file instead. Before  After Dark:  Light:",Good looking light and dark performance charts (#3113),"Notable changes: * Displaying labels for every sampled module count (1000, 5000, 10000, 30000) * Thicker lines without points, larger text and legend * Proper number and unit formatting, automatic switching between milliseconds and seconds * Removed the title (we don't use it when embedding into the website) * Light and dark themes * Consistent ordering and colors for bundlers. This means that if we want to add new bundlers, we'll have to edit the code. In the future, we might want to do these mappings in a json file instead. Before After Dark: Light:"
1429,Benchmarks update (#3045), Update all bundlers' numbers to the latest test app and methodology Update the benchmarks blog post following our benchmark investigation   and collaboration with Vite.,Benchmarks update (#3045),Update all bundlers' numbers to the latest test app and methodology Update the benchmarks blog post following our benchmark investigation   and collaboration with Vite.
1430,docs(css): update turbopack css features (#3099),https://turbo-site-git-fork-kwonoj-docs-turbopack-css.vercel.sh/pack/docs/features/css#postcss Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,docs(css): update turbopack css features (#3099),link Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1431,Misc fixes to starting dev server (#3121)," The 10th attempt used to day ""trying again"" and then didn't try again because the iterator ended… Swaps a nested .map() == Some(bool) for a and_then Extracts into a helper function so code can early return without an Option<Result> wrapper.",Misc fixes to starting dev server (#3121),"The 10th attempt used to day ""trying again"" and then didn't try again because the iterator ended… Swaps a nested .map() == Some(bool) for a and_then Extracts into a helper function so code can early return without an Option wrapper."
1432,separate typescript with types from typescript transformed (#3118),fixes weird typescript errors caused by types being referenced by .ts files,separate typescript with types from typescript transformed (#3118),fixes weird typescript errors caused by types being referenced by .ts files
1433,Misc ContentSource changes (#3120), Adds details to SourceMapContentSource Fixes ty of SourceMapContentSource Adds default children trait method that returns empty children,Misc ContentSource changes (#3120),Adds details to SourceMapContentSource Fixes ty of SourceMapContentSource Adds default children trait method that returns empty children
1434,Add suggestion to server relative not supported message (#3119),Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Add suggestion to server relative not supported message (#3119),Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1435,disable counting timer (#3122),,disable counting timer (#3122),
1436,run next-binding feature check in linting phase (#3115),This will make the quick rust compilation step faster and allows to start the test suite faster.,run next-binding feature check in linting phase (#3115),This will make the quick rust compilation step faster and allows to start the test suite faster.
1437,Fix retrying when port already bound (#3114),"3021 removed 1 level of error wrapping, and the unwrapping code was not updated to match.",Fix retrying when port already bound (#3114),"3021 removed 1 level of error wrapping, and the unwrapping code was not updated to match."
1438,update to latest next.js (#3112), add GlobalError export to layout entry (see https://github.com/vercel/next.js/pull/44066) update app manifest for CSS (see https://github.com/vercel/next.js/pull/44168)  Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,update to latest next.js (#3112),add GlobalError export to layout entry (see link) update app manifest for CSS (see link) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1439,add rules to alter resolve/module context depending on context path (#3108),Fixes WEB-43 Closes #3104,add rules to alter resolve/module context depending on context path (#3108),Fixes WEB-43 Closes #3104
1440,Avoid creating a new api node.js pool for every request (#3110),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,Avoid creating a new api node.js pool for every request (#3110),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
1441,use the correct default for tsconfig.json compilerOptions.types (#3107),,use the correct default for tsconfig.json compilerOptions.types (#3107),
1442,add more info to the profiling table (#3062),,add more info to the profiling table (#3062),
1443,Fix server generation of 404 pages (#3103),"Any 404.js page would inject a [...] path into the server generation. The problem comes from the pathname_for_path function, which will extract the extension from that path. In this case, it leads to a basename of [... and an extension of ], breaking the regular_expression_for_path dynamic route parser. Unfortunately, our integration tests timeout when I try to write a basic test case for this, so it's not possible to test at the moment. I've manually verified. Fixes WEB-214",Fix server generation of 404 pages (#3103),"Any 404.js page would inject a [...] path into the server generation. The problem comes from the pathname_for_path function, which will extract the extension from that path. In this case, it leads to a basename of [... and an extension of ], breaking the regular_expression_for_path dynamic route parser. Unfortunately, our integration tests timeout when I try to write a basic test case for this, so it's not possible to test at the moment. I've manually verified. Fixes WEB-214"
1444,fixes the double execution when generated files didn't exist yet (#3093),"There is a race condition between file writes and file reads. Because of the low delay of our watcher, we sometimes see partial files written and start updating the compilation based on that. This adds a queue per file in the filesystem to avoid this kind of self caused partial reads. It also fixes the bugfix which avoids to trigger a Completion when a file write is a revalidation no-op, triggered by the read updating... Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",fixes the double execution when generated files didn't exist yet (#3093),"There is a race condition between file writes and file reads. Because of the low delay of our watcher, we sometimes see partial files written and start updating the compilation based on that. This adds a queue per file in the filesystem to avoid this kind of self caused partial reads. It also fixes the bugfix which avoids to trigger a Completion when a file write is a revalidation no-op, triggered by the read updating... Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1445,Fixed go examples test failure (#3097),,Fixed go examples test failure (#3097),
1446,handle dependencies reported by postcss (#3091),"pass the dependencies reported by postcss to turbo-tasks-fs. We don't have a good mechanism to track dependencies back-timed, so we start watching some as soon we know about the dependencies (after postcss compilation) tailwind reports dependencies as directory + glob, so our globbing need some improvements to handle these globs reported by tailwind. e.g. tailwind will rerun when any file changed from the tailwind config content globs. fixes WEB-356 Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",handle dependencies reported by postcss (#3091),"pass the dependencies reported by postcss to turbo-tasks-fs. We don't have a good mechanism to track dependencies back-timed, so we start watching some as soon we know about the dependencies (after postcss compilation) tailwind reports dependencies as directory + glob, so our globbing need some improvements to handle these globs reported by tailwind. e.g. tailwind will rerun when any file changed from the tailwind config content globs. fixes WEB-356 Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1447,fix build warning (#3095),,fix build warning (#3095),
1448,add progress output to command line (#3061),add counting seconds when something is happening. Only starts to show when compilation takes more than 1s Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,add progress output to command line (#3061),add counting seconds when something is happening. Only starts to show when compilation takes more than 1s Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
1449,Remove by_glob from ImportMap (#3069),I can't remember us ever using it. I think we should remove it until we find a use for it again in the future (if ever).,Remove by_glob from ImportMap (#3069),I can't remember us ever using it. I think we should remove it until we find a use for it again in the future (if ever).
1450,Update Vite benchmarks to use Vite 4 (#3089),,Update Vite benchmarks to use Vite 4 (#3089),
1451,Fixes new URL() during SSR  (#3021),"A follow up to #2944, which incorrectly rewrote the new URL(""…"", import.meta.url) to new URL(""…"", location.origin) during server rendering (which obviously doesn't have a location object). This PR accomplishes 2 things: - Splits dev server address binding from setting up the handler function   - This is necessary so that we can determine the bound server address during devs retry attempts. - Propagates the server address through the ExecutionEnvironment to the UrlAssetReference I chose to pipe the server address through the ExecutionEnvironment instead of the EnvironmentIntention, because I don't fully understand the differences between them. It seems like we want it in the intention for the types of rendering, but a server address is really tied to the node process, so I don't know. Fixes WEB-318",Fixes new URL() during SSR  (#3021),"A follow up to #2944, which incorrectly rewrote the new URL(""…"", import.meta.url) to new URL(""…"", location.origin) during server rendering (which obviously doesn't have a location object). This PR accomplishes 2 things: - Splits dev server address binding from setting up the handler function   - This is necessary so that we can determine the bound server address during devs retry attempts. - Propagates the server address through the ExecutionEnvironment to the UrlAssetReference I chose to pipe the server address through the ExecutionEnvironment instead of the EnvironmentIntention, because I don't fully understand the differences between them. It seems like we want it in the intention for the types of rendering, but a server address is really tied to the node process, so I don't know. Fixes WEB-318"
1452,Disable clippy::too_many_arguments globally (#3084),"Clippy has gone too far, and I don't want to refactor the remaining functions to take less arguments and pass a struct. With an unrelated small fix, this puts us at 0 clippy warnings!",Disable clippy::too_many_arguments globally (#3084),"Clippy has gone too far, and I don't want to refactor the remaining functions to take less arguments and pass a struct. With an unrelated small fix, this puts us at 0 clippy warnings!"
1453,publish 1.7.0-canary.5 to registry (#3086),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.5 to registry (#3086),Co-authored-by: Turbobot turbobot@vercel.com
1454,@next/font/google: scope font names (#3049),"Fixes WEB-341 This incorporates a digest of the font request into the name of the font-family defined in the stylesheet, used in the css class, and returned to the JavaScript importer. This makes font-family names returned from @next/font/google in stylesheets unguessable. Note that this implementation uses 8-character long hex digests compared to the 6-character version in Next.js+webpack. Test Plan: imported Open Sans as a symbol, verified that stylesheet is updated to reference both @font-face definitions and the css class rules with font-family: '__Open_Sans_3b020fa1';. Verified that exported js object style.fontFamily references the same.",@next/font/google: scope font names (#3049),"Fixes WEB-341 This incorporates a digest of the font request into the name of the font-family defined in the stylesheet, used in the css class, and returned to the JavaScript importer. This makes font-family names returned from @next/font/google in stylesheets unguessable. Note that this implementation uses 8-character long hex digests compared to the 6-character version in Next.js+webpack. Test Plan: imported Open Sans as a symbol, verified that stylesheet is updated to reference both @font-face definitions and the css class rules with font-family: '__Open_Sans_3b020fa1';. Verified that exported js object style.fontFamily references the same."
1455,chore(renovate): disable lockfile updates (#3082),,chore(renovate): disable lockfile updates (#3082),
1456,publish 1.7.0-canary.4 to registry (#3081),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.4 to registry (#3081),Co-authored-by: Turbobot turbobot@vercel.com
1457,fix(cli): add alias for cpuprofile (#3078),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,fix(cli): add alias for cpuprofile (#3078),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
1458,fix(shim): Fixed cwd parsing bug (#3079),"If cwd is passed as a single chunk, e.g. --cwd=./path/to/foo, the env::arg iterator provides it as a single arg. We need to parse out the cwd from that arg.",fix(shim): Fixed cwd parsing bug (#3079),"If cwd is passed as a single chunk, e.g. --cwd=./path/to/foo, the env::arg iterator provides it as a single arg. We need to parse out the cwd from that arg."
1459,Fix postcss nitpicks (#3077),"Re: #3065 It also fixes the gnarly stack trace error whenever the node code throws, but it doesn't look very pretty. Not sure how to handle it:",Fix postcss nitpicks (#3077),"Re: #3065 It also fixes the gnarly stack trace error whenever the node code throws, but it doesn't look very pretty. Not sure how to handle it:"
1460,fix(turbo-ignore): correct README help output (#3076),,fix(turbo-ignore): correct README help output (#3076),
1461,fix(codemod): output updates (#3075),,fix(codemod): output updates (#3075),
1462,PostCSS support in next-dev (#3065),"This adds the ability to add Source transforms on assets, which modify the source code of an asset before parsing. This adds postcss via node.js as first source transform. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",PostCSS support in next-dev (#3065),"This adds the ability to add Source transforms on assets, which modify the source code of an asset before parsing. This adds postcss via node.js as first source transform. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1463,Add clap macros for is_next_dev_command (#3073),Seems #2878 removed this accidentally,Add clap macros for is_next_dev_command (#3073),Seems #2878 removed this accidentally
1464,fix(publish): corrupt packages canaries (#3072),Fixes publishing packages that haven't been built.,fix(publish): corrupt packages canaries (#3072),Fixes publishing packages that haven't been built.
1465,set __NEXT_STRICT_MODE (#2878),and __NEXT_STRICT_MODE_APP,set __NEXT_STRICT_MODE (#2878),and __NEXT_STRICT_MODE_APP
1466,fix clippy ci diff (#3066),Needs to be merged to apply properly though,fix clippy ci diff (#3066),Needs to be merged to apply properly though
1467,Fix source map tracing for HMR updates (#3063),"HMR is handled via an eval(newCode), and that eval will inherit the filepath of the currently running file (in our case, the chunk file that contains the runtime code). To properly trace, we need to know both the chunk and the item ids, so we trace via the correct item's source map. Thankfully, we can use the (underspecified) //# sourceUrl  meta comment to name the file we're currently evaluating. That'll get used as the stack frame's file. We can then encode the chunk path and item id into the filename, and let next's stack tracing code handle the rest. This also fixes an off-by-one on the column. Source maps are 0-based, but the line/column of a file as displayed in an editor or dev tools are 1-based.",Fix source map tracing for HMR updates (#3063),"HMR is handled via an eval(newCode), and that eval will inherit the filepath of the currently running file (in our case, the chunk file that contains the runtime code). To properly trace, we need to know both the chunk and the item ids, so we trace via the correct item's source map. Thankfully, we can use the (underspecified) //# sourceUrl  meta comment to name the file we're currently evaluating. That'll get used as the stack frame's file. We can then encode the chunk path and item id into the filename, and let next's stack tracing code handle the rest. This also fixes an off-by-one on the column. Source maps are 0-based, but the line/column of a file as displayed in an editor or dev tools are 1-based."
1468,Allow specifying tasks. (#3002),"turbo-ignore by default specifies build as the task it will run. This makes it possible to specify an alternative task name as the entry point. This enables npx turbo-ignore --task=""workspace#build"", for example.",Allow specifying tasks. (#3002),"turbo-ignore by default specifies build as the task it will run. This makes it possible to specify an alternative task name as the entry point. This enables npx turbo-ignore --task=""workspace#build"", for example."
1469,Fix nitpicks with load-next-config (#3064),Re: code review nits from #2955,Fix nitpicks with load-next-config (#3064),Re: code review nits from #2955
1470,Load next config (#2955),Load next.config.js via turbopack-node Closes WEB-158 Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Load next config (#2955),Load next.config.js via turbopack-node Closes WEB-158 Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1471,Small rope improvements (#3058),"The main improvement is the addition of an uncommitted_static reference, which attempts to prioritize using a static Bytes over an extremely short owned Bytes. When a Bytes references static memory, clones of the Bytes is extremely cheap, but when it's non-static it needs to reference count.",Small rope improvements (#3058),"The main improvement is the addition of an uncommitted_static reference, which attempts to prioritize using a static Bytes over an extremely short owned Bytes. When a Bytes references static memory, clones of the Bytes is extremely cheap, but when it's non-static it needs to reference count."
1472,Remove chunk item source maps from the asset graph (#3059),"In order to serve source maps with HMR updates, we (used to) reference a source map asset for every chunk item using the items version hash (see #2464 and #2474 for the headaches this can cause). This update changes that, so that a chunk becomes responsible for giving access to one of its item's source map. We already have the GenerateSourceMap trait which assembles the chunk's Sectioned source map from all chunk items, so why not just allow access to an individual section? Coupled with a ContentSource that can retrieve the chunk, we can then provide access to that chunk's current item source maps per request.",Remove chunk item source maps from the asset graph (#3059),"In order to serve source maps with HMR updates, we (used to) reference a source map asset for every chunk item using the items version hash (see #2464 and #2474 for the headaches this can cause). This update changes that, so that a chunk becomes responsible for giving access to one of its item's source map. We already have the GenerateSourceMap trait which assembles the chunk's Sectioned source map from all chunk items, so why not just allow access to an individual section? Coupled with a ContentSource that can retrieve the chunk, we can then provide access to that chunk's current item source maps per request."
1473,cargo(build): expose tls for next-binding (#3040),,cargo(build): expose tls for next-binding (#3040),
1474,fix(docs): missing dash in Storybook command. (#3042),,fix(docs): missing dash in Storybook command. (#3042),
1475,publish 1.7.0-canary.3 to registry (#3047),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.3 to registry (#3047),Co-authored-by: Turbobot turbobot@vercel.com
1476,fix(release): add placeholder options (#3046),,fix(release): add placeholder options (#3046),
1477,fix(release): build x86 ubuntu in xenial for GLIBC (#3043),Follow up to https://github.com/vercel/turbo/pull/3039,fix(release): build x86 ubuntu in xenial for GLIBC (#3043),Follow up to link
1478,chore(deps): update dependency postcss to v8.4.20 (#3037)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.19 -> 8.4.20 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  postcss/postcss  ### [`v8.4.20`](https://togithub.com/postcss/postcss/blob/HEAD/CHANGELOG.md#​8420)  [Compare Source](https://togithub.com/postcss/postcss/compare/8.4.19...8.4.20)  -   Fixed source map generation for childless at-rules like `@layer`.    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ]  rebase-check If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC41NC4yIiwidXBkYXRlZEluVmVyIjoiMzQuNTQuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com",chore(deps): update dependency postcss to v8.4.20 (#3037),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.19 -> 8.4.20 | | | | | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes postcss/postcss  module Compare Source  Fixed source map generation for childless at-rules like module.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ]  rebase-check If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here. renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNC41NC4yIiwidXBkYXRlZEluVmVyIjoiMzQuNTQuMiJ9 Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com"
1479,publish 1.7.0-canary.2 to registry (#3044),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.2 to registry (#3044),Co-authored-by: Turbobot turbobot@vercel.com
1480,feat(docs): add release docs for turborepo (#3032),,feat(docs): add release docs for turborepo (#3032),
1481,Fix flakey next-dev integration tests (#3020),"Fixes WEB-259 This should address the known cases of flakiness in the next-dev integration test suite. Most notably, it wraps the call to browser.new_page, which not only opens a new tab, it also navigates to the destination and waits for it to load. It also:  Migrates test code to anyhow::Result, and adds context to the new_page call should it fail again. Mitigates flakiness resulting from browser-side Jest timeouts by moving the circular correctness test to a new directory called __flakey__. These tests aren't run at all -- unfortunatley it's not possible to customize Jest's timeout with this particular version of jest-circus-browser. WEB-319 tracks updating this dependency, which hasn't been maintained in a while, unlike jest-circus itself.  Test Plan: * [x] Run the Rust test suite in CI until confident there are no intermittent failures.",Fix flakey next-dev integration tests (#3020),"Fixes WEB-259 This should address the known cases of flakiness in the next-dev integration test suite. Most notably, it wraps the call to browser.new_page, which not only opens a new tab, it also navigates to the destination and waits for it to load. It also: Migrates test code to anyhow::Result, and adds context to the new_page call should it fail again. Mitigates flakiness resulting from browser-side Jest timeouts by moving the circular correctness test to a new directory called flakey. These tests aren't run at all -- unfortunatley it's not possible to customize Jest's timeout with this particular version of jest-circus-browser. WEB-319 tracks updating this dependency, which hasn't been maintained in a while, unlike jest-circus itself. Test Plan: * [x] Run the Rust test suite in CI until confident there are no intermittent failures."
1482,fix(release): build ubuntu in xenial for GLIBC (#3039),,fix(release): build ubuntu in xenial for GLIBC (#3039),
1483,publish 1.7.0-canary.1 to registry (#3033),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.1 to registry (#3033),Co-authored-by: Turbobot turbobot@vercel.com
1484,fix: normalize current directory to non-UNC path on Windows (#3031),"The Windows kernel normalizes paths by converting them to UNC, but silly things like starting a process with a working directory given as a UNC path don't work on Windows: '\\?\C:\Users\Chris\Documents\code\junk\yarn-test' CMD.EXE was started with the above path as the current directory. UNC paths are not supported.  Defaulting to Windows directory. This PR uses dunce when normalizing paths on windows so we produce non-UNC paths which are better supported by the Windows ecosystem.",fix: normalize current directory to non-UNC path on Windows (#3031),"The Windows kernel normalizes paths by converting them to UNC, but silly things like starting a process with a working directory given as a UNC path don't work on Windows: '\?\C:\Users\Chris\Documents\code\junk\yarn-test' CMD.EXE was started with the above path as the current directory. UNC paths are not supported.  Defaulting to Windows directory. This PR uses dunce when normalizing paths on windows so we produce non-UNC paths which are better supported by the Windows ecosystem."
1485,Removed check for binary as it doesn't do anything (#3030),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Removed check for binary as it doesn't do anything (#3030),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1486,feat(turbo-updater): notifications per channel (#3028),"We can overload name because update-informer allows name in an owner/name format and then splits the name but includes the owner in the cached file. So we can do something like canary/turbo, latest/turbo etc. We should still send a fix upstream to support this more formally. But this should work for now. Updated version of https://github.com/vercel/turbo/pull/3017",feat(turbo-updater): notifications per channel (#3028),"We can overload name because update-informer allows name in an owner/name format and then splits the name but includes the owner in the cached file. So we can do something like canary/turbo, latest/turbo etc. We should still send a fix upstream to support this more formally. But this should work for now. Updated version of link"
1487,feat(mdx): initial turbopack-mdx asset (#2979),"Implements / fix WEB-86. This PR is an initial attempt to support mdx natively inside of turbopack. It uses mdxrs (https://github.com/wooorm/mdxjs-rs) internally to interop - compile - mdx inputs into renderable ecma outputs. PR creates a new type of asset MDXAsset, and then let its extension (.mdx) can be consumed by turbopack. Since mdx is a variant of ecma asset to be rendered, it requires to perform all of the ecma transforms in the current running turbopack session. But since its AST is not compatible to plain swc (or ecma), it also cannot be passed into existing ecmaassets. MDXAsset does interop for those, by creating a virtualasset for the ecma once mdx is compiled into plain ecma. This might not be feasible appoarch and requires different way to chain asset types, something I'd like to address in this PR. I guess this will be needed for other types of assets in a long run - where input is not an ecma but requires ecma transforms (i.e vue, ng templates).",feat(mdx): initial turbopack-mdx asset (#2979),"Implements / fix WEB-86. This PR is an initial attempt to support mdx natively inside of turbopack. It uses mdxrs (link) internally to interop - compile - mdx inputs into renderable ecma outputs. PR creates a new type of asset MDXAsset, and then let its extension (.mdx) can be consumed by turbopack. Since mdx is a variant of ecma asset to be rendered, it requires to perform all of the ecma transforms in the current running turbopack session. But since its AST is not compatible to plain swc (or ecma), it also cannot be passed into existing ecmaassets. MDXAsset does interop for those, by creating a virtualasset for the ecma once mdx is compiled into plain ecma. This might not be feasible appoarch and requires different way to chain asset types, something I'd like to address in this PR. I guess this will be needed for other types of assets in a long run - where input is not an ecma but requires ecma transforms (i.e vue, ng templates)."
1488,feat(docs): update comparison titles (#3029),,feat(docs): update comparison titles (#3029),
1489,feat(docs): update benchmark numbers (#2756),Co-authored-by: Maia Teegarden dev@padmaia.rocks,feat(docs): update benchmark numbers (#2756),Co-authored-by: Maia Teegarden dev@padmaia.rocks
1490,fix(turbo): infinite recursion bug (#3019),,fix(turbo): infinite recursion bug (#3019),
1491,fix: use --skip-infer during install (#3023),I think this should fix the install errors with the current canary since the repo inference is having trouble when being run inside of node_modules/turbo. This should be valid for all installs going forward as we now support --skip-infer. Any previous versions that don't support it will use the old install script. Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix: use --skip-infer during install (#3023),I think this should fix the install errors with the current canary since the repo inference is having trouble when being run inside of node_modules/turbo. This should be valid for all installs going forward as we now support --skip-infer. Any previous versions that don't support it will use the old install script. Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1492,fix: invalid json in integration test (#3024),"I committed some invalid JSON in #3011 as the node linter doesn't run on json changes. I'll put up another PR fixing that, but I just wanted to get this out since it's making all PR's that change JS red.",fix: invalid json in integration test (#3024),"I committed some invalid JSON in #3011 as the node linter doesn't run on json changes. I'll put up another PR fixing that, but I just wanted to get this out since it's making all PR's that change JS red."
1493,fix: add support for --skip-infer (#3022),"Somehow we didn't support parsing --skip-infer, the shim parser would allow it, but the actual parser didn't.",fix: add support for --skip-infer (#3022),"Somehow we didn't support parsing --skip-infer, the shim parser would allow it, but the actual parser didn't."
1494,publish 1.7.0-canary.0 to registry (#3027),FYI the (turbo) canary has some issues with install. Co-authored-by: Turbobot turbobot@vercel.com,publish 1.7.0-canary.0 to registry (#3027),FYI the (turbo) canary has some issues with install. Co-authored-by: Turbobot turbobot@vercel.com
1495,build(next/core): allow to specify tls backend for reqwest (#2994),"Implement / fixes WEB-306. We can't rely on default tls backend for reqwest and hope to work with every target platform we support, due to several constraints. Some target cannot use -sys (openssl-sys), and some can't build rustls due to trasnsitive dep support issue. PR creates explicit opt-in features for those and let upstream application can specify what they need. next-dev currently sets native-tls as default for the general dev workflow conveniences, but that doesn't mean we promote it as default feature set - next-swc, or other like standalone turbopack will configure features by themselves when build binaries for their own.",build(next/core): allow to specify tls backend for reqwest (#2994),"Implement / fixes WEB-306. We can't rely on default tls backend for reqwest and hope to work with every target platform we support, due to several constraints. Some target cannot use -sys (openssl-sys), and some can't build rustls due to trasnsitive dep support issue. PR creates explicit opt-in features for those and let upstream application can specify what they need. next-dev currently sets native-tls as default for the general dev workflow conveniences, but that doesn't mean we promote it as default feature set - next-swc, or other like standalone turbopack will configure features by themselves when build binaries for their own."
1496,Add support for new URL (#2944),"Implements new URL('./path', import.meta.url), so that the referenced file acts as a static output file, and transforms the URL into to point to that file in the graph. This is, well, complicated. As you'll see in the comments, we have an ""inert"" asset that acts as a placeholder until the module chunking algorithm gives us access to a ChunkingContextVc. It's unfortunately not available when we're doing the file parsing, but we can insert a reference to that inert asset. That inert asset will eventually create a UrlAssetChunk instance, and with that we can finally generate the correct output path for the URL referenced file. We actually discussed whether this could use a StaticAsset/StaticModuleAsset (a StaticAsset can be inserted at parse time), but it turns out that won't give us the necessary control to generate the final URL instance. A StaticModuleAsset always outputs an absolute path as it's default export, and that just won't work when we're trying to reference the file in node SSR. Fixes WEB-142. Pending WEB-279 for full node SSR support. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Add support for new URL (#2944),"Implements new URL('./path', import.meta.url), so that the referenced file acts as a static output file, and transforms the URL into to point to that file in the graph. This is, well, complicated. As you'll see in the comments, we have an ""inert"" asset that acts as a placeholder until the module chunking algorithm gives us access to a ChunkingContextVc. It's unfortunately not available when we're doing the file parsing, but we can insert a reference to that inert asset. That inert asset will eventually create a UrlAssetChunk instance, and with that we can finally generate the correct output path for the URL referenced file. We actually discussed whether this could use a StaticAsset/StaticModuleAsset (a StaticAsset can be inserted at parse time), but it turns out that won't give us the necessary control to generate the final URL instance. A StaticModuleAsset always outputs an absolute path as it's default export, and that just won't work when we're trying to reference the file in node SSR. Fixes WEB-142. Pending WEB-279 for full node SSR support. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
1497,build(cargo): bump up swc_core* (#3012),"Implement / fixes WEB-308 Bumps up all of swc_core* transitive deps, and update test fixtures with latest updates.",build(cargo): bump up swc_core (#3012),"Implement / fixes WEB-308 Bumps up all of swc_core transitive deps, and update test fixtures with latest updates."
1498,fix: expand semver for skip infer flag (#3018),We're currently too restrictive with the semver as >=1.7.0 doesn't include canaries of 1.7.0. This relaxes that constraint and adds tests to make sure it's correct now.,fix: expand semver for skip infer flag (#3018),We're currently too restrictive with the semver as >=1.7.0 doesn't include canaries of 1.7.0. This relaxes that constraint and adds tests to make sure it's correct now.
1499,style(turbopack): clippy --fix (#3014),Easy clippy improvements via clippy --fix.,style(turbopack): clippy --fix (#3014),Easy clippy improvements via clippy --fix.
1500,typo: cargo-nexttest -> cargo-nextest (#3008),,typo: cargo-nexttest -> cargo-nextest (#3008),
1501,chore: global turbo tests (#3011),Some quick integration tests to check on the shim logic,chore: global turbo tests (#3011),Some quick integration tests to check on the shim logic
1502,fix(renovate): correct glob (#3006),,fix(renovate): correct glob (#3006),
1503,feat(turbo-updater): allow more disable cases (#3010),,feat(turbo-updater): allow more disable cases (#3010),
1504,feat(shim): extend json args (#3009),,feat(shim): extend json args (#3009),
1505,fix(format): fix prettier on main (#3007),,fix(format): fix prettier on main (#3007),
1506,fix: unable to set verbosity via number (#2993),"Previously users were able to set the verbosity via count (-vvv) or by providing a value (--verbosity=3), this PR gives users the ability to do the latter. We achieve this by creating our own Verbosity struct that when serialized will be converted to a u8 allowing us to not change the Go code. I did remove -v... from the help text as it rendered in a confusing way. Note: This doesn't completely match the old behavior as we allowed for funky stuff like -v --verbosity=0 --verbosity=3 --verbosity. (Any guesses what the verbosity level was set to?)",fix: unable to set verbosity via number (#2993),"Previously users were able to set the verbosity via count (-vvv) or by providing a value (--verbosity=3), this PR gives users the ability to do the latter. We achieve this by creating our own Verbosity struct that when serialized will be converted to a u8 allowing us to not change the Go code. I did remove -v... from the help text as it rendered in a confusing way. Note: This doesn't completely match the old behavior as we allowed for funky stuff like -v --verbosity=0 --verbosity=3 --verbosity. (Any guesses what the verbosity level was set to?)"
1507,chore(repo): update codeowners (#3000),Set overrides in CODEOWNERS for the crates that turborepo owns,chore(repo): update codeowners (#3000),Set overrides in CODEOWNERS for the crates that turborepo owns
1508,Update release process to support current app layout. (#2975), Moves the constructed artifacts into place Enables ld.exe to find the library,Update release process to support current app layout. (#2975),Moves the constructed artifacts into place Enables ld.exe to find the library
1509,fix(notifier): disable for json args (#2998),,fix(notifier): disable for json args (#2998),
1510,feature(turbo-shim): Add message to inform users that we are running local turbo (#2990),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,feature(turbo-shim): Add message to inform users that we are running local turbo (#2990),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1511,feat(turbo): support disabling update notifier (#2997),Support disabling update notifier via NO_UPDATE_NOTIFIER env var,feat(turbo): support disabling update notifier (#2997),Support disabling update notifier via NO_UPDATE_NOTIFIER env var
1512,chore(turborepo): drop deprecated run flags (#2992),Drop deprecated flags that are no longer respected. If a user passes these to a 1.7 binary it will now error instead of silently throwing away the values. These flags no longer appear in run command misuse text as the snapshot shows.,chore(turborepo): drop deprecated run flags (#2992),Drop deprecated flags that are no longer respected. If a user passes these to a 1.7 binary it will now error instead of silently throwing away the values. These flags no longer appear in run command misuse text as the snapshot shows.
1513,Match existing turborepo error exit codes (#2991),"  Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing   Adjusted json serialization. Now debugging   Hooked up new CLI to commands   Fixing compile error   fixing lint error   Fixing more Go lint errors   Fixing lint errors   fixing up tests   Only using turbo state with link, login, and logout commands   Reverting changes   Removing more changes   Deleting code and fixing lints   Removed unlink command   Fixing bugs   Reverting more changes   fixed all tests   Refactored away duplicates using CLIConfigProvider interface   Lint fixes   Minor order tweak   Added error if command is not handled   PR feedback   Minor fixes. Adding --__test-run flag   Added workaround for subcommand help   Moved logic around to accomodate login/logout/link/unlink   Added some documentation, removed some printf   Adding more tests.   Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it.   Split up derive into multiple lines   Added comment explaining clap v3 in Cargo.toml   Ported daemon   Cleaning up code. Removed imports   Fix lints   Fixing lints   Ported prune to Rust CLI   Going all the way. Porting run to Rust CLI and upgrading back to clap v4   Always gotta be testing   Always be testing. Always. Be. Testing.   Added tests for each singular flag. Now for combination tests   WIP: Hooking up Rust CLI to Go run logic   Disable color   Removed root inference from Go side   Fixing compile errors   Update cli/cmd/turbo/main.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Patching up code for run   PR changes   Restored labeler   Restore og.tsx   Reverted run changes that somehow made it in here   Fix run   Update cli/internal/turbostate/turbostate.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com  feat: polyfill global with globalThis (#2666)  This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions.   delete IsYarn util (#2668)   feat(docs): new authors & consistent filesnames (#2680)   Added caveat to environment variables docs (#2703)   Co-authored-by: Thomas Knickman tom.knickman@vercel.com   Fix publish workflow (#2681)   change from yarn to pnpm (#2686)   Co-authored-by: Justin Ridgewell justin@ridgewell.name   Reverted workflow changes   Fixing tests. Added run args to base   Trying to fix tests   Rewrote some logic around run args handling   Fixing up tests by adding flags and fixing parsing bugs   Hooked up RepoState to Go code   Fixing e2e tests   Fixing e2e   Gotta build shim, not turbo in package.json   Patched integration test   Reverted Cargo.toml   Cargo.lock too   Fixing tests   Moving turbo binary to shim   Fixed tests and CI   Check for TURBO_BINARY_PATH   Ported shell completions to Rust   Fixed logic issue with TURBO_BINARY_PATH   Created .gitignore file with generated rust and header files   Second try on cleaning up generated files   More CI fixes   Realized we still need some inference   Removed files that are edited by run-examples.sh   Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check.   Cleaning up changes.   Fix one thing break another   Accept integration changes   Deleting more unused code   Test fixes   No longer need this line now that src/ffi.rs is gitignored   PR feedback   Update cli/internal/run/run.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Fixing typo   Merged main   PR feedback   PR feedback   Merge main   Reverted workflow change   Error on invalid unicode instead of lossy conversion   PR feedback   Squashed commit of the following:   commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921)  [Authdog](https://www.authdog.com/)  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff!  commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895)  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)  * resolve codegenerateable before calling it  * eagerly resolve some constructors to avoid creating many wrapper tasks  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923)  Move bound task function into TaskState to allow unloading  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872)  commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  * use Cow to avoid creating Strings for trait function names * trait calls avoid the resolve trait wrapper task when called on a resolved VC * eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416  commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833)  VecDeque::new always allocates 7 elements  commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906)  This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry.  commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873)  Reduces memory usage by 14%  commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918)  For example:  ```js // index.js setTimeout(() => {   import('./async.js').then(() => console.log('async.js loaded')) }, 1000) ```  ```js // async.js import './async.css'; console.log('async.js content') ```  For now the graph generated by above code will be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""https://user-images.githubusercontent.com/42857895/205442932-ebfd5126-ef3d-4205-b5b5-434126ad46f7.png"">  The `ChunkGroup_async` will be a async chunk group of `ChunkGroup_index`, pushed at [turbopack-core/src/chunk/mod.rs#L462](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-core/src/chunk/mod.rs#L462), and it will have a reference between `ChunkGroup_index` and `ChunkGroup_async`, but `ChunkGroup_async` will also be a chunk group of `ChunkGroup_async-manifest-chunk` created at [turbopack-ecmascript/src/chunk/loader.rs#L165](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-ecmascript/src/chunk/loader.rs#L165), and will have a reference between `ChunkGroup_async-manifest-chunk` and `ChunkGroup_async`.  This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in `ChunkGroup_index` ('/_a8a837.js'), `ChunkGroup_async-manifest-chunk` ('/src_async.js_manifest-chunk.js'), and also chunks in `ChunkGroup_async` ('/src_async.js', '/src_async.css'), because of the reference between `ChunkGroup_index` and `ChunkGroup_async`.  But the expected behavior is only compile chunks in `ChunkGroup_index` and `ChunkGroup_async-manifest-chunk`, so this PR deleted the reference between `ChunkGroup_index` and `ChunkGroup_async`, makes the graph be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""https://user-images.githubusercontent.com/42857895/205444165-7b266dce-9aa6-4829-b8dc-d2bf74642aff.png"">  And makes chunks in `ChunkGroup_async` to be compiled only when the browser request '/src_async.js_manifest-chunk.js'.  commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com> Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>  commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916)  updating in hope that this fixes the random errors in test runs  commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915)  [![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)  This PR contains the following updates:  | Package | Type | Update | Change | |---|---|---|---| | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dev-dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.24` -> `0.3.25` |  ---  ### ⚠ Dependency Lookup Warnings ⚠  Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  ---  ### Release Notes  <details> <summary>rust-lang/futures-rs</summary>  ### [`v0.3.25`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0325---2022-10-20)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.24...0.3.25)  -   Fix soundness issue in `join!` and `try_join!` macros ([#&#8203;2649](https://togithub.com/rust-lang/futures-rs/issues/2649)) -   Implement `Clone` for `sink::Drain` ([#&#8203;2650](https://togithub.com/rust-lang/futures-rs/issues/2650))  ### [`v0.3.24`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0324---2022-08-29)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.23...0.3.24)  -   Fix incorrect termination of `select_with_strategy` streams ([#&#8203;2635](https://togithub.com/rust-lang/futures-rs/issues/2635))  ### [`v0.3.23`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0323---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.22...0.3.23)  -   Work around MSRV increase due to a cargo bug.  ### [`v0.3.22`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0322---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.21...0.3.22)  -   Fix `Sync` impl of `BiLockGuard` ([#&#8203;2570](https://togithub.com/rust-lang/futures-rs/issues/2570)) -   Fix partial iteration in `FuturesUnordered` ([#&#8203;2574](https://togithub.com/rust-lang/futures-rs/issues/2574)) -   Fix false detection of inner panics in `Shared` ([#&#8203;2576](https://togithub.com/rust-lang/futures-rs/issues/2576)) -   Add `Mutex::lock_owned` and `Mutex::try_lock_owned` ([#&#8203;2571](https://togithub.com/rust-lang/futures-rs/issues/2571)) -   Add `io::copy_buf_abortable` ([#&#8203;2507](https://togithub.com/rust-lang/futures-rs/issues/2507)) -   Remove `Unpin` bound from `TryStreamExt::into_async_read` ([#&#8203;2599](https://togithub.com/rust-lang/futures-rs/issues/2599)) -   Make `run_until_stalled` handle self-waking futures ([#&#8203;2593](https://togithub.com/rust-lang/futures-rs/issues/2593)) -   Use `FuturesOrdered` in `try_join_all` ([#&#8203;2556](https://togithub.com/rust-lang/futures-rs/issues/2556)) -   Fix orderings in `LocalPool` waker ([#&#8203;2608](https://togithub.com/rust-lang/futures-rs/issues/2608)) -   Fix `stream::Chunk` adapters size hints ([#&#8203;2611](https://togithub.com/rust-lang/futures-rs/issues/2611)) -   Add `push_front` and `push_back` to `FuturesOrdered` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Deprecate `FuturesOrdered::push` in favor of `FuturesOrdered::push_back` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Performance improvements ([#&#8203;2583](https://togithub.com/rust-lang/futures-rs/issues/2583), [#&#8203;2626](https://togithub.com/rust-lang/futures-rs/issues/2626)) -   Documentation improvements ([#&#8203;2579](https://togithub.com/rust-lang/futures-rs/issues/2579), [#&#8203;2604](https://togithub.com/rust-lang/futures-rs/issues/2604), [#&#8203;2613](https://togithub.com/rust-lang/futures-rs/issues/2613))  </details>  ---  ### Configuration  📅 **Schedule**: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).  🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.  ♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.  🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.  ---   - [ ] If you want to rebase/retry this PR, check this box  ---  This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/vercel/turbo).  commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  * Docs for topology outside of a task  Documentation for behavior in #2855!  * Minor cleanup.  * Some copy updates and add image.  Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913)  commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912)  commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)  * build(cargo): bump up swc_core  * build(cargo): unpin indexmap  * build(cargo): update dependencies  * style(cargo): adjust format  commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886)  commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884)  commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707)  This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear.  Changes are easy to review commit-by-commit.  commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904)  Before #2859: `eslint --quiet --fix`  After #2859: `pnpm run lint --quiet --fix --` => `eslint . --ext js,jsx,ts,tsx --quiet --fix --`  After this: `eslint --ext js,jsx,ts,tsx --quiet --fix --`  Removes the sneaky `.`.  commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778)  This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent.  commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify `next-binding` (#2899)  commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816)  I chose to have the `import.meta.url` to have the relative project path on disk.  Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path.  I'm splitting this from the in-progress PR to implement `new URL(…, import.meta.url)` support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship.  Fixes WEB-137.  commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897)    Merged main   Reverting changes that snuck in   Fixing tests   Final fixes for tests   Moving shim to crates/turborepo   More refactoring   First pass at splitting up shim and cli   Fixing tests   Added detection for help flag so users can get help outside of a valid repo   Update crates/turborepo-lib/src/shim.rs   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com  Update crates/turborepo/Cargo.toml  Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   PR feedback and test fixing   Set process's cwd   Have to do inference even with TURBO_BINARY_PATH   Comments   PR feedback   Moved single_package back to RunArgs   Removed print   Fixing bugs   Fixing rust tests   fixing bug with verbosity and Go tests   add local turbo version checking   remove ffi inclusion   Fixed integration tests   Linting fixes   Integrated local_turbo_supports_skip_shim   Fixed bug with cwd and restored yarn.lock   Okay back to setting current_dir   Fixed bug with canonicalization   Removed print starting   match existing turbo exit codes   pr feedback   Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Nicholas Yang nick@nicholasyang.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name",Match existing turborepo error exit codes (#2991),"Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing Adjusted json serialization. Now debugging Hooked up new CLI to commands Fixing compile error fixing lint error Fixing more Go lint errors Fixing lint errors fixing up tests Only using turbo state with link, login, and logout commands Reverting changes Removing more changes Deleting code and fixing lints Removed unlink command Fixing bugs Reverting more changes fixed all tests Refactored away duplicates using CLIConfigProvider interface Lint fixes Minor order tweak Added error if command is not handled PR feedback Minor fixes. Adding --__test-run flag Added workaround for subcommand help Moved logic around to accomodate login/logout/link/unlink Added some documentation, removed some printf Adding more tests. Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it. Split up derive into multiple lines Added comment explaining clap v3 in Cargo.toml Ported daemon Cleaning up code. Removed imports Fix lints Fixing lints Ported prune to Rust CLI Going all the way. Porting run to Rust CLI and upgrading back to clap v4 Always gotta be testing Always be testing. Always. Be. Testing. Added tests for each singular flag. Now for combination tests WIP: Hooking up Rust CLI to Go run logic Disable color Removed root inference from Go side Fixing compile errors Update cli/cmd/turbo/main.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Patching up code for run PR changes Restored labeler Restore og.tsx Reverted run changes that somehow made it in here Fix run Update cli/internal/turbostate/turbostate.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com feat: polyfill global with globalThis (#2666) This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions. delete IsYarn util (#2668) feat(docs): new authors & consistent filesnames (#2680) Added caveat to environment variables docs (#2703) Co-authored-by: Thomas Knickman tom.knickman@vercel.com Fix publish workflow (#2681) change from yarn to pnpm (#2686) Co-authored-by: Justin Ridgewell justin@ridgewell.name Reverted workflow changes Fixing tests. Added run args to base Trying to fix tests Rewrote some logic around run args handling Fixing up tests by adding flags and fixing parsing bugs Hooked up RepoState to Go code Fixing e2e tests Fixing e2e Gotta build shim, not turbo in package.json Patched integration test Reverted Cargo.toml Cargo.lock too Fixing tests Moving turbo binary to shim Fixed tests and CI Check for TURBO_BINARY_PATH Ported shell completions to Rust Fixed logic issue with TURBO_BINARY_PATH Created .gitignore file with generated rust and header files Second try on cleaning up generated files More CI fixes Realized we still need some inference Removed files that are edited by run-examples.sh Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check. Cleaning up changes. Fix one thing break another Accept integration changes Deleting more unused code Test fixes No longer need this line now that src/ffi.rs is gitignored PR feedback Update cli/internal/run/run.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Fixing typo Merged main PR feedback PR feedback Merge main Reverted workflow change Error on invalid unicode instead of lossy conversion PR feedback Squashed commit of the following: commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921) Authdog  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff! commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)   resolve codegenerateable before calling it   eagerly resolve some constructors to avoid creating many wrapper tasks   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923) Move bound task function into TaskState to allow unloading Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872) commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  use Cow to avoid creating Strings for trait function names trait calls avoid the resolve trait wrapper task when called on a resolved VC eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416 commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833) VecDeque::new always allocates 7 elements commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906) This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry. commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873) Reduces memory usage by 14% commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918) For example: module module For now the graph generated by above code will be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""link The module will be a async chunk group of module, pushed at turbopack-core/src/chunk/mod.rs#L462, and it will have a reference between module and module, but module will also be a chunk group of module created at turbopack-ecmascript/src/chunk/loader.rs#L165, and will have a reference between module and module. This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in module ('/_a8a837.js'), module ('/src_async.js_manifest-chunk.js'), and also chunks in module ('/src_async.js', '/src_async.css'), because of the reference between module and module. But the expected behavior is only compile chunks in module and module, so this PR deleted the reference between module and module, makes the graph be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""link And makes chunks in module to be compiled only when the browser request '/src_async.js_manifest-chunk.js'. commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916) updating in hope that this fixes the random errors in test runs commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915) [ This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | futures (source) | dev-dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  rust-lang/futures-rs module Compare Source  Fix soundness issue in module and module macros (#​2649) Implement module for module (#​2650)  module Compare Source  Fix incorrect termination of module streams (#​2635)  module Compare Source  Work around MSRV increase due to a cargo bug.  module Compare Source  Fix module impl of module (#​2570) Fix partial iteration in module (#​2574) Fix false detection of inner panics in module (#​2576) Add module and module (#​2571) Add module (#​2507) Remove module bound from module (#​2599) Make module handle self-waking futures (#​2593) Use module in module (#​2556) Fix orderings in module waker (#​2608) Fix module adapters size hints (#​2611) Add module and module to module (#​2591) Deprecate module in favor of module (#​2591) Performance improvements (#​2583, #​2626) Documentation improvements (#​2579, #​2604, #​2613)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  Docs for topology outside of a task  Documentation for behavior in #2855!   Minor cleanup.   Some copy updates and add image.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913) commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912) commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)   build(cargo): bump up swc_core   build(cargo): unpin indexmap   build(cargo): update dependencies   style(cargo): adjust format   commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886) commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884) commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707) This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear. Changes are easy to review commit-by-commit. commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904) Before #2859: module After #2859: module => module After this: module Removes the sneaky module. commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778) This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent. commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify module (#2899) commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816) I chose to have the module to have the relative project path on disk. Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path. I'm splitting this from the in-progress PR to implement module support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship. Fixes WEB-137. commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897) Merged main Reverting changes that snuck in Fixing tests Final fixes for tests Moving shim to crates/turborepo More refactoring First pass at splitting up shim and cli Fixing tests Added detection for help flag so users can get help outside of a valid repo Update crates/turborepo-lib/src/shim.rs Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Update crates/turborepo/Cargo.toml Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com PR feedback and test fixing Set process's cwd Have to do inference even with TURBO_BINARY_PATH Comments PR feedback Moved single_package back to RunArgs Removed print Fixing bugs Fixing rust tests fixing bug with verbosity and Go tests add local turbo version checking remove ffi inclusion Fixed integration tests Linting fixes Integrated local_turbo_supports_skip_shim Fixed bug with cwd and restored yarn.lock Okay back to setting current_dir Fixed bug with canonicalization Removed print starting match existing turbo exit codes pr feedback Co-authored-by: Nicholas Yang nicholas.yang@vercel.com Co-authored-by: Nicholas Yang nick@nicholasyang.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1514,fix(daemon): make status harmless. (#2987),,fix(daemon): make status harmless. (#2987),
1515,feat(rust-port): Split up shim and cli (#2970),"  Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing   Adjusted json serialization. Now debugging   Hooked up new CLI to commands   Fixing compile error   fixing lint error   Fixing more Go lint errors   Fixing lint errors   fixing up tests   Only using turbo state with link, login, and logout commands   Reverting changes   Removing more changes   Deleting code and fixing lints   Removed unlink command   Fixing bugs   Reverting more changes   fixed all tests   Refactored away duplicates using CLIConfigProvider interface   Lint fixes   Minor order tweak   Added error if command is not handled   PR feedback   Minor fixes. Adding --__test-run flag   Added workaround for subcommand help   Moved logic around to accomodate login/logout/link/unlink   Added some documentation, removed some printf   Adding more tests.   Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it.   Split up derive into multiple lines   Added comment explaining clap v3 in Cargo.toml   Ported daemon   Cleaning up code. Removed imports   Fix lints   Fixing lints   Ported prune to Rust CLI   Going all the way. Porting run to Rust CLI and upgrading back to clap v4   Always gotta be testing   Always be testing. Always. Be. Testing.   Added tests for each singular flag. Now for combination tests   WIP: Hooking up Rust CLI to Go run logic   Disable color   Removed root inference from Go side   Fixing compile errors   Update cli/cmd/turbo/main.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Patching up code for run   PR changes   Restored labeler   Restore og.tsx   Reverted run changes that somehow made it in here   Fix run   Update cli/internal/turbostate/turbostate.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com  feat: polyfill global with globalThis (#2666)  This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions.   delete IsYarn util (#2668)   feat(docs): new authors & consistent filesnames (#2680)   Added caveat to environment variables docs (#2703)   Co-authored-by: Thomas Knickman tom.knickman@vercel.com   Fix publish workflow (#2681)   change from yarn to pnpm (#2686)   Co-authored-by: Justin Ridgewell justin@ridgewell.name   Reverted workflow changes   Fixing tests. Added run args to base   Trying to fix tests   Rewrote some logic around run args handling   Fixing up tests by adding flags and fixing parsing bugs   Hooked up RepoState to Go code   Fixing e2e tests   Fixing e2e   Gotta build shim, not turbo in package.json   Patched integration test   Reverted Cargo.toml   Cargo.lock too   Fixing tests   Moving turbo binary to shim   Fixed tests and CI   Check for TURBO_BINARY_PATH   Ported shell completions to Rust   Fixed logic issue with TURBO_BINARY_PATH   Created .gitignore file with generated rust and header files   Second try on cleaning up generated files   More CI fixes   Realized we still need some inference   Removed files that are edited by run-examples.sh   Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check.   Cleaning up changes.   Fix one thing break another   Accept integration changes   Deleting more unused code   Test fixes   No longer need this line now that src/ffi.rs is gitignored   PR feedback   Update cli/internal/run/run.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Fixing typo   Merged main   PR feedback   PR feedback   Merge main   Reverted workflow change   Error on invalid unicode instead of lossy conversion   PR feedback   Squashed commit of the following:   commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921)  [Authdog](https://www.authdog.com/)  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff!  commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895)  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)  * resolve codegenerateable before calling it  * eagerly resolve some constructors to avoid creating many wrapper tasks  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923)  Move bound task function into TaskState to allow unloading  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872)  commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  * use Cow to avoid creating Strings for trait function names * trait calls avoid the resolve trait wrapper task when called on a resolved VC * eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416  commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833)  VecDeque::new always allocates 7 elements  commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906)  This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry.  commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873)  Reduces memory usage by 14%  commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918)  For example:  ```js // index.js setTimeout(() => {   import('./async.js').then(() => console.log('async.js loaded')) }, 1000) ```  ```js // async.js import './async.css'; console.log('async.js content') ```  For now the graph generated by above code will be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""https://user-images.githubusercontent.com/42857895/205442932-ebfd5126-ef3d-4205-b5b5-434126ad46f7.png"">  The `ChunkGroup_async` will be a async chunk group of `ChunkGroup_index`, pushed at [turbopack-core/src/chunk/mod.rs#L462](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-core/src/chunk/mod.rs#L462), and it will have a reference between `ChunkGroup_index` and `ChunkGroup_async`, but `ChunkGroup_async` will also be a chunk group of `ChunkGroup_async-manifest-chunk` created at [turbopack-ecmascript/src/chunk/loader.rs#L165](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-ecmascript/src/chunk/loader.rs#L165), and will have a reference between `ChunkGroup_async-manifest-chunk` and `ChunkGroup_async`.  This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in `ChunkGroup_index` ('/_a8a837.js'), `ChunkGroup_async-manifest-chunk` ('/src_async.js_manifest-chunk.js'), and also chunks in `ChunkGroup_async` ('/src_async.js', '/src_async.css'), because of the reference between `ChunkGroup_index` and `ChunkGroup_async`.  But the expected behavior is only compile chunks in `ChunkGroup_index` and `ChunkGroup_async-manifest-chunk`, so this PR deleted the reference between `ChunkGroup_index` and `ChunkGroup_async`, makes the graph be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""https://user-images.githubusercontent.com/42857895/205444165-7b266dce-9aa6-4829-b8dc-d2bf74642aff.png"">  And makes chunks in `ChunkGroup_async` to be compiled only when the browser request '/src_async.js_manifest-chunk.js'.  commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com> Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>  commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916)  updating in hope that this fixes the random errors in test runs  commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915)  [![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)  This PR contains the following updates:  | Package | Type | Update | Change | |---|---|---|---| | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dev-dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.24` -> `0.3.25` |  ---  ### ⚠ Dependency Lookup Warnings ⚠  Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  ---  ### Release Notes  <details> <summary>rust-lang/futures-rs</summary>  ### [`v0.3.25`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0325---2022-10-20)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.24...0.3.25)  -   Fix soundness issue in `join!` and `try_join!` macros ([#&#8203;2649](https://togithub.com/rust-lang/futures-rs/issues/2649)) -   Implement `Clone` for `sink::Drain` ([#&#8203;2650](https://togithub.com/rust-lang/futures-rs/issues/2650))  ### [`v0.3.24`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0324---2022-08-29)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.23...0.3.24)  -   Fix incorrect termination of `select_with_strategy` streams ([#&#8203;2635](https://togithub.com/rust-lang/futures-rs/issues/2635))  ### [`v0.3.23`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0323---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.22...0.3.23)  -   Work around MSRV increase due to a cargo bug.  ### [`v0.3.22`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0322---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.21...0.3.22)  -   Fix `Sync` impl of `BiLockGuard` ([#&#8203;2570](https://togithub.com/rust-lang/futures-rs/issues/2570)) -   Fix partial iteration in `FuturesUnordered` ([#&#8203;2574](https://togithub.com/rust-lang/futures-rs/issues/2574)) -   Fix false detection of inner panics in `Shared` ([#&#8203;2576](https://togithub.com/rust-lang/futures-rs/issues/2576)) -   Add `Mutex::lock_owned` and `Mutex::try_lock_owned` ([#&#8203;2571](https://togithub.com/rust-lang/futures-rs/issues/2571)) -   Add `io::copy_buf_abortable` ([#&#8203;2507](https://togithub.com/rust-lang/futures-rs/issues/2507)) -   Remove `Unpin` bound from `TryStreamExt::into_async_read` ([#&#8203;2599](https://togithub.com/rust-lang/futures-rs/issues/2599)) -   Make `run_until_stalled` handle self-waking futures ([#&#8203;2593](https://togithub.com/rust-lang/futures-rs/issues/2593)) -   Use `FuturesOrdered` in `try_join_all` ([#&#8203;2556](https://togithub.com/rust-lang/futures-rs/issues/2556)) -   Fix orderings in `LocalPool` waker ([#&#8203;2608](https://togithub.com/rust-lang/futures-rs/issues/2608)) -   Fix `stream::Chunk` adapters size hints ([#&#8203;2611](https://togithub.com/rust-lang/futures-rs/issues/2611)) -   Add `push_front` and `push_back` to `FuturesOrdered` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Deprecate `FuturesOrdered::push` in favor of `FuturesOrdered::push_back` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Performance improvements ([#&#8203;2583](https://togithub.com/rust-lang/futures-rs/issues/2583), [#&#8203;2626](https://togithub.com/rust-lang/futures-rs/issues/2626)) -   Documentation improvements ([#&#8203;2579](https://togithub.com/rust-lang/futures-rs/issues/2579), [#&#8203;2604](https://togithub.com/rust-lang/futures-rs/issues/2604), [#&#8203;2613](https://togithub.com/rust-lang/futures-rs/issues/2613))  </details>  ---  ### Configuration  📅 **Schedule**: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).  🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.  ♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.  🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.  ---   - [ ] If you want to rebase/retry this PR, check this box  ---  This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/vercel/turbo).  commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  * Docs for topology outside of a task  Documentation for behavior in #2855!  * Minor cleanup.  * Some copy updates and add image.  Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913)  commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912)  commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)  * build(cargo): bump up swc_core  * build(cargo): unpin indexmap  * build(cargo): update dependencies  * style(cargo): adjust format  commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886)  commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884)  commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707)  This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear.  Changes are easy to review commit-by-commit.  commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904)  Before #2859: `eslint --quiet --fix`  After #2859: `pnpm run lint --quiet --fix --` => `eslint . --ext js,jsx,ts,tsx --quiet --fix --`  After this: `eslint --ext js,jsx,ts,tsx --quiet --fix --`  Removes the sneaky `.`.  commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778)  This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent.  commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify `next-binding` (#2899)  commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816)  I chose to have the `import.meta.url` to have the relative project path on disk.  Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path.  I'm splitting this from the in-progress PR to implement `new URL(…, import.meta.url)` support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship.  Fixes WEB-137.  commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897)    Merged main   Reverting changes that snuck in   Fixing tests   Final fixes for tests   Moving shim to crates/turborepo   More refactoring   First pass at splitting up shim and cli   Fixing tests   Added detection for help flag so users can get help outside of a valid repo   Update crates/turborepo-lib/src/shim.rs   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com  Update crates/turborepo/Cargo.toml  Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   PR feedback and test fixing   Set process's cwd   Have to do inference even with TURBO_BINARY_PATH   Comments   PR feedback   Moved single_package back to RunArgs   Removed print   Fixing bugs   Fixing rust tests   fixing bug with verbosity and Go tests   add local turbo version checking   remove ffi inclusion   Fixed integration tests   Linting fixes   Integrated local_turbo_supports_skip_shim   Fixed bug with cwd and restored yarn.lock   Okay back to setting current_dir   Fixed bug with canonicalization   Removed print starting   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name",feat(rust-port): Split up shim and cli (#2970),"Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing Adjusted json serialization. Now debugging Hooked up new CLI to commands Fixing compile error fixing lint error Fixing more Go lint errors Fixing lint errors fixing up tests Only using turbo state with link, login, and logout commands Reverting changes Removing more changes Deleting code and fixing lints Removed unlink command Fixing bugs Reverting more changes fixed all tests Refactored away duplicates using CLIConfigProvider interface Lint fixes Minor order tweak Added error if command is not handled PR feedback Minor fixes. Adding --__test-run flag Added workaround for subcommand help Moved logic around to accomodate login/logout/link/unlink Added some documentation, removed some printf Adding more tests. Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it. Split up derive into multiple lines Added comment explaining clap v3 in Cargo.toml Ported daemon Cleaning up code. Removed imports Fix lints Fixing lints Ported prune to Rust CLI Going all the way. Porting run to Rust CLI and upgrading back to clap v4 Always gotta be testing Always be testing. Always. Be. Testing. Added tests for each singular flag. Now for combination tests WIP: Hooking up Rust CLI to Go run logic Disable color Removed root inference from Go side Fixing compile errors Update cli/cmd/turbo/main.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Patching up code for run PR changes Restored labeler Restore og.tsx Reverted run changes that somehow made it in here Fix run Update cli/internal/turbostate/turbostate.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com feat: polyfill global with globalThis (#2666) This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions. delete IsYarn util (#2668) feat(docs): new authors & consistent filesnames (#2680) Added caveat to environment variables docs (#2703) Co-authored-by: Thomas Knickman tom.knickman@vercel.com Fix publish workflow (#2681) change from yarn to pnpm (#2686) Co-authored-by: Justin Ridgewell justin@ridgewell.name Reverted workflow changes Fixing tests. Added run args to base Trying to fix tests Rewrote some logic around run args handling Fixing up tests by adding flags and fixing parsing bugs Hooked up RepoState to Go code Fixing e2e tests Fixing e2e Gotta build shim, not turbo in package.json Patched integration test Reverted Cargo.toml Cargo.lock too Fixing tests Moving turbo binary to shim Fixed tests and CI Check for TURBO_BINARY_PATH Ported shell completions to Rust Fixed logic issue with TURBO_BINARY_PATH Created .gitignore file with generated rust and header files Second try on cleaning up generated files More CI fixes Realized we still need some inference Removed files that are edited by run-examples.sh Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check. Cleaning up changes. Fix one thing break another Accept integration changes Deleting more unused code Test fixes No longer need this line now that src/ffi.rs is gitignored PR feedback Update cli/internal/run/run.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Fixing typo Merged main PR feedback PR feedback Merge main Reverted workflow change Error on invalid unicode instead of lossy conversion PR feedback Squashed commit of the following: commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921) Authdog  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff! commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)   resolve codegenerateable before calling it   eagerly resolve some constructors to avoid creating many wrapper tasks   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923) Move bound task function into TaskState to allow unloading Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872) commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  use Cow to avoid creating Strings for trait function names trait calls avoid the resolve trait wrapper task when called on a resolved VC eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416 commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833) VecDeque::new always allocates 7 elements commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906) This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry. commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873) Reduces memory usage by 14% commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918) For example: module module For now the graph generated by above code will be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""link The module will be a async chunk group of module, pushed at turbopack-core/src/chunk/mod.rs#L462, and it will have a reference between module and module, but module will also be a chunk group of module created at turbopack-ecmascript/src/chunk/loader.rs#L165, and will have a reference between module and module. This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in module ('/_a8a837.js'), module ('/src_async.js_manifest-chunk.js'), and also chunks in module ('/src_async.js', '/src_async.css'), because of the reference between module and module. But the expected behavior is only compile chunks in module and module, so this PR deleted the reference between module and module, makes the graph be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""link And makes chunks in module to be compiled only when the browser request '/src_async.js_manifest-chunk.js'. commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916) updating in hope that this fixes the random errors in test runs commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915) [ This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | futures (source) | dev-dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  rust-lang/futures-rs module Compare Source  Fix soundness issue in module and module macros (#​2649) Implement module for module (#​2650)  module Compare Source  Fix incorrect termination of module streams (#​2635)  module Compare Source  Work around MSRV increase due to a cargo bug.  module Compare Source  Fix module impl of module (#​2570) Fix partial iteration in module (#​2574) Fix false detection of inner panics in module (#​2576) Add module and module (#​2571) Add module (#​2507) Remove module bound from module (#​2599) Make module handle self-waking futures (#​2593) Use module in module (#​2556) Fix orderings in module waker (#​2608) Fix module adapters size hints (#​2611) Add module and module to module (#​2591) Deprecate module in favor of module (#​2591) Performance improvements (#​2583, #​2626) Documentation improvements (#​2579, #​2604, #​2613)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  Docs for topology outside of a task  Documentation for behavior in #2855!   Minor cleanup.   Some copy updates and add image.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913) commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912) commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)   build(cargo): bump up swc_core   build(cargo): unpin indexmap   build(cargo): update dependencies   style(cargo): adjust format   commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886) commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884) commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707) This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear. Changes are easy to review commit-by-commit. commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904) Before #2859: module After #2859: module => module After this: module Removes the sneaky module. commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778) This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent. commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify module (#2899) commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816) I chose to have the module to have the relative project path on disk. Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path. I'm splitting this from the in-progress PR to implement module support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship. Fixes WEB-137. commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897) Merged main Reverting changes that snuck in Fixing tests Final fixes for tests Moving shim to crates/turborepo More refactoring First pass at splitting up shim and cli Fixing tests Added detection for help flag so users can get help outside of a valid repo Update crates/turborepo-lib/src/shim.rs Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Update crates/turborepo/Cargo.toml Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com PR feedback and test fixing Set process's cwd Have to do inference even with TURBO_BINARY_PATH Comments PR feedback Moved single_package back to RunArgs Removed print Fixing bugs Fixing rust tests fixing bug with verbosity and Go tests add local turbo version checking remove ffi inclusion Fixed integration tests Linting fixes Integrated local_turbo_supports_skip_shim Fixed bug with cwd and restored yarn.lock Okay back to setting current_dir Fixed bug with canonicalization Removed print starting Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1516,Use native fetch in node over node-fetch (#2985),,Use native fetch in node over node-fetch (#2985),
1517,@next/font/google: Hash filenames used in virtual file paths (#2978),  Implement DeterministicHash for &str   @next/font/google: Hash filenames used in virtual file paths   Apply suggestions from code review   Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Leah github.leah@hrmny.sh,@next/font/google: Hash filenames used in virtual file paths (#2978),Implement DeterministicHash for &str @next/font/google: Hash filenames used in virtual file paths Apply suggestions from code review Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Leah github.leah@hrmny.sh
1518,Unmark @next/font/google as unsupported and move feature to gate @next/font/local only (#2965),,Unmark @next/font/google as unsupported and move feature to gate @next/font/local only (#2965),
1519,turbo-tasks-fetch: Emit issues on failed fetches (#2964),  Initial implementation of FetchIssue   turbo-tasks-fetch: Emit issues for failed fetches   Use FetchResult and handle failure in @next/font/google   Apply suggestions from code review   Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Leah github.leah@hrmny.sh,turbo-tasks-fetch: Emit issues on failed fetches (#2964),Initial implementation of FetchIssue turbo-tasks-fetch: Emit issues for failed fetches Use FetchResult and handle failure in @next/font/google Apply suggestions from code review Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Leah github.leah@hrmny.sh
1520,fix(core): fix turbo engine task builder (#2981),introduced in https://github.com/vercel/turbo/pull/2546/files,fix(core): fix turbo engine task builder (#2981),introduced in link
1521,"Add font weight, style to css and js properties (#2963)",,"Add font weight, style to css and js properties (#2963)",
1522,generate shim bindings into OUT_DIR (#2977),,generate shim bindings into OUT_DIR (#2977),
1523,Run setup-node in update-google-fonts workflow (#2980),  Run setup-node in update-google-fonts workflow   Update Google font-data.json (ce83bb98897404b791fd96f562a95fc0b20b40da)   Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com,Run setup-node in update-google-fonts workflow (#2980),Run setup-node in update-google-fonts workflow Update Google font-data.json (ce83bb98897404b791fd96f562a95fc0b20b40da) Co-authored-by: wbinnssmith wbinnssmith@users.noreply.github.com
1524,update npm deps (#2960),,update npm deps (#2960),
1525,ci(action): auto update PR for swc_* (#2938),,ci(action): auto update PR for swc_* (#2938),
1526,ci(actions): allow glob to selectively enable --turbo tests (#2744),,ci(actions): allow glob to selectively enable --turbo tests (#2744),
1527,fix(examples): update vite for svelte (#2976),,fix(examples): update vite for svelte (#2976),
1528,Skip formatting ffi.rs (#2974),,Skip formatting ffi.rs (#2974),
1529,page json route (#2949),,page json route (#2949),
1530,Remove next_static_source (#2971),,Remove next_static_source (#2971),
1531,page chunk loader (#2948),,page chunk loader (#2948),
1532,fix css indent in ImportAttributes::print_block (#2966),fix this: https://github.com/vercel/turbo/pull/2839#discussion_r1044202479,fix css indent in ImportAttributes::print_block (#2966),fix this: link
1533,feat: add source map for css chunk (#2839),,feat: add source map for css chunk (#2839),
1534,feature(turborepo): Port rest of CLI (#2733),"  Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing   Adjusted json serialization. Now debugging   Hooked up new CLI to commands   Fixing compile error   fixing lint error   Fixing more Go lint errors   Fixing lint errors   fixing up tests   Only using turbo state with link, login, and logout commands   Reverting changes   Removing more changes   Deleting code and fixing lints   Removed unlink command   Fixing bugs   Reverting more changes   fixed all tests   Refactored away duplicates using CLIConfigProvider interface   Lint fixes   Minor order tweak   Added error if command is not handled   PR feedback   Minor fixes. Adding --__test-run flag   Added workaround for subcommand help   Moved logic around to accomodate login/logout/link/unlink   Added some documentation, removed some printf   Adding more tests.   Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it.   Split up derive into multiple lines   Added comment explaining clap v3 in Cargo.toml   Ported daemon   Cleaning up code. Removed imports   Fix lints   Fixing lints   Ported prune to Rust CLI   Going all the way. Porting run to Rust CLI and upgrading back to clap v4   Always gotta be testing   Always be testing. Always. Be. Testing.   Added tests for each singular flag. Now for combination tests   WIP: Hooking up Rust CLI to Go run logic   Disable color   Removed root inference from Go side   Fixing compile errors   Update cli/cmd/turbo/main.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Patching up code for run   PR changes   Restored labeler   Restore og.tsx   Reverted run changes that somehow made it in here   Fix run   Update cli/internal/turbostate/turbostate.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com  feat: polyfill global with globalThis (#2666)  This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions.   delete IsYarn util (#2668)   feat(docs): new authors & consistent filesnames (#2680)   Added caveat to environment variables docs (#2703)   Co-authored-by: Thomas Knickman tom.knickman@vercel.com   Fix publish workflow (#2681)   change from yarn to pnpm (#2686)   Co-authored-by: Justin Ridgewell justin@ridgewell.name   Reverted workflow changes   Fixing tests. Added run args to base   Trying to fix tests   Rewrote some logic around run args handling   Fixing up tests by adding flags and fixing parsing bugs   Hooked up RepoState to Go code   Fixing e2e tests   Fixing e2e   Gotta build shim, not turbo in package.json   Patched integration test   Reverted Cargo.toml   Cargo.lock too   Fixing tests   Moving turbo binary to shim   Fixed tests and CI   Check for TURBO_BINARY_PATH   Ported shell completions to Rust   Fixed logic issue with TURBO_BINARY_PATH   Created .gitignore file with generated rust and header files   Second try on cleaning up generated files   More CI fixes   Realized we still need some inference   Removed files that are edited by run-examples.sh   Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check.   Cleaning up changes.   Fix one thing break another   Accept integration changes   Deleting more unused code   Test fixes   No longer need this line now that src/ffi.rs is gitignored   PR feedback   Update cli/internal/run/run.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   Fixing typo   Merged main   PR feedback   PR feedback   Merge main   Reverted workflow change   add build turbo GH action to use across workflows   use correct build target   Error on invalid unicode instead of lossy conversion   PR feedback   Squashed commit of the following:   commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921)  [Authdog](https://www.authdog.com/)  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff!  commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895)  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)  * resolve codegenerateable before calling it  * eagerly resolve some constructors to avoid creating many wrapper tasks  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923)  Move bound task function into TaskState to allow unloading  Co-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>  commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872)  commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  * use Cow to avoid creating Strings for trait function names * trait calls avoid the resolve trait wrapper task when called on a resolved VC * eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416  commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833)  VecDeque::new always allocates 7 elements  commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906)  This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry.  commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873)  Reduces memory usage by 14%  commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918)  For example:  ```js // index.js setTimeout(() => {   import('./async.js').then(() => console.log('async.js loaded')) }, 1000) ```  ```js // async.js import './async.css'; console.log('async.js content') ```  For now the graph generated by above code will be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""https://user-images.githubusercontent.com/42857895/205442932-ebfd5126-ef3d-4205-b5b5-434126ad46f7.png"">  The `ChunkGroup_async` will be a async chunk group of `ChunkGroup_index`, pushed at [turbopack-core/src/chunk/mod.rs#L462](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-core/src/chunk/mod.rs#L462), and it will have a reference between `ChunkGroup_index` and `ChunkGroup_async`, but `ChunkGroup_async` will also be a chunk group of `ChunkGroup_async-manifest-chunk` created at [turbopack-ecmascript/src/chunk/loader.rs#L165](https://github.com/vercel/turbo/blob/b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a/crates/turbopack-ecmascript/src/chunk/loader.rs#L165), and will have a reference between `ChunkGroup_async-manifest-chunk` and `ChunkGroup_async`.  This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in `ChunkGroup_index` ('/_a8a837.js'), `ChunkGroup_async-manifest-chunk` ('/src_async.js_manifest-chunk.js'), and also chunks in `ChunkGroup_async` ('/src_async.js', '/src_async.css'), because of the reference between `ChunkGroup_index` and `ChunkGroup_async`.  But the expected behavior is only compile chunks in `ChunkGroup_index` and `ChunkGroup_async-manifest-chunk`, so this PR deleted the reference between `ChunkGroup_index` and `ChunkGroup_async`, makes the graph be like this:  <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""https://user-images.githubusercontent.com/42857895/205444165-7b266dce-9aa6-4829-b8dc-d2bf74642aff.png"">  And makes chunks in `ChunkGroup_async` to be compiled only when the browser request '/src_async.js_manifest-chunk.js'.  commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com> Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919)  Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>  commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916)  updating in hope that this fixes the random errors in test runs  commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915)  [![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)  This PR contains the following updates:  | Package | Type | Update | Change | |---|---|---|---| | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dev-dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.21` -> `0.3.25` | | [futures](https://rust-lang.github.io/futures-rs) ([source](https://togithub.com/rust-lang/futures-rs)) | dependencies | patch | `0.3.24` -> `0.3.25` |  ---  ### ⚠ Dependency Lookup Warnings ⚠  Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  ---  ### Release Notes  <details> <summary>rust-lang/futures-rs</summary>  ### [`v0.3.25`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0325---2022-10-20)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.24...0.3.25)  -   Fix soundness issue in `join!` and `try_join!` macros ([#&#8203;2649](https://togithub.com/rust-lang/futures-rs/issues/2649)) -   Implement `Clone` for `sink::Drain` ([#&#8203;2650](https://togithub.com/rust-lang/futures-rs/issues/2650))  ### [`v0.3.24`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0324---2022-08-29)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.23...0.3.24)  -   Fix incorrect termination of `select_with_strategy` streams ([#&#8203;2635](https://togithub.com/rust-lang/futures-rs/issues/2635))  ### [`v0.3.23`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0323---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.22...0.3.23)  -   Work around MSRV increase due to a cargo bug.  ### [`v0.3.22`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#&#8203;0322---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.21...0.3.22)  -   Fix `Sync` impl of `BiLockGuard` ([#&#8203;2570](https://togithub.com/rust-lang/futures-rs/issues/2570)) -   Fix partial iteration in `FuturesUnordered` ([#&#8203;2574](https://togithub.com/rust-lang/futures-rs/issues/2574)) -   Fix false detection of inner panics in `Shared` ([#&#8203;2576](https://togithub.com/rust-lang/futures-rs/issues/2576)) -   Add `Mutex::lock_owned` and `Mutex::try_lock_owned` ([#&#8203;2571](https://togithub.com/rust-lang/futures-rs/issues/2571)) -   Add `io::copy_buf_abortable` ([#&#8203;2507](https://togithub.com/rust-lang/futures-rs/issues/2507)) -   Remove `Unpin` bound from `TryStreamExt::into_async_read` ([#&#8203;2599](https://togithub.com/rust-lang/futures-rs/issues/2599)) -   Make `run_until_stalled` handle self-waking futures ([#&#8203;2593](https://togithub.com/rust-lang/futures-rs/issues/2593)) -   Use `FuturesOrdered` in `try_join_all` ([#&#8203;2556](https://togithub.com/rust-lang/futures-rs/issues/2556)) -   Fix orderings in `LocalPool` waker ([#&#8203;2608](https://togithub.com/rust-lang/futures-rs/issues/2608)) -   Fix `stream::Chunk` adapters size hints ([#&#8203;2611](https://togithub.com/rust-lang/futures-rs/issues/2611)) -   Add `push_front` and `push_back` to `FuturesOrdered` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Deprecate `FuturesOrdered::push` in favor of `FuturesOrdered::push_back` ([#&#8203;2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Performance improvements ([#&#8203;2583](https://togithub.com/rust-lang/futures-rs/issues/2583), [#&#8203;2626](https://togithub.com/rust-lang/futures-rs/issues/2626)) -   Documentation improvements ([#&#8203;2579](https://togithub.com/rust-lang/futures-rs/issues/2579), [#&#8203;2604](https://togithub.com/rust-lang/futures-rs/issues/2604), [#&#8203;2613](https://togithub.com/rust-lang/futures-rs/issues/2613))  </details>  ---  ### Configuration  📅 **Schedule**: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).  🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.  ♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.  🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.  ---   - [ ] If you want to rebase/retry this PR, check this box  ---  This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/vercel/turbo).  commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  * Docs for topology outside of a task  Documentation for behavior in #2855!  * Minor cleanup.  * Some copy updates and add image.  Co-authored-by: Thomas Knickman <tom.knickman@vercel.com>  commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913)  commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912)  commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)  * build(cargo): bump up swc_core  * build(cargo): unpin indexmap  * build(cargo): update dependencies  * style(cargo): adjust format  commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886)  commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884)  commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707)  This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear.  Changes are easy to review commit-by-commit.  commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904)  Before #2859: `eslint --quiet --fix`  After #2859: `pnpm run lint --quiet --fix --` => `eslint . --ext js,jsx,ts,tsx --quiet --fix --`  After this: `eslint --ext js,jsx,ts,tsx --quiet --fix --`  Removes the sneaky `.`.  commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778)  This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent.  commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify `next-binding` (#2899)  commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816)  I chose to have the `import.meta.url` to have the relative project path on disk.  Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path.  I'm splitting this from the in-progress PR to implement `new URL(…, import.meta.url)` support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship.  Fixes WEB-137.  commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897)    Merged main   Reverting changes that snuck in   Fixing tests   Final fixes for tests   bump timeout on jobs that need to build turborepo   use prebuilt turbo for e2e tests   change when turbo is built   add turbo_tasks State (#2935)   add mark_stateful() method to make tasks with state   @next/font [1/n] Add query structure to module requests (#2743)   Add query structure to module requests   Update crates/next-dev/src/lib.rs   Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name   add memory usage tracking (#2865)   @next/font [2/n] Apply next/font swc transform  (#2742)   Check in next-font transform from Next.js repo   Use next-font transform   Run transform via custom rule   Place next/font transform behind cargo feature   Remove unused dependencies (#2934)   Remove unused dependencies   Add back lazy static as a dev dep   Add back bench dependencies   skip enabling corepack when building turborepo   Disabled corepack on other node setup action   explicitly disable corepack for examples   nvm   bump timemout for go unit   I am once again trying to get CI to work   force gnu compiler on windows   fix shim build script   fix lockfile   use gcc on windows instead of clang   fix shim   first pass at splitting out shim to library crate   change rust test workflow to not run turbo tests   replace module tests with integration tests   add readme and docs   normalize paths in integration test   Update crates/turborepo-lib/README.md   Co-authored-by: Nicholas Yang nick@nicholasyang.com   Fix Cargo.lock   fix clippy warnings   extend timeout for running examples   Set installed toolchain as default   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",feature(turborepo): Port rest of CLI (#2733),"Created two separate chains for executing commands: One that uses the parsed arguments from clap that are serialized to json, the other that still uses Cobra. Now to test to ensure that both do the same thing Adjusted json serialization. Now debugging Hooked up new CLI to commands Fixing compile error fixing lint error Fixing more Go lint errors Fixing lint errors fixing up tests Only using turbo state with link, login, and logout commands Reverting changes Removing more changes Deleting code and fixing lints Removed unlink command Fixing bugs Reverting more changes fixed all tests Refactored away duplicates using CLIConfigProvider interface Lint fixes Minor order tweak Added error if command is not handled PR feedback Minor fixes. Adding --__test-run flag Added workaround for subcommand help Moved logic around to accomodate login/logout/link/unlink Added some documentation, removed some printf Adding more tests. Hooked up link/login/unlink to --__test-run flag. Also added prysk tests for it. Split up derive into multiple lines Added comment explaining clap v3 in Cargo.toml Ported daemon Cleaning up code. Removed imports Fix lints Fixing lints Ported prune to Rust CLI Going all the way. Porting run to Rust CLI and upgrading back to clap v4 Always gotta be testing Always be testing. Always. Be. Testing. Added tests for each singular flag. Now for combination tests WIP: Hooking up Rust CLI to Go run logic Disable color Removed root inference from Go side Fixing compile errors Update cli/cmd/turbo/main.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Patching up code for run PR changes Restored labeler Restore og.tsx Reverted run changes that somehow made it in here Fix run Update cli/internal/turbostate/turbostate.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com feat: polyfill global with globalThis (#2666) This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions. delete IsYarn util (#2668) feat(docs): new authors & consistent filesnames (#2680) Added caveat to environment variables docs (#2703) Co-authored-by: Thomas Knickman tom.knickman@vercel.com Fix publish workflow (#2681) change from yarn to pnpm (#2686) Co-authored-by: Justin Ridgewell justin@ridgewell.name Reverted workflow changes Fixing tests. Added run args to base Trying to fix tests Rewrote some logic around run args handling Fixing up tests by adding flags and fixing parsing bugs Hooked up RepoState to Go code Fixing e2e tests Fixing e2e Gotta build shim, not turbo in package.json Patched integration test Reverted Cargo.toml Cargo.lock too Fixing tests Moving turbo binary to shim Fixed tests and CI Check for TURBO_BINARY_PATH Ported shell completions to Rust Fixed logic issue with TURBO_BINARY_PATH Created .gitignore file with generated rust and header files Second try on cleaning up generated files More CI fixes Realized we still need some inference Removed files that are edited by run-examples.sh Switched order of cargo fmt --check and cargo clippy because cargo clippy generates files needed for cargo fmt --check. Cleaning up changes. Fix one thing break another Accept integration changes Deleting more unused code Test fixes No longer need this line now that src/ffi.rs is gitignored PR feedback Update cli/internal/run/run.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Fixing typo Merged main PR feedback PR feedback Merge main Reverted workflow change add build turbo GH action to use across workflows use correct build target Error on invalid unicode instead of lossy conversion PR feedback Squashed commit of the following: commit 096b8b8b357abe985e4116108af8a87aaba968cb Author: David Barrat david@barrat.io Date:   Mon Dec 5 15:29:41 2022 +0100 Docs: Add Authdog to Turbo Showcase page (#2921) Authdog  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff! commit e39d65eb5b97140fe6338dabfbd0ac3be2987d8f Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:23:40 2022 +0100 enable id reusing (#2895) Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit 6b99818abd358ebb4fa3506b493e2fae34372d25 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:53 2022 +0100 Reduce wrapper tasks by eagerly resolving Vcs (#2933)   resolve codegenerateable before calling it   eagerly resolve some constructors to avoid creating many wrapper tasks   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit ce4c445cd2c17021b4397c8e3cf93d91921146ef Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 15:22:32 2022 +0100 Share TaskInputs between task cache and task (#2923) Move bound task function into TaskState to allow unloading Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com commit e1bf5e2cde7ca2006c8a4c3455dec38e971aa3eb Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 14:32:24 2022 +0100 make sure that removing collectibles will cleanup helper entries (#2872) commit 532eff76326fb9237a450345b45073c1061e5a37 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 13:27:22 2022 +0100 Reduce the number of Strings and wrapper tasks (#2834)  use Cow to avoid creating Strings for trait function names trait calls avoid the resolve trait wrapper task when called on a resolved VC eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416 commit dc36fc41586e5763520b4a16d249cdd6779bc902 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 11:00:10 2022 +0100 reduce number of allocations (#2833) VecDeque::new always allocates 7 elements commit 4f247be94b03f44765ac8bd334194545cd992b9b Author: Nathan Hammond nathan.hammond@vercel.com Date:   Mon Dec 5 15:39:15 2022 +0800 Upgrade to Next.js 13 (#2906) This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry. commit 1e818068241c308cd3260bd83eba294d890a6151 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Mon Dec 5 07:42:19 2022 +0100 shrink lists and sets that are stored in Tasks (#2873) Reduces memory usage by 14% commit cac79bbe35c5ee7d2bf14625bb709dff8010b8ad Author: Ahab ahabhgk@gmail.com Date:   Sun Dec 4 13:23:26 2022 +0800 make lazy bundling for dynamic import more lazy (#2918) For example: module module For now the graph generated by above code will be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 22 24"" src=""link The module will be a async chunk group of module, pushed at turbopack-core/src/chunk/mod.rs#L462, and it will have a reference between module and module, but module will also be a chunk group of module created at turbopack-ecmascript/src/chunk/loader.rs#L165, and will have a reference between module and module. This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in module ('/_a8a837.js'), module ('/src_async.js_manifest-chunk.js'), and also chunks in module ('/src_async.js', '/src_async.css'), because of the reference between module and module. But the expected behavior is only compile chunks in module and module, so this PR deleted the reference between module and module, makes the graph be like this: <img width=""1461"" alt=""Screen Shot 2022-12-03 at 21 50 29"" src=""link And makes chunks in module to be compiled only when the browser request '/src_async.js_manifest-chunk.js'. commit fd09f2e7cba7bcff030c1f10f31fc0155dd055fe Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sun Dec 4 03:26:37 2022 +0000 chore(deps): update dependency @types/node to v18.11.10 (#2928) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit 429e91eae5c313556fe8cb0bde87ab521e28d7cf Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 22:21:26 2022 -0500 chore(deps): update dependency @babel/core to v7.20.5 (#2919) Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com commit 6478d61585f414ec9fb6ec822d8c5c052156b690 Author: Tobias Koppers tobias.koppers@googlemail.com Date:   Sat Dec 3 22:11:10 2022 +0100 update chromiumoxide (#2916) updating in hope that this fixes the random errors in test runs commit b7bcfc312e41367e2ec7f5fb37a6ee88a6b6545a Author: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Date:   Sat Dec 3 08:54:50 2022 +0000 chore(deps): update rust crate futures to 0.3.25 (#2915) [ This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | futures (source) | dev-dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module | | futures (source) | dependencies | patch | module -> module |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  rust-lang/futures-rs module Compare Source  Fix soundness issue in module and module macros (#​2649) Implement module for module (#​2650)  module Compare Source  Fix incorrect termination of module streams (#​2635)  module Compare Source  Work around MSRV increase due to a cargo bug.  module Compare Source  Fix module impl of module (#​2570) Fix partial iteration in module (#​2574) Fix false detection of inner panics in module (#​2576) Add module and module (#​2571) Add module (#​2507) Remove module bound from module (#​2599) Make module handle self-waking futures (#​2593) Use module in module (#​2556) Fix orderings in module waker (#​2608) Fix module adapters size hints (#​2611) Add module and module to module (#​2591) Deprecate module in favor of module (#​2591) Performance improvements (#​2583, #​2626) Documentation improvements (#​2579, #​2604, #​2613)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here. commit 93222f2b22d43bd9c1d917350f810e5398ca9d49 Author: Anthony Shew anthony.shew@vercel.com Date:   Fri Dec 2 16:36:55 2022 -0800 feat(docs): document topology outside of a task (#2879)  Docs for topology outside of a task  Documentation for behavior in #2855!   Minor cleanup.   Some copy updates and add image.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com commit f8aaf81cb7c833f672001eb36d30d700e1cf6cc9 Author: Will Binns-Smith wbinnssmith@gmail.com Date:   Fri Dec 2 16:32:35 2022 -0800 Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913) commit 07231701892cbca7b73e35bfb490f2514770628e Author: Thomas Knickman tom.knickman@vercel.com Date:   Fri Dec 2 16:40:08 2022 -0500 feat(docs): add github (#2912) commit c69298c4a31516129bb62263f163a1da9c5614da Author: OJ Kwon 1210596+kwonoj@users.noreply.github.com Date:   Fri Dec 2 11:58:55 2022 -0800 build(cargo): update swc_core, dependencies to resolve circular deps (#2869)   build(cargo): bump up swc_core   build(cargo): unpin indexmap   build(cargo): update dependencies   style(cargo): adjust format   commit 6965cb81ef5693b3e7a23e6a999be04d6590fad5 Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 19:42:05 2022 +0100 set correct cwd for server renderer (#2886) commit 4a3cb941b42923883a665a54270c7b6fdd46034a Author: Leah github.leah@hrmny.sh Date:   Fri Dec 2 18:27:02 2022 +0100 fix dynamic paths (#2884) commit eead9063968a3b8571e3ba2c7a897522f890e2fc Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 16:09:08 2022 +0800 Fix the missing links. (#2707) This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear. Changes are easy to review commit-by-commit. commit b8c0c3c74636fd4b0586951011919bc05e1f651d Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 14:37:03 2022 +0800 Update lint-staged behavior. (#2904) Before #2859: module After #2859: module => module After this: module Removes the sneaky module. commit 336ea22098ff8825e83baa2561d8ec0acf5b52af Author: Nathan Hammond nathan.hammond@vercel.com Date:   Fri Dec 2 08:33:21 2022 +0800 Add additional detailed warning message if no tasks were run. (#2778) This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent. commit 9359c46a3663834aefb8df6479ac86a0668925a3 Author: Leah github.leah@hrmny.sh Date:   Thu Dec 1 21:02:33 2022 +0100 simplify module (#2899) commit 22c1440283ed4dfd1e310210108244c4c12d4c56 Author: Justin Ridgewell justin@ridgewell.name Date:   Thu Dec 1 13:55:15 2022 -0500 Implement import.meta (#2816) I chose to have the module to have the relative project path on disk. Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path. I'm splitting this from the in-progress PR to implement module support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship. Fixes WEB-137. commit 75a7d1ea450cdaa629920464b509f3098997ae06 Author: Thomas Knickman tom.knickman@vercel.com Date:   Thu Dec 1 11:40:15 2022 -0500 fix(examples): cra pnpm fix (#2897) Merged main Reverting changes that snuck in Fixing tests Final fixes for tests bump timeout on jobs that need to build turborepo use prebuilt turbo for e2e tests change when turbo is built add turbo_tasks State (#2935) add mark_stateful() method to make tasks with state @next/font [1/n] Add query structure to module requests (#2743) Add query structure to module requests Update crates/next-dev/src/lib.rs Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name add memory usage tracking (#2865) @next/font [2/n] Apply next/font swc transform  (#2742) Check in next-font transform from Next.js repo Use next-font transform Run transform via custom rule Place next/font transform behind cargo feature Remove unused dependencies (#2934) Remove unused dependencies Add back lazy static as a dev dep Add back bench dependencies skip enabling corepack when building turborepo Disabled corepack on other node setup action explicitly disable corepack for examples nvm bump timemout for go unit I am once again trying to get CI to work force gnu compiler on windows fix shim build script fix lockfile use gcc on windows instead of clang fix shim first pass at splitting out shim to library crate change rust test workflow to not run turbo tests replace module tests with integration tests add readme and docs normalize paths in integration test Update crates/turborepo-lib/README.md Co-authored-by: Nicholas Yang nick@nicholasyang.com Fix Cargo.lock fix clippy warnings extend timeout for running examples Set installed toolchain as default Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Florentin / 珞辰 ecklf@icloud.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Yota Hada hadayota33@gmail.com Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1535,feat(turbo-updater): notifications per tag (#2957),,feat(turbo-updater): notifications per tag (#2957),
1536,[6/n] @next/font/google: Cache stylesheet locally (#2940),  Add font-data.json   Initial implementation of dynamic ImportMapping replacement   Extract font urls   Download fonts   Update stylesheet   Vc-ify   Apply suggestions from code review   Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com   Check in font-data.json update script and update font-data.json   Add font update to ci schedule   assert -> bail   Remove extraction and caching of fonts   Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,[6/n] @next/font/google: Cache stylesheet locally (#2940),Add font-data.json Initial implementation of dynamic ImportMapping replacement Extract font urls Download fonts Update stylesheet Vc-ify Apply suggestions from code review Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Check in font-data.json update script and update font-data.json Add font update to ci schedule assert -> bail Remove extraction and caching of fonts Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
1537,docs(showcase): LG U+ (#2958),,docs(showcase): LG U+ (#2958),
1538,do not allocate TaskState until needed (#2801),Fixes WEB-209,do not allocate TaskState until needed (#2801),Fixes WEB-209
1539,[5/n] @next/font/google: Port utilities for generating stylesheet urls (#2856),  Implement get_font_axes   Implement get_stylesheet_url   Handle font axes without wght   Co-authored-by: Hannes Bornö hannes.borno@vercel.com   Implement extract_font_urls   Update crates/next-core/src/next_font_google/util.rs   Co-authored-by: Justin Ridgewell justin@ridgewell.name  Remove extraction of fonts  Co-authored-by: Hannes Bornö hannes.borno@vercel.com Co-authored-by: Justin Ridgewell justin@ridgewell.name,[5/n] @next/font/google: Port utilities for generating stylesheet urls (#2856),Implement get_font_axes Implement get_stylesheet_url Handle font axes without wght Co-authored-by: Hannes Bornö hannes.borno@vercel.com Implement extract_font_urls Update crates/next-core/src/next_font_google/util.rs Co-authored-by: Justin Ridgewell justin@ridgewell.name Remove extraction of fonts Co-authored-by: Hannes Bornö hannes.borno@vercel.com Co-authored-by: Justin Ridgewell justin@ridgewell.name
1540,Validate @next/font/google query options (#2812),,Validate @next/font/google query options (#2812),
1541,build(cargo): bump up swc_core (#2951),,build(cargo): bump up swc_core (#2951),
1542,Update Storybook example. (#2914),"  Add Storybook example.   Add section to README.   Fix example commands.   Just kidding.   Remove my dupe and bump some deps.   First draft in Monorepo Handbook. Needs finalization.   pnpm story fleshed out.   All three package managers, woohoo.   Redirect from old Prisma route.   Bump for docs site redeploy.   Fix redirect.   Minor changes and deployment section.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com",Update Storybook example. (#2914),"Add Storybook example. Add section to README. Fix example commands. Just kidding. Remove my dupe and bump some deps. First draft in Monorepo Handbook. Needs finalization. pnpm story fleshed out. All three package managers, woohoo. Redirect from old Prisma route. Bump for docs site redeploy. Fix redirect. Minor changes and deployment section. Co-authored-by: Thomas Knickman tom.knickman@vercel.com"
1543,fix(docs): landing page CLS (#2950),,fix(docs): landing page CLS (#2950),
1544,feat(docs): new pack logo (#2947),,feat(docs): new pack logo (#2947),
1545,feat(turbo): add update-notifier (#2867),,feat(turbo): add update-notifier (#2867),
1546,docs: add nhost (#2838),Turbo is awesome for our monorepo. Keep up the fantastic work 💪,docs: add nhost (#2838),Turbo is awesome for our monorepo. Keep up the fantastic work 💪
1547,Initial implementation of turbo-tasks-fetch (#2769),,Initial implementation of turbo-tasks-fetch (#2769),
1548,feat(turbo): add version edge route (#2937),,feat(turbo): add version edge route (#2937),
1549,Remove unused dependencies (#2934),  Remove unused dependencies   Add back lazy static as a dev dep   Add back bench dependencies ,Remove unused dependencies (#2934),Remove unused dependencies Add back lazy static as a dev dep Add back bench dependencies
1550,@next/font [2/n] Apply next/font swc transform  (#2742),  Check in next-font transform from Next.js repo   Use next-font transform   Run transform via custom rule   Place next/font transform behind cargo feature ,@next/font [2/n] Apply next/font swc transform  (#2742),Check in next-font transform from Next.js repo Use next-font transform Run transform via custom rule Place next/font transform behind cargo feature
1551,add memory usage tracking (#2865),,add memory usage tracking (#2865),
1552,@next/font [1/n] Add query structure to module requests (#2743),  Add query structure to module requests   Update crates/next-dev/src/lib.rs   Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name,@next/font [1/n] Add query structure to module requests (#2743),Add query structure to module requests Update crates/next-dev/src/lib.rs Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name
1553,add turbo_tasks State (#2935),add mark_stateful() method to make tasks with state,add turbo_tasks State (#2935),add mark_stateful() method to make tasks with state
1554,support _devPageManifest.json (#2885),,support _devPageManifest.json (#2885),
1555,Docs: Add Authdog to Turbo Showcase page (#2921),"Authdog  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff!",Docs: Add Authdog to Turbo Showcase page (#2921),"Authdog  is an Identity and Access Management as a Service platform, built upon Serverless technologies (AWS Lambda, Vercel, Fastly and Cloudflare Workers). I started looking for alternatives to Nx, some times ago and experimented with Turbo, decided to migrate some projects to this tool, awesome stuff!"
1556,enable id reusing (#2895),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,enable id reusing (#2895),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1557,Reduce wrapper tasks by eagerly resolving Vcs (#2933),  resolve codegenerateable before calling it   eagerly resolve some constructors to avoid creating many wrapper tasks   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Reduce wrapper tasks by eagerly resolving Vcs (#2933),resolve codegenerateable before calling it eagerly resolve some constructors to avoid creating many wrapper tasks Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1558,Share TaskInputs between task cache and task (#2923),Move bound task function into TaskState to allow unloading Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Share TaskInputs between task cache and task (#2923),Move bound task function into TaskState to allow unloading Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1559,make sure that removing collectibles will cleanup helper entries (#2872),,make sure that removing collectibles will cleanup helper entries (#2872),
1560,Reduce the number of Strings and wrapper tasks (#2834), use Cow to avoid creating Strings for trait function names trait calls avoid the resolve trait wrapper task when called on a resolved VC eagerly resolve some Vc that would otherwise create a lot of wrapper tasks  Depends on #2416,Reduce the number of Strings and wrapper tasks (#2834),use Cow to avoid creating Strings for trait function names trait calls avoid the resolve trait wrapper task when called on a resolved VC eagerly resolve some Vc that would otherwise create a lot of wrapper tasks Depends on #2416
1561,reduce number of allocations (#2833),VecDeque::new always allocates 7 elements,reduce number of allocations (#2833),VecDeque::new always allocates 7 elements
1562,Upgrade to Next.js 13 (#2906),"This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry.",Upgrade to Next.js 13 (#2906),"This gets our site updated to Next.js 13 and Nextra 2. As a bonus, this should help prevent some of the issues we're seeing in Sentry."
1563,shrink lists and sets that are stored in Tasks (#2873),Reduces memory usage by 14%,shrink lists and sets that are stored in Tasks (#2873),Reduces memory usage by 14%
1564,make lazy bundling for dynamic import more lazy (#2918),"For example: js // index.js setTimeout(() => {   import('./async.js').then(() => console.log('async.js loaded')) }, 1000) js // async.js import './async.css'; console.log('async.js content') For now the graph generated by above code will be like this:  The ChunkGroup_async will be a async chunk group of ChunkGroup_index, pushed at turbopack-core/src/chunk/mod.rs#L462, and it will have a reference between ChunkGroup_index and ChunkGroup_async, but ChunkGroup_async will also be a chunk group of ChunkGroup_async-manifest-chunk created at turbopack-ecmascript/src/chunk/loader.rs#L165, and will have a reference between ChunkGroup_async-manifest-chunk and ChunkGroup_async. This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in ChunkGroup_index ('/_a8a837.js'), ChunkGroup_async-manifest-chunk ('/src_async.js_manifest-chunk.js'), and also chunks in ChunkGroup_async ('/src_async.js', '/src_async.css'), because of the reference between ChunkGroup_index and ChunkGroup_async. But the expected behavior is only compile chunks in ChunkGroup_index and ChunkGroup_async-manifest-chunk, so this PR deleted the reference between ChunkGroup_index and ChunkGroup_async, makes the graph be like this:  And makes chunks in ChunkGroup_async to be compiled only when the browser request '/src_async.js_manifest-chunk.js'.",make lazy bundling for dynamic import more lazy (#2918),"For example: js // index.js setTimeout(() => {   import('./async.js').then(() => console.log('async.js loaded')) }, 1000) js // async.js import './async.css'; console.log('async.js content') For now the graph generated by above code will be like this: The ChunkGroup_async will be a async chunk group of ChunkGroup_index, pushed at turbopack-core/src/chunk/mod.rs#L462, and it will have a reference between ChunkGroup_index and ChunkGroup_async, but ChunkGroup_async will also be a chunk group of ChunkGroup_async-manifest-chunk created at turbopack-ecmascript/src/chunk/loader.rs#L165, and will have a reference between ChunkGroup_async-manifest-chunk and ChunkGroup_async. This leads to when the browser request '/_a8a837.js', turbopack will compile chunks in ChunkGroup_index ('/_a8a837.js'), ChunkGroup_async-manifest-chunk ('/src_async.js_manifest-chunk.js'), and also chunks in ChunkGroup_async ('/src_async.js', '/src_async.css'), because of the reference between ChunkGroup_index and ChunkGroup_async. But the expected behavior is only compile chunks in ChunkGroup_index and ChunkGroup_async-manifest-chunk, so this PR deleted the reference between ChunkGroup_index and ChunkGroup_async, makes the graph be like this: And makes chunks in ChunkGroup_async to be compiled only when the browser request '/src_async.js_manifest-chunk.js'."
1565,chore(deps): update dependency @types/node to v18.11.10 (#2928),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,chore(deps): update dependency @types/node to v18.11.10 (#2928),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1566,chore(deps): update dependency @babel/core to v7.20.5 (#2919),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency @babel/core to v7.20.5 (#2919),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
1567,update chromiumoxide (#2916),updating in hope that this fixes the random errors in test runs,update chromiumoxide (#2916),updating in hope that this fixes the random errors in test runs
1568,chore(deps): update rust crate futures to 0.3.25 (#2915)," This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | futures (source) | dev-dependencies | patch | 0.3.21 -> 0.3.25 | | futures (source) | dependencies | patch | 0.3.21 -> 0.3.25 | | futures (source) | dependencies | patch | 0.3.24 -> 0.3.25 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  rust-lang/futures-rs  ### [`v0.3.25`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#​0325---2022-10-20)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.24...0.3.25)  -   Fix soundness issue in `join!` and `try_join!` macros ([#​2649](https://togithub.com/rust-lang/futures-rs/issues/2649)) -   Implement `Clone` for `sink::Drain` ([#​2650](https://togithub.com/rust-lang/futures-rs/issues/2650))  ### [`v0.3.24`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#​0324---2022-08-29)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.23...0.3.24)  -   Fix incorrect termination of `select_with_strategy` streams ([#​2635](https://togithub.com/rust-lang/futures-rs/issues/2635))  ### [`v0.3.23`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#​0323---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.22...0.3.23)  -   Work around MSRV increase due to a cargo bug.  ### [`v0.3.22`](https://togithub.com/rust-lang/futures-rs/blob/HEAD/CHANGELOG.md#​0322---2022-08-14)  [Compare Source](https://togithub.com/rust-lang/futures-rs/compare/0.3.21...0.3.22)  -   Fix `Sync` impl of `BiLockGuard` ([#​2570](https://togithub.com/rust-lang/futures-rs/issues/2570)) -   Fix partial iteration in `FuturesUnordered` ([#​2574](https://togithub.com/rust-lang/futures-rs/issues/2574)) -   Fix false detection of inner panics in `Shared` ([#​2576](https://togithub.com/rust-lang/futures-rs/issues/2576)) -   Add `Mutex::lock_owned` and `Mutex::try_lock_owned` ([#​2571](https://togithub.com/rust-lang/futures-rs/issues/2571)) -   Add `io::copy_buf_abortable` ([#​2507](https://togithub.com/rust-lang/futures-rs/issues/2507)) -   Remove `Unpin` bound from `TryStreamExt::into_async_read` ([#​2599](https://togithub.com/rust-lang/futures-rs/issues/2599)) -   Make `run_until_stalled` handle self-waking futures ([#​2593](https://togithub.com/rust-lang/futures-rs/issues/2593)) -   Use `FuturesOrdered` in `try_join_all` ([#​2556](https://togithub.com/rust-lang/futures-rs/issues/2556)) -   Fix orderings in `LocalPool` waker ([#​2608](https://togithub.com/rust-lang/futures-rs/issues/2608)) -   Fix `stream::Chunk` adapters size hints ([#​2611](https://togithub.com/rust-lang/futures-rs/issues/2611)) -   Add `push_front` and `push_back` to `FuturesOrdered` ([#​2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Deprecate `FuturesOrdered::push` in favor of `FuturesOrdered::push_back` ([#​2591](https://togithub.com/rust-lang/futures-rs/issues/2591)) -   Performance improvements ([#​2583](https://togithub.com/rust-lang/futures-rs/issues/2583), [#​2626](https://togithub.com/rust-lang/futures-rs/issues/2626)) -   Documentation improvements ([#​2579](https://togithub.com/rust-lang/futures-rs/issues/2579), [#​2604](https://togithub.com/rust-lang/futures-rs/issues/2604), [#​2613](https://togithub.com/rust-lang/futures-rs/issues/2613))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update rust crate futures to 0.3.25 (#2915),"This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | futures (source) | dev-dependencies | patch | 0.3.21 -> 0.3.25 | | futures (source) | dependencies | patch | 0.3.21 -> 0.3.25 | | futures (source) | dependencies | patch | 0.3.24 -> 0.3.25 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes rust-lang/futures-rs module Compare Source  Fix soundness issue in module and module macros (#​2649) Implement module for module (#​2650)  module Compare Source  Fix incorrect termination of module streams (#​2635)  module Compare Source  Work around MSRV increase due to a cargo bug.  module Compare Source  Fix module impl of module (#​2570) Fix partial iteration in module (#​2574) Fix false detection of inner panics in module (#​2576) Add module and module (#​2571) Add module (#​2507) Remove module bound from module (#​2599) Make module handle self-waking futures (#​2593) Use module in module (#​2556) Fix orderings in module waker (#​2608) Fix module adapters size hints (#​2611) Add module and module to module (#​2591) Deprecate module in favor of module (#​2591) Performance improvements (#​2583, #​2626) Documentation improvements (#​2579, #​2604, #​2613)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1569,feat(docs): document topology outside of a task (#2879), Docs for topology outside of a task  Documentation for behavior in #2855!   Minor cleanup.   Some copy updates and add image.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com,feat(docs): document topology outside of a task (#2879),Docs for topology outside of a task Documentation for behavior in #2855! Minor cleanup. Some copy updates and add image. Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1570,Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913),,Link to Turbopack's architecture.md from CONTRIBUTING.md (#2913),
1571,feat(docs): add github (#2912),,feat(docs): add github (#2912),
1572,"build(cargo): update swc_core, dependencies to resolve circular deps (#2869)",  build(cargo): bump up swc_core   build(cargo): unpin indexmap   build(cargo): update dependencies   style(cargo): adjust format ,"build(cargo): update swc_core, dependencies to resolve circular deps (#2869)",build(cargo): bump up swc_core build(cargo): unpin indexmap build(cargo): update dependencies style(cargo): adjust format
1573,set correct cwd for server renderer (#2886),,set correct cwd for server renderer (#2886),
1574,fix dynamic paths (#2884),,fix dynamic paths (#2884),
1575,Fix the missing links. (#2707),This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear. Changes are easy to review commit-by-commit.,Fix the missing links. (#2707),This PR does three things: 1. Prevents double redirects by setting the correct destination the first time. 2. Redirects URLs accidentally recreated in the new scope. 🤦‍♂️ 3. Removes a catch-all to trigger any additional missing links to appear. Changes are easy to review commit-by-commit.
1576,Update lint-staged behavior. (#2904),"Before #2859: eslint --quiet --fix After #2859: pnpm run lint --quiet --fix -- => eslint . --ext js,jsx,ts,tsx --quiet --fix -- After this: eslint --ext js,jsx,ts,tsx --quiet --fix -- Removes the sneaky ..",Update lint-staged behavior. (#2904),"Before #2859: eslint --quiet --fix After #2859: pnpm run lint --quiet --fix -- => eslint . --ext js,jsx,ts,tsx --quiet --fix -- After this: eslint --ext js,jsx,ts,tsx --quiet --fix -- Removes the sneaky .."
1577,Add additional detailed warning message if no tasks were run. (#2778),This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent.,Add additional detailed warning message if no tasks were run. (#2778),This is a quality of life improvement output log so that you don't have to tease it out from the overall run summary and the situation is more-apparent.
1578,simplify next-binding (#2899),,simplify next-binding (#2899),
1579,Implement import.meta (#2816),"I chose to have the import.meta.url to have the relative project path on disk. Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path. I'm splitting this from the in-progress PR to implement new URL(…, import.meta.url) support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship. Fixes WEB-137.",Implement import.meta (#2816),"I chose to have the import.meta.url to have the relative project path on disk. Webpack makes it the absolute system path, but that would make the JS output system dependent and I didn't like that. Vite doesn't bundle and uses the browser's behavior, which is the dev server path. I'm splitting this from the in-progress PR to implement new URL(…, import.meta.url) support. That requires a bunch of changes to the analysis code and a new FS content source, so it's taking longer to ship. Fixes WEB-137."
1580,fix(examples): cra pnpm fix (#2897),,fix(examples): cra pnpm fix (#2897),
1581,fix(eslint): include all versions above 6.6 (#2896),,fix(eslint): include all versions above 6.6 (#2896),
1582,Support basic next/image loading (#2481),"This implements basic support for serving the images requested by next/image and next/future/image. The big missing features are:  image width resizing (and thus blurry image placeholders) image quality encoding format re-encoding  This required a lot more work than I expected, because we have to also override the remotePatterns to allow using next/image with remote images. The only way I found to do this was to override the __NEXT_IMAGE_OPTS env var, which is a special object value injected by webpack's DefinePlugin as if it were an process.env value. Fixes https://github.com/vercel/web-tooling-internal/issues/5 Porting from https://github.com/vercel/the-three-body/pull/212 Fixes WEB-150 Fixes WEB-2",Support basic next/image loading (#2481),"This implements basic support for serving the images requested by next/image and next/future/image. The big missing features are: image width resizing (and thus blurry image placeholders) image quality encoding format re-encoding This required a lot more work than I expected, because we have to also override the remotePatterns to allow using next/image with remote images. The only way I found to do this was to override the __NEXT_IMAGE_OPTS env var, which is a special object value injected by webpack's DefinePlugin as if it were an process.env value. Fixes link Porting from link Fixes WEB-150 Fixes WEB-2"
1583,Split turbopack-node from next-core (#2874),,Split turbopack-node from next-core (#2874),
1584,taplo format (#2888),2866 was behind main when merged 😬,taplo format (#2888),2866 was behind main when merged 😬
1585,Run taplo format and check consistency in CI (#2866),  Add GitHub action step for taplo --check   Run taplo format ,Run taplo format and check consistency in CI (#2866),Add GitHub action step for taplo --check Run taplo format
1586,chore(scripts): allow skipping ignore for examples (#2883),,chore(scripts): allow skipping ignore for examples (#2883),
1587,chore(eslint): release plugin & config (#2882),,chore(eslint): release plugin & config (#2882),
1588,chore(eslint): fix cwd check for eslint@<6.6.0 (#2848),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,chore(eslint): fix cwd check for eslint@<6.6.0 (#2848),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1589,feat(ide): update settings.json yarn -> pnpm (#2704),,feat(ide): update settings.json yarn -> pnpm (#2704),
1590,chore(eslint): release plugin & config (#2881),,chore(eslint): release plugin & config (#2881),
1591,feat(turbo-ignore): check commit body (#2835),,feat(turbo-ignore): check commit body (#2835),
1592,use Vec instead of HashMap for smaller counts (#2416),save memory for hash maps with only a few entries. should probably only be used for keys that are cheap to compare This reduce memory usage for the 10k CSR example from 6.9GB to 5.1GB,use Vec instead of HashMap for smaller counts (#2416),save memory for hash maps with only a few entries. should probably only be used for keys that are cheap to compare This reduce memory usage for the 10k CSR example from 6.9GB to 5.1GB
1593,Add tests for the ESLint caching. (#2859),"I pulled the trigger too fast on #2850, these are the tests that should have been written for it.",Add tests for the ESLint caching. (#2859),"I pulled the trigger too fast on #2850, these are the tests that should have been written for it."
1594,feat(cli): include cacheStatus for single packages. (#2849),,feat(cli): include cacheStatus for single packages. (#2849),
1595,Use scope options in prune flags (#2551),"  Use scope options in prune flags   Revert ""Use scope options in prune flags""   This reverts commit c4deda35d6be0008ae1a231fcb69f76faa6a6c2d.   Make prune scope flag a string array   Prevent rewalking parts of prune graph   Rename TopologicalGraphAncestors and sort targets   Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",Use scope options in prune flags (#2551),"Use scope options in prune flags Revert ""Use scope options in prune flags"" This reverts commit c4deda35d6be0008ae1a231fcb69f76faa6a6c2d. Make prune scope flag a string array Prevent rewalking parts of prune graph Rename TopologicalGraphAncestors and sort targets Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
1596,display multiple issues in overlay (#2803),,display multiple issues in overlay (#2803),
1597,error overlay redesign (#2831),  refactor exports   tabs + styles + icons ,error overlay redesign (#2831),refactor exports tabs + styles + icons
1598,Allow running other bundlers benchmark manually (#2861),,Allow running other bundlers benchmark manually (#2861),
1599,Make task stats take less memory by default (#2765),  Make task stats take less memory by default   Swap order of condition operands   TaskStats -> ExportedTaskStats   Add full stats disclaimers   Clippy   Fix duplicate labels   Move stats type reporting to TurboTasks   Fix turbotrace and turbopack visualization   Store last duration and execution as SmallDurations   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Make task stats take less memory by default (#2765),Make task stats take less memory by default Swap order of condition operands TaskStats -> ExportedTaskStats Add full stats disclaimers Clippy Fix duplicate labels Move stats type reporting to TurboTasks Fix turbotrace and turbopack visualization Store last duration and execution as SmallDurations Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1600,fix and improve hanging detection (#2827),Commit 1: It took me hours to figure out this unsafe problem... Commit 2: updates tokio Commit 3: improves hanging detection to allow to attach notes to event listeners,fix and improve hanging detection (#2827),Commit 1: It took me hours to figure out this unsafe problem... Commit 2: updates tokio Commit 3: improves hanging detection to allow to attach notes to event listeners
1601,Make ESLint envVar aware. (#2850),"This optimizes for the typical use case. This means process.cwd() to find the closest turbo.json to the place where eslint was executed. Currently: - Fail, and have no keys contributing to the ESLint incremental cache. (Current behavior.) After this PR, depending on your invocation patterns this will: - Do exactly what you want it to do. (Any time you invoke ESLint because we're finding up to the root of the project we will find the singular correct turbo.json.) - Fail, and have no content contributing to the ESLint incremental cache. (You're running from outside the root. Don't do that.) Once we're in composable turbo.json land this will either: - Do exactly what you want it to do. (Your execution directory will find up to the closest turbo.json which is the correct composition entry point. Will be the majority of use-cases and matches the Turborepo recommendations.) - Fail, and have no content contributing to the ESLint incremental cache. (You're running from outside the root. Don't do that.) - Fail, and have the wrong values contributing to the key for the incremental cache. (You ran your command from a place where you ""miss"" the correct turbo.json when trying to find up. This failure is undetectable.)  This last state needs the most explanation. When this occurs we will be adding a random set of environment variables to the cache key—and not necessarily the ones that matter. This will occur if process.cwd() does not represent the correct place in the file system to start walking to find turbo.json files. When this happens the ESLint incremental cache will be keyed on the wrong thing and won't necessarily invalidate for the correct changes, and will possibly invalidate for unrelated changes. The workaround here would be to modify the .eslintrc.js file in question to not use ""extends"": [""turbo""] and look like the following: js {   ""plugins"": [""turbo""],   ""rules"": {     ""turbo/no-undeclared-env-vars"": [       ""error"",       {         ""turboConfig"": require(""path/to/turbo.json"")       }     ]   } } We can't notify users of this failure which makes it especially rough.",Make ESLint envVar aware. (#2850),"This optimizes for the typical use case. This means process.cwd() to find the closest turbo.json to the place where eslint was executed. Currently: - Fail, and have no keys contributing to the ESLint incremental cache. (Current behavior.) After this PR, depending on your invocation patterns this will: - Do exactly what you want it to do. (Any time you invoke ESLint because we're finding up to the root of the project we will find the singular correct turbo.json.) - Fail, and have no content contributing to the ESLint incremental cache. (You're running from outside the root. Don't do that.) Once we're in composable turbo.json land this will either: - Do exactly what you want it to do. (Your execution directory will find up to the closest turbo.json which is the correct composition entry point. Will be the majority of use-cases and matches the Turborepo recommendations.) - Fail, and have no content contributing to the ESLint incremental cache. (You're running from outside the root. Don't do that.) - Fail, and have the wrong values contributing to the key for the incremental cache. (You ran your command from a place where you ""miss"" the correct turbo.json when trying to find up. This failure is undetectable.) This last state needs the most explanation. When this occurs we will be adding a random set of environment variables to the cache key—and not necessarily the ones that matter. This will occur if process.cwd() does not represent the correct place in the file system to start walking to find turbo.json files. When this happens the ESLint incremental cache will be keyed on the wrong thing and won't necessarily invalidate for the correct changes, and will possibly invalidate for unrelated changes. The workaround here would be to modify the .eslintrc.js file in question to not use ""extends"": [""turbo""] and look like the following: js {   ""plugins"": [""turbo""],   ""rules"": {     ""turbo/no-undeclared-env-vars"": [       ""error"",       {         ""turboConfig"": require(""path/to/turbo.json"")       }     ]   } } We can't notify users of this failure which makes it especially rough."
1602,"Move into TaskState, drop Event (#2799)","move dependencies and event into TaskStateType remove execution_data This will drop the allocation behind Event when a task becomes Done. It also move dependencies from Task to TaskState, which make it more efficient to drop TaskState when GC is able to do that. It also reduces the total size of Task because dependencies and event share memory now.","Move into TaskState, drop Event (#2799)","move dependencies and event into TaskStateType remove execution_data This will drop the allocation behind Event when a task becomes Done. It also move dependencies from Task to TaskState, which make it more efficient to drop TaskState when GC is able to do that. It also reduces the total size of Task because dependencies and event share memory now."
1603,chore(renovate): skip turbopack crate tests (#2852),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,chore(renovate): skip turbopack crate tests (#2852),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1604,build(cargo): setup next-binding package (#2813),  build(cargo): setup next-binding package   build(cargo): update dependencies   style(toml): update config   ci(actions): check next-binding   feat(next-binding): reexports   build(cargo): update lockfile ,build(cargo): setup next-binding package (#2813),build(cargo): setup next-binding package build(cargo): update dependencies style(toml): update config ci(actions): check next-binding feat(next-binding): reexports build(cargo): update lockfile
1605,test(next): run latest next.js canary test on the CI (#2808),  test(next): run latest next.js canary test on the CI   Update .github/workflows/test.yml   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com   ci(actions): update workflow   Update .github/workflows/test.yml   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,test(next): run latest next.js canary test on the CI (#2808),test(next): run latest next.js canary test on the CI Update .github/workflows/test.yml Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com ci(actions): update workflow Update .github/workflows/test.yml Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1606,fix(turbo): update regex in integration tests (#2851),,fix(turbo): update regex in integration tests (#2851),
1607,Sample many modules in benchmarks + reliability fixes (#2750),  Sample many modules in benchmarks + reliability fixes   Fix depth sampling to be uniform   Fix Webpack benchmark   Only use detector component for RSC   Clippy   Clippy ,Sample many modules in benchmarks + reliability fixes (#2750),Sample many modules in benchmarks + reliability fixes Fix depth sampling to be uniform Fix Webpack benchmark Only use detector component for RSC Clippy Clippy
1608,Explicitly call out SSO login. (#2819),This is an omission that tends to trip up a group of people that we want to have the best-possible experience.,Explicitly call out SSO login. (#2819),This is an omission that tends to trip up a group of people that we want to have the best-possible experience.
1609,Add missing period (#2795),,Add missing period (#2795),
1610,get upstream error overlay changes and fix typescript errors (#2830),  pull upstream changes   ts fixes ,get upstream error overlay changes and fix typescript errors (#2830),pull upstream changes ts fixes
1611,fix(eslint-plugin-turbo) allow comments in turbo.json file (#2814),"The eslint-plugin-turbo reads the workspace turbo.json file for the no-undeclared-env-vars rule. It used the built in javascript json parser to read the config file, which doesn't support comments. This PR alteres this to use JSON5 to parse the turbo.json file. Related to #2796",fix(eslint-plugin-turbo) allow comments in turbo.json file (#2814),"The eslint-plugin-turbo reads the workspace turbo.json file for the no-undeclared-env-vars rule. It used the built in javascript json parser to read the config file, which doesn't support comments. This PR alteres this to use JSON5 to parse the turbo.json file. Related to #2796"
1612,fix fallback overlay (#2829),,fix fallback overlay (#2829),
1613,install the correct example (#2826),,install the correct example (#2826),
1614,remove flurry in favor of DashMap (#2780),,remove flurry in favor of DashMap (#2780),
1615,get rid of CellMappings (#2779),  get rid of keyed_cell   get rid of CellMappings to make tasks pure ,get rid of CellMappings (#2779),get rid of keyed_cell get rid of CellMappings to make tasks pure
1616,feat(turbo-ignore): pretty errors (#2805),,feat(turbo-ignore): pretty errors (#2805),
1617,fix(examples): design system linking (#2822),,fix(examples): design system linking (#2822),
1618,fix(examples): update example CI runs (#2821),,fix(examples): update example CI runs (#2821),
1619,feat(examples): use pnpm by default (#2820),,feat(examples): use pnpm by default (#2820),
1620,fix link in turbopack lazy bundling (#2818),,fix link in turbopack lazy bundling (#2818),
1621,ci(actions): try to diff correct clippy results (#2806),,ci(actions): try to diff correct clippy results (#2806),
1622,chore(examples): include lockfiles (#2807),"Add lockfiles for examples TODO: Move all examples to pnpm, deprecate with-pnpm, and add a with-yarn / with-npm",chore(examples): include lockfiles (#2807),"Add lockfiles for examples TODO: Move all examples to pnpm, deprecate with-pnpm, and add a with-yarn / with-npm"
1623,fix(next-dev): disable git version info (#2815),,fix(next-dev): disable git version info (#2815),
1624,build(cargo): bump up swc_core (#2811),,build(cargo): bump up swc_core (#2811),
1625,feat(next/dev): allow to display version (#2793),,feat(next/dev): allow to display version (#2793),
1626,Support external css imports (#2598),  Add snapshot test   css codegen: Program -> Stylesheet   Generate @imports for external css import references   Update crates/turbopack-css/src/util.rs   Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name,Support external css imports (#2598),Add snapshot test css codegen: Program -> Stylesheet Generate @imports for external css import references Update crates/turbopack-css/src/util.rs Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Justin Ridgewell justin@ridgewell.name
1627,feat(docs): update ent link for turborepo (#2782),,feat(docs): update ent link for turborepo (#2782),
1628,fix(cli): framework inference in nonmonorepos (#2787),,fix(cli): framework inference in nonmonorepos (#2787),
1629,fix(docs): update add to project docs (#2781),,fix(docs): update add to project docs (#2781),
1630,chore: fix complex type (clippy) (#2702),This PR extracts complex return types into dedicated type aliases as part of fixing clippy lint warnings. Resolves WEB-185,chore: fix complex type (clippy) (#2702),This PR extracts complex return types into dedicated type aliases as part of fixing clippy lint warnings. Resolves WEB-185
1631,Use parking_lot::Mutex in Task to save some bytes (#2766),,Use parking_lot::Mutex in Task to save some bytes (#2766),
1632,docs: Fix showcase layout regression (#2773),,docs: Fix showcase layout regression (#2773),
1633,feat(next-dev): support port via env variable (#2770),,feat(next-dev): support port via env variable (#2770),
1634,Add Go Unit tests to test workflow (#2768),Also reduces set of files that will trigger go lint and unit tests,Add Go Unit tests to test workflow (#2768),Also reduces set of files that will trigger go lint and unit tests
1635,chore(examples): add package manager (#2767),,chore(examples): add package manager (#2767),
1636,Update metro.config.js  (#2759),"Force Metro to resolve (sub)dependencies only from the nodeModulesPaths. Without this line, the native app was crashing due to the following error:  ``` Error: Unable to resolve module ./packages/ui/node_modules/react-native/Libraries/HeapCapture/NativeJSCHeapCapture from /Users/username/code/turbo/with-react-native-web/apps/native/. ""Failed to call into JavaScript module method RCTDeviceEventEmitter.emit(). Module has not been registered as callable. Registered callable JavaScript modules (n = 0): .         A frequent cause of the error is that the application entry file path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native."" ``` I followed the Expo docs and added step 3 to get this example working again for me.  https://docs.expo.dev/guides/monorepos/#modify-the-metro-config:~:text=%2C%0A%5D%3B-,//%203.%20Force%20Metro%20to%20resolve%20(sub)dependencies%20only%20from%20the%20%60nodeModulesPaths%60%0Aconfig.resolver.disableHierarchicalLookup%20%3D%20true%3B,-module.exports",Update metro.config.js  (#2759),"Force Metro to resolve (sub)dependencies only from the nodeModulesPaths. Without this line, the native app was crashing due to the following error:  module I followed the Expo docs and added step 3 to get this example working again for me.  link"
1637,docs: Fix 404s (#2764),,docs: Fix 404s (#2764),
1638,docs: include --workspace-root on pnpm add command (#2753),"Given Turborepo is intended to use on workspaces, it is very likely users are adding it to the root of an already configured workspace. If you run pnpm add on a workspace root, you get an error: ERR_PNPM_ADDING_TO_ROOT  Running this command will add the dependency to the workspace root, which might not be what you want - if you really meant it, make it explicit by running this command again with the -w flag (or --workspace-root). If you don't want to see this warning anymore, you may set the ignore-workspace-root-check setting to true. This adds the --workspace-root flag to the docs command so this is skipped. This might also be needed for yarn but I'm not sure if they have a stable option besides --ignore-workspace-root-check on 1.x.",docs: include --workspace-root on pnpm add command (#2753),"Given Turborepo is intended to use on workspaces, it is very likely users are adding it to the root of an already configured workspace. If you run pnpm add on a workspace root, you get an error: ERR_PNPM_ADDING_TO_ROOT  Running this command will add the dependency to the workspace root, which might not be what you want - if you really meant it, make it explicit by running this command again with the -w flag (or --workspace-root). If you don't want to see this warning anymore, you may set the ignore-workspace-root-check setting to true. This adds the --workspace-root flag to the docs command so this is skipped. This might also be needed for yarn but I'm not sure if they have a stable option besides --ignore-workspace-root-check on 1.x."
1639,"Replace ""Package"" with ""Workspace"" (#2746)", Change packageInfos to WorkspaceInfos and consolidate types Rename TopologicalGraph field to WorkspaceGraph Add field comments for fields in Context struct Rename PackageNames to WorkspaceNames Remove type assertion now that type is more strict  Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,"Replace ""Package"" with ""Workspace"" (#2746)",Change packageInfos to WorkspaceInfos and consolidate types Rename TopologicalGraph field to WorkspaceGraph Add field comments for fields in Context struct Rename PackageNames to WorkspaceNames Remove type assertion now that type is more strict Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1640,ci(actions): update clippy cache (#2757),,ci(actions): update clippy cache (#2757),
1641,Separate turbo run.go code into separate files (#2719)," Move Graph, Dry, and Real Runs into separate files and associated code with them. Move RunSpec and RunOpts things into separate file.  This refactor makes it possible to operate on dry and real runs consistently. This generally improves readability also.  Remove unused dotGraph field, caught by lint",Separate turbo run.go code into separate files (#2719),"Move Graph, Dry, and Real Runs into separate files and associated code with them. Move RunSpec and RunOpts things into separate file. This refactor makes it possible to operate on dry and real runs consistently. This generally improves readability also. Remove unused dotGraph field, caught by lint"
1642,fix: adding PeerDependenciesMeta to NpmLockfile to fix issue with turbo prune (#2740),"  adding PeerDependenciesMeta to NpmPackage for NpmLockfile 🔐   Update cli/internal/lockfile/npm_lockfile.go   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com   adding test case to assert marshalling lockfile persists ""peerDependenciesMeta"" 🧪   fixing unchecked error from golint 🛠   Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",fix: adding PeerDependenciesMeta to NpmLockfile to fix issue with turbo prune (#2740),"adding PeerDependenciesMeta to NpmPackage for NpmLockfile 🔐 Update cli/internal/lockfile/npm_lockfile.go Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com adding test case to assert marshalling lockfile persists ""peerDependenciesMeta"" 🧪 fixing unchecked error from golint 🛠 Co-authored-by: Chris Olszewski chrisdolszewski@gmail.com Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
1643,chore: attempt at fetching the correct number of commits during JS tests (#2568),"We were only fetching 2 commits for these tests. This works fine if a PR has one commit, but anymore and it's a bad time. It was also broken on push events as there wasn't any base ref so we would run with --filter=...[]. Checkout the JS Package test runs on #2584 and see that we fetch the correct number of commits and no longer throw with commit does not exist",chore: attempt at fetching the correct number of commits during JS tests (#2568),"We were only fetching 2 commits for these tests. This works fine if a PR has one commit, but anymore and it's a bad time. It was also broken on push events as there wasn't any base ref so we would run with --filter=...[]. Checkout the JS Package test runs on #2584 and see that we fetch the correct number of commits and no longer throw with commit does not exist"
1644,docs: fix typo in running-task.mdx (#2755),,docs: fix typo in running-task.mdx (#2755),
1645,add benchmarks for Vite SSR and SWC (#2751),,add benchmarks for Vite SSR and SWC (#2751),
1646,disable testing other bundlers since this is tested in the single workflow (#2726),,disable testing other bundlers since this is tested in the single workflow (#2726),
1647,Give compare action permission to comment on PR (#2752),,Give compare action permission to comment on PR (#2752),
1648,Ignore integration tests and examples for renovate dep updates (#2741),,Ignore integration tests and examples for renovate dep updates (#2741),
1649,berry no longer include peer dependencies in all dependencies (#2745),,berry no longer include peer dependencies in all dependencies (#2745),
1650,chore(deps): update dependency postcss to v8.4.19 (#2718)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.18 -> 8.4.19 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency postcss to v8.4.19 (#2718),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.18 -> 8.4.19 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1651,typo: Fix the turbo.json for github action (#2732),"CircleCI, GitLab CI, Travis CI docs have this comma.  https://turbo.build/repo/docs/ci/travisci https://turbo.build/repo/docs/ci/circleci https://turbo.build/repo/docs/ci/gitlabci",typo: Fix the turbo.json for github action (#2732),"CircleCI, GitLab CI, Travis CI docs have this comma.  link link link"
1652,Add codemod to set default outputs in turbo.json (#2714),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Add codemod to set default outputs in turbo.json (#2714),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1653,chore: Update setup instructions for Windows (#2705),I just setup turbo dev on a Windows machine and these were some things that I needed to install before I could build turborepo,chore: Update setup instructions for Windows (#2705),I just setup turbo dev on a Windows machine and these were some things that I needed to install before I could build turborepo
1654,feat(turbo-ignore): release 0.4.0 (#2735),,feat(turbo-ignore): release 0.4.0 (#2735),
1655,fix HMR for RSC benchmarking (#2698),measure hmr_to_commit with detector component add Next.js 13 to benchmarks with RSC and RCC measurements this tests RSC HMR make HMR warmup faster make browser launch lazy test benchmarks for other bundlers on CI too Conflicts: .github/workflows/test.yml crates/next-dev/benches/mod.rs,fix HMR for RSC benchmarking (#2698),measure hmr_to_commit with detector component add Next.js 13 to benchmarks with RSC and RCC measurements this tests RSC HMR make HMR warmup faster make browser launch lazy test benchmarks for other bundlers on CI too Conflicts: .github/workflows/test.yml crates/next-dev/benches/mod.rs
1656,feat(turbo-ignore): docs update & improved output (#2728),,feat(turbo-ignore): docs update & improved output (#2728),
1657,docs: Remove callout now that we support prune w/npm (#2725),,docs: Remove callout now that we support prune w/npm (#2725),
1658,use latest version for parcel and webpack too (#2678),,use latest version for parcel and webpack too (#2678),
1659,feat(turbo-ignore): args and refactor (#2671),,feat(turbo-ignore): args and refactor (#2671),
1660,add go linting and examples to single workflow (#2694),,add go linting and examples to single workflow (#2694),
1661,use iterations feature from criterion (#2708)," use iterations feature from criterion  move startup, warmup and teardown out of the iteration loop to avoid tracking this time as elapsed time this allows criterion to use the measurement time correctly for the measured task prefer slope over mean when possible as it estimates the real time (excluding warmup)   remove warmup argument   stop server for next iteration   refactor   restore verbose info, exclude file read from timing   add a little bit of delay between HMR updates   make a warmup change   no need to copy template dir for HMR benchmark   add delay after warmup change   add watch benchmark   add/fix comments   fix env var in CI ",use iterations feature from criterion (#2708),"use iterations feature from criterion move startup, warmup and teardown out of the iteration loop to avoid tracking this time as elapsed time this allows criterion to use the measurement time correctly for the measured task prefer slope over mean when possible as it estimates the real time (excluding warmup) remove warmup argument stop server for next iteration refactor restore verbose info, exclude file read from timing add a little bit of delay between HMR updates make a warmup change no need to copy template dir for HMR benchmark add delay after warmup change add watch benchmark add/fix comments fix env var in CI"
1662,Pathing issue correctness. (#2720),We've completed this merge. Worth noting that this particular join was previously between an AbsoluteSystemPath and an AnchoredUnixPath. AKA: it was wrong. Each time we do a path cleanup these types always find correctness errors.,Pathing issue correctness. (#2720),We've completed this merge. Worth noting that this particular join was previously between an AbsoluteSystemPath and an AnchoredUnixPath. AKA: it was wrong. Each time we do a path cleanup these types always find correctness errors.
1663,Remove default task outputs when outputs is not defined (#2712),"This behavior is frameworks-specific and unintuitive to new users. Specifically, this removes the confusion between omitting the outputs key and setting to an empty array. Additionally, this will allow us to more clearly define turbo.json composition, so locally-scoped turbo.json configs can override outputs, without rationalizing what happens to this implicit behavior.",Remove default task outputs when outputs is not defined (#2712),"This behavior is frameworks-specific and unintuitive to new users. Specifically, this removes the confusion between omitting the outputs key and setting to an empty array. Additionally, this will allow us to more clearly define turbo.json composition, so locally-scoped turbo.json configs can override outputs, without rationalizing what happens to this implicit behavior."
1664,chore(deps): update rust crate assert_cmd to 2.0.6 (#2656)," This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | assert_cmd | dev-dependencies | patch | 2.0.4 -> 2.0.6 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update rust crate assert_cmd to 2.0.6 (#2656),"This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | assert_cmd | dev-dependencies | patch | 2.0.4 -> 2.0.6 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1665,feature(turbo): Porting turbo CLI to Rust (#2382),"Ported CLI parsing for link, unlink, login, and logout commands",feature(turbo): Porting turbo CLI to Rust (#2382),"Ported CLI parsing for link, unlink, login, and logout commands"
1666,force execution order in monorepo error tests (#2711),,force execution order in monorepo error tests (#2711),
1667,chore(docs): correct supported os list (#2709),Change implemented #1903 from discussion #1891,chore(docs): correct supported os list (#2709),Change implemented #1903 from discussion #1891
1668,fix: /turbo_tasks error when execute @hpcc-js/wasm (#2689),Co-authored-by: Justin Ridgewell justin@ridgewell.name,fix: /turbo_tasks error when execute @hpcc-js/wasm (#2689),Co-authored-by: Justin Ridgewell justin@ridgewell.name
1669,change from yarn to pnpm (#2686),Co-authored-by: Justin Ridgewell justin@ridgewell.name,change from yarn to pnpm (#2686),Co-authored-by: Justin Ridgewell justin@ridgewell.name
1670,Fix publish workflow (#2681),,Fix publish workflow (#2681),
1671,Added caveat to environment variables docs (#2703),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Added caveat to environment variables docs (#2703),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1672,feat(docs): new authors & consistent filesnames (#2680),,feat(docs): new authors & consistent filesnames (#2680),
1673,delete IsYarn util (#2668),,delete IsYarn util (#2668),
1674,feat: polyfill global with globalThis (#2666),This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions.,feat: polyfill global with globalThis (#2666),This PR changes the ecmascript chunk logic to polyfill global with globalThis. A more complex and less performant solution (but with the benefit of us knowing the runtime environment) would be to add an effect for simple identifier expressions.
1675,retry launching browser in test suite (#2695),,retry launching browser in test suite (#2695),
1676,chore: remove useless use of format (clippy error) (#2697),,chore: remove useless use of format (clippy error) (#2697),
1677,update next.js to 13.0.3 (#2677),,update next.js to 13.0.3 (#2677),
1678,docs: update contributing instructions (#2679),This PR adds: * Instructions to the contributing documentation that prevents causing a turbo/shim-related rust-analyzer error upon trying to add snapshot tests.  * Missing TOC,docs: update contributing instructions (#2679),This PR adds: * Instructions to the contributing documentation that prevents causing a turbo/shim-related rust-analyzer error upon trying to add snapshot tests.  * Missing TOC
1679,retry CI setup steps if needed (#2692),  retry setup steps if needed   retry install nextest step   retry browser launch   ignore errors from PR comment failing due to PR from fork ,retry CI setup steps if needed (#2692),retry setup steps if needed retry install nextest step retry browser launch ignore errors from PR comment failing due to PR from fork
1680,fix typos in CI workflow (#2687),make CI change detection more specific,fix typos in CI workflow (#2687),make CI change detection more specific
1681,Add profiling docs (#2664),Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Add profiling docs (#2664),Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1682,add link to workflow summary (#2693),,add link to workflow summary (#2693),
1683,initial work towards single workflow process (#2663),,initial work towards single workflow process (#2663),
1684,fix(docs): fix typo in code blocks (#2684),Fixes code blocks in Turborepo Codemods.,fix(docs): fix typo in code blocks (#2684),Fixes code blocks in Turborepo Codemods.
1685,feat(next-dev): align devserver cli options to napi bindings (#2653),,feat(next-dev): align devserver cli options to napi bindings (#2653),
1686,docs: add solana.fm to showcase list (#2609),Signed-off-by: Bing Huang bing2609@gmail.com Signed-off-by: Bing Huang bing2609@gmail.com,docs: add solana.fm to showcase list (#2609),Signed-off-by: Bing Huang bing2609@gmail.com Signed-off-by: Bing Huang bing2609@gmail.com
1687,Don't allow multiple workspaces to be named the same (#2659),"pnpm allows a workspace to have the same name in packages. Turbo uses these names as identifiers, so we cannot allow that.",Don't allow multiple workspaces to be named the same (#2659),"pnpm allows a workspace to have the same name in packages. Turbo uses these names as identifiers, so we cannot allow that."
1688,Fix typo,,Fix typo,
1689,Update codeowners (#2674),Make Turborepo owners of the Go and JS package related workflows,Update codeowners (#2674),Make Turborepo owners of the Go and JS package related workflows
1690,Added documentation on prisma in the Monorepo handbook (#2390),  Added documentation on prisma in the Monorepo handbook   Completed prisma section   Saved lockfile   Reverted to main lockfile   Committed lockfile   Fixed outputs   Softened the language on caching prisma generate   Attempted fix for pnpm lock   Co-authored-by: tknickman tom.knickman@vercel.com,Added documentation on prisma in the Monorepo handbook (#2390),Added documentation on prisma in the Monorepo handbook Completed prisma section Saved lockfile Reverted to main lockfile Committed lockfile Fixed outputs Softened the language on caching prisma generate Attempted fix for pnpm lock Co-authored-by: tknickman tom.knickman@vercel.com
1691,refactor unfinished tasks counting to bubble upwards (#2437)," refactor unfinished tasks counting to bubble upwards  keep child to parent relationship include unfinished child scopes in the counter   review   review   add documentation and cleanup   improve some ordering, add comments remove InfiniteVec in favor of NoMoveVec   background tasks should go back to sleep when foreground task come   add hanging detection to EventListener ",refactor unfinished tasks counting to bubble upwards (#2437),"refactor unfinished tasks counting to bubble upwards keep child to parent relationship include unfinished child scopes in the counter review review add documentation and cleanup improve some ordering, add comments remove InfiniteVec in favor of NoMoveVec background tasks should go back to sleep when foreground task come add hanging detection to EventListener"
1692,Include the directory into the task hash. (#2658),We should be considering the path of the task that is executing as part of its hash. Fixes #1671,Include the directory into the task hash. (#2658),We should be considering the path of the task that is executing as part of its hash. Fixes #1671
1693,try/catch wrap gitTimestamp's useEffect (#2665),"At least one person out there has misconfigured their browser such that navigator.language is an array, not a locale string.",try/catch wrap gitTimestamp's useEffect (#2665),"At least one person out there has misconfigured their browser such that navigator.language is an array, not a locale string."
1694,Add proper error with doc link on failure in alpine (#2676),This adds a helpful error when we fail to run the turbo binary in alpine linux pointing to the related doc to help users get unblocked when failing to run with glibc compat installed as currently they will just see an ENOENT error which doesn't lead to the docs very well.  x-ref: https://github.com/vercel/turbo/pull/2212 x-ref: https://github.com/vercel/turbo/issues/2198 Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com,Add proper error with doc link on failure in alpine (#2676),This adds a helpful error when we fail to run the turbo binary in alpine linux pointing to the related doc to help users get unblocked when failing to run with glibc compat installed as currently they will just see an ENOENT error which doesn't lead to the docs very well.  x-ref: link x-ref: link Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com
1695,Update integration test workflows (#2673)," Move Go integration and E2E tests into separate workflows Remove windows integration tests, it was already not running Stop running integration tests on macos-latest     It isn't meaningfully different from ubuntu",Update integration test workflows (#2673),"Move Go integration and E2E tests into separate workflows Remove windows integration tests, it was already not running Stop running integration tests on macos-latest     It isn't meaningfully different from ubuntu"
1696,Add errors-only output mode (#2672),Co-authored-by: Dobes Vandermeer dobes@goformative.com Co-authored-by: Dobes Vandermeer dobesv@gmail.com,Add errors-only output mode (#2672),Co-authored-by: Dobes Vandermeer dobes@goformative.com Co-authored-by: Dobes Vandermeer dobesv@gmail.com
1697,"Ability to configure ""persistent"" tasks (#2258)","This change allows users to add a persistent key to their task configuration. This key should be set when the task starts a long-running process that does not exit (such as a dev server or --watch mode for a test runner). When this key is set, turbo will ensure that no other tasks can dependsOn this task. Previously, if Task A depended on a ""persistent"" Task B, Task A would never run, because Task B never exited. This caused a lot of confusion, and our advice was to use the --parallel flag, which meant that all topological ordering was thrown out the window. After this change, turbo will detect this configuration and throw an error. After talking with users, we realized that there isn't really a need to topologically order long-running tasks, so instead of allowing configuration to create this ordering, (and then bypassing it with --parallel), we prevent you from configuring this ordering in the first place! In most cases, that means you can stop using the --parallel flag as well. If we can validate this reasoning, we can will deprecate the --parallel flag over time also.","Ability to configure ""persistent"" tasks (#2258)","This change allows users to add a persistent key to their task configuration. This key should be set when the task starts a long-running process that does not exit (such as a dev server or --watch mode for a test runner). When this key is set, turbo will ensure that no other tasks can dependsOn this task. Previously, if Task A depended on a ""persistent"" Task B, Task A would never run, because Task B never exited. This caused a lot of confusion, and our advice was to use the --parallel flag, which meant that all topological ordering was thrown out the window. After this change, turbo will detect this configuration and throw an error. After talking with users, we realized that there isn't really a need to topologically order long-running tasks, so instead of allowing configuration to create this ordering, (and then bypassing it with --parallel), we prevent you from configuring this ordering in the first place! In most cases, that means you can stop using the --parallel flag as well. If we can validate this reasoning, we can will deprecate the --parallel flag over time also."
1698,clippy (#2662),,clippy (#2662),
1699,build(cargo): bump up dependencies (#2661),,build(cargo): bump up dependencies (#2661),
1700,Downgrade indexmap and serde_yaml (#2657),"The latest version cause circular reference issue while compiling with next-rs wasm crate. error: cyclic package dependency: package `indexmap v1.9.1` depends on itself. Cycle: package `indexmap v1.9.1`     ... which satisfies dependency `indexmap = ""^1.5.2""` of package `serde_json v1.0.87`     ... which satisfies dependency `serde_json = ""^1.0""` of package `wasm-bindgen v0.2.83`     ... which satisfies dependency `wasm-bindgen = ""^0.2.83""` of package `js-sys v0.3.60`     ... which satisfies dependency `js-sys = ""^0.3""` of package `getrandom v0.2.8`     ... which satisfies dependency `getrandom = ""^0.2.3""` of package `ahash v0.7.6`     ... which satisfies dependency `ahash = ""^0.7.0""` of package `hashbrown v0.12.3`     ... which satisfies dependency `hashbrown = ""^0.12""` of package `indexmap v1.9.1`     ... which satisfies dependency `indexmap = ""^1.0.2""` of package `gimli v0.26.2`     ... which satisfies dependency `gimli = ""^0.26""` of package `addr2line v0.17.0`",Downgrade indexmap and serde_yaml (#2657),The latest version cause circular reference issue while compiling with next-rs wasm crate. error: cyclic package dependency: package module depends on itself. Cycle: package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module     ... which satisfies dependency module of package module
1701,feat(turbopack): bump up swc_core (#2654),,feat(turbopack): bump up swc_core (#2654),
1702,Pin the next@latest in pnpm.overrides (#2649),Prevent the pnpm-lock.yaml changing when the next version upgraded,Pin the next@latest in pnpm.overrides (#2649),Prevent the pnpm-lock.yaml changing when the next version upgraded
1703,feat(examples): add non-monorepo starter (#2650),,feat(examples): add non-monorepo starter (#2650),
1704,add different keyed app route elements (#2636),  add different keyed app route elements   update for latest next.js canary version   fix header name   setup next.js version in benchmark ,add different keyed app route elements (#2636),add different keyed app route elements update for latest next.js canary version fix header name setup next.js version in benchmark
1705,Fix tasks hanging when waiting for foreground tasks to be done (#2652),,Fix tasks hanging when waiting for foreground tasks to be done (#2652),
1706,chore(ci): skip e2e on examples changes (#2651),,chore(ci): skip e2e on examples changes (#2651),
1707,add unplugged to berry dependency metadata struct (#2646),,add unplugged to berry dependency metadata struct (#2646),
1708,chore(deps): update dependency autoprefixer to v10.4.13 (#2547)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.4.12 -> 10.4.13 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  postcss/autoprefixer  ### [`v10.4.13`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​10413)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.12...10.4.13)  -   Fixed missed prefixes on vendor prefixes in name of CSS Custom Property.    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, check this box   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency autoprefixer to v10.4.13 (#2547),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.4.12 -> 10.4.13 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes postcss/autoprefixer module Compare Source  Fixed missed prefixes on vendor prefixes in name of CSS Custom Property.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, check this box This PR has been generated by Mend Renovate. View repository job log here."
1709,fix(docs): removing footer gradient pointer events (#2375),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): removing footer gradient pointer events (#2375),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1710,fix(docs): fix tab items appearance (#2604),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): fix tab items appearance (#2604),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1711,chore(deps): update dependency tar to v6.1.12 (#2589),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency tar to v6.1.12 (#2589),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
1712,create-turbo: Remove unnecessary code to show help version text (#2647),,create-turbo: Remove unnecessary code to show help version text (#2647),
1713,chore: add rust setup and cache to e2e (#2643),  add rust setup and cache to e2e   skip rust setup on windows runs ,chore: add rust setup and cache to e2e (#2643),add rust setup and cache to e2e skip rust setup on windows runs
1714,add step to cache the prysk binary (#2625),,add step to cache the prysk binary (#2625),
1715,Mark next/head as supported (#2634),"Looking at https://github.com/vercel/next.js/blob/canary/packages/next/shared/lib/head.tsx, next/head doesn't depend on any bundler-specific logic. Testing shows it working properly.",Mark next/head as supported (#2634),"Looking at link, next/head doesn't depend on any bundler-specific logic. Testing shows it working properly."
1716,"fix(docs): hydration error fixes, next@13 prep (#2635)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com,"fix(docs): hydration error fixes, next@13 prep (#2635)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1717,order routes by specificity (#2614),  bugfix source maps in app dir   add specificity   static assets are preferred over dynamic matches,order routes by specificity (#2614),bugfix source maps in app dir add specificity static assets are preferred over dynamic matches
1718,"rename workflows, fix name conditions and windows runner (#2637)",,"rename workflows, fix name conditions and windows runner (#2637)",
1719,fix(create-turbo): support node 14 (#2638),,fix(create-turbo): support node 14 (#2638),
1720,revive CI benchmarks (#2555)," revive CI benchmarks  run benchmarks on 8 cores instead to save cost remove special stacked PR handling run benchmarks on bench/ prefixed branches for testing on PRs run benchmarks of other tools only weekly   documentation, renames, path filters, and bugfixes   Use path filtering for test too   review   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",revive CI benchmarks (#2555),"revive CI benchmarks run benchmarks on 8 cores instead to save cost remove special stacked PR handling run benchmarks on bench/ prefixed branches for testing on PRs run benchmarks of other tools only weekly documentation, renames, path filters, and bugfixes Use path filtering for test too review Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1721,fix leftover nitpicks (#2581),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,fix leftover nitpicks (#2581),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1722,Add xtask directory to codeowners (#2633),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Add xtask directory to codeowners (#2633),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1723,Update 1-turbopack-bug-report.yml,,Update 1-turbopack-bug-report.yml,
1724,Test turbotrace on Windows in hoisted mode (#2621),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Test turbotrace on Windows in hoisted mode (#2621),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1725,chore(issues): update 0-turborepo-bug-report.yml (#2627),,chore(issues): update 0-turborepo-bug-report.yml (#2627),
1726,chore(ci): Speed up CI with filtering (#2518),Sped up CI by adding filters to workflows.,chore(ci): Speed up CI with filtering (#2518),Sped up CI by adding filters to workflows.
1727,add RSC and RCC for turbopack to benchmarks (#2620),  fixup ropes   add RSC and RCC for turbopack to benchmarks   RSC: whole page is a server component RCC: whole page is a client component add app directory to test app,add RSC and RCC for turbopack to benchmarks (#2620),fixup ropes add RSC and RCC for turbopack to benchmarks RSC: whole page is a server component RCC: whole page is a client component add app directory to test app
1728,Line charts: Ensure the time range starts at 0 instead of the minimum time value (#2610),  Ensure the time range starts at 0 instead of the minimum time value   Replace fitting_range with a max function ,Line charts: Ensure the time range starts at 0 instead of the minimum time value (#2610),Ensure the time range starts at 0 instead of the minimum time value Replace fitting_range with a max function
1729,remove circular emit code to avoid hanging node-file-trace (#2607),  remove circular emit code to avoid hanging node-file-trace   add comments   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,remove circular emit code to avoid hanging node-file-trace (#2607),remove circular emit code to avoid hanging node-file-trace add comments Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1730,"fix(docs): redirects, some links. (#2611)",,"fix(docs): redirects, some links. (#2611)",
1731,fix(docs): custom search placeholder (en-us) (#2618),"We only support en-us, this prevents blowing up our server rendering.",fix(docs): custom search placeholder (en-us) (#2618),"We only support en-us, this prevents blowing up our server rendering."
1732,Update rust nightly to 2022-11-04 (#2599),  Update rust-toolchain to rust nightly 2022-11-04   Remove now-unnecessary feature opt-in for arbitrary_enum_discriminant ,Update rust nightly to 2022-11-04 (#2599),Update rust-toolchain to rust nightly 2022-11-04 Remove now-unnecessary feature opt-in for arbitrary_enum_discriminant
1733,Exclude shim crate from workspace default-members (#2594),,Exclude shim crate from workspace default-members (#2594),
1734,fix(repo): fix the yaml keys (#2597),,fix(repo): fix the yaml keys (#2597),
1735,chore(repo): add auto labeler (#2596),,chore(repo): add auto labeler (#2596),
1736,Implement Ropes for shared string construction (#2525),,Implement Ropes for shared string construction (#2525),
1737,docs: fix SVG BuildPass logo sizing on showcase (#2587),,docs: fix SVG BuildPass logo sizing on showcase (#2587),
1738,Mention missing css absolute @import uri support in docs (#2571),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Mention missing css absolute @import uri support in docs (#2571),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1739,refactor(next/dev): do not expose unsupported cli options (#2586),,refactor(next/dev): do not expose unsupported cli options (#2586),
1740,useEffect for ensuring that we don't trigger rerender. (#2578),,useEffect for ensuring that we don't trigger rerender. (#2578),
1741,Fix React Refresh boundary finding for CSR (#2574)," Fix React Refresh boundary finding  We forgot to enable the transform, which means we were rendering from the root of the app instead of the changed component.   Update snapshots   Add comment   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com",Fix React Refresh boundary finding for CSR (#2574),"Fix React Refresh boundary finding We forgot to enable the transform, which means we were rendering from the root of the app instead of the changed component. Update snapshots Add comment Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1742,Merge turbo crate into cargo workspace (#2577),,Merge turbo crate into cargo workspace (#2577),
1743,Add addStatusHandler/removeStatusHandler to hot API (#2565),  Add addStatusHandler/removeStatusHandler to hot API   Update snapshots ,Add addStatusHandler/removeStatusHandler to hot API (#2565),Add addStatusHandler/removeStatusHandler to hot API Update snapshots
1744,Update pnpm-lock.yaml (#2576),,Update pnpm-lock.yaml (#2576),
1745,Use mimalloc in next-dev (#2467),,Use mimalloc in next-dev (#2467),
1746,Implement Issue snapshot testing (#2497)," Fix bug with build globs  I passed the wrong root path, meaning the globs would ascend until the root of your filesystem. Any modification in any ancestor would rebuild turbopack-tests. (This was also the behavior before I split the tests crate out of turbopack, meaning we spent a lot of time rebuilding if anything in your paths changed…)   Implement basic debugging on Files   Implement hash on PlainIssue   Implement Issue snapshots   Update snapshots   Fix per-user content   Track everything in static output directory   Fix merge conflicts   Commit stubbed node_modules to snapshots   Lint fixes ",Implement Issue snapshot testing (#2497),"Fix bug with build globs I passed the wrong root path, meaning the globs would ascend until the root of your filesystem. Any modification in any ancestor would rebuild turbopack-tests. (This was also the behavior before I split the tests crate out of turbopack, meaning we spent a lot of time rebuilding if anything in your paths changed…) Implement basic debugging on Files Implement hash on PlainIssue Implement Issue snapshots Update snapshots Fix per-user content Track everything in static output directory Fix merge conflicts Commit stubbed node_modules to snapshots Lint fixes"
1747,Specify node@16 in engines for docs workspace (#2570),,Specify node@16 in engines for docs workspace (#2570),
1748,turbo-ignore: Include README.md in published dist (#2567),,turbo-ignore: Include README.md in published dist (#2567),
1749,Refactor TaskGraph construction (#2546), Invert condition for early exit filter tasksOnly consistently and add code comments Build PackageTaskDeps as a map instead of converting later Improve struct names for options,Refactor TaskGraph construction (#2546),Invert condition for early exit filter tasksOnly consistently and add code comments Build PackageTaskDeps as a map instead of converting later Improve struct names for options
1750,chore: end symbol (#2563),,chore: end symbol (#2563),
1751,fix:Non-exhaustive PID error check (#2557),,fix:Non-exhaustive PID error check (#2557),
1752,Add Open Graph image generator (#2406),Inlines the previously-separate Open Graph image generator. This required reconfiguring Sentry because it doesn't play nicely with Webpack + NFT.,Add Open Graph image generator (#2406),Inlines the previously-separate Open Graph image generator. This required reconfiguring Sentry because it doesn't play nicely with Webpack + NFT.
1753,chore: move turborepo profile test (#2544),  add sync call   add comment to sync call   move profile test to cram   remove build outputs from basic_monorepo ,chore: move turborepo profile test (#2544),add sync call add comment to sync call move profile test to cram remove build outputs from basic_monorepo
1754,Link to PR correcting .toFixed(N) bug,,Link to PR correcting .toFixed(N) bug,
1755,fix(turbo-ignore): replace an incorrect error message with a demonstrably correct one (#2197),,fix(turbo-ignore): replace an incorrect error message with a demonstrably correct one (#2197),
1756,Include trailing newline when serializing package.json (#2558),,Include trailing newline when serializing package.json (#2558),
1757,Fix build on FreeBSD (#2408),,Fix build on FreeBSD (#2408),
1758,docs: Add Supernova to showcase list (#2454),,docs: Add Supernova to showcase list (#2454),
1759,docs: Add BuildPass to showcase list (#2553),,docs: Add BuildPass to showcase list (#2553),
1760,fix: Ensure task outputs are sorted prior to hashing (#2430), use lockfile key and version instead of package name and version for external deps hash ensure task outputs are sorted prior to hashing add test for task output hashing and sorting Update hashes.,fix: Ensure task outputs are sorted prior to hashing (#2430),use lockfile key and version instead of package name and version for external deps hash ensure task outputs are sorted prior to hashing add test for task output hashing and sorting Update hashes.
1761,Remove vestigial images. (#2533),,Remove vestigial images. (#2533),
1762,Fixed indentation (#2535),The wrong codeblock indentation was causing render issues (showing the lang name inside the script),Fixed indentation (#2535),The wrong codeblock indentation was causing render issues (showing the lang name inside the script)
1763,Windows node gyp issues (#2540)," Revert ""ci(action): workaround windows node-gyp failure (#2504)""  This reverts commit 23f3d75dfbe936643355fe6c6a8e97c07700fed8.  Fix node-gyp build issue in cargo test pipeline  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Windows node gyp issues (#2540),"Revert ""ci(action): workaround windows node-gyp failure (#2504)"" This reverts commit 23f3d75dfbe936643355fe6c6a8e97c07700fed8. Fix node-gyp build issue in cargo test pipeline Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1764,Move architecture doc to turbopack (#2318),,Move architecture doc to turbopack (#2318),
1765,ci(actions): try to display clippy diff (#2541),,ci(actions): try to display clippy diff (#2541),
1766,ci(actions): store raw clippy output (#2498),,ci(actions): store raw clippy output (#2498),
1767,Update deterministic hashing utils (#2521),This updates our hashing library to do quick one-shot hashes of DeterministicHash inputs.,Update deterministic hashing utils (#2521),This updates our hashing library to do quick one-shot hashes of DeterministicHash inputs.
1768,Bump with-react-native-web to react@18.2 (#2523),,Bump with-react-native-web to react@18.2 (#2523),
1769,Fix Typo in Readme (#2405),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Fix Typo in Readme (#2405),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1770,chore(deps): update dependency @babel/core to v7.19.6 (#2485),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency @babel/core to v7.19.6 (#2485),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
1771,fix(doc): Delete json trailing commas (#2484),to make it valid,fix(doc): Delete json trailing commas (#2484),to make it valid
1772,Fix tabs view in package installation (#2514),Hi! I noticed that bash scripts in package installation page is kinda broken.,Fix tabs view in package installation (#2514),Hi! I noticed that bash scripts in package installation page is kinda broken.
1773,Update react in with-tailwind example (#2522),,Update react in with-tailwind example (#2522),
1774,fix: comment typo (#2500),accross -> across,fix: comment typo (#2500),accross -> across
1775,Add update.always=true config to Kodiak (#2530),,Add update.always=true config to Kodiak (#2530),
1776,publish 1.6.3 to registry (#2532),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.3 to registry (#2532),Co-authored-by: Turbobot turbobot@vercel.com
1777,publish 1.6.3-canary.0 to registry (#2531),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.3-canary.0 to registry (#2531),Co-authored-by: Turbobot turbobot@vercel.com
1778,Fix article heading line-height,,Fix article heading line-height,
1779,More Blazing fast,,More Blazing fast,
1780,Links to Next.js Conf,,Links to Next.js Conf,
1781,Fix og images,,Fix og images,
1782,Update turbopack-benchmarks.mdx,,Update turbopack-benchmarks.mdx,
1783,Fix line-height of blog post articles (#2527),,Fix line-height of blog post articles (#2527),
1784,Improve error message for missing task definitions (#2267),,Improve error message for missing task definitions (#2267),
1785,disable pagination links on blog (#2526),,disable pagination links on blog (#2526),
1786,Update turbopack-benchmarks.mdx,,Update turbopack-benchmarks.mdx,
1787,Update turbopack-benchmarks.mdx,,Update turbopack-benchmarks.mdx,
1788,fix (#2524),,fix (#2524),
1789,add benchmark documentation and blog post (#2492),Co-authored-by: Anthony Shew anthony.shew@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com,add benchmark documentation and blog post (#2492),Co-authored-by: Anthony Shew anthony.shew@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Will Binns-Smith wbinnssmith@gmail.com Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com
1790,fix: create-turbo update next version in templates (#2519),  update next version in create-turbo template   update next version in create-turbo pnpm template   create-turbo: update eslint-config-next ,fix: create-turbo update next version in templates (#2519),update next version in create-turbo template update next version in create-turbo pnpm template create-turbo: update eslint-config-next
1791,Fix rounding issue and use proper units (#2516),,Fix rounding issue and use proper units (#2516),
1792,Correct all domain and repository references. (#2508), Correct all domain references. Update URL paths. Adjust repository name. Update external links. Correct internal anchor links. No more relative links. Update infoLink URLs to not redirect. Remove outdated links. Update hashes.,Correct all domain and repository references. (#2508),Correct all domain references. Update URL paths. Adjust repository name. Update external links. Correct internal anchor links. No more relative links. Update infoLink URLs to not redirect. Remove outdated links. Update hashes.
1793,fix bad performance in ApplyVisitors (#2501), fix bad performance in ApplyVisitors  remove all allocations during visiting rust magic with lifetimes use binary search instead of hash map sort visitors initially  add some comments about the invariant,fix bad performance in ApplyVisitors (#2501),fix bad performance in ApplyVisitors remove all allocations during visiting rust magic with lifetimes use binary search instead of hash map sort visitors initially add some comments about the invariant
1794,ci(action): bump up rust-cache (#2505),,ci(action): bump up rust-cache (#2505),
1795,ci(action): workaround windows node-gyp failure (#2504),,ci(action): workaround windows node-gyp failure (#2504),
1796,feat(next/dev): allow to retry bind (#2480),,feat(next/dev): allow to retry bind (#2480),
1797,avoid to read_dir syscall for all files (#2495),,avoid to read_dir syscall for all files (#2495),
1798,optimize chunks to be a smaller (#2491),,optimize chunks to be a smaller (#2491),
1799,add TURBOPACK_BENCH_PROGRESS to show captured values during bench (#2490),,add TURBOPACK_BENCH_PROGRESS to show captured values during bench (#2490),
1800,improve chunk optimization (#2476),  improve chunk optimization to be smarter   handle very large chunks differently   handle single chunk edge case   smart merge of local chunks   count chunk items correctly   remove warning ,improve chunk optimization (#2476),improve chunk optimization to be smarter handle very large chunks differently handle single chunk edge case smart merge of local chunks count chunk items correctly remove warning
1801,change source map handling to not invalidate on file change (#2474),,change source map handling to not invalidate on file change (#2474),
1802,Simplify benchmark warmup (#2483),  Simplify benchmark warmup   Update crates/next-dev/benches/mod.rs   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com  fmt  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Simplify benchmark warmup (#2483),Simplify benchmark warmup Update crates/next-dev/benches/mod.rs Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com fmt Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1803,Avoid expensive background work (#2482),,Avoid expensive background work (#2482),
1804,update snapshots,,update snapshots,
1805,Use the same hashing logic for sourcemap names (#2475),  Use the same hashing logic for sourcemap names   Move truncated hash logic into a ModuleId method ,Use the same hashing logic for sourcemap names (#2475),Use the same hashing logic for sourcemap names Move truncated hash logic into a ModuleId method
1806,Warn on not-yet-supported module usage (#2422),,Warn on not-yet-supported module usage (#2422),
1807,Faster source map tracing (#2426),"  Store the sourcemap::SourceMap directly, instead of encoding it   Implement GenerateSourceMap trait and use it to retrieve live maps   Cleanup and comments!   Update safety comment   Rename var   Update snapshots   Update snapshots   Fix tracing errors in SSR   SSR has access to EcmascriptChunkVc, not EcmascriptChunkContentVc. Client gets access only to EcmascriptChunkContentVc  Fix source map sources on client  Because the JS is nested in dirs, the source needs to be an absolute path. Co-authored-by: Jared Palmer jared@jaredpalmer.com",Faster source map tracing (#2426),"Store the sourcemap::SourceMap directly, instead of encoding it Implement GenerateSourceMap trait and use it to retrieve live maps Cleanup and comments! Update safety comment Rename var Update snapshots Update snapshots Fix tracing errors in SSR SSR has access to EcmascriptChunkVc, not EcmascriptChunkContentVc. Client gets access only to EcmascriptChunkContentVc Fix source map sources on client Because the JS is nested in dirs, the source needs to be an absolute path. Co-authored-by: Jared Palmer jared@jaredpalmer.com"
1808,remove require hook (#2473),,remove require hook (#2473),
1809,Use dashmap+fxhash instead of flurry (#2431),"While profiling, I noticed we spent a lot of time locked in get_or_create_persistent_task while flurry's HashMap was resizing itself[1]. I swapped it with dashmap and I'm seeing 8% improvements on our 10k modules benchmark.   Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Use dashmap+fxhash instead of flurry (#2431),"While profiling, I noticed we spent a lot of time locked in get_or_create_persistent_task while flurry's HashMap was resizing itself[1]. I swapped it with dashmap and I'm seeing 8% improvements on our 10k modules benchmark. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
1810,chore(deps): update jamesives/github-pages-deploy-action action to v4.4.1 (#2244)," This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | JamesIves/github-pages-deploy-action | action | patch | v4.4.0 -> v4.4.1 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  JamesIves/github-pages-deploy-action  ### [`v4.4.1`](https://togithub.com/JamesIves/github-pages-deploy-action/releases/tag/v4.4.1)  [Compare Source](https://togithub.com/JamesIves/github-pages-deploy-action/compare/v4.4.0...v4.4.1)  #### What's Changed  -   The action now fully runs on Node 16. (Thank you [@​nickmccurdy](https://togithub.com/nickmccurdy))  #### Changelog  -   Bump eslint-plugin-jest from 26.5.3 to 26.7.0 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1177](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1177) -   Bump [@​types/node](https://togithub.com/types/node) from 18.0.6 to 18.6.3 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1178](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1178) -   Bump [@​actions/core](https://togithub.com/actions/core) from 1.9.0 to 1.9.1 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1186](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1186) -   Bump eslint-plugin-jest from 26.7.0 to 26.8.3 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1193](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1193) -   Bump [@​types/node](https://togithub.com/types/node) from 18.6.3 to 18.7.6 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1195](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1195) -   Typographical Error by [@​sojinsamuel](https://togithub.com/sojinsamuel) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1197](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1197) -   Typographical Error by [@​sojinsamuel](https://togithub.com/sojinsamuel) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1198](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1198) -   Bump eslint-plugin-jest from 26.8.3 to 26.8.7 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1200](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1200) -   Bump [@​types/node](https://togithub.com/types/node) from 18.7.6 to 18.7.13 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1202](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1202) -   Bump typescript from 4.7.4 to 4.8.3 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1215](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1215) -   Bump eslint-plugin-jest from 26.8.7 to 27.0.4 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1216](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1216) -   Bump [@​types/node](https://togithub.com/types/node) from 18.7.13 to 18.7.18 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1219](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1219) -   Bump codecov/codecov-action from 3.1.0 to 3.1.1 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1220](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1220) -   Use Node 16 by [@​nickmccurdy](https://togithub.com/nickmccurdy) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1221](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1221) -   Bump [@​types/node](https://togithub.com/types/node) from 18.7.18 to 18.8.0 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1233](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1233) -   Bump typescript from 4.8.3 to 4.8.4 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1227](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1227) -   Bump [@​actions/core](https://togithub.com/actions/core) from 1.9.1 to 1.10.0 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1230](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1230) -   Bump [@​actions/github](https://togithub.com/actions/github) from 5.0.3 to 5.1.1 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/JamesIves/github-pages-deploy-action/pull/1232](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1232)  #### New Contributors  -   [@​sojinsamuel](https://togithub.com/sojinsamuel) made their first contribution in [https://github.com/JamesIves/github-pages-deploy-action/pull/1197](https://togithub.com/JamesIves/github-pages-deploy-action/pull/1197)  **Full Changelog**: https://github.com/JamesIves/github-pages-deploy-action/compare/v4...v4.4.1    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update jamesives/github-pages-deploy-action action to v4.4.1 (#2244),"This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | JamesIves/github-pages-deploy-action | action | patch | v4.4.0 -> v4.4.1 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes JamesIves/github-pages-deploy-action module Compare Source What's Changed  The action now fully runs on Node 16. (Thank you @​nickmccurdy)  Changelog  Bump eslint-plugin-jest from 26.5.3 to 26.7.0 by @​dependabot in [link) Bump @​types/node from 18.0.6 to 18.6.3 by @​dependabot in [link) Bump @​actions/core from 1.9.0 to 1.9.1 by @​dependabot in [link) Bump eslint-plugin-jest from 26.7.0 to 26.8.3 by @​dependabot in [link) Bump @​types/node from 18.6.3 to 18.7.6 by @​dependabot in [link) Typographical Error by @​sojinsamuel in [link) Typographical Error by @​sojinsamuel in [link) Bump eslint-plugin-jest from 26.8.3 to 26.8.7 by @​dependabot in [link) Bump @​types/node from 18.7.6 to 18.7.13 by @​dependabot in [link) Bump typescript from 4.7.4 to 4.8.3 by @​dependabot in [link) Bump eslint-plugin-jest from 26.8.7 to 27.0.4 by @​dependabot in [link) Bump @​types/node from 18.7.13 to 18.7.18 by @​dependabot in [link) Bump codecov/codecov-action from 3.1.0 to 3.1.1 by @​dependabot in [link) Use Node 16 by @​nickmccurdy in [link) Bump @​types/node from 18.7.18 to 18.8.0 by @​dependabot in [link) Bump typescript from 4.8.3 to 4.8.4 by @​dependabot in [link) Bump @​actions/core from 1.9.1 to 1.10.0 by @​dependabot in [link) Bump @​actions/github from 5.0.3 to 5.1.1 by @​dependabot in [link)  New Contributors  @​sojinsamuel made their first contribution in [link)  Full Changelog: link Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
1811,Avoid recomputing all_assets_map on every change (#2464),  Avoid recomputing all_assets_map on every change   fix snapshot test and update snapshot   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Avoid recomputing all_assets_map on every change (#2464),Avoid recomputing all_assets_map on every change fix snapshot test and update snapshot Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
1812,fix workflow links (#2472),,fix workflow links (#2472),
1813,fix prettier (#2471),,fix prettier (#2471),
1814,improve performance for to_entry_snapshot (#2462),,improve performance for to_entry_snapshot (#2462),
1815,improve startup and warmup of benchmarks (#2463),,improve startup and warmup of benchmarks (#2463),
1816,Fix internal link in docs (#2465),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,Fix internal link in docs (#2465),Co-authored-by: Chris Olszewski chris.olszewski@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
1817,docs: change with-pnpm run command (#2468),,docs: change with-pnpm run command (#2468),
1818,make sure to exit the process in case of errors during errors sending (#2457),,make sure to exit the process in case of errors during errors sending (#2457),
1819,Breakdown /packages code ownership (#2459),,Breakdown /packages code ownership (#2459),
1820,refactor(next/dev): reusable start_server (#2455),,refactor(next/dev): reusable start_server (#2455),
1821,chore: typo (#2404),  chore: typo   Remove hot_module_replacement from snapshot tests   Re: #2351 Co-authored-by: Justin Ridgewell justin@ridgewell.name,chore: typo (#2404),chore: typo Remove hot_module_replacement from snapshot tests Re: #2351 Co-authored-by: Justin Ridgewell justin@ridgewell.name
1822,Fix large regression with turning ModuleRuleCondition::matches into a tt::fun (#2450),  Fix large regression with turning ModuleRuleConditionVc::matches into a tt::fun   Remove Vcs from ModuleRule altogether ,Fix large regression with turning ModuleRuleCondition::matches into a tt::fun (#2450),Fix large regression with turning ModuleRuleConditionVc::matches into a tt::fun Remove Vcs from ModuleRule altogether
1823,refactor(next/dev): allow devserver args serializable (#2446),,refactor(next/dev): allow devserver args serializable (#2446),
1824,publish 1.6.2 to registry (#2453),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.2 to registry (#2453),Co-authored-by: Turbobot turbobot@vercel.com
1825,Fix unnecessary question mark warnings (#2443)," Fix unused question marks warnings  Fix some return types that were giving clippy warnings, mostly needless_question_mark. Remaining warnings are either too_many_arguments or type_complexity.  Fix unncessary let binding  Co-authored-by: Justin Ridgewell justin@ridgewell.name",Fix unnecessary question mark warnings (#2443),"Fix unused question marks warnings Fix some return types that were giving clippy warnings, mostly needless_question_mark. Remaining warnings are either too_many_arguments or type_complexity. Fix unncessary let binding Co-authored-by: Justin Ridgewell justin@ridgewell.name"
1826,Fix unsound with_task_id_mapping impl (#2362),,Fix unsound with_task_id_mapping impl (#2362),
1827,prettier fixes (#2436),,prettier fixes (#2436),
1828,Update Next.js dependency for the TP benchmark (#2435),,Update Next.js dependency for the TP benchmark (#2435),
1829,Fix decrement_tasks incrementing instead (#2399),,Fix decrement_tasks incrementing instead (#2399),
1830,"Optimize {run_add_to,run_remove_from}_scope_queue (#2423)","  Optimize {run_add_to,run_remove_from}_scope_queue   Use an actual queue instead of a stack   Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com","Optimize {run_add_to,run_remove_from}_scope_queue (#2423)","Optimize {run_add_to,run_remove_from}_scope_queue Use an actual queue instead of a stack Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
1831,Replace unchecked Fut pin with pin_project_lite (#2364),,Replace unchecked Fut pin with pin_project_lite (#2364),
1832,More forgiving timeout when waiting for Node.js to connect (#2417),  More forgiving timeout when waiting for Node.js to connect   10ms -> 30s ,More forgiving timeout when waiting for Node.js to connect (#2417),More forgiving timeout when waiting for Node.js to connect 10ms -> 30s
1833,Source map tracing fixes (#2402),,Source map tracing fixes (#2402),
1834,Revamp snapshot tests (#2351)," Disable HMR for snapshot tests  The only effect is that we don't emit source maps for the individual chunk items, reducing the total number of output files considerably.   Extract snapshot tests into separate crate   Strip annoying file hash fingerprints   Reduce deps   Update old references to turbopack/test/snapshot   Move node_modules out of snapshot dir   Only un-fingerprint EcmascriptChunkSourceMapAssetVc source maps   Fix gitignore   Remove dbg   TAPLO   Apply suggestions from code review   Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com  Use eprintln  Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com",Revamp snapshot tests (#2351),"Disable HMR for snapshot tests The only effect is that we don't emit source maps for the individual chunk items, reducing the total number of output files considerably. Extract snapshot tests into separate crate Strip annoying file hash fingerprints Reduce deps Update old references to turbopack/test/snapshot Move node_modules out of snapshot dir Only un-fingerprint EcmascriptChunkSourceMapAssetVc source maps Fix gitignore Remove dbg TAPLO Apply suggestions from code review Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com Use eprintln Co-authored-by: Alex Kirszenberg a.kirszenberg@gmail.com"
1835,Fix lockfile (#2439),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Fix lockfile (#2439),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1836,Update CODEOWNERS config (#2440),"Both teams own by default, but specific files/dirs are owned by specific teams.",Update CODEOWNERS config (#2440),"Both teams own by default, but specific files/dirs are owned by specific teams."
1837,Add turbopack team to CODEOWNERS (#2420),,Add turbopack team to CODEOWNERS (#2420),
1838,Add Next.js require hook (#2434),This hook is needed to ensure we properly map compiled modules like styled-jsx correctly.  x-ref: slack thread,Add Next.js require hook (#2434),This hook is needed to ensure we properly map compiled modules like styled-jsx correctly.  x-ref: slack thread
1839,"Revert ""Revert ""Support comments in tsconfig.json"""" (#2433)",,"Revert ""Revert ""Support comments in tsconfig.json"""" (#2433)",
1840,"Revert ""Support comments in tsconfig.json"" (#2432)",,"Revert ""Support comments in tsconfig.json"" (#2432)",
1841,Support comments in tsconfig.json (#2429),,Support comments in tsconfig.json (#2429),
1842,chore(docs): improve description of --force and --no-cache (#2425),,chore(docs): improve description of --force and --no-cache (#2425),
1843,tests(turbo): Rust CLI Tests (#2379),,tests(turbo): Rust CLI Tests (#2379),
1844,use lockfile key and version instead of package name and version for external deps hash (#2424),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,use lockfile key and version instead of package name and version for external deps hash (#2424),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1845,Add area label to turbopack bug reports (#2419),,Add area label to turbopack bug reports (#2419),
1846,Do not forget (#2418),,Do not forget (#2418),
1847,Docs: Add Backpack to Turbo Showcase page (#2413),:wave: Thanks Jared & Vercel !! Turbo is epic 💪🏻 Backpack is a cross-chain wallet for the web & mobile. We use turbo all day long across our entire ecosystem. Thanks!,Docs: Add Backpack to Turbo Showcase page (#2413),:wave: Thanks Jared & Vercel !! Turbo is epic 💪🏻 Backpack is a cross-chain wallet for the web & mobile. We use turbo all day long across our entire ecosystem. Thanks!
1848,Move removed redirect rule to bottom (#2323),As per @jaredpalmer and @tknickman suggestion I am moving the rule to the bottom instead (adding it back),Move removed redirect rule to bottom (#2323),As per @jaredpalmer and @tknickman suggestion I am moving the rule to the bottom instead (adding it back)
1849,Run prettier to fix formatting errors (#2403),,Run prettier to fix formatting errors (#2403),
1850,we don't ship lto so we shouldn't benchmark it (#2392),,we don't ship lto so we shouldn't benchmark it (#2392),
1851,Make turbotrace test project as an independent package (#2366),"Make the crates/turbopack/tests/node-file-trace as an independent pnpm workspace. This brings 2 advantages:  Developers won't be annoyed by the installation failure issues caused by weird dependencies in the tests/node-file-trace. We can test the turbotrace in the normal pnpm mode and yarn/npm like mode with the node-linker = ""hoist"" setting.  This PR also fixes the bench-turbotrace-against-node-nft workflow: https://github.com/vercel/turbo/actions/runs/3328071952/jobs/5503635765",Make turbotrace test project as an independent package (#2366),"Make the crates/turbopack/tests/node-file-trace as an independent pnpm workspace. This brings 2 advantages: Developers won't be annoyed by the installation failure issues caused by weird dependencies in the tests/node-file-trace. We can test the turbotrace in the normal pnpm mode and yarn/npm like mode with the node-linker = ""hoist"" setting. This PR also fixes the bench-turbotrace-against-node-nft workflow: link"
1852,Switch to inverted definition. (#2367),"Previously we allow-listed the build targets that we supported. This switches to ""best effort"" for Unix-y platforms that we don't support. Closes #2339",Switch to inverted definition. (#2367),"Previously we allow-listed the build targets that we supported. This switches to ""best effort"" for Unix-y platforms that we don't support. Closes #2339"
1853,Fixed an issue where the graph benchmark bars were too small when under a second (#2384),,Fixed an issue where the graph benchmark bars were too small when under a second (#2384),
1854,Update degit instructions in examples with new repo address (#2396),,Update degit instructions in examples with new repo address (#2396),
1855,Speed up NoMoveVec allocations (#2398),"This speeds up NoMoveVec allocations by ensuring that new bucket initialization is just as fast as calloc. Before, we would initialize everything as Option<T>::None, which is not guaranteed to match a zeroed value because of niche optimization[1]. This comes at the cost of slightly higher memory usage, but that should be more than offset by https://github.com/vercel/turbo/pull/2395. [1] https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=e60c0bfa4d32a3609fd39299a1c79c29",Speed up NoMoveVec allocations (#2398),"This speeds up NoMoveVec allocations by ensuring that new bucket initialization is just as fast as calloc. Before, we would initialize everything as Option::None, which is not guaranteed to match a zeroed value because of niche optimization[1]. This comes at the cost of slightly higher memory usage, but that should be more than offset by link. [1] link"
1856,Warn on not-yet-supported import.meta usage (#2397),"This implements a warning when import.meta is referenced, both as a standalone expression (import.meta) and as a member expression (import.meta.url, import.meta.foo, etc.). To do:  * [x] This expression covers both import.meta as well as new.target. Investigate how this usage is impacted and handle it. Test Plan:  * Added a import.meta expression and import.meta.url member expression in a test app and verified both were flagged (see below) * In the same test app, verified using new.target was not flagged. ``` path/to/testapp/src/index.jsx:1:12  error TP1106 import.meta is not yet supported        1 > console.log(import.meta);        2   console.log(import.meta.url);        3         4   function Foo() {        5     new.target; path/to/testapp/src/index.jsx:2:12  error TP1106 import.meta is not yet supported        1   console.log(import.meta);        2 > console.log(import.meta.url);        3         4   function Foo() {        5     new.target;        6   } ```",Warn on not-yet-supported import.meta usage (#2397),"This implements a warning when import.meta is referenced, both as a standalone expression (import.meta) and as a member expression (import.meta.url, import.meta.foo, etc.). To do:  * [x] This expression covers both import.meta as well as new.target. Investigate how this usage is impacted and handle it. Test Plan:  * Added a import.meta expression and import.meta.url member expression in a test app and verified both were flagged (see below) * In the same test app, verified using new.target was not flagged. module"
1857,Don't allocate collectibles unless necessary (#2395),"The Task struct is a chonk at 592 bytes. We allocate millions of these, so it adds up very quickly to a massive memory overhead. This PR saves 88 bytes for every task we create that will never have collectibles during its lifetime, bringing the size of a Task to only 504 bytes.",Don't allocate collectibles unless necessary (#2395),"The Task struct is a chonk at 592 bytes. We allocate millions of these, so it adds up very quickly to a massive memory overhead. This PR saves 88 bytes for every task we create that will never have collectibles during its lifetime, bringing the size of a Task to only 504 bytes."
1858,benchmark update contrast (#2393),,benchmark update contrast (#2393),
1859,Update examples to next@latest (#2324),,Update examples to next@latest (#2324),
1860,Implement nsObj helper from webpack tests and pass basic import test (#2385),,Implement nsObj helper from webpack tests and pass basic import test (#2385),
1861,Add Audience Analytics to turbo.build site (#2387),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add Audience Analytics to turbo.build site (#2387),Co-authored-by: Jared Palmer jared@jaredpalmer.com
1862,feat: add shim to help and version integration tests (#2386),  add shim to help and version integration tests   add shim to integration-tests deps ,feat: add shim to help and version integration tests (#2386),add shim to help and version integration tests add shim to integration-tests deps
1863,The glibc patch for the Dockerfile was only applied to the builder (#2335),  Apply glibc patch to the installer stage of both dockerfiles in the with-docker example   Update the docs with the updated Dockerfile   Use other dockerfile in docs   fixup bad lockfile   Co-authored-by: Chris Olszewski chris.olszewski@vercel.com,The glibc patch for the Dockerfile was only applied to the builder (#2335),Apply glibc patch to the installer stage of both dockerfiles in the with-docker example Update the docs with the updated Dockerfile Use other dockerfile in docs fixup bad lockfile Co-authored-by: Chris Olszewski chris.olszewski@vercel.com
1864,Update README.md,,Update README.md,
1865,Update README.md,,Update README.md,
1866,add yarn install to with-docker setup (#2381),,add yarn install to with-docker setup (#2381),
1867,chore(readme): fix typo (#2383),,chore(readme): fix typo (#2383),
1868,fix: prune should omit descriptors from peerDependencies (#2269),"Partially addresses #2049  Yarn 2+ doesn't expect descriptors that appear in peerDependencies to be kept. This behavior only manifested in a lockfile where a pruned package had a normal dependency descriptor that also appeared as a peer dependency descriptor in a package that wasn't pruned. As background ""descriptor"" is the term Yarn uses for a semver range that appears in a package.json or lockfile entry. Amended the minimal berry lockfile to now test that we don't keep around descriptors even if they appear in peerDependencies.",fix: prune should omit descriptors from peerDependencies (#2269),"Partially addresses #2049  Yarn 2+ doesn't expect descriptors that appear in peerDependencies to be kept. This behavior only manifested in a lockfile where a pruned package had a normal dependency descriptor that also appeared as a peer dependency descriptor in a package that wasn't pruned. As background ""descriptor"" is the term Yarn uses for a semver range that appears in a package.json or lockfile entry. Amended the minimal berry lockfile to now test that we don't keep around descriptors even if they appear in peerDependencies."
1869,chore(docs): fix broken links (#2373),Co-authored-by: Jared Palmer jared@jaredpalmer.com,chore(docs): fix broken links (#2373),Co-authored-by: Jared Palmer jared@jaredpalmer.com
1870,fix: why turborepo? link (#2354),,fix: why turborepo? link (#2354),
1871,Fix links for Architecture: Registry (#2368),,Fix links for Architecture: Registry (#2368),
1872,"chore(docs): fix broken ""installing the turbo"" link (#2376)","The ""installing the turbo"" link leads to a 404 page. The link can be found here: https://turbo.build/repo/docs/reference/command-line-reference","chore(docs): fix broken ""installing the turbo"" link (#2376)","The ""installing the turbo"" link leads to a 404 page. The link can be found here: link"
1873,feature(rust): bin command porting (#2234),"Ported bin command to Rust. Also ported the help flag to Rust. NOTE: This does mean that if we change commands on the Go side, we will need to fix the Rust help screen. We can disable the Rust help flag and keep the Go one if that is too confusing. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com",feature(rust): bin command porting (#2234),"Ported bin command to Rust. Also ported the help flag to Rust. NOTE: This does mean that if we change commands on the Go side, we will need to fix the Rust help screen. We can disable the Rust help flag and keep the Go one if that is too confusing. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com"
1874,chore(docs): cache false doesn't ignore dependsOn (#2342),,chore(docs): cache false doesn't ignore dependsOn (#2342),
1875,fix: license link not found (#2358),,fix: license link not found (#2358),
1876,Fix twitter link on Turbopack README (#2360),,Fix twitter link on Turbopack README (#2360),
1877,chore(deps): update pnpm/action-setup action to v2.2.4 (#2281)," This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | pnpm/action-setup | action | patch | v2.2.3 -> v2.2.4 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  pnpm/action-setup  ### [`v2.2.4`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.4)  [Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.3...v2.2.4)  No deprecation warnings are printed about set-state and set-output commands ([https://github.com/pnpm/action-setup/issues/57](https://togithub.com/pnpm/action-setup/issues/57))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update pnpm/action-setup action to v2.2.4 (#2281),"This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | pnpm/action-setup | action | patch | v2.2.3 -> v2.2.4 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes pnpm/action-setup module Compare Source No deprecation warnings are printed about set-state and set-output commands ([link)) Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
1878,fix(shim): Ignore shim in cargo workspace (#2345),Just a quick fix to get the turbo shim compiling. In the future we can add the shim to the workspace but there's some slightly annoying issues with dependencies rn.,fix(shim): Ignore shim in cargo workspace (#2345),Just a quick fix to get the turbo shim compiling. In the future we can add the shim to the workspace but there's some slightly annoying issues with dependencies rn.
1879,Fix link in turbopack readme (#2341),,Fix link in turbopack readme (#2341),
1880,Remove line break in repo hero text (#2338),,Remove line break in repo hero text (#2338),
1881,Docs: Add Rocket.Chat to Turbo Showcase page (#2331),"Hi, first of all, AMAZING work on turbo! We've been using turbo in our primary project (https://github.com/RocketChat/Rocket.Chat) since April this year. This pr is adding Rocket.Chat to the showcase page.  Thanks!",Docs: Add Rocket.Chat to Turbo Showcase page (#2331),"Hi, first of all, AMAZING work on turbo! We've been using turbo in our primary project (link) since April this year. This pr is adding Rocket.Chat to the showcase page.  Thanks!"
1882,Fix typo in migrating-to-a-monorepo.mdx (#2321),,Fix typo in migrating-to-a-monorepo.mdx (#2321),
1883,Fix typo (#2332),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Fix typo (#2332),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
1884,chore: fix multiple typos (#2333),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,chore: fix multiple typos (#2333),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1885,Fixed the link in a documentation (#2334),,Fixed the link in a documentation (#2334),
1886,Fix typo (#2326),,Fix typo (#2326),
1887,add missing --input flag for the Tailwind command (#2329),,add missing --input flag for the Tailwind command (#2329),
1888,fix: twitter handle for Tobias in Readme (#2328),,fix: twitter handle for Tobias in Readme (#2328),
1889,Add a missing dash (#2330),,Add a missing dash (#2330),
1890,Fix typo,,Fix typo,
1891,fix twitter handle,,fix twitter handle,
1892,Remove wildcard redirect rule from list (#2322),,Remove wildcard redirect rule from list (#2322),
1893,Update react & next in turborepo examples (#2317),Co-authored-by: Gaspar Garcia gaspar@vercel.com,Update react & next in turborepo examples (#2317),Co-authored-by: Gaspar Garcia gaspar@vercel.com
1894,Merge pull request #2315 from vercel/feat/turbopack,Make ship happen The Snozzberries taste like Snozzberries...!,Merge pull request #2315 from vercel/feat/turbopack,Make ship happen The Snozzberries taste like Snozzberries...!
1895,Add dynamic OG card (#278),Adopt OG image generator.,Add dynamic OG card (#278),Adopt OG image generator.
1896,fix node.js 18.9 (#302),,fix node.js 18.9 (#302),
1897,benchmark with 2 digit timer (#301),,benchmark with 2 digit timer (#301),
1898,Fix broken link. (#300),,Fix broken link. (#300),
1899,sort errors by relevance (#299),,sort errors by relevance (#299),
1900,Bump nextra to fix hamburger menu AX (#298),,Bump nextra to fix hamburger menu AX (#298),
1901,fix inconsistent asset writes (#296),,fix inconsistent asset writes (#296),
1902,fix: update GitHub links (#279),Co-authored-by: Mehul Kar mehul.kar@vercel.com,fix: update GitHub links (#279),Co-authored-by: Mehul Kar mehul.kar@vercel.com
1903,use error overlay in app layouts (#294),,use error overlay in app layouts (#294),
1904,Merge branch 'staging' of https://github.com/vercel/the-three-body into staging,,Merge branch 'staging' of link into staging,
1905,Tweak docs,,Tweak docs,
1906,align footer content (#273),,align footer content (#273),
1907,Fix format check (#289),,Fix format check (#289),
1908,Remove comma,,Remove comma,
1909,Fix turbopack subtitle,,Fix turbopack subtitle,
1910,Add text label to logo svgs (#293),,Add text label to logo svgs (#293),
1911,zachward/meng-560-graph-full-bleed-2 (#276),,zachward/meng-560-graph-full-bleed-2 (#276),
1912,Use an absolute path instead of a relative path for the fallback page (#282),This fixes http://localhost:3000/layouts/electronics trying to load http://localhost:3000/layouts/_chunks/* when it shows the fallback page.,Use an absolute path instead of a relative path for the fallback page (#282),This fixes link trying to load link/* when it shows the fallback page.
1913,improve node.js pool process error handling (#287),,improve node.js pool process error handling (#287),
1914,fix multiple chunking contextes (#288),,fix multiple chunking contextes (#288),
1915,Finished core concepts doc (#292),,Finished core concepts doc (#292),
1916,Remove redundant 'Link' prefix in link AX titles (#291),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Remove redundant 'Link' prefix in link AX titles (#291),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1917,Add titles to links that don't have text (#290),"Follow up on #283. These didn't show up in Chrome LIghthouse Accessibility report, but showed up in Safari's Audit. Another way to find them is: js [...document.querySelectorAll('a')].filter(x => x.innerText== '' && !x.getAttribute('title'))",Add titles to links that don't have text (#290),"Follow up on #283. These didn't show up in Chrome LIghthouse Accessibility report, but showed up in Safari's Audit. Another way to find them is: js [...document.querySelectorAll('a')].filter(x => x.innerText== '' && !x.getAttribute('title'))"
1918,"Fix Lighthouse score for home, /pack, and /repo pages (#283)",,"Fix Lighthouse score for home, /pack, and /repo pages (#283)",
1919,Update contrast on benchmark bars (#284),,Update contrast on benchmark bars (#284),
1920,Fixup @headlessui/react dependency (#285),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com,Fixup @headlessui/react dependency (#285),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com
1921,Use a TCP connection for IPC between Node and TP (#251),"Instead of using stdout for communication between the Node.js process and the Turbopack instance, this PR switches to a TCP connection. Furthermore, stdout and stderr are now piped between the Node.js process and Turbopack.",Use a TCP connection for IPC between Node and TP (#251),"Instead of using stdout for communication between the Node.js process and the Turbopack instance, this PR switches to a TCP connection. Furthermore, stdout and stderr are now piped between the Node.js process and Turbopack."
1922,feat: add docs CTA (#275),"First pass at getting this CTA setup, primarily putting this up to get feedback/fixups on the CSS for the CTA itself. Still looking for a good way with nextra to get this CTA on all of the docs pages.",feat: add docs CTA (#275),"First pass at getting this CTA setup, primarily putting this up to get feedback/fixups on the CSS for the CTA itself. Still looking for a good way with nextra to get this CTA on all of the docs pages."
1923,Fix bad merge (#281),,Fix bad merge (#281),
1924,expose assets from fallback page (#280),,expose assets from fallback page (#280),
1925,Fix tracing of node_modules files not emitted by pages (#249),"Because the static SSR renderer doesn't emit files that exist in node_modules (because we take advantage of node's native require resolution), any paths that traced into node_modules would output the full file system path. It's just verbose and annoying. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Fix tracing of node_modules files not emitted by pages (#249),"Because the static SSR renderer doesn't emit files that exist in node_modules (because we take advantage of node's native require resolution), any paths that traced into node_modules would output the full file system path. It's just verbose and annoying. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1926,"Add licenses to all crates, deny dependencies without a license or with an incompatible license (#106)","For this, we're using https://github.com/EmbarkStudios/cargo-deny, which will check all dependencies transitively for any incompatible/missing license. There are other interesting checks in there, but for now this is the most important. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com","Add licenses to all crates, deny dependencies without a license or with an incompatible license (#106)","For this, we're using link, which will check all dependencies transitively for any incompatible/missing license. There are other interesting checks in there, but for now this is the most important. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1927,Replace Site Switcher HTML with anchor tags (#272),,Replace Site Switcher HTML with anchor tags (#272),
1928,Fix mobile menu (#277),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Fix mobile menu (#277),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1929,clippy (#266),,clippy (#266),
1930,Update roadmap,,Update roadmap,
1931,"Create an app root layout if app/page.{js,tsx} exists but layout does not (#264)","This makes turbopack automatically create app/layout.js if app/page.js exists, or app/layout.tsx if app/page.tsx exists, and neither layout file already exists. Note that I'd prefer this issue to have info severity, but even with a higher log level of info, the issue is never shown. Filed #265 to track this. Test Plan: In a new create-next-app, opt into appDirectory and create app/page.js. Run turbopack and verify: * [x] the index page renders correctly * [x] An issue with Warning level is logged notifying the user an app/layout.js was created * [x] app/layout.js is actually created with basic root layout In a new create-next-app, opt into appDirectory and create app/page.tsx. Run turbopack and verify: * [x] the index page renders correctly * [x] An issue with Warning level is logged notifying the user an app/layout.tsx was created * [x] app/layout.tsx is actually created with basic root layout In a new create-next-app, opt into appDirectory and create app/page.tsx. Also create a basic app/layout.js (note js layout with tsx page). Add a custom <title> to the layout. Run turbopack and verify: * [x] the index page renders correctly * [x] No issue is logged * [x] No files are modified * [x] The custom <title> is reflected.","Create an app root layout if app/page.{js,tsx} exists but layout does not (#264)","This makes turbopack automatically create app/layout.js if app/page.js exists, or app/layout.tsx if app/page.tsx exists, and neither layout file already exists. Note that I'd prefer this issue to have info severity, but even with a higher log level of info, the issue is never shown. Filed #265 to track this. Test Plan: In a new create-next-app, opt into appDirectory and create app/page.js. Run turbopack and verify: * [x] the index page renders correctly * [x] An issue with Warning level is logged notifying the user an app/layout.js was created * [x] app/layout.js is actually created with basic root layout In a new create-next-app, opt into appDirectory and create app/page.tsx. Run turbopack and verify: * [x] the index page renders correctly * [x] An issue with Warning level is logged notifying the user an app/layout.tsx was created * [x] app/layout.tsx is actually created with basic root layout In a new create-next-app, opt into appDirectory and create app/page.tsx. Also create a basic app/layout.js (note js layout with tsx page). Add a custom  to the layout. Run turbopack and verify: * [x] the index page renders correctly * [x] No issue is logged * [x] No files are modified * [x] The custom  is reflected."
1932,Added comparison pages for Vite and Webpack (#252),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com,Added comparison pages for Vite and Webpack (#252),Co-authored-by: Nicholas Yang nicholas.yang@vercel.com
1933,Fix fallback page error overlay (#268),,Fix fallback page error overlay (#268),
1934,Updated repo letter (#262),,Updated repo letter (#262),
1935,Added showcase to all pages (#270),,Added showcase to all pages (#270),
1936,Removed cache metric (#258),,Removed cache metric (#258),
1937,Turbo Engine -> the Turbo engine (#269),,Turbo Engine -> the Turbo engine (#269),
1938,fix(docs): Danglers + OG Images (#260),,fix(docs): Danglers + OG Images (#260),
1939,fix: Update discord links to turbo.build/discord (#241),,fix: Update discord links to turbo.build/discord (#241),
1940,Possible fix for poor landing page perf (#267),,Possible fix for poor landing page perf (#267),
1941,move feature detection to next.js (#263),,move feature detection to next.js (#263),
1942,Padmaia/why turbopack cleanup (#259),"Some grammar/wording/correctness cleanup of the ""Why Turbopack docs""",Padmaia/why turbopack cleanup (#259),"Some grammar/wording/correctness cleanup of the ""Why Turbopack docs"""
1943,Refactor dropdown to use listbox (#240),Co-authored-by: Mehul Kar mehul.kar@vercel.com,Refactor dropdown to use listbox (#240),Co-authored-by: Mehul Kar mehul.kar@vercel.com
1944,Added tailwindcss and postcss sections (#261),,Added tailwindcss and postcss sections (#261),
1945,Added roadmap page (#242),,Added roadmap page (#242),
1946,Benchmark numbers (#256),Co-authored-by: Matt Pocock mattpocockvoice@gmail.com,Benchmark numbers (#256),Co-authored-by: Matt Pocock mattpocockvoice@gmail.com
1947,Fixed images in core concepts page (#244),Made the images landscape Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com,Fixed images in core concepts page (#244),Made the images landscape Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com
1948,App CSS and fixes (#246),fix app layout transition add global css support,App CSS and fixes (#246),fix app layout transition add global css support
1949,Update to properly use next-seo. (#245),Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Henry Heffernan henryheffernan@gmail.com Co-authored-by: ernestd lapapelera@gmail.com,Update to properly use next-seo. (#245),Co-authored-by: Mehul Kar mehul.kar@vercel.com Co-authored-by: Henry Heffernan henryheffernan@gmail.com Co-authored-by: ernestd lapapelera@gmail.com
1950,Wrote dev server section (#234),Co-authored-by: Mehul Kar mehul.kar@vercel.com,Wrote dev server section (#234),Co-authored-by: Mehul Kar mehul.kar@vercel.com
1951,Added React Server Components section (#243),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com,Added React Server Components section (#243),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com
1952,Removed TODO section of imports (#233),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com,Removed TODO section of imports (#233),Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com
1953,fix(docs): Fix landing gradients for landing page (#254),,fix(docs): Fix landing gradients for landing page (#254),
1954,Fixed broken build in docs (#255),,Fixed broken build in docs (#255),
1955,Merge remote-tracking branch 'origin/staging' into staging,,Merge remote-tracking branch 'origin/staging' into staging,
1956,Merge remote-tracking branch 'turbo/main' into staging,,Merge remote-tracking branch 'turbo/main' into staging,
1957,add HMR for RSC component changes (#202),,add HMR for RSC component changes (#202),
1958,fix(docs): Word wrapping on all landing pages (#248),,fix(docs): Word wrapping on all landing pages (#248),
1959,Apply Next SSG transform (#130),"This adds the Next SSG transform. This transform does a few things, but the one we're most interested in right now is the removal of getStaticProps/getServerSideProps/etc. from page modules. HMR will be disabled if these exports are preserved. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Apply Next SSG transform (#130),"This adds the Next SSG transform. This transform does a few things, but the one we're most interested in right now is the removal of getStaticProps/getServerSideProps/etc. from page modules. HMR will be disabled if these exports are preserved. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
1960,Implement source map tracing for errors (#227),Fixes https://github.com/vercel/web-tooling-internal/issues/67,Implement source map tracing for errors (#227),Fixes link
1961,Proxy the new sitemap.xml,,Proxy the new sitemap.xml,
1962,add spacing to the error message (#235),,add spacing to the error message (#235),
1963,docs: Move  to bottom of intro,,docs: Move  to bottom of intro,
1964,docs: link to vercel in the nav (#198),,docs: link to vercel in the nav (#198),
1965,Remove all references to .com (#237),,Remove all references to .com (#237),
1966,Fix the block status. (#238),,Fix the block status. (#238),
1967,Reposition Turbopack hexagon to align with ripples and Turbopack icon. (#232),,Reposition Turbopack hexagon to align with ripples and Turbopack icon. (#232),
1968,Remove distributed since that's not shipping yet. (#219),,Remove distributed since that's not shipping yet. (#219),
1969,"Update readme to mention contrib, contrib to mention troubleshooting (#214)",,"Update readme to mention contrib, contrib to mention troubleshooting (#214)",
1970,New turbopack intro (#207),Co-authored-by: Rich Harris hello@rich-harris.dev Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,New turbopack intro (#207),Co-authored-by: Rich Harris hello@rich-harris.dev Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1971,s/Join the/Subscribe to the (#223),Fix the newsletter verbiage.,s/Join the/Subscribe to the (#223),Fix the newsletter verbiage.
1972,Prevent the title from changing unnecessarily. (Correct metadata.) (#224),"This goes through the process of cleaning up all of the metadata to ensure that we don't have ""flashing"" title as parts of the JS runs; instead making sure the server-sent value is always correct.",Prevent the title from changing unnecessarily. (Correct metadata.) (#224),"This goes through the process of cleaning up all of the metadata to ensure that we don't have ""flashing"" title as parts of the JS runs; instead making sure the server-sent value is always correct."
1973,upgrade nextra and nextra-theme-docs (#218),,upgrade nextra and nextra-theme-docs (#218),
1974,Change the grid responsive behavior to prevent overflow. (#221),,Change the grid responsive behavior to prevent overflow. (#221),
1975,Move the key to the correct element (#225),,Move the key to the correct element (#225),
1976,Rework troubleshooting document. (#226),,Rework troubleshooting document. (#226),
1977,Correct code for masking. (#220),Co-authored-by: Emil Kowalski e@emilkowal.ski,Correct code for masking. (#220),Co-authored-by: Emil Kowalski e@emilkowal.ski
1978,Fix footer alignment and cut off (#231),This aligns footer navigation with our header + theme switcher + adds a fade to the top of the footer so the gradient above doesn't get cut-off. Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,Fix footer alignment and cut off (#231),This aligns footer navigation with our header + theme switcher + adds a fade to the top of the footer so the gradient above doesn't get cut-off. Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
1979,Correct clickable area in CTAButton. (#230),,Correct clickable area in CTAButton. (#230),
1980,Switch to rust-powered from rust-based. (#229),"We use ""rust-powered"" and ""rust-based"" inconsistently, this makes it consistent, standardizing on ""rust-powered""",Switch to rust-powered from rust-based. (#229),"We use ""rust-powered"" and ""rust-based"" inconsistently, this makes it consistent, standardizing on ""rust-powered"""
1981,Use inlined SVG to remove jank. (#228),The wordmark logos can be janky when animating while inverted in SVG. This just switches to standard fills by inlining the SVG.,Use inlined SVG to remove jank. (#228),The wordmark logos can be janky when animating while inverted in SVG. This just switches to standard fills by inlining the SVG.
1982,fix lockfile,,fix lockfile,
1983,build(cargo): bump up swc_core (#217),,build(cargo): bump up swc_core (#217),
1984,"Revert ""build(cargo): bump up swc_core"" (#216)",Reverts vercel/the-three-body#213,"Revert ""build(cargo): bump up swc_core"" (#216)",Reverts vercel/the-three-body#213
1985,build(cargo): bump up swc_core (#213),Final candidate before release.,build(cargo): bump up swc_core (#213),Final candidate before release.
1986,Fix a warning with 'use client' (#211),,Fix a warning with 'use client' (#211),
1987,Move all TS errors to Issue (#208),,Move all TS errors to Issue (#208),
1988,Add back Next's React compiled dists (#209),Required to get the layout-playground demo working.,Add back Next's React compiled dists (#209),Required to get the layout-playground demo working.
1989,fix(docs): Fix landing page conflict (#210),,fix(docs): Fix landing page conflict (#210),
1990,/docs: accessibility improvements (#204),Co-authored-by: Henry Heffernan henryheffernan@gmail.com,/docs: accessibility improvements (#204),Co-authored-by: Henry Heffernan henryheffernan@gmail.com
1991,fix(docs): Speed up mounting animations (#200),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix(docs): Speed up mounting animations (#200),Co-authored-by: Jared Palmer jared@jaredpalmer.com
1992,feat(docs): Static Logos for landing page (#201),,feat(docs): Static Logos for landing page (#201),
1993,fix(docs): Misc polish items (#205),,fix(docs): Misc polish items (#205),
1994,add dash to error output (#206),,add dash to error output (#206),
1995,update lockfile,,update lockfile,
1996,Added Migrating from Webpack page (#105),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,Added Migrating from Webpack page (#105),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
1997,Added more pages to features (#153),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Added more pages to features (#153),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
1998,Some docs suggestions (#186),,Some docs suggestions (#186),
1999,fix(docs): correct page titles,,fix(docs): correct page titles,
2000,"feat(docs): readmes for root, turbopack, turborepo (#128)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com,"feat(docs): readmes for root, turbopack, turborepo (#128)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com
2001,fix(docs): adjust signature to match dark mode (#195),,fix(docs): adjust signature to match dark mode (#195),
2002,"fix(docs): hide ""docs"" header in the sidebar (#197)",,"fix(docs): hide ""docs"" header in the sidebar (#197)",
2003,build(cargo): bump up swc_core (#196),,build(cargo): bump up swc_core (#196),
2004,fix app layouts (#190),Seems like app layout was left behind while shipping features to normal SSR rendering  fixes fallback error pages (update to error fallback changes) fixes process communication (update to api route changes) avoid busy looping update to next.js updates fix resolving cycle fix HMR of client components add some hard coded external packages,fix app layouts (#190),Seems like app layout was left behind while shipping features to normal SSR rendering fixes fallback error pages (update to error fallback changes) fixes process communication (update to api route changes) avoid busy looping update to next.js updates fix resolving cycle fix HMR of client components add some hard coded external packages
2005,"Revert ""hint about non-turbo next.js"" (#194)",Reverts vercel/the-three-body#191 reverting this since app layout as a hot reloader with /_next/webpack-hmr hard-coded.,"Revert ""hint about non-turbo next.js"" (#194)",Reverts vercel/the-three-body#191 reverting this since app layout as a hot reloader with /_next/webpack-hmr hard-coded.
2006,avoid reporting long requests (#192),,avoid reporting long requests (#192),
2007,hint about non-turbo next.js (#191),Co-authored-by: Justin Ridgewell justin@ridgewell.name,hint about non-turbo next.js (#191),Co-authored-by: Justin Ridgewell justin@ridgewell.name
2008,return None for non-node.js environments (#189),"This code is not unreachable, turbopack uses non-node.js environments too",return None for non-node.js environments (#189),"This code is not unreachable, turbopack uses non-node.js environments too"
2009,Hide long running tasks unless log_function_stats feature enabled (#188),,Hide long running tasks unless log_function_stats feature enabled (#188),
2010,feat(devserver): try to bind instead of explicit (#187),"This PR attempts to try to bind server and bubbles up error, instead of explicit bind which panics internally if it wasn't possible to bind.",feat(devserver): try to bind instead of explicit (#187),"This PR attempts to try to bind server and bubbles up error, instead of explicit bind which panics internally if it wasn't possible to bind."
2011,Silence webpack-hmr endpoint in logs (#185),"This special-cases the /_next/webpack-hmr endpoint to be silenced in the logs turbopack prints to stdio. While clients built with turbopack's next-dev won't make these requests, current Next.js clients will, which users might still have around while experimenting with turbopack. We'll still respond with 404s to these requests -- we just won't clutter logs with notices of them. Test Plan:  * Start a nextjs app without --turbo * Leave the browser window open, but close the server * Start the app with --turbo * Verify that 404s are logged in this case before this patch, and are now no longer logged with it.",Silence webpack-hmr endpoint in logs (#185),"This special-cases the /_next/webpack-hmr endpoint to be silenced in the logs turbopack prints to stdio. While clients built with turbopack's next-dev won't make these requests, current Next.js clients will, which users might still have around while experimenting with turbopack. We'll still respond with 404s to these requests -- we just won't clutter logs with notices of them. Test Plan:  * Start a nextjs app without --turbo * Leave the browser window open, but close the server * Start the app with --turbo * Verify that 404s are logged in this case before this patch, and are now no longer logged with it."
2012,fix(docs): fix turbopack subheader,,fix(docs): fix turbopack subheader,
2013,fix(docs): typo (#184),,fix(docs): typo (#184),
2014,fix(docs): font and blog header (#182),,fix(docs): font and blog header (#182),
2015,feat(docs): landing animations (#175),Co-authored-by: henryjeff henryheffernan@gmail.com,feat(docs): landing animations (#175),Co-authored-by: henryjeff henryheffernan@gmail.com
2016,feat(docs): add switcher to root (#181),,feat(docs): add switcher to root (#181),
2017,fix(docs): Repo and Pack logos in light mode (#180),,fix(docs): Repo and Pack logos in light mode (#180),
2018,feat(docs): link to benchmark data for turbopack (#179),,feat(docs): link to benchmark data for turbopack (#179),
2019,"fix(docs): remove Berit font, opt for SVGs (#178)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com,"fix(docs): remove Berit font, opt for SVGs (#178)",Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2020,fix(repo): match pack ctas (#177),,fix(repo): match pack ctas (#177),
2021,fix(docs): fix section heading line height (#176),,fix(docs): fix section heading line height (#176),
2022,fix(docs): header / footer background (#174),,fix(docs): header / footer background (#174),
2023,publish 1.6.1 to registry (#2301),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.1 to registry (#2301),Co-authored-by: Turbobot turbobot@vercel.com
2024,Transform ecmascript with emotion (#170),"Enabled in next-dev and snapshot tests. There are quite a few output snapshot files. Maybe we make stubs for the third-party packages to reduce the noise... Test Plan: Added new snapshot tests. Verified transformed code contains a digest, inline source map string.",Transform ecmascript with emotion (#170),"Enabled in next-dev and snapshot tests. There are quite a few output snapshot files. Maybe we make stubs for the third-party packages to reduce the noise... Test Plan: Added new snapshot tests. Verified transformed code contains a digest, inline source map string."
2025,Revert find-up change. (#2300),The find-up change introduced an edge-case for non-detection of the repository causing turbo to fail when no repository was present. This most-likely only impacts Docker customers.,Revert find-up change. (#2300),The find-up change introduced an edge-case for non-detection of the repository causing turbo to fail when no repository was present. This most-likely only impacts Docker customers.
2026,handle updates from different versions (avoid panic) (#172),Avoid the panic when updating from NotFoundVersion to EcmascriptChunkVersion,handle updates from different versions (avoid panic) (#172),Avoid the panic when updating from NotFoundVersion to EcmascriptChunkVersion
2027,Add support for API routes (#163),"This reworks our Node.js rendering logic to allow for: * passing binary request bodies in and out of Node.js: API routes can accept request bodies in POST, and can reply with any content type. * content source results that are recomputed every time: we don't want API routes to be cached (at least not by turbopack for now). It also reworks the END_OF_OPERATION logic to avoid hard coding a single end of operation marker (they're now unique per pool), and allow multiple kinds of operation events (Step, Success, Error). This is not a particularly good implementation for this. A better implementation would proxy the request from the client to the Node.js server in a more direct manner. We also need a way to tell turbo tasks ""don't bother ever caching this"", as right now every single API request and result will still be cached, even if we know they will never be used again. Finally, we should communicate with Node.js processes via a better mechanism than stdout. I made some progress on a prototype for using https://github.com/servo/ipc-channel with NAPI a while back, which I'd like to pick up some time after conf. However, it seems to work well enough for now, so yay. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Add support for API routes (#163),"This reworks our Node.js rendering logic to allow for: * passing binary request bodies in and out of Node.js: API routes can accept request bodies in POST, and can reply with any content type. * content source results that are recomputed every time: we don't want API routes to be cached (at least not by turbopack for now). It also reworks the END_OF_OPERATION logic to avoid hard coding a single end of operation marker (they're now unique per pool), and allow multiple kinds of operation events (Step, Success, Error). This is not a particularly good implementation for this. A better implementation would proxy the request from the client to the Node.js server in a more direct manner. We also need a way to tell turbo tasks ""don't bother ever caching this"", as right now every single API request and result will still be cached, even if we know they will never be used again. Finally, we should communicate with Node.js processes via a better mechanism than stdout. I made some progress on a prototype for using link with NAPI a while back, which I'd like to pick up some time after conf. However, it seems to work well enough for now, so yay. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
2028,fix(docs): add useIsomorphicLayoutEffect (#173),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): add useIsomorphicLayoutEffect (#173),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2029,Clarify SSR chunk loading message for next/dynamic (#167),Closes https://github.com/vercel/web-tooling-internal/issues/47 This recommends users opt out of ssr for now. This also cleans up a debug message in runtime.js.,Clarify SSR chunk loading message for next/dynamic (#167),Closes link This recommends users opt out of ssr for now. This also cleans up a debug message in runtime.js.
2030,Return the generated .nft.json files list from turbo tracing annotate action (#149),"For this PR: https://github.com/vercel/next.js-nextrs/pull/18  Return traced files array from print and annotate action in node-file-trace Support pass process.cwd from Args and evaluate it in turbopack-ecmascript Import default from some well-known modules are treated as the module itself, eg import fs from 'fs'",Return the generated .nft.json files list from turbo tracing annotate action (#149),"For this PR: link Return traced files array from print and annotate action in node-file-trace Support pass process.cwd from Args and evaluate it in turbopack-ecmascript Import default from some well-known modules are treated as the module itself, eg import fs from 'fs'"
2031,remove fouc optimization (#169),,remove fouc optimization (#169),
2032,fix(docs): fix light mode gradient background (#171),,fix(docs): fix light mode gradient background (#171),
2033,fix(blog): correct install (#2299),,fix(blog): correct install (#2299),
2034,Bugfixes regarding task scope handling (#159),"There are a bunch of missing or incorrect handling of negative counts that can happen due to parallel processing of adding and removing to scopes. Negative counts should behave like 0, but the next add will not reach a positive value yet. This is important if the remove operation overtakes the add operation.",Bugfixes regarding task scope handling (#159),"There are a bunch of missing or incorrect handling of negative counts that can happen due to parallel processing of adding and removing to scopes. Negative counts should behave like 0, but the next add will not reach a positive value yet. This is important if the remove operation overtakes the add operation."
2035,Emit error on all URI imports (#165),Also it's remainder not remainer.,Emit error on all URI imports (#165),Also it's remainder not remainer.
2036,Next-dev and snapshot tests: transform ecmascript with styled_components (#44),To do: * [x] The transform doesn't seem to be running properly yet. Fix this.,Next-dev and snapshot tests: transform ecmascript with styled_components (#44),To do: * [x] The transform doesn't seem to be running properly yet. Fix this.
2037,fix(docs): fix favicon (#168),,fix(docs): fix favicon (#168),
2038,"Create a package.json with type: ""commonjs"" in .next/server (#145)","Closes #109 Note a difference between this and stable Next.js: at turbopack this file is placed in .next/server/package.json, while Next.js currently creates this file at .next/package.json. Test Plan: Verified that the hello-world-esm no longer fails to SSR (it's now blocked by #111). Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com","Create a package.json with type: ""commonjs"" in .next/server (#145)","Closes #109 Note a difference between this and stable Next.js: at turbopack this file is placed in .next/server/package.json, while Next.js currently creates this file at .next/package.json. Test Plan: Verified that the hello-world-esm no longer fails to SSR (it's now blocked by #111). Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
2039,"copy: task runner -> ""build system"" (#2297)",,"copy: task runner -> ""build system"" (#2297)",
2040,fix(docs): use correct logo (#164),,fix(docs): use correct logo (#164),
2041,fix(docs): correct typo in eslint-config-custom/package.json (#2295),,fix(docs): correct typo in eslint-config-custom/package.json (#2295),
2042,feat(docs): updates from feedback (#161),,feat(docs): updates from feedback (#161),
2043,fix hydration bench again (#162),,fix hydration bench again (#162),
2044,Add issue template for Turbopack (#120),"You can preview these here: - https://github.com/vercel/the-three-body/blob/mehulkar/turbo-368-add-new-turbopack-issue-template/.github/ISSUE_TEMPLATE/0-turborepo-bug-report.yml - https://github.com/vercel/the-three-body/blob/mehulkar/turbo-368-add-new-turbopack-issue-template/.github/ISSUE_TEMPLATE/1-turbopack-bug-report.yml - https://github.com/vercel/the-three-body/blob/mehulkar/turbo-368-add-new-turbopack-issue-template/.github/ISSUE_TEMPLATE/2-feature-request.yml - Not sure why this is giving an error saying ""Name must be unique"". It's possible it's clashing with the template in staging branch, but since the filename is changed, it thinks there's a problem? You can also test out a repro of this in a sample repro if you want to see the end result, since you can't really preview it until it's merged: https://github.com/mehulkar/testing-gh-issue-templates/issues/new/choose",Add issue template for Turbopack (#120),"You can preview these here: - link - link - link - Not sure why this is giving an error saying ""Name must be unique"". It's possible it's clashing with the template in staging branch, but since the filename is changed, it thinks there's a problem? You can also test out a repro of this in a sample repro if you want to see the end result, since you can't really preview it until it's merged: link"
2045,Added not implemented errors for resolutions (#142),"I think this is what this issue is asking for? We do get a double error message now because we get the ""error resolving esm request"" error as well.",Added not implemented errors for resolutions (#142),"I think this is what this issue is asking for? We do get a double error message now because we get the ""error resolving esm request"" error as well."
2046,fix startup benchmarks for CSR bundlers (#152),,fix startup benchmarks for CSR bundlers (#152),
2047,add some scope benchmarks (disabled by default) (#156),,add some scope benchmarks (disabled by default) (#156),
2048,feat(docs): 1.6 docs & blog (#2157),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: tknickman tom.knickman@vercel.com,feat(docs): 1.6 docs & blog (#2157),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: tknickman tom.knickman@vercel.com
2049,publish 1.6.0 to registry (#2294),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0 to registry (#2294),Co-authored-by: Turbobot turbobot@vercel.com
2050,feat(docs): repo landing page (#122),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: jueungrace graceyunn@gmail.com Co-authored-by: Shu Ding g@shud.in,feat(docs): repo landing page (#122),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: jueungrace graceyunn@gmail.com Co-authored-by: Shu Ding g@shud.in
2051,fix(docs): full height tron (#157),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): full height tron (#157),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2052,Fix typo in monorepo docs (#2290),"Small typo I noticed while reading the ""What is a monorepo"" page",Fix typo in monorepo docs (#2290),"Small typo I noticed while reading the ""What is a monorepo"" page"
2053,Include the argument separator for dotenv. (#2292),Address #2277,Include the argument separator for dotenv. (#2292),Address #2277
2054,add some strongly consistent reads into nodejs source (#154),to improve performance It doesn't fix the performance completely but makes it less bad,add some strongly consistent reads into nodejs source (#154),to improve performance It doesn't fix the performance completely but makes it less bad
2055,fix error message description (#151),,fix error message description (#151),
2056,Bugfixes for merged PRs (#155),,Bugfixes for merged PRs (#155),
2057,terminal improvements (#133), Adds next-like event type styling No tasks in logs  Closes: - https://github.com/vercel/web-tooling-internal/issues/58 Screenshot:   Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,terminal improvements (#133),Adds next-like event type styling No tasks in logs Closes: - link Screenshot:  Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Justin Ridgewell justin@ridgewell.name Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2058,Fix formatting,,Fix formatting,
2059,Use alternating colors to display AST indentation,,Use alternating colors to display AST indentation,
2060,Update default server IP to 0.0.0.0 (#150),"Small nit, but if we want to listen on 0.0.0.0, then we should set that to the default. The difference is that other computers can connect when we listen on 0.0.0.0, while only this computer can connect if we listen on 127.0.0.1.",Update default server IP to 0.0.0.0 (#150),"Small nit, but if we want to listen on 0.0.0.0, then we should set that to the default. The difference is that other computers can connect when we listen on 0.0.0.0, while only this computer can connect if we listen on 127.0.0.1."
2061,Match Next.js server startup message (#148),,Match Next.js server startup message (#148),
2062,Perform issue deduplicaction on the issue's contents (#144),,Perform issue deduplicaction on the issue's contents (#144),
2063,fix tests (#143),,fix tests (#143),
2064,prettier fixes (#41),,prettier fixes (#41),
2065,eslint fixes (#40),,eslint fixes (#40),
2066,add postcss and tailwindcss to unimplemented files (#137),"Note that this doesn't completely close out #54 as the tailwindcss config is optional. I'm digging deeper at additional ways to detect tailwind, but putting this up since it's a strict improvement. `` olszewski@chriss-mbp next-dev % cargo run -p next-dev -- /tmp/with-tailwindcss-app    Compiling next-dev v0.1.0 (/Users/olszewski/code/vercel/the-three-body/crates/next-dev)     Finished dev [unoptimized + debuginfo] target(s) in 11.61s      Running/Users/olszewski/code/vercel/the-three-body/target/debug/next-dev /tmp/with-tailwindcss-appserver listening on: http://localhost:3000 error [unimplemented]   /private/tmp/with-tailwindcss-app/next.config.js     Feature not yet supported     Handling the filenext.config.js` is currently unimplemented /private/tmp/with-tailwindcss-app/postcss.config.js     Feature not yet supported     Handling the file postcss.config.js is currently unimplemented /private/tmp/with-tailwindcss-app/tailwind.config.js     Feature not yet supported     Handling the file tailwind.config.js is currently unimplemented [200] / (3045ms) initial compilation 3468ms (3044ms task execution, 48380 tasks) updated in 874ms (8990 tasks) ```",add postcss and tailwindcss to unimplemented files (#137),"Note that this doesn't completely close out 54 as the tailwindcss config is optional. I'm digging deeper at additional ways to detect tailwind, but putting this up since it's a strict improvement. module is currently unimplemented /private/tmp/with-tailwindcss-app/postcss.config.js     Feature not yet supported     Handling the file postcss.config.js is currently unimplemented /private/tmp/with-tailwindcss-app/tailwind.config.js     Feature not yet supported     Handling the file tailwind.config.js is currently unimplemented [200] / (3045ms) initial compilation 3468ms (3044ms task execution, 48380 tasks) updated in 874ms (8990 tasks) ```"
2067,fix(switcher): update site switcher (#140),,fix(switcher): update site switcher (#140),
2068,Derive a runtime version from NodeJsEnvironment's node_version (#15),Ported from https://github.com/vercel/turbo-tooling/pull/452. To do:  [x] Read and use node version from PATH  Test Plan: Temporarily lowered the default version and verified core-js was resolved when /page is visited. Co-authored-by: Justin Ridgewell justin@ridgewell.name,Derive a runtime version from NodeJsEnvironment's node_version (#15),Ported from link. To do: [x] Read and use node version from PATH Test Plan: Temporarily lowered the default version and verified core-js was resolved when /page is visited. Co-authored-by: Justin Ridgewell justin@ridgewell.name
2069,fallback page (#69),,fallback page (#69),
2070,publish 1.6.0-canary.4 to registry (#2289),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0-canary.4 to registry (#2289),Co-authored-by: Turbobot turbobot@vercel.com
2071,feat(docs): theme updates (#136),,feat(docs): theme updates (#136),
2072,Write root inference in Go. (#2283),"To unblock the 1.6 release, port the single package inference over to Go.",Write root inference in Go. (#2283),"To unblock the 1.6 release, port the single package inference over to Go."
2073,prepare crates for publishing (#29),,prepare crates for publishing (#29),
2074,feat(docs): landing page (#114),Co-authored-by: tknickman tom.knickman@vercel.com Co-authored-by: Adrian Bettridge-Wiese adrian@op74.net,feat(docs): landing page (#114),Co-authored-by: tknickman tom.knickman@vercel.com Co-authored-by: Adrian Bettridge-Wiese adrian@op74.net
2075,"Update swc_core to 0.40.5, and other swc crates (#135)","This updates swc_core to 0.40.5, as well as updates other swc crates. Test Plan: Verified only a single version of swc_core was present in the lockfile. cargo build.","Update swc_core to 0.40.5, and other swc crates (#135)","This updates swc_core to 0.40.5, as well as updates other swc crates. Test Plan: Verified only a single version of swc_core was present in the lockfile. cargo build."
2076,add unimplemented warning for next/babel configs (#124),PR for:  - https://github.com/vercel/web-tooling-internal/issues/56 - https://github.com/vercel/web-tooling-internal/issues/55 Screenshot:  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,add unimplemented warning for next/babel configs (#124),PR for:  - link - link Screenshot: Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2077,adds support for app directory (#125),This can be tested with https://github.com/vercel/layouts-playground But since tailwind is not supported you need to add: ``` html  ``` into <head> in app/layout.tsx,adds support for app directory (#125),This can be tested with link But since tailwind is not supported you need to add: ``` html ``` into  in app/layout.tsx
2078,bugfixes for the error overlay (#134),,bugfixes for the error overlay (#134),
2079,error overlay (#39),transferred from https://github.com/vercel/turbo-tooling/pull/396 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,error overlay (#39),transferred from link Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2080,publish 1.6.0-canary.3 to registry (#2287),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0-canary.3 to registry (#2287),Co-authored-by: Turbobot turbobot@vercel.com
2081,refactor(trace/args): support default values for the options (#113),Minor refactoring to allow easier invoke to trace from next.js,refactor(trace/args): support default values for the options (#113),Minor refactoring to allow easier invoke to trace from next.js
2082,fix(docs): fix background color (#132),,fix(docs): fix background color (#132),
2083,feat(docs): features section and added features index page (#129),,feat(docs): features section and added features index page (#129),
2084,feat(pack): continued polish (#119),,feat(pack): continued polish (#119),
2085,chore: adjust header and footer (#131),,chore: adjust header and footer (#131),
2086,Fixed 404-ing of pack docs frontpage (#87),,Fixed 404-ing of pack docs frontpage (#87),
2087,Use cargo-xwin to build Windows binary (#107),It works https://github.com/vercel/the-three-body/actions/runs/3286560519,Use cargo-xwin to build Windows binary (#107),It works link
2088,build(malloc): disable mimalloc for gnu_aarch (#121),Temporary measure to pass build with next.js bindings.,build(malloc): disable mimalloc for gnu_aarch (#121),Temporary measure to pass build with next.js bindings.
2089,DeterminsticHash cleanup (#108),"Fixes a few issues:  Removes Hasher impl for Xxh3Hash64Hasher Importing the Hash trait allows you to call vc.hash(&mut xxh3_hasher), which defeats our goal of deterministic hashing Fixes hashing of 2 contiguous strings ""fo"" and ""o"" should hash differently than ""f"" and ""oo"". Fixes hashes of enums Foo::Bar(1) should hash differently than Foo::Baz(1) Standardizes usize/isize as 8 bytes",DeterminsticHash cleanup (#108),"Fixes a few issues: Removes Hasher impl for Xxh3Hash64Hasher Importing the Hash trait allows you to call vc.hash(&mut xxh3_hasher), which defeats our goal of deterministic hashing Fixes hashing of 2 contiguous strings ""fo"" and ""o"" should hash differently than ""f"" and ""oo"". Fixes hashes of enums Foo::Bar(1) should hash differently than Foo::Baz(1) Standardizes usize/isize as 8 bytes"
2090,Specify branch in release process.,,Specify branch in release process.,
2091,publish 1.6.0-canary.2 to registry (#2279),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0-canary.2 to registry (#2279),Co-authored-by: Turbobot turbobot@vercel.com
2092,Add NPM_TOKEN to the release.,,Add NPM_TOKEN to the release.,
2093,Include environment var.,,Include environment var.,
2094,Start on a shim release process (#2274),"Add workflows to:     build Go static library     build Rust shim, linking against static library Add Makefile targets:     snapshot static library     publish static library     snapshot rust shim     publish rust shim",Start on a shim release process (#2274),"Add workflows to:     build Go static library     build Rust shim, linking against static library Add Makefile targets:     snapshot static library     publish static library     snapshot rust shim     publish rust shim"
2095,fix(shim): Fixed version flag (#2276),Make the shim handle --help and --version prior to advancing.,fix(shim): Fixed version flag (#2276),Make the shim handle --help and --version prior to advancing.
2096,feat(docs): /pack homepage redesign and polish (#95),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,feat(docs): /pack homepage redesign and polish (#95),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2097,Update help text (#2278),Update the help text to reflect the new state of the world.,Update help text (#2278),Update the help text to reflect the new state of the world.
2098,feat(docs): header v1 (#93),,feat(docs): header v1 (#93),
2099,add node: prefixed aliases for polyfills (#102),,add node: prefixed aliases for polyfills (#102),
2100,Fix CSS HMR for SSR (#85),"Since we used to build the HTML using our own <Document> component, we were previously adding a data-turbopack-chunk-id attribute to our <link> tags to reconcile chunk paths with their chunk ids when initializing HMR. However, Next.js is now responsible for building the HTML, and it has no such mechanism. NOTE: HMR is currently broken for non-Next-SSR rendering (HtmlAsset). This PR does not fix that.",Fix CSS HMR for SSR (#85),"Since we used to build the HTML using our own  component, we were previously adding a data-turbopack-chunk-id attribute to our  tags to reconcile chunk paths with their chunk ids when initializing HMR. However, Next.js is now responsible for building the HTML, and it has no such mechanism. NOTE: HMR is currently broken for non-Next-SSR rendering (HtmlAsset). This PR does not fix that."
2101,limit max chunk count to 10 until we fix the performance problem (#104),"There is currently a performance problem that too many requests slow down the whole system due to the too high cost of adding tasks to TaskScopes. Until we can fix the real problem, this is a workaround to reduce the problem",limit max chunk count to 10 until we fix the performance problem (#104),"There is currently a performance problem that too many requests slow down the whole system due to the too high cost of adding tasks to TaskScopes. Until we can fix the real problem, this is a workaround to reduce the problem"
2102,fix(deps): update rust crate serde_json to 1.0.86 (#2237),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update rust crate serde_json to 1.0.86 (#2237),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2103,Fix include_dir cargo file caching (#103),"Without the ""nightly"" feature, the include_dir! macro does not keep track of which files/directories it includes, and as such changing a file in an included directory does not invalidate the cargo compilation. This PR fixes that.",Fix include_dir cargo file caching (#103),"Without the ""nightly"" feature, the include_dir! macro does not keep track of which files/directories it includes, and as such changing a file in an included directory does not invalidate the cargo compilation. This PR fixes that."
2104,Make node-file-trace as library (#98),,Make node-file-trace as library (#98),
2105,Improvements to benchmarks (#99), remove 100 modules form the default modules count rename bench_restart -> bench_hydration_cached add bench_startup_cached run npm install only once per test case and copy the result instead use multi-threaded copy Run cached tests only when TURBOPACK_BENCH_CACHED is set add TURBOPACK_BENCH_BENCH too measure the time it takes to run the full benchmark (including startup and teardown) instead. add TURBOPACK_BENCH_HEAD to run non-headless add TURBOPACK_BENCH_DEVTOOLS to auto open devtools retry initial warmup change when it fails to detect that  This should make the benchmarks about 3 times faster... at least on windows^^,Improvements to benchmarks (#99),remove 100 modules form the default modules count rename bench_restart -> bench_hydration_cached add bench_startup_cached run npm install only once per test case and copy the result instead use multi-threaded copy Run cached tests only when TURBOPACK_BENCH_CACHED is set add TURBOPACK_BENCH_BENCH too measure the time it takes to run the full benchmark (including startup and teardown) instead. add TURBOPACK_BENCH_HEAD to run non-headless add TURBOPACK_BENCH_DEVTOOLS to auto open devtools retry initial warmup change when it fails to detect that This should make the benchmarks about 3 times faster... at least on windows^^
2106,Add ability to derive DeterministicHash (#96),"Following #94, it'd be nice to easily generate the code to deterministically hash our values. Now, we can! ```rust use turbo_tasks_hash::DeterministicHash; [turbo_tasks::value(shared)] [derive(DeterministicHash)] pub struct Foo {     bar: u32, } // expands into impl turbo_tasks_hash::DeterministicHash for Foo {     fn deterministic_hash(&self, state: &mut H) {         match self {             Foo { bar, .. } => {                 bar.deterministic_hash(state);             }         }     } } ```  This PR refactors our macro generation code to be (moderately) simple to reuse between proc_macro_derive implementations. The code was already mostly there, and I chose to use callback Fns to allow customizability for each. It generates code similar to: ```rust // The boilerplate is fully customizable fn derived_fn(&self) {     match self {         // For an enum, we expand the variants         VariantA { field, .. } => {...}         VariantB ( field_0 ) => {...}     } } // The boilerplate is fully customizable fn derived_fn(&self) {     match self {         // For an struct, we do a normal destructure         Foo { field, .. } => {...}     } } ``` Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Add ability to derive DeterministicHash (#96),"Following #94, it'd be nice to easily generate the code to deterministically hash our values. Now, we can! module This PR refactors our macro generation code to be (moderately) simple to reuse between proc_macro_derive implementations. The code was already mostly there, and I chose to use callback Fns to allow customizability for each. It generates code similar to: module Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
2107,build(cargo): bump up swc (#97),Bump up swc to align with next.js's latest update.,build(cargo): bump up swc (#97),Bump up swc to align with next.js's latest update.
2108,Fix chunk path hashing (#94),"This follows https://github.com/vercel/the-three-body/pull/86 to finally (hopefully) fix our snapshot tests. The issue is that there we were directly observing the hash of a Vc, which is not stable. Every test run can generate new Vc wrappers, and thus receive different hash outputs. I've chosen to forbid use of DefaultHasher and Hasher trait, and instead require the use of Xxh3Hash64Hasher and a DeterministicHash trait. For values that implement DeterministicHash, you can call xxh3_hasher.write_value(value) or xxh3_hasher.write_ref(&value). Note that Vcs must themselves must be Hashable, so that they're usable in, eg, HashSet. This means it possible to indirectly observe the hash of a Vc, just not directly. We already know that iterating a HashSet is non-deterministic, so as long as you're not iterating, this is fine. This also renames turbopack-hash to turbo-tasks-hash, so that it's usable in other turbo-tasks-* crates. ```rust use std::collections::hash_map::DefaultHasher; use std::hash::{Hash, Hasher}; fn main() {   let vc = Foo.cell();   let mut hasher = DefaultHasher::new(); // This observes the Vc's hash, which is not stable.   vc.hash(&mut hasher); hasher.finish(); } ``` ```rust use turbo_tasks_hash::Xxh3Hash64Hasher; async fn main() {   let vc = Foo.cell();   let mut hasher = Xxh3Hash64Hasher::new(); // It's not (easily) possible to get a Vc's ""bytes"", so you're forced   // to await and get its value.   hasher.write(vc.await?.bar.as_bytes()); hasher.finish(); } ```",Fix chunk path hashing (#94),"This follows link to finally (hopefully) fix our snapshot tests. The issue is that there we were directly observing the hash of a Vc, which is not stable. Every test run can generate new Vc wrappers, and thus receive different hash outputs. I've chosen to forbid use of DefaultHasher and Hasher trait, and instead require the use of Xxh3Hash64Hasher and a DeterministicHash trait. For values that implement DeterministicHash, you can call xxh3_hasher.write_value(value) or xxh3_hasher.write_ref(&value). Note that Vcs must themselves must be Hashable, so that they're usable in, eg, HashSet. This means it possible to indirectly observe the hash of a Vc, just not directly. We already know that iterating a HashSet is non-deterministic, so as long as you're not iterating, this is fine. This also renames turbopack-hash to turbo-tasks-hash, so that it's usable in other turbo-tasks-* crates. module module"
2109,publish 1.6.0-canary.1 to registry (#2273),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0-canary.1 to registry (#2273),Co-authored-by: Turbobot turbobot@vercel.com
2110,Ensure that the Engines field parses correctly. (#2272),npm has an additional historically-valid format for the engines field in package.json. This PR changes the parsing behavior to support any value for the engines object. Closes #2270,Ensure that the Engines field parses correctly. (#2272),npm has an additional historically-valid format for the engines field in package.json. This PR changes the parsing behavior to support any value for the engines object. Closes #2270
2111,remove get_by_id (for performance) (#88),"I also needed to remove the old html runtime, use new runtime for CSP to update the CSS HMR code",remove get_by_id (for performance) (#88),"I also needed to remove the old html runtime, use new runtime for CSP to update the CSS HMR code"
2112,Rename struct to be more accurate (#2268),,Rename struct to be more accurate (#2268),
2113,"Consolidate engine, taskGraph, and scheduler naming to Engine (#2256)","This commit consolidates some internal terminology around the task graph. ""Scheduler"", ""Engine"" and ""TaskGraph"" are all the same thing. The receiver on the methods for the now Engine struct was also confusingly named p, so I've replaced that with e. This commit also fixes lint warnings/errors in engine.go, since changing the file caused it to get caught by the linter.","Consolidate engine, taskGraph, and scheduler naming to Engine (#2256)","This commit consolidates some internal terminology around the task graph. ""Scheduler"", ""Engine"" and ""TaskGraph"" are all the same thing. The receiver on the methods for the now Engine struct was also confusingly named p, so I've replaced that with e. This commit also fixes lint warnings/errors in engine.go, since changing the file caused it to get caught by the linter."
2114,Fix heading level for CLI option in docs (#2235),,Fix heading level for CLI option in docs (#2235),
2115,"vendor go-yaml, fixes #2039 (#2227)",,"vendor go-yaml, fixes #2039 (#2227)",
2116,Save file that keeps autoformatting on its own (#2257),,Save file that keeps autoformatting on its own (#2257),
2117,Remove debug println (#92),Was logging versions BrowserData { chrome: Some(Version { major ....,Remove debug println (#92),Was logging versions BrowserData { chrome: Some(Version { major ....
2118,ts HMR runtime (#38),,ts HMR runtime (#38),
2119,[Rebased] Remove automatic core-js polyfills  (#91),"Rebase of #68, which was merged into a now-closed PR. Closes #65. When configured to use preset-env, this stops turbopack from inserting dependencies on core-js. It's:  Buggy/error-prone, at least through swc preset-env:  https://github.com/vercel/the-three-body/issues/65 setImmediate ""polyfills"" always inserted for this nonstandard feature when     React (scheduler, iirc) does feature detection of it Big. Updating the snapshot alone for a test that only used [].includes   resulted in a diff with nearly 4700 line deletions Not done by Next.js for modern targets in the past couple of years: https://twitter.com/timneutkens/status/1234548900272517120  Test Plan: Added [].includes to preset_env snapshot test and verified no references to core-js are inserted.",[Rebased] Remove automatic core-js polyfills  (#91),"Rebase of #68, which was merged into a now-closed PR. Closes #65. When configured to use preset-env, this stops turbopack from inserting dependencies on core-js. It's: Buggy/error-prone, at least through swc preset-env:  link setImmediate ""polyfills"" always inserted for this nonstandard feature when     React (scheduler, iirc) does feature detection of it Big. Updating the snapshot alone for a test that only used [].includes   resulted in a diff with nearly 4700 line deletions Not done by Next.js for modern targets in the past couple of years: link Test Plan: Added [].includes to preset_env snapshot test and verified no references to core-js are inserted."
2120,"Ensure Next.js uses React 18 APIs, enable styled_jsx transform in SSR (#90)","This will remove the warning about using hydrate instead of hydrateRoot, and fix a mismatch between SSR and CSR when using styled-jsx (<style jsx>).","Ensure Next.js uses React 18 APIs, enable styled_jsx transform in SSR (#90)","This will remove the warning about using hydrate instead of hydrateRoot, and fix a mismatch between SSR and CSR when using styled-jsx ("
2121,Add polyfills to Node.js externals on the client-side (#89),"We can't use the normal ImportMap because we stop resolving if looking up a request within yields a result. However, for module polyfills, we only need to look up the request when normal resolving fails. Hence the dichotomy between the import_map and the fallback_import_map. In a more modular architecture, we would model this as a stack of three resolvers:  ImportMapResolver DefaultResolver FallbackImportMapResolver  I'm guessing this is what we'll have in the future, but this requires a bigger refactoring than what I'm comfortable with implementing for now.",Add polyfills to Node.js externals on the client-side (#89),"We can't use the normal ImportMap because we stop resolving if looking up a request within yields a result. However, for module polyfills, we only need to look up the request when normal resolving fails. Hence the dichotomy between the import_map and the fallback_import_map. In a more modular architecture, we would model this as a stack of three resolvers: ImportMapResolver DefaultResolver FallbackImportMapResolver I'm guessing this is what we'll have in the future, but this requires a bigger refactoring than what I'm comfortable with implementing for now."
2122,fix debug panic for shifting (#83),,fix debug panic for shifting (#83),
2123,Use Indexset during EcmascriptChunkVc::compare (#86),"This is the cause of the non-determinism in our snapshot tests. Supersedes https://github.com/vercel/the-three-body/pull/67 (which now also contains the core-js removal, so we should rebase it and update the PR title/description)",Use Indexset during EcmascriptChunkVc::compare (#86),"This is the cause of the non-determinism in our snapshot tests. Supersedes link (which now also contains the core-js removal, so we should rebase it and update the PR title/description)"
2124,publish 1.6.0-canary.0 to registry (#2261),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.6.0-canary.0 to registry (#2261),Co-authored-by: Turbobot turbobot@vercel.com
2125,chore: release npm packages, @vercel/experimental-nft-next-plugin@0.0.3-alpha.2 @vercel/webpack-nft@0.0.15-alpha.2,chore: release npm packages,@vercel/experimental-nft-next-plugin@0.0.3-alpha.2 @vercel/webpack-nft@0.0.15-alpha.2
2126,Merged Turborepo and Turbo Tooling CONTRIBUTING.md (#57),,Merged Turborepo and Turbo Tooling CONTRIBUTING.md (#57),
2127,Split staging (#64),Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: henryjeff henryheffernan@gmail.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com,Split staging (#64),Co-authored-by: Maia Teegarden dev@padmaia.rocks Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: henryjeff henryheffernan@gmail.com Co-authored-by: Matt Pocock mattpocockvoice@gmail.com Co-authored-by: Mehul Kar mehul.kar@vercel.com
2128,fix(ci): add code style check (#82),Fix CI: Details: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/troubleshooting-required-status-checks#handling-skipped-but-required-checks,fix(ci): add code style check (#82),Fix CI: Details: link
2129,Add maxFiles option to turbo-tracing webpack plugin (#81),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,Add maxFiles option to turbo-tracing webpack plugin (#81),Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
2130,Remove unused pages/_app and pages/_document (#78),"These are no longer used, as we are now using Next.js' own components instead.",Remove unused pages/_app and pages/_document (#78),"These are no longer used, as we are now using Next.js' own components instead."
2131,remove ContentSource::vary to avoid many tasks (#71),,remove ContentSource::vary to avoid many tasks (#71),
2132,Implement support for static assets directory (#73),Fixes https://github.com/vercel/web-tooling-internal/issues/7 Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Implement support for static assets directory (#73),Fixes link Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2133,node.js needs a fetch polyfill (#58),,node.js needs a fetch polyfill (#58),
2134,build(cargo): bump up swc_core (#72),This PR aligns swc_core version with next.js's next-swc.,build(cargo): bump up swc_core (#72),This PR aligns swc_core version with next.js's next-swc.
2135,handle esm interop when exporting functions (#60),,handle esm interop when exporting functions (#60),
2136,Fix read_dir to watch any dir changes (#74),"Seems there's a bug from a9846db9, where we don't register an invalidator when calling read_dir. Importantly, we need to insert it into the dir_invalidator_map, so that any file changes inside the dir cause an invalidation.",Fix read_dir to watch any dir changes (#74),"Seems there's a bug from a9846db9, where we don't register an invalidator when calling read_dir. Importantly, we need to insert it into the dir_invalidator_map, so that any file changes inside the dir cause an invalidation."
2137,improve performance of task scope handling a bit (#70),,improve performance of task scope handling a bit (#70),
2138,Delete unused run-examples script (#2125),CI uses ./scripts/run-example.sh (singular),Delete unused run-examples script (#2125),CI uses ./scripts/run-example.sh (singular)
2139,improve path generation for nested node_modules (#59),,improve path generation for nested node_modules (#59),
2140,add basic support for browser alias field (#56),,add basic support for browser alias field (#56),
2141,docs(ci): use current checkout and setup-node versions (#2209),You can see here the latest versions docs: * actions/setup-node * actions/checkout,docs(ci): use current checkout and setup-node versions (#2209),You can see here the latest versions docs: * actions/setup-node * actions/checkout
2142,embedded next.js package (#37),,embedded next.js package (#37),
2143,fix(shim): help flag on shim (#2252),Fixes help flag which stopped working on shim.,fix(shim): help flag on shim (#2252),Fixes help flag which stopped working on shim.
2144,reduce filename length (#55), reduced max len to 80 make hashes shorter rename folder to be shorter,reduce filename length (#55),reduced max len to 80 make hashes shorter rename folder to be shorter
2145,fix some small bugs (#54),,fix some small bugs (#54),
2146,Add Agrotoken to showcase (#2240),Hey! We've switched to turborepo since June 2022 and it's awesome :)  Agrotoken website  ,Add Agrotoken to showcase (#2240),Hey! We've switched to turborepo since June 2022 and it's awesome :) Agrotoken website
2147,Optimize Next.js SSR (#48),"This PR also includes the changes in #12  This optimizes Next.js SSR by marking react[/*] and next[/*] imports as externals in Node.js, which means that they will be required directly instead of bundled. This optimization reduces the number of modules to analyze on the server for a single component app from ~1000 (Next.js SSR imports a lot of modules, including amp-optimizer which includes more) to <10. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Optimize Next.js SSR (#48),"This PR also includes the changes in #12  This optimizes Next.js SSR by marking react[/] and next[/] imports as externals in Node.js, which means that they will be required directly instead of bundled. This optimization reduces the number of modules to analyze on the server for a single component app from ~1000 (Next.js SSR imports a lot of modules, including amp-optimizer which includes more) to <10. Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
2148,fix #52 (#53),,fix #52 (#53),
2149,add chunking optimization to avoid many duplicated modules in chunks (#24),Still has a lot of todos but it's still an improvement,add chunking optimization to avoid many duplicated modules in chunks (#24),Still has a lot of todos but it's still an improvement
2150,support embedding directories (#36),transferred from https://github.com/vercel/turbo-tooling/pull/520 Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,support embedding directories (#36),transferred from link Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
2151,prevent actions from cancelling each other (#49),,prevent actions from cancelling each other (#49),
2152,add introspection for assets and content sources (#47),"add very simple explorer to introspect the graph via /__turbopack__/ Allows to ""walk"" through the content sources and asset graph. Some assets allows to access inner assets, e. g. from the ecmascript chunk you can access the entry module asset, so you can go a level deeper. It works by a Introspectable trait which can be implemented by anything we want to allow the user to inspect. In future the in browser UI should offer a nice UI to explore your application. In future we probably also want to add some metrics to the Introspectable trait, e. g. to report size of an asset. This UI is very basic currently, but that works for debugging:",add introspection for assets and content sources (#47),"add very simple explorer to introspect the graph via /turbopack/ Allows to ""walk"" through the content sources and asset graph. Some assets allows to access inner assets, e. g. from the ecmascript chunk you can access the entry module asset, so you can go a level deeper. It works by a Introspectable trait which can be implemented by anything we want to allow the user to inspect. In future the in browser UI should offer a nice UI to explore your application. In future we probably also want to add some metrics to the Introspectable trait, e. g. to report size of an asset. This UI is very basic currently, but that works for debugging:"
2153,Throw runtime errors at import time for failed resolution (#14),"Ported from https://github.com/vercel/turbo-tooling/pull/521 Partially addresses https://github.com/vercel/turbo-tooling/issues/249. Resolves https://github.com/vercel/turbo-tooling/issues/527. This inserts code to throw an error at runtime when an unresolvable reference is encountered, at its time of import. This means that code referencing symbols from the import is unreachable. Additionally, I modeled this after what webpack currently does, and the same error-generating expression is generated at each site the symbol is referenced. Other options include:  Continue leaving undefined in their place, as they are not reachable anyway and this won't impact the running app. Looks clearly wrong, even if it is never run Leave behind the original identifier name (i.e. the given name of the default import or named imports) Don't generate any further code past the import site This feels clean, but I'm guessing it might be surprising to folks grepping in generated bundles not to find their original code there (even if it would never be run with a failing resolution).  Test Plan: * Added snapshot test * Ran snapshot test and verified Error: Cannot find module 'does-not-exist/path' is thrown, and nothing else is logged to the console. Co-authored-by: Justin Ridgewell justin@ridgewell.name",Throw runtime errors at import time for failed resolution (#14),"Ported from link Partially addresses link. Resolves link. This inserts code to throw an error at runtime when an unresolvable reference is encountered, at its time of import. This means that code referencing symbols from the import is unreachable. Additionally, I modeled this after what webpack currently does, and the same error-generating expression is generated at each site the symbol is referenced. Other options include: Continue leaving undefined in their place, as they are not reachable anyway and this won't impact the running app. Looks clearly wrong, even if it is never run Leave behind the original identifier name (i.e. the given name of the default import or named imports) Don't generate any further code past the import site This feels clean, but I'm guessing it might be surprising to folks grepping in generated bundles not to find their original code there (even if it would never be run with a failing resolution). Test Plan: * Added snapshot test * Ran snapshot test and verified Error: Cannot find module 'does-not-exist/path' is thrown, and nothing else is logged to the console. Co-authored-by: Justin Ridgewell justin@ridgewell.name"
2154,disable issue path tracking for now (#32),put it behind a feature flag there are performance issue with it,disable issue path tracking for now (#32),put it behind a feature flag there are performance issue with it
2155,use browser field for the browser (#26),add module field,use browser field for the browser (#26),add module field
2156,avoid emitting source maps for node.js (#30),,avoid emitting source maps for node.js (#30),
2157,chore(deps): update dependency postcss to v8.4.18 (#2243),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency postcss to v8.4.18 (#2243),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2158,changing order of collectibles should not invalidate things (#33),,changing order of collectibles should not invalidate things (#33),
2159,add From<T> impl for File (#35),transferred from https://github.com/vercel/turbo-tooling/pull/519,add From impl for File (#35),transferred from link
2160,"add FileSystem::root() function to replace FileSystemPathVc::new(fs, path) (#34)",transferred from https://github.com/vercel/turbo-tooling/pull/518,"add FileSystem::root() function to replace FileSystemPathVc::new(fs, path) (#34)",transferred from link
2161,Apply clippy suggestion to use map (#42),Looks correct (identical behavior) to me. Test Plan: 🤷 ci?,Apply clippy suggestion to use map (#42),Looks correct (identical behavior) to me. Test Plan: 🤷 ci?
2162,refactor(turbopack/ecma): replace styled_jsx (#46),"This PR replaces styled_jsx to not to use plugin crate directly. It uses same name as before, but it is no longer published from next.js repo - it comes from plugin repo correctly with reorganized structures.",refactor(turbopack/ecma): replace styled_jsx (#46),"This PR replaces styled_jsx to not to use plugin crate directly. It uses same name as before, but it is no longer published from next.js repo - it comes from plugin repo correctly with reorganized structures."
2163,chore(deps): update pnpm/action-setup action to v2.2.3 (#2236)," This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | pnpm/action-setup | action | patch | v2.2.2 -> v2.2.3 |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update pnpm/action-setup action to v2.2.3 (#2236),"This PR contains the following updates: | Package | Type | Update | Change | |---|---|---|---| | pnpm/action-setup | action | patch | v2.2.2 -> v2.2.3 | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2164,Improve type in e2e test script (#2155),,Improve type in e2e test script (#2155),
2165,Set process.browser when running in the browser (#28),"See https://github.com/debug-js/debug/blob/master/src/index.js#L6-L10 for an example of this behavior. A proper fix would be to detect this kinds of conditions at compile-time and avoid processing the server-side file at all, but this should work as a stopgap.",Set process.browser when running in the browser (#28),"See link for an example of this behavior. A proper fix would be to detect this kinds of conditions at compile-time and avoid processing the server-side file at all, but this should work as a stopgap."
2166,reduce noise (#31),,reduce noise (#31),
2167,add support for externals in ESM references (#25),,add support for externals in ESM references (#25),
2168,Deduplicate issues for logging (#27),see https://github.com/vercel/turbo-tooling/pull/523 Co-authored-by: Justin Ridgewell justin@ridgewell.name,Deduplicate issues for logging (#27),see link Co-authored-by: Justin Ridgewell justin@ridgewell.name
2169,Remove deprecated flags. Test safety. (#2205),"We have removed the --stream and --experimental-use-daemon flags from the run command. This removes them from around our codebase, and explicitly adds testing for them in the case where we invoke run.",Remove deprecated flags. Test safety. (#2205),"We have removed the --stream and --experimental-use-daemon flags from the run command. This removes them from around our codebase, and explicitly adds testing for them in the case where we invoke run."
2170,ignores casing when reading env vars (#13),,ignores casing when reading env vars (#13),
2171,Drop unused dependency on cache location (#2233),,Drop unused dependency on cache location (#2233),
2172,windows needs magic SystemRoot env var to allow to make http requests from node.js (#22),,windows needs magic SystemRoot env var to allow to make http requests from node.js (#22),
2173,Mark no-daemon as publicly visible (#2231),,Mark no-daemon as publicly visible (#2231),
2174,css bugfixes (#20), update swc for nested css bugfixes add test cases  Not working yet: @import of CSS Modules.,css bugfixes (#20),update swc for nested css bugfixes add test cases Not working yet: @import of CSS Modules.
2175,add comments for css modules (#16),,add comments for css modules (#16),
2176,"Build shim locally, along with libturbo.a (#2218)",Adds build.rs functionality to trigger make for debug builds. Adds Makefile target to build static library from Go. rust-toolchain copied from swc.,"Build shim locally, along with libturbo.a (#2218)",Adds build.rs functionality to trigger make for debug builds. Adds Makefile target to build static library from Go. rust-toolchain copied from swc.
2177,chore(docs): update nextra to fix anchor bug (#2229),Fix issue on docs where scrolling to header is not working for anchors that are prefixed with a number.  Requires (merged): https://github.com/shuding/nextra/pull/885,chore(docs): update nextra to fix anchor bug (#2229),Fix issue on docs where scrolling to header is not working for anchors that are prefixed with a number.  Requires (merged): link
2178,Add note about glibc in alpine docker environments (#2212),"Alpine doesn't ship with glibc compatibility by default, add a note to the docs for that environment. Fixes #2198",Add note about glibc in alpine docker environments (#2212),"Alpine doesn't ship with glibc compatibility by default, add a note to the docs for that environment. Fixes #2198"
2179,feat(examples): update docker file to install libc6-compact (#2228),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,feat(examples): update docker file to install libc6-compact (#2228),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2180,feat: Add npm support for prune (#2203),  add npm lockfile impl   link up npm lockfile to npm package manager impl   fixups for internal packages and adding npm prune e2e tests   toggle npm canPrune expected value   update npm lockfile aware cache test   fixup integration test title and comment   update monorepo error integration tests since hashes change ,feat: Add npm support for prune (#2203),add npm lockfile impl link up npm lockfile to npm package manager impl fixups for internal packages and adding npm prune e2e tests toggle npm canPrune expected value update npm lockfile aware cache test fixup integration test title and comment update monorepo error integration tests since hashes change
2181,Merge release branch staging-1.5.7-canary.0 (#2226),Co-authored-by: Turbobot turbobot@vercel.com,Merge release branch staging-1.5.7-canary.0 (#2226),Co-authored-by: Turbobot turbobot@vercel.com
2182,fix(examples): fix inconsistent package naming in with-changesets example (#2225),"In two places, the pakage eslint-config-acme is incorrectly referred to as eslint-preset-acme. This breaks the yarn install.",fix(examples): fix inconsistent package naming in with-changesets example (#2225),"In two places, the pakage eslint-config-acme is incorrectly referred to as eslint-preset-acme. This breaks the yarn install."
2183,avoid notifying @vercel/turbo-oss for every PR (#19),,avoid notifying @vercel/turbo-oss for every PR (#19),
2184,fix(deps): update rust crate anyhow to 1.0.65 (#2219),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update rust crate anyhow to 1.0.65 (#2219),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2185,fix github workflows,,fix github workflows,
2186,Merge pull request #10 from vercel/bugfix/deterministic,make less things to rely on HashSet and HashMap order,Merge pull request #10 from vercel/bugfix/deterministic,make less things to rely on HashSet and HashMap order
2187,use indexset! macro,,use indexset! macro,
2188,add missing async chunk test,,add missing async chunk test,
2189,fix non-determinism,,fix non-determinism,
2190,make less things to rely on HashSet and HashMap order,,make less things to rely on HashSet and HashMap order,
2191,css modules (#525),,css modules (#525),
2192,improve startup error messages (#524),,improve startup error messages (#524),
2193,Merge pull request #1 from vercel/merge-turbo-tooling,Merge turbo tooling,Merge pull request #1 from vercel/merge-turbo-tooling,Merge turbo tooling
2194,Merge pull request #9 from vercel/wbinnssmith/devcontainer-merge,Merge devcontainer files with those from turbo-tooling,Merge pull request #9 from vercel/wbinnssmith/devcontainer-merge,Merge devcontainer files with those from turbo-tooling
2195,Test:transform monorepo dependencies (#454),"This:  adds a test that ensures that we apply app transforms to packages symlinked under node_modules, such as in a yarn-workspaces-style monorepo. automatically normalizes the root path when constructing DiskFileSystemVcs, which previously accepted any string, even relative paths, such as from the snapshot test runner. This became an issue as the logic in #406 assumes that it begins with / (cc @Brooooooklyn).  To do:   * [x] Add snapshot test covering transforming monorepo dependencies   * [x] Implement transforming monorepo dependencies Test Plan: Added snapshot test",Test:transform monorepo dependencies (#454),"This: adds a test that ensures that we apply app transforms to packages symlinked under node_modules, such as in a yarn-workspaces-style monorepo. automatically normalizes the root path when constructing DiskFileSystemVcs, which previously accepted any string, even relative paths, such as from the snapshot test runner. This became an issue as the logic in #406 assumes that it begins with / (cc @Brooooooklyn). To do:   * [x] Add snapshot test covering transforming monorepo dependencies   * [x] Implement transforming monorepo dependencies Test Plan: Added snapshot test"
2196,Refactor workflow files,,Refactor workflow files,
2197,Add rust-analyzer as a recommended vscode extension,,Add rust-analyzer as a recommended vscode extension,
2198,Merge devcontainer files with turbo-tooling's,,Merge devcontainer files with turbo-tooling's,
2199,Merge remote-tracking branch 'DO_NOT_PUSH/main' into merge-turbo-tooling,,Merge remote-tracking branch 'DO_NOT_PUSH/main' into merge-turbo-tooling,
2200,Update .github/workflows/bench_pr.yml,Co-authored-by: Mehul Kar mehul.kar@vercel.com,Update .github/workflows/bench_pr.yml,Co-authored-by: Mehul Kar mehul.kar@vercel.com
2201,pass correct this context to CommonJS modules (#514),omit module and exports from ESM,pass correct this context to CommonJS modules (#514),omit module and exports from ESM
2202,Also trigger some actions on staging branch,,Also trigger some actions on staging branch,
2203,handle more AMD define cases (#513),,handle more AMD define cases (#513),
2204,Only run Rust CI when related codes changed,,Only run Rust CI when related codes changed,
2205,Run fmt,,Run fmt,
2206,Turn the default Document component into a class component (#512),"Some code in userland can expect Document to be a class, and as such try to extend it. Extending a function will result in an invalid React component, so it must be a class component. e.g. https://nextjs.org/docs/advanced-features/custom-document#typescript",Turn the default Document component into a class component (#512),"Some code in userland can expect Document to be a class, and as such try to extend it. Extending a function will result in an invalid React component, so it must be a class component. e.g. link"
2207,Introduce PathRegex for patch matching with named parameters (#511),"This is another attempt at fixing https://github.com/vercel/turbo-tooling/pull/507. It also handles the root index page properly (""pages/index.js"").",Introduce PathRegex for patch matching with named parameters (#511),"This is another attempt at fixing link. It also handles the root index page properly (""pages/index.js"")."
2208,emit css parsing problems as issues (#508),share IssueEmitter between ecmascript and css parsing,emit css parsing problems as issues (#508),share IssueEmitter between ecmascript and css parsing
2209,add nested css transform (#510),,add nested css transform (#510),
2210,use react-refresh-utils bundled with next when available (#509),,use react-refresh-utils bundled with next when available (#509),
2211,preset_env followup [2/2] -- Use preset_env through swc_core (#479),This makes our dependency on swc's preset_env through swc_core instead of direct. To do:  [x] Merge https://github.com/swc-project/swc/pull/6083 and publish   swc crates [x] Corresponding publish from https://github.com/vercel/next.js/pull/41304 [x] Update Cargo.toml and Cargo.lock  Test Plan: * [x] cargo build,preset_env followup [2/2] -- Use preset_env through swc_core (#479),This makes our dependency on swc's preset_env through swc_core instead of direct. To do: [x] Merge link and publish   swc crates [x] Corresponding publish from link [x] Update Cargo.toml and Cargo.lock Test Plan: * [x] cargo build
2212,some fixes and improvements to collectibles performance (#499),,some fixes and improvements to collectibles performance (#499),
2213,report duration for slow requests (#500),,report duration for slow requests (#500),
2214,bugfixes for dynamic imports (#501),,bugfixes for dynamic imports (#501),
2215,swc-ast-explorer: Fix AST printing (#502),"After some upgrade, we needed to wrap our parse in a GLOBALS.set(). The old code was giving: bash $ echo 'a[""length""]' | RUST_BACKTRACE=1 cargo run -p swc-ast-explorer      Running `target/debug/swc-ast-explorer` thread 'main' panicked at '`swc_common::GLOBALS` is required for this operation', /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:254:9 stack backtrace:    0: rust_begin_unwind              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/std/src/panicking.rs:556:5    1: core::panicking::panic_fmt              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/core/src/panicking.rs:142:14    2: swc::Compiler::run              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:254:9    3: swc::Compiler::parse_js              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:372:23    4: swc_ast_explorer::main::{{closure}}              at ./crates/swc-ast-explorer/src/main.rs:46:19    5: swc_error_reporters::handler::try_with_handler::{{closure}}              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc_error_reporters-0.13.5/src/handler.rs:104:40    6: scoped_tls::ScopedKey<T>::set              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137:9    7: better_scoped_tls::ScopedKey<T>::set              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/better_scoped_tls-0.1.0/src/lib.rs:55:9    8: swc_error_reporters::handler::try_with_handler              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc_error_reporters-0.13.5/src/handler.rs:104:15    9: swc_ast_explorer::main              at ./crates/swc-ast-explorer/src/main.rs:40:15   10: core::ops::function::FnOnce::call_once              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/core/src/ops/function.rs:251:5 note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.",swc-ast-explorer: Fix AST printing (#502),"After some upgrade, we needed to wrap our parse in a GLOBALS.set(). The old code was giving: bash $ echo 'a[""length""]' | RUST_BACKTRACE=1 cargo run -p swc-ast-explorer      Running module thread 'main' panicked at 'module is required for this operation', /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:254:9 stack backtrace:    0: rust_begin_unwind              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/std/src/panicking.rs:556:5    1: core::panicking::panic_fmt              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/core/src/panicking.rs:142:14    2: swc::Compiler::run              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:254:9    3: swc::Compiler::parse_js              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc-0.231.13/src/lib.rs:372:23    4: swc_ast_explorer::main::{{closure}}              at ./crates/swc-ast-explorer/src/main.rs:46:19    5: swc_error_reporters::handler::try_with_handler::{{closure}}              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc_error_reporters-0.13.5/src/handler.rs:104:40    6: scoped_tls::ScopedKey::set              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137:9    7: better_scoped_tls::ScopedKey::set              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/better_scoped_tls-0.1.0/src/lib.rs:55:9    8: swc_error_reporters::handler::try_with_handler              at /Users/jridgewell/.cargo/registry/src/github.com-1ecc6299db9ec823/swc_error_reporters-0.13.5/src/handler.rs:104:15    9: swc_ast_explorer::main              at ./crates/swc-ast-explorer/src/main.rs:40:15   10: core::ops::function::FnOnce::call_once              at /rustc/e7119a0300b87a3d670408ee8e847c6821b3ae80/library/core/src/ops/function.rs:251:5 note: Some details are omitted, run with module for a verbose backtrace."
2216,chore(cli): support cobra completion command (#2217),"We currently support https://github.com/spf13/cobra/blob/main/shell_completions.md by default because of using Cobra, but the default run command currently breaks this. This PR allows this feature to continue functioning as intended.  As an alternative, we could easily disable this because it's likely not super commonly used. This would also allow completion pipelines to work without needing run. Fixes https://github.com/vercel/turborepo/issues/2207",chore(cli): support cobra completion command (#2217),"We currently support link by default because of using Cobra, but the default run command currently breaks this. This PR allows this feature to continue functioning as intended.  As an alternative, we could easily disable this because it's likely not super commonly used. This would also allow completion pipelines to work without needing run. Fixes link"
2217,feat: Enable sub-lockfile hashing for package mangers other than yarn (#2216),  Add yarn sub-lockfile cache integration test   enable sub-lockfile caching for all package managers   replace exact task hashes with hash regex   Co-authored-by: Greg Soltis greg.soltis@vercel.com,feat: Enable sub-lockfile hashing for package mangers other than yarn (#2216),Add yarn sub-lockfile cache integration test enable sub-lockfile caching for all package managers replace exact task hashes with hash regex Co-authored-by: Greg Soltis greg.soltis@vercel.com
2218,feature(shim): Merge shim directory (#2210),"This is a first attempt to merge the Rust shim into main. All of the code has been reviewed already, but you're welcome to take another look. The build changes will be merged later. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com",feature(shim): Merge shim directory (#2210),"This is a first attempt to merge the Rust shim into main. All of the code has been reviewed already, but you're welcome to take another look. The build changes will be merged later. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com"
2219,Merge branch 'main' into staging,,Merge branch 'main' into staging,
2220,Show branch name rather than commit (#2214),,Show branch name rather than commit (#2214),
2221,feat(cli): global defaults for filters (#2211),"Filtering should take into account global changes when deciding what should run. This includes:  turbo.json package manager lockfile root package.json  With these included, this means when running a command like (for example): npx turbo run build --filter=docs...[HEAD^] Docs would build on changes to any of the three listed files above, even if there are no changes to docs or it's dependencies.",feat(cli): global defaults for filters (#2211),"Filtering should take into account global changes when deciding what should run. This includes: turbo.json package manager lockfile root package.json With these included, this means when running a command like (for example): npx turbo run build --filter=docs...[HEAD^] Docs would build on changes to any of the three listed files above, even if there are no changes to docs or it's dependencies."
2222,feat(cli): log auto included envs and framework (#2201),  feat(cli): log auto included envs and framework   fix launch ,feat(cli): log auto included envs and framework (#2201),feat(cli): log auto included envs and framework fix launch
2223,cache-to-.tar.zst (#2195),"Starting from where #1991 finished, this adopts Zstandard for compression, and supports restoration from both compressed and uncompressed caches. The adopted zstd library requires CGO. This also edits our Makefile to reflect that requirement.",cache-to-.tar.zst (#2195),"Starting from where #1991 finished, this adopts Zstandard for compression, and supports restoration from both compressed and uncompressed caches. The adopted zstd library requires CGO. This also edits our Makefile to reflect that requirement."
2224,fix(turbo): add new docs env vars (#2202),,fix(turbo): add new docs env vars (#2202),
2225,fix(examples): cache .vercel for adapter-vercel (#2191),,fix(examples): cache .vercel for adapter-vercel (#2191),
2226,Fix leaving .turbo-cookie around (#2180),,Fix leaving .turbo-cookie around (#2180),
2227,Merge branch 'main' into staging,,Merge branch 'main' into staging,
2228,Run format and eslint,,Run format and eslint,
2229,Merge branch 'rust' into merge-turbo-tooling,,Merge branch 'rust' into merge-turbo-tooling,
2230,Remove conflicting files,,Remove conflicting files,
2231,routing bugfixes (#495),,routing bugfixes (#495),
2232,avoid creating too many content sources (#496),,avoid creating too many content sources (#496),
2233,name embed filesystem by path (#497),to avoid crating multiple fs for the same path,name embed filesystem by path (#497),to avoid crating multiple fs for the same path
2234,continue preparations for .module.css (#494),split global css and module css into separate assets,continue preparations for .module.css (#494),split global css and module css into separate assets
2235,nitpicks (#493),fixups for #486,nitpicks (#493),fixups for #486
2236,increase bench CI timeout (#487),,increase bench CI timeout (#487),
2237,add turbo-tasks stress benchmark (#482),,add turbo-tasks stress benchmark (#482),
2238,move node.js rendering to a content source (#486),add getServerSideProps and dynamic segments fixes vercel/web-tooling-internal#37 fixes #444,move node.js rendering to a content source (#486),add getServerSideProps and dynamic segments fixes vercel/web-tooling-internal#37 fixes #444
2239,publish 1.5.6 to registry (#2193),Co-authored-by: Turbobot turbobot@vercel.com,publish 1.5.6 to registry (#2193),Co-authored-by: Turbobot turbobot@vercel.com
2240,CSS modules shim (#490),"At the moment, whenever SSR encounters a CSS module, it will likely crash with the following error: TypeError: Cannot read properties of undefined (reading 'someClassName') This is because CSS module support is currently unimplemented. In order to surface other potential errors while waiting on CSS modules implementation, I've implemented a Proxy-based shim that will always return a string whenever a CSS module export object is indexed. There are known issues with this implementation:  Only .module.css files should be considered CSS modules and EcmascriptChunkPlaceable; Could have used embed_file!  But since this is intended as a temporary workaround, it's probably good enough. An example error this helped surface: we currently don't expose a polyfill for fetch in Node.js (https://cs.github.com/vercel/next.js/blob/3d499a627f49b911b30120df4e2e39e998d6273b/packages/next/server/node-polyfill-fetch.js?q=fetch#L10)",CSS modules shim (#490),"At the moment, whenever SSR encounters a CSS module, it will likely crash with the following error: TypeError: Cannot read properties of undefined (reading 'someClassName') This is because CSS module support is currently unimplemented. In order to surface other potential errors while waiting on CSS modules implementation, I've implemented a Proxy-based shim that will always return a string whenever a CSS module export object is indexed. There are known issues with this implementation: Only .module.css files should be considered CSS modules and EcmascriptChunkPlaceable; Could have used embed_file! But since this is intended as a temporary workaround, it's probably good enough. An example error this helped surface: we currently don't expose a polyfill for fetch in Node.js (link)"
2241,fix many root sources crated (#485),"It's important to not create a cell outside of the root source method as this will create a new cell for each call, which means each source will create a separate task, and this bubbles for each cell created in source...",fix many root sources crated (#485),"It's important to not create a cell outside of the root source method as this will create a new cell for each call, which means each source will create a separate task, and this bubbles for each cell created in source..."
2242,Added explainer on environment variables (#2115),,Added explainer on environment variables (#2115),
2243,Make embed_file relative to package instead of invoker file (#484),"This makes the argument to embed_file! relative to the package it is invoked from, instead of relative to the file it is invoked from. The latter is closer to how include_*! works, but it has a couple of issues: * Since file! returns a path relative to the workspace, it requires knowing the full path to the workspace. However, this is undefined when the package is compiled from outside of the workspace (e.g. as a dependency of another package). * Procedural macros don't have access to the path of the file where they were originally invoked (although we could get it with #[feature(proc_macro_span)]), which means that an embed_dir macro would not be able to be relative to the invoker file anyway. So this makes things more consistent for such a (to be implemented) macro.",Make embed_file relative to package instead of invoker file (#484),"This makes the argument to embed_file! relative to the package it is invoked from, instead of relative to the file it is invoked from. The latter is closer to how include_*! works, but it has a couple of issues: * Since file! returns a path relative to the workspace, it requires knowing the full path to the workspace. However, this is undefined when the package is compiled from outside of the workspace (e.g. as a dependency of another package). * Procedural macros don't have access to the path of the file where they were originally invoked (although we could get it with #[feature(proc_macro_span)]), which means that an embed_dir macro would not be able to be relative to the invoker file anyway. So this makes things more consistent for such a (to be implemented) macro."
2244,preset_env followup [1/2] (#478),"Addresses some feedback from #380. Together with a following PR to use swc_core (currently blocked on https://github.com/swc-project/swc/pull/6083 and a subsequent publish), will address #474.  Remove unnecessary Result type Remove unnecessary @swc/helpers",preset_env followup [1/2] (#478),"Addresses some feedback from #380. Together with a following PR to use swc_core (currently blocked on link and a subsequent publish), will address #474. Remove unnecessary Result type Remove unnecessary @swc/helpers"
2245,fix bug in tracking unemitted collectibles when moving between scopes (#481),"This can cause unemitted collectibles to be hanging around in wrong TaskScopes, which looks like emit or unemit has no effect.",fix bug in tracking unemitted collectibles when moving between scopes (#481),"This can cause unemitted collectibles to be hanging around in wrong TaskScopes, which looks like emit or unemit has no effect."
2246,Support for App.getInitialProps/Page.getInitialProps (#464),This is a very simplified version of what Next.js does. It adds support for App and page components defining getInitialProps. fixes vercel/web-tooling-internal#38,Support for App.getInitialProps/Page.getInitialProps (#464),This is a very simplified version of what Next.js does. It adds support for App and page components defining getInitialProps. fixes vercel/web-tooling-internal#38
2247,Misc changes to memory backend (#472)," Takes advantage of HashSets instead of Vecs for collections, since a TaskId could be seen multiple times Avoids several CountHashSet->Vec->CountHashSet round trips during recursive read_collectibles Moves taking collectibles into the backend, so that it can be performed before the state lock is released.  This alone doesn't solve my issue with logging. No matter what changes I've tried to the backend (children scopes crawling, collating into a CountHashSet during reads (because items could be very negative but still have a single positive elsewhere stack)), I constantly see the same message over and over. I now think it's because the turbopack-dev-server is spawning new root tasks everytime it receives a network request. That root task is completely divorced from prior executions, so every time we've un-emitted, it's just re-emitted during the computation of the new root task's subtasks. I think we need to invert the network-handler -> turbo-tasks nesting to be turbo-tasks -> network-handler, with a persistent root task.",Misc changes to memory backend (#472),"Takes advantage of HashSets instead of Vecs for collections, since a TaskId could be seen multiple times Avoids several CountHashSet->Vec->CountHashSet round trips during recursive read_collectibles Moves taking collectibles into the backend, so that it can be performed before the state lock is released. This alone doesn't solve my issue with logging. No matter what changes I've tried to the backend (children scopes crawling, collating into a CountHashSet during reads (because items could be very negative but still have a single positive elsewhere stack)), I constantly see the same message over and over. I now think it's because the turbopack-dev-server is spawning new root tasks everytime it receives a network request. That root task is completely divorced from prior executions, so every time we've un-emitted, it's just re-emitted during the computation of the new root task's subtasks. I think we need to invert the network-handler -> turbo-tasks nesting to be turbo-tasks -> network-handler, with a persistent root task."
2248,Revamp errors and logging (#467),"This updates all of our Issues to have a consistent display, and changes the way we display source code and debug-level details. In particular, this makes the following changes:  Cleans up the title/description of existing issues We were filling the title field with too much information, because the desccription field wasn't always shown. Always displays the description This used to be hidden behind the --detail flag Always displays the code frame of the issue, if it exists This used to be hidden behind the --detail flag Fixes the context (file path) to display the relative path to the file It was hardcoded to the FS string used by turbotrace Creates a new detail function which can provide debug-level information about the internal Rust state This is not shown by default, user must pass --detail flag  The format for a rendered issue roughly matches: ${SEVERITY} [${CATEGORY}]   ${CONTEXT}     ${TITLE}     ${CODE FRAME}     ${DESCRIPTION}     ${DETAIL} Where - SEVERITY is error/warning/etc - CATEGORY is a self-defined string for the phase of the compiler (eg, ""parsing"", ""running"") - CONTEXT is a file path to the offending file - TITLE is a short (single-line) title - CODE_FRAME is an optional position that generated the issue, which will display a few context lines and highlight the offending span of code - DESCRIPTION is a longer (multi-line) message that describes the issue, and what to do about it - DETAIL is a (by default not shown) fully detailed, debug-level, message providing insights into the internal state of Rust",Revamp errors and logging (#467),"This updates all of our Issues to have a consistent display, and changes the way we display source code and debug-level details. In particular, this makes the following changes: Cleans up the title/description of existing issues We were filling the title field with too much information, because the desccription field wasn't always shown. Always displays the description This used to be hidden behind the --detail flag Always displays the code frame of the issue, if it exists This used to be hidden behind the --detail flag Fixes the context (file path) to display the relative path to the file It was hardcoded to the FS string used by turbotrace Creates a new detail function which can provide debug-level information about the internal Rust state This is not shown by default, user must pass --detail flag The format for a rendered issue roughly matches: ${SEVERITY} [${CATEGORY}]   ${CONTEXT}     ${TITLE}     ${CODE FRAME}     ${DESCRIPTION}     ${DETAIL} Where - SEVERITY is error/warning/etc - CATEGORY is a self-defined string for the phase of the compiler (eg, ""parsing"", ""running"") - CONTEXT is a file path to the offending file - TITLE is a short (single-line) title - CODE_FRAME is an optional position that generated the issue, which will display a few context lines and highlight the offending span of code - DESCRIPTION is a longer (multi-line) message that describes the issue, and what to do about it - DETAIL is a (by default not shown) fully detailed, debug-level, message providing insights into the internal state of Rust"
2249,prepare css for different types and transforms (#477),following the design of ecmascript parse and modules fix a few nitpicks,prepare css for different types and transforms (#477),following the design of ecmascript parse and modules fix a few nitpicks
2250,feat(examples): add custom ignore script (#2183),,feat(examples): add custom ignore script (#2183),
2251,Merge release branch staging-1.5.6-canary.4 (#2186),Co-authored-by: Turbobot turbobot@vercel.com,Merge release branch staging-1.5.6-canary.4 (#2186),Co-authored-by: Turbobot turbobot@vercel.com
2252,Merge release branch staging-1.5.6-canary.3 (#2185),Co-authored-by: Turbobot turbobot@vercel.com,Merge release branch staging-1.5.6-canary.3 (#2185),Co-authored-by: Turbobot turbobot@vercel.com
2253,Add back bin/ directory (#2184),,Add back bin/ directory (#2184),
2254,Merge release branch staging-1.5.6-canary.2 (#2182),Co-authored-by: Turbobot turbobot@vercel.com,Merge release branch staging-1.5.6-canary.2 (#2182),Co-authored-by: Turbobot turbobot@vercel.com
2255,fix(examples): correct react-native ui output (#2181),"Correct jsx tsconfig value for react-native-web, and types error.",fix(examples): correct react-native ui output (#2181),"Correct jsx tsconfig value for react-native-web, and types error."
2256,"Use two stage release process, plus diamond workflow for cross-compiling (#2051)",,"Use two stage release process, plus diamond workflow for cross-compiling (#2051)",
2257,docs: Fix Pipeline API design link (#2153),"Hey Turbo folks 👋 , Just a tiny fix where a docs link is 404-ing. | Prev. Link                                 | New Link                                  | |--------------------------------------------|-------------------------------------------| |  |  | Cheers! 🖤",docs: Fix Pipeline API design link (#2153),"Hey Turbo folks 👋 , Just a tiny fix where a docs link is 404-ing. | Prev. Link                                 | New Link                                  | |--------------------------------------------|-------------------------------------------| |  |  | Cheers! 🖤"
2258,support new paused status (#2179),Part of PI-1319 Handles the new paused status from https://github.com/vercel/api/pull/14585 for when a customer has reached their defined spend cap and their spending has been paused.,support new paused status (#2179),Part of PI-1319 Handles the new paused status from link for when a customer has reached their defined spend cap and their spending has been paused.
2259,add more test cases to Collectibles (#475),Re: https://github.com/vercel/turbo-tooling/pull/472,add more test cases to Collectibles (#475),Re: link
2260,"Revert ""Caching, but to tar files."" (#2178)",,"Revert ""Caching, but to tar files."" (#2178)",
2261,fix(examples): correct turbo caching for storybook (#2176),We were not properly specifying the outputs for storybook in the design system docs.  This resulted in incorrectly cached builds.,fix(examples): correct turbo caching for storybook (#2176),We were not properly specifying the outputs for storybook in the design system docs.  This resulted in incorrectly cached builds.
2262,Add support for pages/_document (#456),"This adds preliminary support for pages/_document. The API is more complex than pages/_app, so this required a few more things in order to work. Right now, our next/document shim does much, much less than the original. We will eventually have to figure out whether we should distribute our own module, or find a way to reuse Next.js' internals. There's a lot of stuff in there so the second option is probably best.",Add support for pages/_document (#456),"This adds preliminary support for pages/_document. The API is more complex than pages/_app, so this required a few more things in order to work. Right now, our next/document shim does much, much less than the original. We will eventually have to figure out whether we should distribute our own module, or find a way to reuse Next.js' internals. There's a lot of stuff in there so the second option is probably best."
2263,Add support for pages/_app (#442),"This adds preliminary support for pages/_app. There's still some work to do here to support things like App. getInitialProps, etc., but that will come in later PRs. I've created issues for these for now. One issue remaining is that renaming pages/_app.js does not switch to the default _app asset. The server needs to be restarted for this to happen. Similarly, adding an _app.js file does not switch from the default asset to it. I'm guessing there's something wrong with the way I set up the import mappings, and they aren't being invalidated properly? fixes #424",Add support for pages/_app (#442),"This adds preliminary support for pages/_app. There's still some work to do here to support things like App. getInitialProps, etc., but that will come in later PRs. I've created issues for these for now. One issue remaining is that renaming pages/_app.js does not switch to the default _app asset. The server needs to be restarted for this to happen. Similarly, adding an _app.js file does not switch from the default asset to it. I'm guessing there's something wrong with the way I set up the import mappings, and they aren't being invalidated properly? fixes #424"
2264,pass request info to content source (#458),allow the ContentSource to declare which info is required,pass request info to content source (#458),allow the ContentSource to declare which info is required
2265,refactor AssetContext (#465),remove context_path from AssetContext remove most with_* methods from AssetContext add ResolveOrigin trait use ResolveOrigin to pass along context path and context for resolving ecmascript and css module assets implement ResolveOrigin Noteable change: Many places use origin_path instead of context_path which means it points to the issuer module path instead of the issuer module directory.,refactor AssetContext (#465),remove context_path from AssetContext remove most with_* methods from AssetContext add ResolveOrigin trait use ResolveOrigin to pass along context path and context for resolving ecmascript and css module assets implement ResolveOrigin Noteable change: Many places use origin_path instead of context_path which means it points to the issuer module path instead of the issuer module directory.
2266,track clippy warnings for all targets (#476),,track clippy warnings for all targets (#476),
2267,Automatic downleveling to browser targets using swc_preset_env (#380),"Closes #440 This uses swc's preset_env to automatically downlevel code according to the environment's browser targets, and sets next-dev to use a limited, modern target. To do: * [x] Add snapshot test * [x] turbotrace test failures — looks like this has something to do with the Buffer module? Hitting swc's ""multiple constructors"" not implemented: https://github.com/swc-project/swc/blob/f655488cfa252e68d8d2c0c01b398d84acc73191/crates/swc_ecma_transforms_compat/src/es2015/classes/mod.rs#L545 * [x] ~Benchmark downleveling node_modules (probably on front) and make a decision re: downleveling everything vs. just workspaces~ Filed as #457",Automatic downleveling to browser targets using swc_preset_env (#380),"Closes #440 This uses swc's preset_env to automatically downlevel code according to the environment's browser targets, and sets next-dev to use a limited, modern target. To do: * [x] Add snapshot test * [x] turbotrace test failures — looks like this has something to do with the Buffer module? Hitting swc's ""multiple constructors"" not implemented: link * [x] ~Benchmark downleveling node_modules (probably on front) and make a decision re: downleveling everything vs. just workspaces~ Filed as #457"
2268,publish 1.5.6-canary.1 to registry,,publish 1.5.6-canary.1 to registry,
2269,Fix usage of uninitialized Ui instance (#2172)," removes targetUI with was initialized without anywhere to write change usages of targetUI to prefixedUI, which is initialized add an integration test for a script in a monorepo that returns an error (and now demonstrates integration tests for monorepos, not just single packages)  Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com",Fix usage of uninitialized Ui instance (#2172),"removes targetUI with was initialized without anywhere to write change usages of targetUI to prefixedUI, which is initialized add an integration test for a script in a monorepo that returns an error (and now demonstrates integration tests for monorepos, not just single packages) Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com"
2270,chore(examples): migrate svelte to latest (#2173),Update svelte to latest by following the migration guide.  This is needed to support deployable examples: https://github.com/sveltejs/kit/discussions/5774,chore(examples): migrate svelte to latest (#2173),Update svelte to latest by following the migration guide.  This is needed to support deployable examples: link
2271,Pin indexmap across all packages (#471),,Pin indexmap across all packages (#471),
2272,build(cargo): pin indexmap to workaround circular ref (#468),,build(cargo): pin indexmap to workaround circular ref (#468),
2273,Use serde feature with indexmap crate (#470),This fixes failing snapshot tests on main. Test Plan: cargo test -p turbopack --test snapshot,Use serde feature with indexmap crate (#470),This fixes failing snapshot tests on main. Test Plan: cargo test -p turbopack --test snapshot
2274,Update examples to always quote the ESLint glob. (#2130),"When we run ESLint we're passing in globs. We want to send those globs directly to ESLint, not let the shell intercept them and expand them in advance. Closes #1869",Update examples to always quote the ESLint glob. (#2130),"When we run ESLint we're passing in globs. We want to send those globs directly to ESLint, not let the shell intercept them and expand them in advance. Closes #1869"
2275,publish 1.5.6-canary.0 to registry,,publish 1.5.6-canary.0 to registry,
2276,Remove INFO prefix from log line (#2171),,Remove INFO prefix from log line (#2171),
2277,move ProcessEnv into turbo-tasks-env (#462),make ProcessEnv a trait to allow other implemenetations of it,move ProcessEnv into turbo-tasks-env (#462),make ProcessEnv a trait to allow other implemenetations of it
2278,fix handling of injected dependencies for pnpm prune (#2121),  fix handling of injected dependencies for pnpm prune   add unit test for injected package behavior   catch injected optional and dev dependencies ,fix handling of injected dependencies for pnpm prune (#2121),fix handling of injected dependencies for pnpm prune add unit test for injected package behavior catch injected optional and dev dependencies
2279,build(cargo): bump up swc_core (#461),  build(cargo): bump up swc_core   test(snapshot): update snapshot   refactor(core): reduce clippy warning ,build(cargo): bump up swc_core (#461),build(cargo): bump up swc_core test(snapshot): update snapshot refactor(core): reduce clippy warning
2280,"Caching, but to tar files. (#1991)",Co-authored-by: Greg Soltis greg.soltis@vercel.com,"Caching, but to tar files. (#1991)",Co-authored-by: Greg Soltis greg.soltis@vercel.com
2281,feat(docs): add sentry (#2169),,feat(docs): add sentry (#2169),
2282,feat: Avoid panic from lockfile issues (#2163),"  bail during prune if there's no lockfile   no longer hard error if unable to parse lockfile   ``` olszewski@chriss-mbp pnpm-patch % turbo_dev build --filter=docs  WARNING  Issues occurred when constructing package graph. Turbo will function, but some features may not be available:  1 error occurred:         * could not unmarshal lockfile: : yaml: line 2: did not find expected ',' or '}' • Packages in scope: docs • Running build in 1 packages  INFO  • Remote caching disabled docs:build: cache miss, executing 9689a6319a885c5d docs:build: docs:build: > docs@0.0.0 build /private/tmp/pnpm-patch/apps/docs docs:build: > next build docs:build: docs:build: info  - Linting and checking validity of types... docs:build: info  - Creating an optimized production build... docs:build: info  - Compiled successfully docs:build: info  - Collecting page data... docs:build: info  - Generating static pages (0/3) docs:build: info  - Generating static pages (3/3) docs:build: info  - Finalizing page optimization... docs:build: docs:build: Route (pages)                              Size     First Load JS docs:build: ┌ ○ /                                      632 B          77.8 kB docs:build: └ ○ /404                                   195 B          77.3 kB docs:build: + First Load JS shared by all              77.1 kB docs:build:   ├ chunks/framework-3306dfb85e07225c.js   43 kB docs:build:   ├ chunks/main-eee301a3cd4ea15f.js        33.2 kB docs:build:   ├ chunks/pages/_app-5d76105b8238fa9a.js  200 B docs:build:   └ chunks/webpack-fd82975a6094609f.js     727 B docs:build: docs:build: ○  (Static)  automatically rendered as static HTML (uses no initial props) docs:build: Tasks:    1 successful, 1 total Cached:    0 cached, 1 total   Time:    3.891s olszewski@chriss-mbp pnpm-patch % turbo_dev prune --scope=docs  ERROR  could not construct graph: 1 error occurred:         * could not unmarshal lockfile: : yaml: line 2: did not find expected ',' or '}' ```  Allow errors from Lockfile.ResolvePackage",feat: Avoid panic from lockfile issues (#2163),bail during prune if there's no lockfile no longer hard error if unable to parse lockfile module Allow errors from Lockfile.ResolvePackage
2283,Turn off golang dependency auto updates (#2156),"We haven't merged any of these PRs before as far as I can tell https://github.com/vercel/turborepo/pulls?q=is%3Apr+author%3Aapp%2Frenovate+golang+is%3Amerged,  we generally close them all: https://github.com/vercel/turborepo/pulls?q=is%3Apr+author%3Aapp%2Frenovate+golang+is%3Aclosed Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com",Turn off golang dependency auto updates (#2156),"We haven't merged any of these PRs before as far as I can tell link,  we generally close them all: link Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com"
2284,seo: set canonical urls (#2168),,seo: set canonical urls (#2168),
2285,Fix 404s from search console (#2166),,Fix 404s from search console (#2166),
2286,Support for storing ImportMappingVc in AliasMap (#431),  Support for storing ImportMappingVc in AliasMap   PR comments ,Support for storing ImportMappingVc in AliasMap (#431),Support for storing ImportMappingVc in AliasMap PR comments
2287,fix: filename for web depending on ui (#2164),"Explanation is for web depending on ui, but the filename indicates that ui depends on ui; fix to reflect the correct change.",fix: filename for web depending on ui (#2164),"Explanation is for web depending on ui, but the filename indicates that ui depends on ui; fix to reflect the correct change."
2288,read_matches consumer need to resolve symlinks (#459),,read_matches consumer need to resolve symlinks (#459),
2289,Remove prefixes from stored logs (#2126),"Prefixes are still written to stdout/stderr when the task is run, but the files on disk only include the raw logs. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com",Remove prefixes from stored logs (#2126),"Prefixes are still written to stdout/stderr when the task is run, but the files on disk only include the raw logs. Co-authored-by: Chris Olszewski chris.olszewski@vercel.com"
2290,feat: prune support for lockfiles containing patches (#2151),  keep additional package.json fields   add package.json marshalling support   Add support to prune berry patches   Fixup prune support for pnpm lockfiles with patches   Fix empty slice check   use switch for type checks   fix bad type assertion ,feat: prune support for lockfiles containing patches (#2151),keep additional package.json fields add package.json marshalling support Add support to prune berry patches Fixup prune support for pnpm lockfiles with patches Fix empty slice check use switch for type checks fix bad type assertion
2291,"fix(packages): add repo, directory, and bugs (#2161)",,"fix(packages): add repo, directory, and bugs (#2161)",
2292,Migrate to pnpm (#336),turbo tracing in pnpm projects How pnpm link packages:  After turbo tracing: dist ├── crates │   └── turbopack │       └── tests │           └── node-file-trace │               ├── integration │               └── node_modules │                   └── better-sqlite3 -> ../../../../../node_modules/.pnpm/better-sqlite3@7.6.2/node_modules/better-sqlite3 └── node_modules     └── .pnpm         ├── better-sqlite3@7.6.2         │   └── node_modules         │       ├── better-sqlite3         │       │   ├── build         │       │   │   └── Release         │       │   └── lib         │       │       └── methods         │       └── bindings -> ../../bindings@1.5.0/node_modules/bindings         ├── bindings@1.5.0         │   └── node_modules         │       ├── bindings         │       └── file-uri-to-path -> ../../file-uri-to-path@1.0.0/node_modules/file-uri-to-path         └── file-uri-to-path@1.0.0             └── node_modules                 └── file-uri-to-path No more global .pnpm store. The directory link will follow the original path created by pnpm.,Migrate to pnpm (#336),turbo tracing in pnpm projects How pnpm link packages: After turbo tracing: dist ├── crates │   └── turbopack │       └── tests │           └── node-file-trace │               ├── integration │               └── node_modules │                   └── better-sqlite3 -> ../../../../../node_modules/.pnpm/better-sqlite3@7.6.2/node_modules/better-sqlite3 └── node_modules     └── .pnpm         ├── better-sqlite3@7.6.2         │   └── node_modules         │       ├── better-sqlite3         │       │   ├── build         │       │   │   └── Release         │       │   └── lib         │       │       └── methods         │       └── bindings -> ../../bindings@1.5.0/node_modules/bindings         ├── bindings@1.5.0         │   └── node_modules         │       ├── bindings         │       └── file-uri-to-path -> ../../file-uri-to-path@1.0.0/node_modules/file-uri-to-path         └── file-uri-to-path@1.0.0             └── node_modules                 └── file-uri-to-path No more global .pnpm store. The directory link will follow the original path created by pnpm.
2293,fix(deps): update dependency ts-json-schema-generator to v1.1.2 (#2139)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | ts-json-schema-generator | 1.1.1 -> 1.1.2 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency ts-json-schema-generator to v1.1.2 (#2139),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | ts-json-schema-generator | 1.1.1 -> 1.1.2 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2294,chore(deps): update dependency typescript to v4.8.4 (#2128)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | typescript (source) | 4.8.3 -> 4.8.4 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency typescript to v4.8.4 (#2128),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | typescript (source) | 4.8.3 -> 4.8.4 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2295,chore(deps): update dependency postcss to v8.4.17 (#2144)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.16 -> 8.4.17 |  |  |  |  |  Release Notes  postcss/postcss  ### [`v8.4.17`](https://togithub.com/postcss/postcss/blob/HEAD/CHANGELOG.md#​8417)  [Compare Source](https://togithub.com/postcss/postcss/compare/8.4.16...8.4.17)  -   Fixed `Node.before()` unexpected behavior (by Romain Menke). -   Added TOC to docs (by Mikhail Dedov).    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency postcss to v8.4.17 (#2144),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | postcss (source) | 8.4.16 -> 8.4.17 |  |  |  |  | Release Notes postcss/postcss module Compare Source  Fixed module unexpected behavior (by Romain Menke). Added TOC to docs (by Mikhail Dedov).  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2296,Use Warn method for logWarning (#2135),,Use Warn method for logWarning (#2135),
2297,"Fix broken links on ""Workspace"" Doc (#2141)","Summary Fix broken links on Page ""Workspace"" Ref: https://turborepo.org/docs/handbook/workspaces","Fix broken links on ""Workspace"" Doc (#2141)","Summary Fix broken links on Page ""Workspace"" Ref: link"
2298,Use unix:path to address unix socket (#2137)," Use a url format that survives grpc parsing to produce a valid unix domain socket on all platforms Re-enable daemon on windows, now that we can properly address the socket",Use unix:path to address unix socket (#2137),"Use a url format that survives grpc parsing to produce a valid unix domain socket on all platforms Re-enable daemon on windows, now that we can properly address the socket"
2299,fix: Glob negation in outputs (#2031),"Fixes glob negation in outputs, basically patterns that exclude directories like !.next/cache/**. Involves changes to protobuf types for OutputWatcher. Existing tests from turbo_json_test.go and globby_test.go should cover the cases.",fix: Glob negation in outputs (#2031),"Fixes glob negation in outputs, basically patterns that exclude directories like !.next/cache/**. Involves changes to protobuf types for OutputWatcher. Existing tests from turbo_json_test.go and globby_test.go should cover the cases."
2300,merge AsyncLoadableReference and ChunkableAssetReference into a single ChunkingType enum (#446),"refactoring for app support. It will use the Separate chunking type for references to client modules, which means they only generate chunks but these are not included from the server compilation.",merge AsyncLoadableReference and ChunkableAssetReference into a single ChunkingType enum (#446),"refactoring for app support. It will use the Separate chunking type for references to client modules, which means they only generate chunks but these are not included from the server compilation."
2301,add layer to ChunkingContext and include that in module id and chunk paths (#449),this allows multiple versions of modules to co-exist in one chunking context e. g. RSC layer and SSR layer,add layer to ChunkingContext and include that in module id and chunk paths (#449),this allows multiple versions of modules to co-exist in one chunking context e. g. RSC layer and SSR layer
2302,chore(deps): update dependency @babel/core to v7.19.3 (#2127)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.19.1 -> 7.19.3 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @babel/core to v7.19.3 (#2127),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.19.1 -> 7.19.3 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2303,Change some variable names (#2136),,Change some variable names (#2136),
2304,docs: Tweak tracking in card headers (#2133),,docs: Tweak tracking in card headers (#2133),
2305,simpler runtime inclusion (#438),,simpler runtime inclusion (#438),
2306,Turbo-specific changes to build containers (#1930),,Turbo-specific changes to build containers (#1930),
2307,Add script to generate RSS feed.xml to docs site (#2132),,Add script to generate RSS feed.xml to docs site (#2132),
2308,count single clippy warnings,,count single clippy warnings,
2309,change WrapperAsset to some more general purpose VirtualAsset (#447),Wrapper is a bit of a weird name since it's not actually wrapping the existing asset. Actually it's just a virtual asset with a path below the existing path.,change WrapperAsset to some more general purpose VirtualAsset (#447),Wrapper is a bit of a weird name since it's not actually wrapping the existing asset. Actually it's just a virtual asset with a path below the existing path.
2310,add Default for EcmascriptChunkItemContent (#450),,add Default for EcmascriptChunkItemContent (#450),
2311,fixes some nitpicks (#448),,fixes some nitpicks (#448),
2312,fix code generation for edge cases (#259),,fix code generation for edge cases (#259),
2313,Refactor nodejs rendering to be more isolated and reusable (#428),(Prerequirement for app support),Refactor nodejs rendering to be more isolated and reusable (#428),(Prerequirement for app support)
2314,build(cargo): consolidate swc_core dependency version (#443),"This PR utilizes cargo's new feature from latest release (1.64.0), inheriting dependency from a workspace. In short, top-level workspace cargo manifest can specify a version of dependency to use, then actual packages uses it without re-declaring version per each via workspace = true. This will help to dedupe different versions of packages, also potentially avoid conflicts if forgot to bump up specific versions. In this pr only touches swc_core, which is a base dependency we use in several place. One another benefit for this is bump up PR can be lot more simplified, only need to update single Cargo.toml when we bump up. Note rust-toolchain has updated to use nightly version after 1.64.0 to enable this.",build(cargo): consolidate swc_core dependency version (#443),"This PR utilizes cargo's new feature from latest release (1.64.0), inheriting dependency from a workspace. In short, top-level workspace cargo manifest can specify a version of dependency to use, then actual packages uses it without re-declaring version per each via workspace = true. This will help to dedupe different versions of packages, also potentially avoid conflicts if forgot to bump up specific versions. In this pr only touches swc_core, which is a base dependency we use in several place. One another benefit for this is bump up PR can be lot more simplified, only need to update single Cargo.toml when we bump up. Note rust-toolchain has updated to use nightly version after 1.64.0 to enable this."
2315,publish 1.5.5 to registry,,publish 1.5.5 to registry,
2316,Temporarily disable daemon on windows (#2124),"We have an issue with threading our AF_UNIX socket properly through grpc on windows. Disable the daemon attempt on windows while we work out the issue, so that users aren't bothered by the warning that it isn't working.",Temporarily disable daemon on windows (#2124),"We have an issue with threading our AF_UNIX socket properly through grpc on windows. Disable the daemon attempt on windows while we work out the issue, so that users aren't bothered by the warning that it isn't working."
2317,Re-add log message about remote caching (#2122),"This re-adds the log message for Remote Caching, but only when tasks are actually going to execute. The message was removed in d48fcdf because it was being included in --dry-run output, making --dry-run=json output non-machine-readable. By excluding this log message from dry run output, we solve both problems. This commit also moves logWarning() into CmdBase to match logError().",Re-add log message about remote caching (#2122),"This re-adds the log message for Remote Caching, but only when tasks are actually going to execute. The message was removed in d48fcdf because it was being included in --dry-run output, making --dry-run=json output non-machine-readable. By excluding this log message from dry run output, we solve both problems. This commit also moves logWarning() into CmdBase to match logError()."
2318,use embed macro (#437),,use embed macro (#437),
2319,Merge branch 'main' into staging,,Merge branch 'main' into staging,
2320,Remove staging from scheduled OSS merge,,Remove staging from scheduled OSS merge,
2321,Move ecmascript transforms into separate file (#429),(Prerequirement for app support),Move ecmascript transforms into separate file (#429),(Prerequirement for app support)
2322,fix asset paths in server rendered pages (#436),"Currently, when a server rendered page imports an asset (e.g. an image) there's a hydration mismatch",fix asset paths in server rendered pages (#436),"Currently, when a server rendered page imports an asset (e.g. an image) there's a hydration mismatch"
2323,Extract the patch for tar (#2116),,Extract the patch for tar (#2116),
2324,refactor how chunk item ids are handled (#434),(Prerequirement for app support) Move ValueToString to EcmascriptChunk remove id from chunk item content add id/path to chunk item remove context arguments from content and code generation Derive specific context from general context,refactor how chunk item ids are handled (#434),(Prerequirement for app support) Move ValueToString to EcmascriptChunk remove id from chunk item content add id/path to chunk item remove context arguments from content and code generation Derive specific context from general context
2325,Test that env vars dependencies are sorted consistently (#2111),,Test that env vars dependencies are sorted consistently (#2111),
2326,Add React Flow to showcase (#2107),Hey!  We've just switched to turborepo and it's awesome :) Thanks for your work!   React Flow repo  React Flow website  ,Add React Flow to showcase (#2107),Hey!  We've just switched to turborepo and it's awesome :) Thanks for your work!  React Flow repo  React Flow website
2327,Fix small typo (#2108),,Fix small typo (#2108),
2328,use embed_file (#432),,use embed_file (#432),
2329,Use ValueToString for AssetReference instead of description() (#430),(Prerequirement for app support),Use ValueToString for AssetReference instead of description() (#430),(Prerequirement for app support)
2330,Change Berry's cacheKey to be a string (#2102),  Make berry.lock fixtures have non-int cacheKey   Change cacheKey from int to string   use empty string instead ,Change Berry's cacheKey to be a string (#2102),Make berry.lock fixtures have non-int cacheKey Change cacheKey from int to string use empty string instead
2331,improve error message (#433),,improve error message (#433),
2332,Add rewrite to turbo sitemap crawler (#2106),,Add rewrite to turbo sitemap crawler (#2106),
2333,Fix broken link to sales,,Fix broken link to sales,
2334,Introduce AssetContent to handle symlink assets (#406),  Fix DiskFileSystem::read_link   pnpm-like integration test   Introduce AssetContent to handle symlink assets   Fix read_link on Windows   Run clippy fix   Rename path to target   Co-authored-by: Justin Ridgewell justin@ridgewell.name   Split Windows specified code   Add comments about Redirect is only represent Directory   Handle symlink while reading content   Clippy fix   Revert previous changes in FileSystemPathVc::get_type   Fix Unix read_link   cleanup   handle symlink while resolving native bindings   Make LinkContent::Link contains only target   Add LinkType to represent link type   Cleanup VersionedAsset   Cleanup LinkType   Normalize the LinkContent::target   Comments   Revert special case workaround for sharp on Windows   comments   node_native_binding follow file link   Apply CR suggestion   Co-authored-by: Justin Ridgewell justin@ridgewell.name,Introduce AssetContent to handle symlink assets (#406),Fix DiskFileSystem::read_link pnpm-like integration test Introduce AssetContent to handle symlink assets Fix read_link on Windows Run clippy fix Rename path to target Co-authored-by: Justin Ridgewell justin@ridgewell.name Split Windows specified code Add comments about Redirect is only represent Directory Handle symlink while reading content Clippy fix Revert previous changes in FileSystemPathVc::get_type Fix Unix read_link cleanup handle symlink while resolving native bindings Make LinkContent::Link contains only target Add LinkType to represent link type Cleanup VersionedAsset Cleanup LinkType Normalize the LinkContent::target Comments Revert special case workaround for sharp on Windows comments node_native_binding follow file link Apply CR suggestion Co-authored-by: Justin Ridgewell justin@ridgewell.name
2335,replace json with serde_json (#398),get rid of json in favor of only serde_json for consistency and less dependencies,replace json with serde_json (#398),get rid of json in favor of only serde_json for consistency and less dependencies
2336,Support for package name collisions (#422),"This adds support for resolving sub-modules into different but similarly-named modules. Before, import ""foo/bar"";  would always try to resolve ""./bar"" in the first ""foo"" package we could find, be it in node_modules or TS's compilerOptions.baseUrl. Now, we'll try to resolve it in all ""foo"" packages we can find. Fixes #420",Support for package name collisions (#422),"This adds support for resolving sub-modules into different but similarly-named modules. Before, import ""foo/bar"";  would always try to resolve ""./bar"" in the first ""foo"" package we could find, be it in node_modules or TS's compilerOptions.baseUrl. Now, we'll try to resolve it in all ""foo"" packages we can find. Fixes #420"
2337,fix(fs): overwrite symlink in restore cache (#2016),"fix(fs): overwrite symlink in restore cache In restore cache process, if there already exist a same link in dist folder, turbo will failed with an error: bash error fetching from cache: error moving artifact from cache into XXXXX: symlink ../uuid/dist/bin/uuid XXXXX/dist/node_modules/.bin/uuid: file exists This patch just remove already existed link.",fix(fs): overwrite symlink in restore cache (#2016),"fix(fs): overwrite symlink in restore cache In restore cache process, if there already exist a same link in dist folder, turbo will failed with an error: bash error fetching from cache: error moving artifact from cache into XXXXX: symlink ../uuid/dist/bin/uuid XXXXX/dist/node_modules/.bin/uuid: file exists This patch just remove already existed link."
2338,publish 1.5.4 to registry,,publish 1.5.4 to registry,
2339,Implement .env loading (#409),"This implements .env loading by taking advantage of the dotenvy crate. Unfortunately, this isn't as featureful as the npm dotenv, lacking FOO=${BAR:-default} default support (this might be important), FOO=${MAYBE_UNDEFINED:-${BAR-:default}} nested fallbacks, and FOO=`backtick` support. This is then converted into a series of assignments for the client code. This is run before any of the user code. ```js const env = process.env; env[""FOO""] = ""bar""; //... ```  TODO: - [x] ~~Replace process.env.FOO/process.env[""FOO""] during chunk compilation~~   - using a runtime module speeds up HMR because the code doesn't need to be recompiled. - [x] I don't actually know how to test server rendering, so I assume it works but haven't verified.",Implement .env loading (#409),"This implements .env loading by taking advantage of the dotenvy crate. Unfortunately, this isn't as featureful as the npm dotenv, lacking FOO=${BAR:-default} default support (this might be important), FOO=${MAYBE_UNDEFINED:-${BAR-:default}} nested fallbacks, and FOO=module support. This is then converted into a series of assignments for the client code. This is run before any of the user code. module TODO: - [x] ~~Replace process.env.FOO/process.env[""FOO""] during chunk compilation~~   - using a runtime module speeds up HMR because the code doesn't need to be recompiled. - [x] I don't actually know how to test server rendering, so I assume it works but haven't verified."
2340,publish 1.5.4-canary.0 to registry,,publish 1.5.4-canary.0 to registry,
2341,Disable Windows benchmark (#427),The Windows environment consistently times out when performing benchmarks.,Disable Windows benchmark (#427),The Windows environment consistently times out when performing benchmarks.
2342,Do not treat dynamically imported chunks as evaluated (#426),"I didn't really understand this part of the code when I wrote this. The dynamic import is never an entrypoint, so we shouldn't treat it as evaluated. Note, the underlying chunk foo.js without the runtime code was always available. But, the client linked to the evaluated foo.js.eval.js, because I incorrectly marked the chunk group as an evaluated one. Fixes #425",Do not treat dynamically imported chunks as evaluated (#426),"I didn't really understand this part of the code when I wrote this. The dynamic import is never an entrypoint, so we shouldn't treat it as evaluated. Note, the underlying chunk foo.js without the runtime code was always available. But, the client linked to the evaluated foo.js.eval.js, because I incorrectly marked the chunk group as an evaluated one. Fixes #425"
2343,Handle pnpm resolving a dependency to multiple versions (#2090),,Handle pnpm resolving a dependency to multiple versions (#2090),
2344,Add merge-oss action,,Add merge-oss action,
2345,Update command line reference for prune (#2087),Resolves some comments on #534 requesting a docs update.,Update command line reference for prune (#2087),Resolves some comments on #534 requesting a docs update.
2346,chore(deps): update dependency autoprefixer to v10.4.12 (#2007),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,chore(deps): update dependency autoprefixer to v10.4.12 (#2007),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2347,fix(docs): overflow on <Callout /> (#2082),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,fix(docs): overflow on  (#2082),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2348,Turn down logging for the daemon (#2085),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Turn down logging for the daemon (#2085),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2349,chore(deps): update nextjs monorepo to v12.3.1 (#2035),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update nextjs monorepo to v12.3.1 (#2035),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2350,Fix a couple of typos (#417),,Fix a couple of typos (#417),
2351,fix(prune): place workspace configuration file in json directory (#2030),Fix for issue that @mattpocock discovered. This places the workspace definition file into the json directory and full directory instead of the out directory. This reflects the new documentation in #2013,fix(prune): place workspace configuration file in json directory (#2030),Fix for issue that @mattpocock discovered. This places the workspace definition file into the json directory and full directory instead of the out directory. This reflects the new documentation in #2013
2352,Path casts (#2077),"@gsoltis (correctly! as proven by this PR) has a vendetta against casts. This PR removes most casts to turbopath.* in the repository with explicit exceptions for strings and t.TempDir(). The regex used to identify casts, of which, 100% have been manually reviewed: turbopath\.(Absolute|Anchored|Relative)(Unix|System)Path\( Of the remaining 13 that do not fall into the above ""string"" or t.TempDir() exceptions, 7 fall outside of the fs package: turbopath\.(Absolute|Anchored|Relative)(Unix|System)Path\((?!(""|t\.TempDir)) ``` 7 results - 4 files cli/internal/cache/cache_http.go:   280       // FIXME: THIS IS A BUG.   281:      restoredName := turbopath.AnchoredUnixPath(hdr.Name)   282       files = append(files, restoredName.ToSystemPath()) cli/internal/hashing/package_deps_hash_test.go:   20    cwd, _ := os.Getwd()   21:   root := turbopath.AbsoluteSystemPath(filepath.VolumeName(cwd) + string(os.PathSeparator))   22:   checking := turbopath.AbsoluteSystemPath(cwd)   23   32            for _, file := range files {   33:               fileName := turbopath.RelativeSystemPath(file.Name())   34                if strings.Index(fileName.ToString(), fmt.Sprintf(""%02d-"", id)) == 0 {   35:                   return turbopath.AbsoluteSystemPath(fixtureDirectory.Join(fileName))   36                } cli/internal/lockfile/berry_lockfile.go:   305       if isPatch && !strings.HasPrefix(patchPath, ""~"") && !_builtinRegexp.MatchString(patchPath) {   306:          patches = append(patches, turbopath.AnchoredUnixPath(patchPath))   307       } cli/internal/lockfile/pnpm_lockfile.go:   251   for _, patch := range p.PatchedDependencies {   252:      patches[i] = turbopath.AnchoredUnixPath(patch.Path)   253       i++ ``` Of these 7: - One is a bug resolved by cache-to-tar. - Four are in a single test utility function. That should get cleaned up but is very low priority. - Two are in application code for berry and pnpm patches. I'll pass that off to @chris-olszewski since I'm not 100% certain that I can safely slap turbopath.AnchoredUnixPathFromUpstream() on them.",Path casts (#2077),"@gsoltis (correctly! as proven by this PR) has a vendetta against casts. This PR removes most casts to turbopath.* in the repository with explicit exceptions for strings and t.TempDir(). The regex used to identify casts, of which, 100% have been manually reviewed: turbopath.(Absolute|Anchored|Relative)(Unix|System)Path( Of the remaining 13 that do not fall into the above ""string"" or t.TempDir() exceptions, 7 fall outside of the fs package: turbopath.(Absolute|Anchored|Relative)(Unix|System)Path((?!(""|t.TempDir)) module Of these 7: - One is a bug resolved by cache-to-tar. - Four are in a single test utility function. That should get cleaned up but is very low priority. - Two are in application code for berry and pnpm patches. I'll pass that off to @chris-olszewski since I'm not 100% certain that I can safely slap turbopath.AnchoredUnixPathFromUpstream() on them."
2353,Fix typo in docs (#2086),Just a tiny fix for a tiny typo.,Fix typo in docs (#2086),Just a tiny fix for a tiny typo.
2354,fix(prune) respect dir permissions during prune (#2066),"  respect dir permissions during prune, fixes #1872   close file in test   use typed path joins, use scoped errors   Fix test expectation for windows file permissions   Actually fixup windows tests ",fix(prune) respect dir permissions during prune (#2066),"respect dir permissions during prune, fixes #1872 close file in test use typed path joins, use scoped errors Fix test expectation for windows file permissions Actually fixup windows tests"
2355,Better describe benchmark visualization xtask (#414),,Better describe benchmark visualization xtask (#414),
2356,Add single-package mode and integration tests (#1979)," Add a --single-package flag to turbo run allows running in a repository with a single package, and does not require turbo.json. For sample behavior, see new files under cli/integration_tests/single_package* Add some single-package integration tests via prysk.  Add a Makefile target to bootstrap a testbed directory from an integration test. For example: make testbed-single_package updates the testbed directory to match the setup for the single_package integration test. There is a matching entry in launch.json to debug a turbo invocation in testbed.",Add single-package mode and integration tests (#1979),"Add a --single-package flag to turbo run allows running in a repository with a single package, and does not require turbo.json. For sample behavior, see new files under cli/integration_tests/single_package* Add some single-package integration tests via prysk.  Add a Makefile target to bootstrap a testbed directory from an integration test. For example: make testbed-single_package updates the testbed directory to match the setup for the single_package integration test. There is a matching entry in launch.json to debug a turbo invocation in testbed."
2357,chore(docs): sections for globalDependencies and globalEnv (#2080),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,chore(docs): sections for globalDependencies and globalEnv (#2080),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2358,Fix: Docs Edit This Page Button not working (#2076),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Fix: Docs Edit This Page Button not working (#2076),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2359,JSON modules as ES placeable (#415),This PR makes JSON modules ES chunk placeable. Fixes #412 and #413,JSON modules as ES placeable (#415),This PR makes JSON modules ES chunk placeable. Fixes #412 and #413
2360,fix(deps): update dependency ts-json-schema-generator to v1.1.1 (#2071),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency ts-json-schema-generator to v1.1.1 (#2071),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2361,Add path types for cache. (#2059),"As prework for merging cache-to-tar, this ensures that we know what types of paths we're dealing with at (almost) every step in the cache process. It also makes the first argument to Put (previously unused) and Fetch the anchor of the enumerated list of files being saved or restored.",Add path types for cache. (#2059),"As prework for merging cache-to-tar, this ensures that we know what types of paths we're dealing with at (almost) every step in the cache process. It also makes the first argument to Put (previously unused) and Fetch the anchor of the enumerated list of files being saved or restored."
2362,Fix typo (#2074),,Fix typo (#2074),
2363,Use fmt.Sprintf where appropriate in logs (#2068),"The log api takes either argument pairs or a stacktrace as its varargs, but it doesn't do string formatting. Make sure we do the string formatting where we need to.",Use fmt.Sprintf where appropriate in logs (#2068),"The log api takes either argument pairs or a stacktrace as its varargs, but it doesn't do string formatting. Make sure we do the string formatting where we need to."
2364,Drop log line breaking JSON dry-run output when remote caching is enabled (#2067),"We shouldn't be writing directly to stdout/stderr, that breaks output for json-based commands, as well as doesn't honor any ui configuration we have in place. Fixes #2062",Drop log line breaking JSON dry-run output when remote caching is enabled (#2067),"We shouldn't be writing directly to stdout/stderr, that breaks output for json-based commands, as well as doesn't honor any ui configuration we have in place. Fixes #2062"
2365,publish 1.5.3 to registry,,publish 1.5.3 to registry,
2366,Add test to ensure relevant fields are sorted (#2064),,Add test to ensure relevant fields are sorted (#2064),
2367,Update turbo-1-5-0.mdx (#2061),Remove duplicate 'using' word in one sentence.,Update turbo-1-5-0.mdx (#2061),Remove duplicate 'using' word in one sentence.
2368,Continue resolving when import maps yields unresolveable results (#404),"Adding support for patterns such as @* in the import map meant that resolving any @* module got stuck at the import map resolve step, since an import map with such a pattern will always yield a result, even if it is unresolveable. Instead, we keep resolving if we can't resolve to an actual result.",Continue resolving when import maps yields unresolveable results (#404),"Adding support for patterns such as @ in the import map meant that resolving any @ module got stuck at the import map resolve step, since an import map with such a pattern will always yield a result, even if it is unresolveable. Instead, we keep resolving if we can't resolve to an actual result."
2369,Avoid collisions between evaluated and non-evaluated chunks. (#403),"However, I wonder if it's possible to still have collisions between two evaluated chunks with different runtime entries. @sokra thoughts?",Avoid collisions between evaluated and non-evaluated chunks. (#403),"However, I wonder if it's possible to still have collisions between two evaluated chunks with different runtime entries. @sokra thoughts?"
2370,publish 1.5.2 to registry,,publish 1.5.2 to registry,
2371,Ensure environment variables are sorted (#2054),"Unsorted environment variables cause hashes to be unstable, meaning a large number of environment variables leads to essentially no cache hits. Fixes #2029",Ensure environment variables are sorted (#2054),"Unsorted environment variables cause hashes to be unstable, meaning a large number of environment variables leads to essentially no cache hits. Fixes #2029"
2372,Wire up api and team flags with viper (#2053), Ensure we are binding --api and --team to viper.  Ensure we don't mix a config-produced teamId with a flag-produced teamSlug Add a test for the desired behavior  Fixes #2040,Wire up api and team flags with viper (#2053),Ensure we are binding --api and --team to viper.  Ensure we don't mix a config-produced teamId with a flag-produced teamSlug Add a test for the desired behavior Fixes #2040
2373,chore(release): version updates (#2044),,chore(release): version updates (#2044),
2374,hotfix: Docker page title and URL,,hotfix: Docker page title and URL,
2375,Combine AbsolutePath and AbsoluteSystemPath (#2026),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,Combine AbsolutePath and AbsoluteSystemPath (#2026),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
2376,fix: Add .turbo to .gitignore (#2002),My first task! Converts the code that adds .turbo to .gitignore from a grep command to some regular Go code. Fixes a bug with grep not detecting .turbo if there's leading or trailing whitespace.,fix: Add .turbo to .gitignore (#2002),My first task! Converts the code that adds .turbo to .gitignore from a grep command to some regular Go code. Fixes a bug with grep not detecting .turbo if there's leading or trailing whitespace.
2377,Disable windows variant (#2048),,Disable windows variant (#2048),
2378,Fix up image directory and filenames (#2047),,Fix up image directory and filenames (#2047),
2379,feature: enhance dry-run with cache status (#1988),Co-authored-by: Greg Soltis greg.soltis@vercel.com,feature: enhance dry-run with cache status (#1988),Co-authored-by: Greg Soltis greg.soltis@vercel.com
2380,Slowdown the marquee (#2046),,Slowdown the marquee (#2046),
2381,1.5 blog (#1999),  1.5 blog   Changed meta and title   Added og image   Fixed comma   Added links   Added Social Network embed   Rewrote section on prune   Removed npm from announcement   Update docs/pages/blog/turbo-1-5-0.mdx   Co-authored-by: Thomas Knickman tom.knickman@vercel.com   Added changes from code review   Changed prune docs   Fixed og image   Changed to 2+   Dropped the drop the run   Update docs/pages/blog/turbo-1-5-0.mdx   Update docs/pages/blog/turbo-1-5-0.mdx   Update docs/pages/blog/turbo-1-5-0.mdx   Update docs/pages/blog/turbo-1-5-0.mdx   Update docs/pages/blog/turbo-1-5-0.mdx   Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,1.5 blog (#1999),1.5 blog Changed meta and title Added og image Fixed comma Added links Added Social Network embed Rewrote section on prune Removed npm from announcement Update docs/pages/blog/turbo-1-5-0.mdx Co-authored-by: Thomas Knickman tom.knickman@vercel.com Added changes from code review Changed prune docs Fixed og image Changed to 2+ Dropped the drop the run Update docs/pages/blog/turbo-1-5-0.mdx Update docs/pages/blog/turbo-1-5-0.mdx Update docs/pages/blog/turbo-1-5-0.mdx Update docs/pages/blog/turbo-1-5-0.mdx Update docs/pages/blog/turbo-1-5-0.mdx Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
2382,feat(eslint-plugin): add new configuration style (#2041),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,feat(eslint-plugin): add new configuration style (#2041),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2383,Added documentation of deploying to docker to the handbook (#2013),,Added documentation of deploying to docker to the handbook (#2013),
2384,chore: release npm packages, @vercel/experimental-nft-next-plugin@0.0.1,chore: release npm packages,@vercel/experimental-nft-next-plugin@0.0.1
2385,Added link to Why Turborepo from the quickstart (#2015),,Added link to Why Turborepo from the quickstart (#2015),
2386,Rewrote option syntax to be more flexible (thanks Cobra) (#2014),,Rewrote option syntax to be more flexible (thanks Cobra) (#2014),
2387,Update docs on declaring env key dependencies (#1936),Docs for env key updates  [x] #1970 [x] #1950 [ ] codemod [ ] lint rule  This PR will include:   guide and reference docs updates blog post  This PR will be ready for review after all the code pieces are merged. Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com,Update docs on declaring env key dependencies (#1936),Docs for env key updates [x] #1970 [x] #1950 [ ] codemod [ ] lint rule This PR will include:  guide and reference docs updates blog post This PR will be ready for review after all the code pieces are merged. Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com
2388,publish 1.5.1 to registry,,publish 1.5.1 to registry,
2389,"We can infer identifer, we don't need to specify it (#2032)",,"We can infer identifer, we don't need to specify it (#2032)",
2390,Drop no-longer-supported platform references (#2033),,Drop no-longer-supported platform references (#2033),
2391,publish 1.5.0 to registry,,publish 1.5.0 to registry,
2392,feat: Add prune support for Yarn 3 (#2019),Co-authored-by: Greg Soltis greg.soltis@vercel.com,feat: Add prune support for Yarn 3 (#2019),Co-authored-by: Greg Soltis greg.soltis@vercel.com
2393,feat(codemod): migrate turbo.json dependsOn (#2022),,feat(codemod): migrate turbo.json dependsOn (#2022),
2394,chore(core): deprecation messages for legacy env keys (#1959),Co-authored-by: tknickman tom.knickman@vercel.com,chore(core): deprecation messages for legacy env keys (#1959),Co-authored-by: tknickman tom.knickman@vercel.com
2395,macro improvements (#342)," Removes the transform of trait TraitName: TraitDep into trait TraitName: Into<TraitDep> Removes the generated lazy_static! (was always a bit hard to read in the macro expansion, and once_cell::Lazy does the same without a macro) Generates unique names for all impls, before implementing 2 traits with the same function name would lead to a compile error because they got the same func ident",macro improvements (#342),"Removes the transform of trait TraitName: TraitDep into trait TraitName: Into Removes the generated lazy_static! (was always a bit hard to read in the macro expansion, and once_cell::Lazy does the same without a macro) Generates unique names for all impls, before implementing 2 traits with the same function name would lead to a compile error because they got the same func ident"
2396,actions: don't install nextest when testing benches (#407),"Had added this to run nextest in #341, but because it doesn't work I had reverted part of the change, just not this",actions: don't install nextest when testing benches (#407),"Had added this to run nextest in #341, but because it doesn't work I had reverted part of the change, just not this"
2397,more type safe next-dev builder (#388),,more type safe next-dev builder (#388),
2398,small fixes / improvements (#341),Many small things I found The most important is probably the typescript transform The remaining bits should hopefully be self-explanatory from the commit messages,small fixes / improvements (#341),Many small things I found The most important is probably the typescript transform The remaining bits should hopefully be self-explanatory from the commit messages
2399,fix(deps): update dependency nextra to v2.0.0-beta.29 (#2008),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency nextra to v2.0.0-beta.29 (#2008),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2400,feat(types): add turbo types package (#2024),,feat(types): add turbo types package (#2024),
2401,Implement ValueDebugFormat for tuples (up to 12 elements) and derive it for some types (#402),Tuples will now be formatted properly when nested inside other ValueDebugFormat types. This means vc.dbg().await? will now debug tuple elements as well. I also derived ValueDebugFormat for two types which are found in ResolveOptions so they display properly.,Implement ValueDebugFormat for tuples (up to 12 elements) and derive it for some types (#402),Tuples will now be formatted properly when nested inside other ValueDebugFormat types. This means vc.dbg().await? will now debug tuple elements as well. I also derived ValueDebugFormat for two types which are found in ResolveOptions so they display properly.
2402,Typo fix (#2017),,Typo fix (#2017),
2403,Visualize scaling of bundlers (#394),Closes #395 This implements a basic visualization of how tested bundlers scale with increasing module counts. Test Plan: * git clone https://github.com/vercel/turbo-tooling --single-branch --branch benchmark-data --depth 1 turbo-tooling-benchmark-data * cargo xtask summarize-benchmarks path/to/turbo-tooling-benchmark-data/data/ * cargo xtask visualize-bundler-benchmarks   path/to/turbo-tooling-benchmark-data/data/ubuntu-latest-16-core.json * Verify svgs generated in   path/to/turbo-tooling/benchmark-data/data/scaling/ * Verify bundlers use consistent colors across benchmarks with varying number of bundlers (e.g. bench hydration)    ,Visualize scaling of bundlers (#394),Closes #395 This implements a basic visualization of how tested bundlers scale with increasing module counts. Test Plan: * git clone link --single-branch --branch benchmark-data --depth 1 turbo-tooling-benchmark-data * cargo xtask summarize-benchmarks path/to/turbo-tooling-benchmark-data/data/ * cargo xtask visualize-bundler-benchmarks   path/to/turbo-tooling-benchmark-data/data/ubuntu-latest-16-core.json * Verify svgs generated in   path/to/turbo-tooling/benchmark-data/data/scaling/ * Verify bundlers use consistent colors across benchmarks with varying number of bundlers (e.g. bench hydration)
2404,Drop macos run of large benchmark on github actions. (#2003),"macos runners on github actions are incredibly slow, to the point where this benchmark is not super useful. We'll operate off of the linux benchmark",Drop macos run of large benchmark on github actions. (#2003),"macos runners on github actions are incredibly slow, to the point where this benchmark is not super useful. We'll operate off of the linux benchmark"
2405,better ssr error message (#387),,better ssr error message (#387),
2406,allow embedding file from parent directories (#385),,allow embedding file from parent directories (#385),
2407,Throw a runtime error when Cjs require/require.resolve fail to resolve (#400),"This adds support for the following conditional importing pattern with CommonJS: js let mod; try {   mod = require(""some_module""); } catch (e) {}",Throw a runtime error when Cjs require/require.resolve fail to resolve (#400),"This adds support for the following conditional importing pattern with CommonJS: js let mod; try {   mod = require(""some_module""); } catch (e) {}"
2408,Added link to package installation (#2009),,Added link to package installation (#2009),
2409,Why turborepo images POC (#2012),  Why turborepo images POC   Added new images ,Why turborepo images POC (#2012),Why turborepo images POC Added new images
2410,Built monorepo handbook (#1881),"  Feature branch - built monorepo handbook   WIP   Continued work   WIP   Bugfix   Wrote internal packages docs   Added multi-framework support   Changed maths to math-helpers   Fix   Added TypeScript section   Completed ESLint section   Completed dev tasks section   Added index page   Added section on managing mis-matched dependencies to package installation section   Added app building page   WIP   Added testing section   Tweak   Added bundling headers   Removed Remix   Completed initial work   Consistent ""your"" instead of ""the"" (#1965)   Apply suggestions from code review   Co-authored-by: Mehul Kar mehul.kar@vercel.com   Fixed TODO links   Made changes based on feedback   Bugfix   Changed various structures and rewrote package installation/workspaces sections   Fixed sentence that didn't make sense   Fixed some wording in what is a monorepo   Added meta description   Fixed tree views and /basics sections   Fixed guides link and added handbook to homepage   Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com",Built monorepo handbook (#1881),"Feature branch - built monorepo handbook WIP Continued work WIP Bugfix Wrote internal packages docs Added multi-framework support Changed maths to math-helpers Fix Added TypeScript section Completed ESLint section Completed dev tasks section Added index page Added section on managing mis-matched dependencies to package installation section Added app building page WIP Added testing section Tweak Added bundling headers Removed Remix Completed initial work Consistent ""your"" instead of ""the"" (#1965) Apply suggestions from code review Co-authored-by: Mehul Kar mehul.kar@vercel.com Fixed TODO links Made changes based on feedback Bugfix Changed various structures and rewrote package installation/workspaces sections Fixed sentence that didn't make sense Fixed some wording in what is a monorepo Added meta description Fixed tree views and /basics sections Fixed guides link and added handbook to homepage Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com Co-authored-by: Mehul Kar mehul.kar@vercel.com"
2411,Align eslint and prettier rules with turborepo (#397),,Align eslint and prettier rules with turborepo (#397),
2412,Enable turbod by default (#2001)," Remove experimental daemon opt-in flag Unify our ""IsCI"" check Use IsCI and flag to determine whether or not to use the turbo daemon. Default is to use it.",Enable turbod by default (#2001),"Remove experimental daemon opt-in flag Unify our ""IsCI"" check Use IsCI and flag to determine whether or not to use the turbo daemon. Default is to use it."
2413,Wire up prysk and fix help flag (#2000),,Wire up prysk and fix help flag (#2000),
2414,fix(deps): update dependency classnames to v2.3.2 (#1990)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | classnames | 2.3.1 -> 2.3.2 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency classnames to v2.3.2 (#1990),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | classnames | 2.3.1 -> 2.3.2 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2415,Drop unsupported platforms (#1903),"Implement the proposed change from #1891  Build only {darwin,windows,linux} on {amd64,arm64}",Drop unsupported platforms (#1903),"Implement the proposed change from #1891  Build only {darwin,windows,linux} on {amd64,arm64}"
2416,fix(deps): update dependency react-hot-toast to v2.4.0 (#1992)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | react-hot-toast | 2.3.0 -> 2.4.0 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  timolins/react-hot-toast  ### [`v2.4.0`](https://togithub.com/timolins/react-hot-toast/releases/tag/v2.4.0)  [Compare Source](https://togithub.com/timolins/react-hot-toast/compare/v2.3.0...v2.4.0)  #### What's new  -   Allow change of of toast heights –  Fixes [#​133](https://togithub.com/timolins/react-hot-toast/issues/133) -   Fix infinite loop during unit testing  [`1dcb2f2`](https://togithub.com/timolins/react-hot-toast/commit/1dcb2f2) – (Thanks [silvenon](https://togithub.com/silvenon)) -   Add testing setup  [`82afa93`](https://togithub.com/timolins/react-hot-toast/commit/82afa93) – (Thanks [silvenon](https://togithub.com/silvenon)) -   Restructure handlers for better memoization  [`ec653ec`](https://togithub.com/timolins/react-hot-toast/commit/ec653ec) -   Use MutationObserver for height changes  [`9eddc26`](https://togithub.com/timolins/react-hot-toast/commit/9eddc26)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency react-hot-toast to v2.4.0 (#1992),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | react-hot-toast | 2.3.0 -> 2.4.0 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes timolins/react-hot-toast module Compare Source What's new  Allow change of of toast heights –  Fixes #​133 Fix infinite loop during unit testing  module – (Thanks silvenon) Add testing setup  module – (Thanks silvenon) Restructure handlers for better memoization  module Use MutationObserver for height changes  module  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2417,chore(deps): update dependency csstype to v3.1.1 (#1981)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | csstype | 3.1.0 -> 3.1.1 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  frenic/csstype  ### [`v3.1.1`](https://togithub.com/frenic/csstype/compare/v3.1.0...v3.1.1)  [Compare Source](https://togithub.com/frenic/csstype/compare/v3.1.0...v3.1.1)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency csstype to v3.1.1 (#1981),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | csstype | 3.1.0 -> 3.1.1 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes frenic/csstype module Compare Source Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2418,chore(deps): update dependency @babel/core to v7.19.1 (#1989)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.19.0 -> 7.19.1 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Release Notes  babel/babel  ### [`v7.19.1`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7191-2022-09-14)  [Compare Source](https://togithub.com/babel/babel/compare/v7.19.0...v7.19.1)  ##### :bug: Bug Fix  -   `babel-core`     -   [#​14930](https://togithub.com/babel/babel/pull/14930) Avoid fancy stack traces size computation ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-traverse`     -   [#​14932](https://togithub.com/babel/babel/pull/14932) fix: isForAwaitStatement is broken ([@​JLHwung](https://togithub.com/JLHwung)) -   Other     -   [#​14872](https://togithub.com/babel/babel/pull/14872) Use the built-in class fields and private methods rules in ESLint 8 ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-parser`     -   [#​14920](https://togithub.com/babel/babel/pull/14920) \[estree] attach comments after directives at the end of file ([@​hegemonic](https://togithub.com/hegemonic))     -   [#​14900](https://togithub.com/babel/babel/pull/14900) \[ts] allow redeclaring a var/type with the same name as import ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-plugin-transform-typescript`     -   [#​14913](https://togithub.com/babel/babel/pull/14913) fix: do not remove type import used in TS import= ([@​JLHwung](https://togithub.com/JLHwung))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @babel/core to v7.19.1 (#1989),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.19.0 -> 7.19.1 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Release Notes babel/babel module Compare Source :bug: Bug Fix  module #​14930 Avoid fancy stack traces size computation (@​nicolo-ribaudo)   module #​14932 fix: isForAwaitStatement is broken (@​JLHwung)   Other #​14872 Use the built-in class fields and private methods rules in ESLint 8 (@​JLHwung)   module #​14920 [estree] attach comments after directives at the end of file (@​hegemonic) #​14900 [ts] allow redeclaring a var/type with the same name as import (@​liuxingbaoyu)   module #​14913 fix: do not remove type import used in TS import= (@​JLHwung)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2419,chore(deps): update dependency @types/react to v17.0.50 (#1980)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 17.0.49 -> 17.0.50 |  |  |  |  |  ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information.  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @types/react to v17.0.50 (#1980),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 17.0.49 -> 17.0.50 |  |  |  |  | ⚠ Dependency Lookup Warnings ⚠ Warnings were logged while processing this repo. Please check the Dependency Dashboard for more information. Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2420,fail-safe bindings code for SSR (#391),,fail-safe bindings code for SSR (#391),
2421,benchmarks need more time and skip faster when failing (#393),,benchmarks need more time and skip faster when failing (#393),
2422,handle exceptions during waiting for events (#383),,handle exceptions during waiting for events (#383),
2423,Use React.memo in the test/bench app (#384),"With React.memo: bench_hmr_to_commit/Turbopack CSR/30000 modules                         time:   [50.608 ms 51.659 ms 52.553 ms] Without React.memo: bench_hmr_to_commit/Turbopack CSR/30000 modules                         time:   [853.47 ms 1.0191 s 1.1873 s]                         change: [+1543.4% +1872.7% +2207.8%] (p = 0.00 < 0.05)                         Performance has regressed. Since we're only ever editing the top-level triangle in our HMR benchmarks, we're incurring the time it takes for React to re-render the whole tree, which is a function of the number of components in said tree. By using React.memo, we can skip updating children components during HMR.",Use React.memo in the test/bench app (#384),"With React.memo: bench_hmr_to_commit/Turbopack CSR/30000 modules                         time:   [50.608 ms 51.659 ms 52.553 ms] Without React.memo: bench_hmr_to_commit/Turbopack CSR/30000 modules                         time:   [853.47 ms 1.0191 s 1.1873 s]                         change: [+1543.4% +1872.7% +2207.8%] (p = 0.00 < 0.05)                         Performance has regressed. Since we're only ever editing the top-level triangle in our HMR benchmarks, we're incurring the time it takes for React to re-render the whole tree, which is a function of the number of components in said tree. By using React.memo, we can skip updating children components during HMR."
2424,upload benchmark results with type (#390),,upload benchmark results with type (#390),
2425,commit partial results (#389),,commit partial results (#389),
2426,measure HMR to eval and HMR to commit independent from each other (#382),HMR to commit include react-refresh time to apply the update in the react component tree,measure HMR to eval and HMR to commit independent from each other (#382),HMR to commit include react-refresh time to apply the update in the react component tree
2427,"Benchmark summarize script, workflow and stability (#381)",,"Benchmark summarize script, workflow and stability (#381)",
2428,Replace PrefixTree with AliasMap (#360),"This replaces the PrefixTree struct with an AliasMap struct. The underlying implementation is different: we no longer build a prefix tree by splitting paths into segments, but instead we have per-character (technically per u8) granularity. I used the patricia_tree crate for the radix tree implementation. My first implementation was based on qp_trie but they do not provide a way to iterate over all common prefixes of a given key and the tree's entries. Fixes #351. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Replace PrefixTree with AliasMap (#360),"This replaces the PrefixTree struct with an AliasMap struct. The underlying implementation is different: we no longer build a prefix tree by splitting paths into segments, but instead we have per-character (technically per u8) granularity. I used the patricia_tree crate for the radix tree implementation. My first implementation was based on qp_trie but they do not provide a way to iterate over all common prefixes of a given key and the tree's entries. Fixes #351. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2429,Make run the default command (#1821),Changes argument parsing to infer a default command (run) in the event that none is supplied.  Fixes #143,Make run the default command (#1821),Changes argument parsing to infer a default command (run) in the event that none is supplied.  Fixes #143
2430,Document inclusion of package.json in workspace task cache keys (#1955),"This PR documents #1832 now that we're releasing it. Edit: Do not merge this until 1.4.7 is released In doing so, I'm also changing the structure of the docs to separate env and files, which also needs to happen for #1936. One intermediate unfortunate side effect is that the docs, for some time until #1936 is merged, will document globalDependencies separately in two sections. This may be a little confusing during this time frame.",Document inclusion of package.json in workspace task cache keys (#1955),"This PR documents #1832 now that we're releasing it. Edit: Do not merge this until 1.4.7 is released In doing so, I'm also changing the structure of the docs to separate env and files, which also needs to happen for #1936. One intermediate unfortunate side effect is that the docs, for some time until #1936 is merged, will document globalDependencies separately in two sections. This may be a little confusing during this time frame."
2431,publish 1.4.7 to registry,,publish 1.4.7 to registry,
2432,Minor fixes to source maps (#379),"Remove unused param, add HmrUpdateEntry constructor",Minor fixes to source maps (#379),"Remove unused param, add HmrUpdateEntry constructor"
2433,Add vimeo to showcase (#1987),,Add vimeo to showcase (#1987),
2434,SourceMap fixes and improvements (#374),"moves the logic of creating SourceMap assets into the asset reference. This avoids depending on the chunk items in the references() method directly. It also avoids calling CodeVc::source_map() until the source map is read avoid circular dependency in call graph It also avoids checking has_source_map() and just inserts potential Source Maps assets for every chunk item. Checking has_source_map() seems unnecessary work to do for all chunk items, when we can just send an empty source map. only expose SourceMaps for chunk items when HMR is enabled",SourceMap fixes and improvements (#374),"moves the logic of creating SourceMap assets into the asset reference. This avoids depending on the chunk items in the references() method directly. It also avoids calling CodeVc::source_map() until the source map is read avoid circular dependency in call graph It also avoids checking has_source_map() and just inserts potential Source Maps assets for every chunk item. Checking has_source_map() seems unnecessary work to do for all chunk items, when we can just send an empty source map. only expose SourceMaps for chunk items when HMR is enabled"
2435,always upload results even if incomplete (#378),,always upload results even if incomplete (#378),
2436,Update showcase images (#1986),  Update showcase images   Move xata   Tweak the showcase grid and container ,Update showcase images (#1986),Update showcase images Move xata Tweak the showcase grid and container
2437,upload benchmark results to branch (#375),This pushes json data with the raw results into the benchmark-data branch to collect data over time. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com,upload benchmark results to branch (#375),This pushes json data with the raw results into the benchmark-data branch to collect data over time. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com
2438,add typescript support (#370),picked typescript transform from https://github.com/vercel/turbo-tooling/pull/341 add resolve options context as global resolve config enable typescript only for next-dev move emulating logic from environment to resolve options context Co-authored-by: Leah 8845940+ForsakenHarmony@users.noreply.github.com,add typescript support (#370),picked typescript transform from link add resolve options context as global resolve config enable typescript only for next-dev move emulating logic from environment to resolve options context Co-authored-by: Leah 8845940+ForsakenHarmony@users.noreply.github.com
2439,Rename npm packages to experimental-nft (#350), [x] Add MPL-2.0 License [x] Rename package names to nft [x] Publish to the public npm registry,Rename npm packages to experimental-nft (#350),[x] Add MPL-2.0 License [x] Rename package names to nft [x] Publish to the public npm registry
2440,Support HMR Update Source Maps (#371),"This allows us to reference the source maps for individual chunk items when delivering them for HMR updates. We currently send down the update via a JSON.stringify() of the updated module's code. We then eval this code to generate the new ""module"", and call registered hot handlers with the new module to update their scopes. Thankfully, we can include a sourceMappingUrl comment in the evaled code, so we can get away with deferring creating the source map's content until dev tools is opened. This is a first pass, it really needs to be cleaned up. But at least it's working. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Support HMR Update Source Maps (#371),"This allows us to reference the source maps for individual chunk items when delivering them for HMR updates. We currently send down the update via a JSON.stringify() of the updated module's code. We then eval this code to generate the new ""module"", and call registered hot handlers with the new module to update their scopes. Thankfully, we can include a sourceMappingUrl comment in the evaled code, so we can get away with deferring creating the source map's content until dev tools is opened. This is a first pass, it really needs to be cleaned up. But at least it's working. Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2441,add no-fail-fast flag to run complete test suite (#372),run complete test suite even if some tests fail,add no-fail-fast flag to run complete test suite (#372),run complete test suite even if some tests fail
2442,fix compare action (#373),,fix compare action (#373),
2443,publish 1.4.7-canary.1 to registry,,publish 1.4.7-canary.1 to registry,
2444,Implement styled-jsx with swc's styled_jsx (#367),This reverts commit c9743d0e957ed32325a7b5f1cf1d0a78873ce865.,Implement styled-jsx with swc's styled_jsx (#367),This reverts commit c9743d0e957ed32325a7b5f1cf1d0a78873ce865.
2445,fix: Support pnpm patches in prune (#1967),"Addresses #1963 This PR fixes two issues with the current implementation of prune for pnpm: Pruning the importers section of pnpm-lock.yaml, previously the pruned lockfile would pickup any direct dependency changes for any project in the workspace Copy dependency patches into the output directory while pruning  Fixing the first issue required updating the Lockfile interface take a list of workspace dependencies when constructing the subgraph. This is required as workspace dependencies don't appear in packages in the pnpm lockfile format. Taking a quick look at the npm lockfile format, this additional information will be helpful when implementing npm prune so it seems sensible to make this addition. The current implementation of copying dependency patches copies all patches instead of those that are strictly necessary. This was done due to the fact that pnpm duplicates patch info in package.json and in order to only copy the necessary patches we would first need to learn how to prune package.json. This should be done in the future, but is outside of the scope of this fix.   fix pruning of importers   fix copy patches during pruning   force paths to use unix style paths for pnpm workspace packages   address review feedback, fixup path types ",fix: Support pnpm patches in prune (#1967),"Addresses #1963 This PR fixes two issues with the current implementation of prune for pnpm: Pruning the importers section of pnpm-lock.yaml, previously the pruned lockfile would pickup any direct dependency changes for any project in the workspace Copy dependency patches into the output directory while pruning Fixing the first issue required updating the Lockfile interface take a list of workspace dependencies when constructing the subgraph. This is required as workspace dependencies don't appear in packages in the pnpm lockfile format. Taking a quick look at the npm lockfile format, this additional information will be helpful when implementing npm prune so it seems sensible to make this addition. The current implementation of copying dependency patches copies all patches instead of those that are strictly necessary. This was done due to the fact that pnpm duplicates patch info in package.json and in order to only copy the necessary patches we would first need to learn how to prune package.json. This should be done in the future, but is outside of the scope of this fix. fix pruning of importers fix copy patches during pruning force paths to use unix style paths for pnpm workspace packages address review feedback, fixup path types"
2446,Source Map cleanups and optimizations (#369),avoid temporary string allocations and remove some unused code,Source Map cleanups and optimizations (#369),avoid temporary string allocations and remove some unused code
2447,Add source map support to ecmascript (#348),"Adds an optional source_map method to the Asset trait, which will be used to provide debugging maps. We expect that the source map will be requested from the base asset's path appended with a .map, eg foo.js -> foo.js.map are paired. I've chosen to implement the source maps using a ""sectioned"" source map (née index map). This is by far the most efficient way to concatenate the source maps for multiple source files together, because it doesn't require us to modify the source map of an individual section at all. Coupled with the (IMHO) subpar API provided by the sourcemap crate, this is essentially the only good choice (we could VLQ encode -> stringify -> parse -> VLQ decode -> adjust -> VLQ encode -> stringify, but that's gotta be slower…). While unusual in the dev ecosystem, it's fully supported by all the browsers and we're targeting a dev server as the initial use case, so it works out well. This also introduces a CodeBuilder, which allows us to concatenate real source files (with source maps) with injected runtime code, preserving the offset positions for the source maps. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com",Add source map support to ecmascript (#348),"Adds an optional source_map method to the Asset trait, which will be used to provide debugging maps. We expect that the source map will be requested from the base asset's path appended with a .map, eg foo.js -> foo.js.map are paired. I've chosen to implement the source maps using a ""sectioned"" source map (née index map). This is by far the most efficient way to concatenate the source maps for multiple source files together, because it doesn't require us to modify the source map of an individual section at all. Coupled with the (IMHO) subpar API provided by the sourcemap crate, this is essentially the only good choice (we could VLQ encode -> stringify -> parse -> VLQ decode -> adjust -> VLQ encode -> stringify, but that's gotta be slower…). While unusual in the dev ecosystem, it's fully supported by all the browsers and we're targeting a dev server as the initial use case, so it works out well. This also introduces a CodeBuilder, which allows us to concatenate real source files (with source maps) with injected runtime code, preserving the offset positions for the source maps. Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com"
2448,ensure that HMR is really happening while measuring (#365),no need to test all module counts,ensure that HMR is really happening while measuring (#365),no need to test all module counts
2449,Show outputModeTable in CLI and config docs (#1949),,Show outputModeTable in CLI and config docs (#1949),
2450,Add ability to define a globalEnv key in turbo.json (#1950),"This simplifies the globalDependencies key, so it can only be responsible for file declarations and not need a microsyntax for env vars ($ prefixes).",Add ability to define a globalEnv key in turbo.json (#1950),"This simplifies the globalDependencies key, so it can only be responsible for file declarations and not need a microsyntax for env vars ($ prefixes)."
2451,Add ability to declare a env key in each pipeline task (#1970),"The env key takes on some of the responsibilities of the dependsOn config key, but notably does not accept strings that start with ""$"". The goal of this change is to separate file dependencies from environmental dependencies, so we can continue to improve cache partitioning.",Add ability to declare a env key in each pipeline task (#1970),"The env key takes on some of the responsibilities of the dependsOn config key, but notably does not accept strings that start with ""$"". The goal of this change is to separate file dependencies from environmental dependencies, so we can continue to improve cache partitioning."
2452,No shallow checkout for linting. (#1972),,No shallow checkout for linting. (#1972),
2453,Improve CI setup (#1904),"Changes the CI setup to:  Extract Go and node setup to a ""composite"" action, allowing us to  setup all CI jobs consistently. For example, the golangci-lint was building   turbo with Go 1.17, while the Go unit and e2e tests were building with Go 1.18.  Parallelize some jobs for faster feedback  Separates Go unit and e2e tests, and JS lint and tests into separate workflows.   The tradeoff is that each Github Action runner will need to install Go and Node and   build turbo multiple times, but this is fairly fast, and these steps are highly cacheable.  Improve the names of Workflows, Jobs, and Steps to be more debuggable  Some of the naming changes are for consistency, but some make it easier to   scan the list of PR checks and the Action summaries to see what failed and where.   In some cases, the names of Steps are removed, as the command itself is descriptive   enough, that we do not need to name it. Co-authored-by: Nathan Hammond nathan.hammond@vercel.com",Improve CI setup (#1904),"Changes the CI setup to: Extract Go and node setup to a ""composite"" action, allowing us to setup all CI jobs consistently. For example, the golangci-lint was building   turbo with Go 1.17, while the Go unit and e2e tests were building with Go 1.18. Parallelize some jobs for faster feedback Separates Go unit and e2e tests, and JS lint and tests into separate workflows.   The tradeoff is that each Github Action runner will need to install Go and Node and   build turbo multiple times, but this is fairly fast, and these steps are highly cacheable. Improve the names of Workflows, Jobs, and Steps to be more debuggable Some of the naming changes are for consistency, but some make it easier to   scan the list of PR checks and the Action summaries to see what failed and where.   In some cases, the names of Steps are removed, as the command itself is descriptive   enough, that we do not need to name it. Co-authored-by: Nathan Hammond nathan.hammond@vercel.com"
2454,Upgrade to latest swc_core (#353),  Upgrade to latest swc_core   Upgrade to swc@0.23.20   Update snapshots ,Upgrade to latest swc_core (#353),Upgrade to latest swc_core Upgrade to swc@0.23.20 Update snapshots
2455,"Revert ""Implement styled-jsx with swc's styled_jsx"" (#366)","Revert ""Implement styled-jsx with swc's styled_jsx (#354)"" This reverts commit b82d6fa0ea8bd584589c2d51a4dddcc4a0d3d3ab.","Revert ""Implement styled-jsx with swc's styled_jsx"" (#366)","Revert ""Implement styled-jsx with swc's styled_jsx (#354)"" This reverts commit b82d6fa0ea8bd584589c2d51a4dddcc4a0d3d3ab."
2456,enable react refresh for vite (#364),It was doing a full refresh before,enable react refresh for vite (#364),It was doing a full refresh before
2457,Implement styled-jsx with swc's styled_jsx (#354),"This implements support for styled-jsx in next-dev using swc's styled_jsx crate. It's only applied in next-dev, and is only applied as a transform to app code, much like the react-refresh transform. To do: * [x] The transform doesn't seem to be applied. Pass the added test. Test Plan: cargo test -p next-dev -- test_crates_next_dev_tests_integration_turbopack_basic_styled_jsx --nocapture",Implement styled-jsx with swc's styled_jsx (#354),"This implements support for styled-jsx in next-dev using swc's styled_jsx crate. It's only applied in next-dev, and is only applied as a transform to app code, much like the react-refresh transform. To do: * [x] The transform doesn't seem to be applied. Pass the added test. Test Plan: cargo test -p next-dev -- test_crates_next_dev_tests_integration_turbopack_basic_styled_jsx --nocapture"
2458,increase benchmark timeouts to be able to benchmark larger module counts (#362),,increase benchmark timeouts to be able to benchmark larger module counts (#362),
2459,Add basic .devcontainer.json and Dockerfile (#359),"This checks in a basic .devcontainer.json and Dockerfile, allowing VSCode [0], GitHub codespaces [1] (not tested), and a general-purpose cli [2] (also not tested) to provision an environment for building and testing turbopack in an automated way. This allowed me to quickly test under Linux, and might be helpful to folks testing Linux while developing on Windows (cc @sokra). It also includes Chromium, allowing us to test things like benchmarks which use headless Chromium. Turborepo also uses devcontainers, though I'm not sure how extensively in development. [3] This uses Debian ~Testing~Stable (""bullseye""). I wanted to use the latest Ubuntu LTS to match what we use in GitHub actions, but unfortunately Chromium is only distributed there as a snap package, and using only apt simplified the Dockerfile. Test Plan: * Set up remote development in containers in VSCode [4]  * Chose ""Remote-Containers: Open Folder in Container"" and selected turbo-tooling * Ran cargo test --benches -p next-dev inside the container and confirmed success [0] https://code.visualstudio.com/docs/remote/containers [1] https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/introduction-to-dev-containers [2] https://code.visualstudio.com/docs/remote/devcontainer-cli [3] https://github.com/vercel/turborepo/tree/232643c3d1890261c51072180389cd6cd05a534c/.devcontainer [4] https://code.visualstudio.com/docs/remote/containers-tutorial",Add basic .devcontainer.json and Dockerfile (#359),"This checks in a basic .devcontainer.json and Dockerfile, allowing VSCode [0], GitHub codespaces [1] (not tested), and a general-purpose cli [2] (also not tested) to provision an environment for building and testing turbopack in an automated way. This allowed me to quickly test under Linux, and might be helpful to folks testing Linux while developing on Windows (cc @sokra). It also includes Chromium, allowing us to test things like benchmarks which use headless Chromium. Turborepo also uses devcontainers, though I'm not sure how extensively in development. [3] This uses Debian ~Testing~Stable (""bullseye""). I wanted to use the latest Ubuntu LTS to match what we use in GitHub actions, but unfortunately Chromium is only distributed there as a snap package, and using only apt simplified the Dockerfile. Test Plan: * Set up remote development in containers in VSCode [4]  * Chose ""Remote-Containers: Open Folder in Container"" and selected turbo-tooling * Ran cargo test --benches -p next-dev inside the container and confirmed success [0] link [1] link [2] link [3] link [4] link"
2460,change panic to error (#361),"During incremental build this state might temporarily occur. Converting this to an error, removed the error message printing from the console.",change panic to error (#361),"During incremental build this state might temporarily occur. Converting this to an error, removed the error message printing from the console."
2461,Initial support for getStaticProps (#345),"Remaining questions: * Should we have some static analysis for getStaticProps instead of looking into exports at runtime? * For now, the output of getStaticProps (if defined) will always trump the value passed in as data. If we consider data to be the cached output of getStaticProps (in the future, as this is not yet implemented), this logic should be adapted.",Initial support for getStaticProps (#345),"Remaining questions: * Should we have some static analysis for getStaticProps instead of looking into exports at runtime? * For now, the output of getStaticProps (if defined) will always trump the value passed in as data. If we consider data to be the cached output of getStaticProps (in the future, as this is not yet implemented), this logic should be adapted."
2462,add custom benchmark workflow (#344),can be invoked from the Actions tab,add custom benchmark workflow (#344),can be invoked from the Actions tab
2463,Sync editorconfig and rustfmt (#352),"I'm using the default 100 line length from rustfmt, but making it explicit.",Sync editorconfig and rustfmt (#352),"I'm using the default 100 line length from rustfmt, but making it explicit."
2464,switch over to use go-yarnlock for yarn.lock parsing (#1893),Start using the go-yarnlock package for parsing and encoding yarn lockfiles. We're doing this as this implementation is mostly a copy of the JS based yarn lockfile marshalling code. The code this is replacing was a mix sloppy mix of regex and post-processing. For testing I added some unit tests around parsing/encoding and ran turbo prune on the repo produced by npm create-turbo and running yarn dev on the resulting pruned project. Commits squashed: * switch over to use go-yarnlock for yarn.lock parsing   run go mod tidy to fixup deps   handle windows style newlines   fix lint and simplify entry splitting   address typos   more robust handling of crlf ,switch over to use go-yarnlock for yarn.lock parsing (#1893),Start using the go-yarnlock package for parsing and encoding yarn lockfiles. We're doing this as this implementation is mostly a copy of the JS based yarn lockfile marshalling code. The code this is replacing was a mix sloppy mix of regex and post-processing. For testing I added some unit tests around parsing/encoding and ran turbo prune on the repo produced by npm create-turbo and running yarn dev on the resulting pruned project. Commits squashed: * switch over to use go-yarnlock for yarn.lock parsing run go mod tidy to fixup deps handle windows style newlines fix lint and simplify entry splitting address typos more robust handling of crlf
2465,chore(deps): update nextjs monorepo to v12.3.0 (#1960),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update nextjs monorepo to v12.3.0 (#1960),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2466,Reconcile cram tests and help text (#1956)," Change the root command to match the expectation in the help test Change the daemon subcommand to match the expectation in the help test Fix the help test to expect a consistent description for the daemon subcommand  This is probably at the point where we want to wire it to CI, so that'll be coming shortly.",Reconcile cram tests and help text (#1956),"Change the root command to match the expectation in the help test Change the daemon subcommand to match the expectation in the help test Fix the help test to expect a consistent description for the daemon subcommand This is probably at the point where we want to wire it to CI, so that'll be coming shortly."
2467,docs(running tasks): explicit instruction for workspace tasks (#1922),"After a couple of hours of debugging why my workspace-specific task wasn't running, I realised I wasn't using the correct name in place of <workspace> so Turborepo never ran my workspace-specific task: before: json {   ""build"": {},   ""app-one#build"": {},   ""app-two#build"": {} } after: json {   ""build"": {},   ""@my-org/app-one#build"": {},   ""@my-org/app-two#build"": {} } I realise that his might seem like a silly mistake, however since the pnpm and turbo commands allow for 'implicit' filtering using a partial name, e.g. by using pnpm --filter=app-one or turbo run --filter=app-one, I was kind of primed to setup my workspace specific task in the same way, even though the package name was actually @my-org/app-one. Since this was not mentioned explicitly anywhere, it took me way too long to figure out my mistake. This change to the docs might help others not make the same mistake in the future. Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com",docs(running tasks): explicit instruction for workspace tasks (#1922),"After a couple of hours of debugging why my workspace-specific task wasn't running, I realised I wasn't using the correct name in place of  so Turborepo never ran my workspace-specific task: before: json {   ""build"": {},   ""app-one#build"": {},   ""app-two#build"": {} } after: json {   ""build"": {},   ""@my-org/app-one#build"": {},   ""@my-org/app-two#build"": {} } I realise that his might seem like a silly mistake, however since the pnpm and turbo commands allow for 'implicit' filtering using a partial name, e.g. by using pnpm --filter=app-one or turbo run --filter=app-one, I was kind of primed to setup my workspace specific task in the same way, even though the package name was actually @my-org/app-one. Since this was not mentioned explicitly anywhere, it took me way too long to figure out my mistake. This change to the docs might help others not make the same mistake in the future. Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com"
2468,Add mutex around helper cleanups (#1947),Addresses feedback on #1792 Adds a mutex around our list of cleanups to run.,Add mutex around helper cleanups (#1947),Addresses feedback on #1792 Adds a mutex around our list of cleanups to run.
2469,fully async fs (#340),Removes the last sync calls with tokio:fs Also adds a metadata function to the fs and adds the file type to the metadata,fully async fs (#340),Removes the last sync calls with tokio:fs Also adds a metadata function to the fs and adds the file type to the metadata
2470,Use correct flag for graphviz version (#1954),"dot --help specifies that -v is for verbose mode, whereas -V is print version and exit. We want the latter, so change the flag to do that.",Use correct flag for graphviz version (#1954),"dot --help specifies that -v is for verbose mode, whereas -V is print version and exit. We want the latter, so change the flag to do that."
2471,publish 1.4.7-canary.0 to registry,,publish 1.4.7-canary.0 to registry,
2472,fix(docs): update nextra (#1948),,fix(docs): update nextra (#1948),
2473,Add webpack to bench.yml (#355),,Add webpack to bench.yml (#355),
2474,fix(with-tailwind): dev script fails to build tailwindcss (#1898),use concurrently run,fix(with-tailwind): dev script fails to build tailwindcss (#1898),use concurrently run
2475,"Turbo has more help text now, update test (#1931)","With the cobra stuff merged, our help text got an update. Updating the integration tests to keep up.  Once we have some slightly more substantial tests here (i.e. we're committed to using this), we should wire it to CI Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com","Turbo has more help text now, update test (#1931)","With the cobra stuff merged, our help text got an update. Updating the integration tests to keep up.  Once we have some slightly more substantial tests here (i.e. we're committed to using this), we should wire it to CI Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com"
2476,Merge pull request #1925 from vercel/import_goreleaser_cross,Import goreleaser-cross to serve as a starting point for turbo's build container,Merge pull request #1925 from vercel/import_goreleaser_cross,Import goreleaser-cross to serve as a starting point for turbo's build container
2477,Merge branch 'main' into import_goreleaser_cross,,Merge branch 'main' into import_goreleaser_cross,
2478,chore(example): upgrade kitchen sink example (#1076),,chore(example): upgrade kitchen sink example (#1076),
2479,Made front-page title pink (#1945),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Made front-page title pink (#1945),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2480,Removed bg circles to improve Safari perf (#1944),,Removed bg circles to improve Safari perf (#1944),
2481,fix(deps): update dependency eslint-plugin-react to v7.31.8 (#1935),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency eslint-plugin-react to v7.31.8 (#1935),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2482,chore(deps): update dependency typescript to v4.8.3 (#1934),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,chore(deps): update dependency typescript to v4.8.3 (#1934),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2483,Enable inputs to be relative again. (#1937),"As reported by @dglsparsons, after #1699 inputs cannot be relative from the package directory (while still remaining within the project). This issue was published in turbo@1.4.4. This PR patches the traversal behavior so that inputs works correctly and adds a test for the behavior to ensure that it does not regress.",Enable inputs to be relative again. (#1937),"As reported by @dglsparsons, after #1699 inputs cannot be relative from the package directory (while still remaining within the project). This issue was published in turbo@1.4.4. This PR patches the traversal behavior so that inputs works correctly and adds a test for the behavior to ensure that it does not regress."
2484,Upgrade Nextra (#1942),,Upgrade Nextra (#1942),
2485,Merge pull request #1901 from vercel/matt/re-jigged-the-landing-and-getting-started-pages,Re-jigged the landing and getting started pages,Merge pull request #1901 from vercel/matt/re-jigged-the-landing-and-getting-started-pages,Re-jigged the landing and getting started pages
2486,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,
2487,Refactor reading turbo.json and add test cases (#1929),Adds test cases for reading the legacy config from package.json,Refactor reading turbo.json and add test cases (#1929),Adds test cases for reading the legacy config from package.json
2488,Merge branch 'main' into import_goreleaser_cross,,Merge branch 'main' into import_goreleaser_cross,
2489,Benchmarks: allow simultaneously installing multiple packages from npm (#339),"Previously, we ran multiple npm install operations in serial using multiple calls to install_from_npm. Instead, this allows us to express dependencies all at once as a single command to the npm cli, which should reduce the time we spend installing from npm and updating package.json. Test Plan: Manually confirmed that package.json was updated correctly.  cargo bench.",Benchmarks: allow simultaneously installing multiple packages from npm (#339),"Previously, we ran multiple npm install operations in serial using multiple calls to install_from_npm. Instead, this allows us to express dependencies all at once as a single command to the npm cli, which should reduce the time we spend installing from npm and updating package.json. Test Plan: Manually confirmed that package.json was updated correctly.  cargo bench."
2490,chore(examples): add comment for maintainability (#1927),,chore(examples): add comment for maintainability (#1927),
2491,Benchmark Webpack (#338),This adds webpack 5 to the benchmark suite. Test Plan: Manually confirmed package.json updates and webpack config written to temp dir correctly. cargo bench.,Benchmark Webpack (#338),This adds webpack 5 to the benchmark suite. Test Plan: Manually confirmed package.json updates and webpack config written to temp dir correctly. cargo bench.
2492,Merge branch 'main' into import_goreleaser_cross,,Merge branch 'main' into import_goreleaser_cross,
2493,chore(examples): clean with-next list (#1923),,chore(examples): clean with-next list (#1923),
2494,Add 'buildcontainer/' from commit '426c25a9bb55b9452b7ceacefd17d623b76c3f61',git-subtree-dir: buildcontainer git-subtree-mainline: c05b9fa3e4247ac7592b13e0d7f2f177cfb7ea68 git-subtree-split: 426c25a9bb55b9452b7ceacefd17d623b76c3f61,Add 'buildcontainer/' from commit '426c25a9bb55b9452b7ceacefd17d623b76c3f61',git-subtree-dir: buildcontainer git-subtree-mainline: c05b9fa3e4247ac7592b13e0d7f2f177cfb7ea68 git-subtree-split: 426c25a9bb55b9452b7ceacefd17d623b76c3f61
2495,Finish port to cobra (#1792),"Ports root command execution to cobra. Introduces a couple of abstractions: cmdutil.Helper -> Holds common arguments to all commands cmdutil.CmdBase -> Holds subcomponents common to all commands, possibly driven by the values in cmdutil.Helper. Examples include UI, Logger, and the API client Port all of our turbo commands to be subcommands of a root command. Reviewers: individual commits won't build, but group related functionality.  Fixes #759  Fixes #512",Finish port to cobra (#1792),"Ports root command execution to cobra. Introduces a couple of abstractions: cmdutil.Helper -> Holds common arguments to all commands cmdutil.CmdBase -> Holds subcomponents common to all commands, possibly driven by the values in cmdutil.Helper. Examples include UI, Logger, and the API client Port all of our turbo commands to be subcommands of a root command. Reviewers: individual commits won't build, but group related functionality.  Fixes #759  Fixes #512"
2496,docs(examples/design-system): update readme (#1910),Update file path to reflect current directory structure.,docs(examples/design-system): update readme (#1910),Update file path to reflect current directory structure.
2497,added code-shaper to the code generation intro line (#1915),"Sorry, I had missed this small change in the previous PR.",added code-shaper to the code generation intro line (#1915),"Sorry, I had missed this small change in the previous PR."
2498,Merge pull request #10 from gsoltis/symlink_mingw,Fix llvm-mingw for amd64,Merge pull request #10 from gsoltis/symlink_mingw,Fix llvm-mingw for amd64
2499,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,
2500,added code-shaper to code generation tools (#1909),Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com,added code-shaper to code generation tools (#1909),Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com
2501,chore(deps): update dependency @babel/core to v7.19.0 (#1905)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.18.13 -> 7.19.0 |  |  |  |  |  Release Notes  babel/babel  ### [`v7.19.0`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7190-2022-09-05)  [Compare Source](https://togithub.com/babel/babel/compare/v7.18.13...v7.19.0)  ##### :eyeglasses: Spec Compliance  -   `babel-parser`     -   [#​14666](https://togithub.com/babel/babel/pull/14666) Support private name in decorator member expression ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-helpers`, `babel-plugin-proposal-async-generator-functions`, `babel-preset-env`, `babel-runtime-corejs2`, `babel-runtime-corejs3`, `babel-runtime`     -   [#​14877](https://togithub.com/babel/babel/pull/14877)  Remove one promise tick in yield\* ([tc39/ecma262#​2819](https://togithub.com/tc39/ecma262/issues/2819))  ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))  ##### :rocket: New Feature  -   `babel-generator`, `babel-helpers`, `babel-parser`, `babel-plugin-proposal-decorators`, `babel-plugin-syntax-decorators`, `babel-runtime-corejs2`, `babel-runtime-corejs3`, `babel-runtime`     -   [#​14836](https://togithub.com/babel/babel/pull/14836) Add 2022-03 decorators version (stage 3) ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-parser`     -   [#​14695](https://togithub.com/babel/babel/pull/14695) \[parser] Make `decoratorsBeforeExport` default to `false` ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-generator`, `babel-parser`     -   [#​14744](https://togithub.com/babel/babel/pull/14744) Default to hash syntax for Record\&Tuple ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-standalone`     -   [#​14867](https://togithub.com/babel/babel/pull/14867) feat: add proposal-record-and-tuple to standalone ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-helper-create-regexp-features-plugin`, `babel-helpers`, `babel-plugin-proposal-duplicate-named-capturing-groups-regex`, `babel-plugin-transform-named-capturing-groups-regex`, `babel-standalone`     -   [#​14805](https://togithub.com/babel/babel/pull/14805) Add support for the duplicate named capturing groups proposal ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))  ##### :bug: Bug Fix  -   `babel-helper-function-name`, `babel-helper-wrap-function`, `babel-plugin-transform-classes`     -   [#​14897](https://togithub.com/babel/babel/pull/14897) Fix: class transform should not drop method definition when key contains non-BMP characters ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-plugin-transform-typescript`     -   [#​14890](https://togithub.com/babel/babel/pull/14890) fix: TS plugin shouldn't remove `#privateField!` ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu)) -   `babel-parser`     -   [#​14819](https://togithub.com/babel/babel/pull/14819) fix: parse a>>c as a<(b>>>c) ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-helper-builder-react-jsx`     -   [#​14886](https://togithub.com/babel/babel/pull/14886) Fix helper-builder-react-jsx compat with Babel 7.9 ([@​JLHwung](https://togithub.com/JLHwung))  ##### :nail_care: Polish  -   `babel-core`     -   [#​11612](https://togithub.com/babel/babel/pull/11612) Make error message prefixes more descriptive ([@​eps1lon](https://togithub.com/eps1lon))     -   [#​11554](https://togithub.com/babel/babel/pull/11554) Hide internal `@babel/core` functions in config errors ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo))  ##### :memo: Documentation  -   [#​14895](https://togithub.com/babel/babel/pull/14895) docs: remove david-dm from README ([@​SukkaW](https://togithub.com/SukkaW))  ##### :house: Internal  -   `babel-standalone`     -   [#​14863](https://togithub.com/babel/babel/pull/14863) ship [@​babel/standalone](https://togithub.com/babel/standalone) source maps ([@​JLHwung](https://togithub.com/JLHwung)) -   `babel-core`, `babel-parser`, `babel-traverse`     -   [#​14880](https://togithub.com/babel/babel/pull/14880) Update typescript to 4.8 ([@​JLHwung](https://togithub.com/JLHwung))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @babel/core to v7.19.0 (#1905),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.18.13 -> 7.19.0 |  |  |  |  | Release Notes babel/babel module Compare Source :eyeglasses: Spec Compliance  module #​14666 Support private name in decorator member expression (@​JLHwung)   module, module, module, module, module, module #​14877  Remove one promise tick in yield* (tc39/ecma262#​2819)  (@​nicolo-ribaudo)    :rocket: New Feature  module, module, module, module, module, module, module, module #​14836 Add 2022-03 decorators version (stage 3) (@​nicolo-ribaudo)   module #​14695 [parser] Make module default to module (@​nicolo-ribaudo)   module, module #​14744 Default to hash syntax for Record\&Tuple (@​nicolo-ribaudo)   module #​14867 feat: add proposal-record-and-tuple to standalone (@​JLHwung)   module, module, module, module, module #​14805 Add support for the duplicate named capturing groups proposal (@​nicolo-ribaudo)    :bug: Bug Fix  module, module, module #​14897 Fix: class transform should not drop method definition when key contains non-BMP characters (@​JLHwung)   module #​14890 fix: TS plugin shouldn't remove module (@​liuxingbaoyu)   module #​14819 fix: parse a>>c as a<(b>>>c) (@​JLHwung)   module #​14886 Fix helper-builder-react-jsx compat with Babel 7.9 (@​JLHwung)    :nail_care: Polish  module #​11612 Make error message prefixes more descriptive (@​eps1lon) #​11554 Hide internal module functions in config errors (@​nicolo-ribaudo)    :memo: Documentation  #​14895 docs: remove david-dm from README (@​SukkaW)  :house: Internal  module #​14863 ship @​babel/standalone source maps (@​JLHwung)   module, module, module #​14880 Update typescript to 4.8 (@​JLHwung)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2502,Split benchmark code into more modules (#337),"This splits the benchmark code into more modules. Notes:  ~Moved/left get_bundlers() and get_module_counts() to/in mod.rs. In particular, moving get_bundlers() to either bundle.rs or util.rs would lead to a circular dependency. These both also rely on env var configuration, so I figured this was a reasonable place for them.~ The Bundler trait has its own module (not moved to util), since it's a top-level concern and not really a miscellaneous utility. Each bundler has its own module file.  Test Plan: TURBOPACK_BENCH_BUNDLERS=all cargo test --benches -p next-dev -- --nocapture and verify same output as before change.",Split benchmark code into more modules (#337),"This splits the benchmark code into more modules. Notes: ~Moved/left get_bundlers() and get_module_counts() to/in mod.rs. In particular, moving get_bundlers() to either bundle.rs or util.rs would lead to a circular dependency. These both also rely on env var configuration, so I figured this was a reasonable place for them.~ The Bundler trait has its own module (not moved to util), since it's a top-level concern and not really a miscellaneous utility. Each bundler has its own module file. Test Plan: TURBOPACK_BENCH_BUNDLERS=all cargo test --benches -p next-dev -- --nocapture and verify same output as before change."
2503,Remove base manifest from manifest-create target,,Remove base manifest from manifest-create target,
2504,"Download correct mingw based on architecture, symlink so path is identical",,"Download correct mingw based on architecture, symlink so path is identical",
2505,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,,Merge branch 'main' into matt/re-jigged-the-landing-and-getting-started-pages,
2506,Include package.json when user specifies inputs (#1832),"We want to include each workspace's package.json as an input when the user has configured a smaller set of inputs, because the package.json defines the actual task turbo will execute for that workspace (via scripts). If that task definition changes, the cache is invalid. We only apply this inclusion when inputs are defined, because if inputs are not defined, all git-tracked files are included in the hash, which will also include the package.json file.",Include package.json when user specifies inputs (#1832),"We want to include each workspace's package.json as an input when the user has configured a smaller set of inputs, because the package.json defines the actual task turbo will execute for that workspace (via scripts). If that task definition changes, the cache is invalid. We only apply this inclusion when inputs are defined, because if inputs are not defined, all git-tracked files are included in the hash, which will also include the package.json file."
2507,Update docs/components/QuickStart.tsx,Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Update docs/components/QuickStart.tsx,Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2508,Update docs/pages/docs/core-concepts/why-turborepo.mdx,Co-authored-by: Mehul Kar mehul.kar@gmail.com,Update docs/pages/docs/core-concepts/why-turborepo.mdx,Co-authored-by: Mehul Kar mehul.kar@gmail.com
2509,Removed dead icon,,Removed dead icon,
2510,Fixed weird height of _app level svg,,Fixed weird height of _app level svg,
2511,Added pink gradient,,Added pink gradient,
2512,Improved features boxes,,Improved features boxes,
2513,Rephrased some things on the home page,,Rephrased some things on the home page,
2514,Added Learn More area,,Added Learn More area,
2515,Re-jigged the landing and getting started pages,,Re-jigged the landing and getting started pages,
2516,Merge pull request #9 from gsoltis/add_win_arm64,Add llvm-based mingw-w64 that supports aarch64,Merge pull request #9 from gsoltis/add_win_arm64,Add llvm-based mingw-w64 that supports aarch64
2517,feat: Add pnpm support for turbo prune (#1819)," Refactor pruned yarn lockfile writing  Change so we build up the lockfile in memory as opposed to writing/reading an intermediate to disk. This should allow for better testing of the lockfile marshalling logic   Move lockfile reading operation into package manager abstraction   fixup lints   Add pnpm lockfile parsing and writing   Hookup pnpm lockfile to pnpm package managers   rebase and add e2e tests for pnpm prune   support windows newlines   remove additional whitespace in generated pnpm-lock.yaml   Did a quick test of prune to make sure pnpm is still happy with the pruned lockfile: olszewski@chriss-mbp pnpm-prune % turbo_dev prune --scope=docs Generating pruned monorepo for docs in /private/tmp/pnpm-prune/out  - Added docs  - Added ui  - Added tsconfig  - Added eslint-config-custom olszewski@chriss-mbp pnpm-prune % cd out olszewski@chriss-mbp out % pnpm install -r --frozen-lockfile Scope: all 5 workspace projects Lockfile is up-to-date, resolution step is skipped .                                        | +300 ++++++++++++++++++++++++++++++ Packages are hard linked from the content-addressable store to the virtual store.   Content-addressable store is at: /Users/olszewski/Library/pnpm/store/v3   Virtual store is at:             node_modules/.pnpm Progress: resolved 300, reused 300, downloaded 0, added 300, done olszewski@chriss-mbp out % pnpm turbo run dev --filter=docs • Packages in scope: docs • Running dev in 1 packages docs:dev: cache bypass, force executing f63ed34e7a4cd20c docs:dev: docs:dev: > docs@0.0.0 dev /private/tmp/pnpm-prune/out/apps/docs docs:dev: > next dev --port 3001 docs:dev: docs:dev: ready - started server on 0.0.0.0:3001, url: http://localhost:3001 docs:dev: info  - automatically enabled Fast Refresh for 1 custom loader docs:dev: event - compiled client and server successfully in 606 ms (154 modules)  fixups for PR",feat: Add pnpm support for turbo prune (#1819),"Refactor pruned yarn lockfile writing Change so we build up the lockfile in memory as opposed to writing/reading an intermediate to disk. This should allow for better testing of the lockfile marshalling logic Move lockfile reading operation into package manager abstraction fixup lints Add pnpm lockfile parsing and writing Hookup pnpm lockfile to pnpm package managers rebase and add e2e tests for pnpm prune support windows newlines remove additional whitespace in generated pnpm-lock.yaml Did a quick test of prune to make sure pnpm is still happy with the pruned lockfile: olszewski@chriss-mbp pnpm-prune % turbo_dev prune --scope=docs Generating pruned monorepo for docs in /private/tmp/pnpm-prune/out  - Added docs  - Added ui  - Added tsconfig  - Added eslint-config-custom olszewski@chriss-mbp pnpm-prune % cd out olszewski@chriss-mbp out % pnpm install -r --frozen-lockfile Scope: all 5 workspace projects Lockfile is up-to-date, resolution step is skipped .                                        | +300 ++++++++++++++++++++++++++++++ Packages are hard linked from the content-addressable store to the virtual store.   Content-addressable store is at: /Users/olszewski/Library/pnpm/store/v3   Virtual store is at:             node_modules/.pnpm Progress: resolved 300, reused 300, downloaded 0, added 300, done olszewski@chriss-mbp out % pnpm turbo run dev --filter=docs • Packages in scope: docs • Running dev in 1 packages docs:dev: cache bypass, force executing f63ed34e7a4cd20c docs:dev: docs:dev: > docs@0.0.0 dev /private/tmp/pnpm-prune/out/apps/docs docs:dev: > next dev --port 3001 docs:dev: docs:dev: ready - started server on 0.0.0.0:3001, url: link docs:dev: info  - automatically enabled Fast Refresh for 1 custom loader docs:dev: event - compiled client and server successfully in 606 ms (154 modules) fixups for PR"
2518,(Controversial) Removed glossary and mentions of topological from the docs (#1868),I think this language isn't necessary to explain the concepts. It's too heavy and makes Turborepo seem more complex for the user than it is.,(Controversial) Removed glossary and mentions of topological from the docs (#1868),I think this language isn't necessary to explain the concepts. It's too heavy and makes Turborepo seem more complex for the user than it is.
2519,Always include llvm-based mingw-w64,,Always include llvm-based mingw-w64,
2520,Try out cram/prysk for CLI integration testing (#1829),"Add some prysk-based integration tests. They're minimal for now, but we can expand them as we work on CLI UX.  This PR also fixes an incorrect error that was printed out from turbo logout, found via CLI test. These are not yet wired to CI. I'd like to let them bake for a bit to make sure they are useful before we start gating releases on them. They can be run via make integration-tests in the cli package. Prysk",Try out cram/prysk for CLI integration testing (#1829),"Add some prysk-based integration tests. They're minimal for now, but we can expand them as we work on CLI UX.  This PR also fixes an incorrect error that was printed out from turbo logout, found via CLI test. These are not yet wired to CI. I'd like to let them bake for a bit to make sure they are useful before we start gating releases on them. They can be run via make integration-tests in the cli package. Prysk"
2521,Fixed redirect (#1888),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Fixed redirect (#1888),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2522,Add -base suffix to relevant targets in Makefile,,Add -base suffix to relevant targets in Makefile,
2523,Add llvm-based mingw-w64 that supports aarch64,,Add llvm-based mingw-w64 that supports aarch64,
2524,Fixed typo on remote caching page (#1889),,Fixed typo on remote caching page (#1889),
2525,improve startup metric measurement (#331),"This fixes the startup benchmark metric to show the time until first render, instead of being equal to hydration. It also skips hydration for CSR bundlers since it's equal first render for them. It now correctly measures the initial SSR as startup, so CLI start until page visible:",improve startup metric measurement (#331),"This fixes the startup benchmark metric to show the time until first render, instead of being equal to hydration. It also skips hydration for CSR bundlers since it's equal first render for them. It now correctly measures the initial SSR as startup, so CLI start until page visible:"
2526,add comments to the workflow (#334),,add comments to the workflow (#334),
2527,Fix Next.js 11 React version (#333),,Fix Next.js 11 React version (#333),
2528,feat(ignore): check for turbo force (#1886),"Check for the presence of TURBO_FORCE, and skip the ignore check if it exists.  Because turbo-ignore now checks against VERCEL_GIT_PREVIOUS_SHA when deploying on Vercel, manually queued builds that skip the cache will not deploy if there are no changes between the selected build and production. This is confusing, and generally not what the user wants when redeploying a build.  NOTE: This isn't a Vercel specific env var (hence it's not gated by a process.env.VERCEL check) - any CI provider could set this when manually skipping the cache is selected (similar to how Vercel is handling this)",feat(ignore): check for turbo force (#1886),"Check for the presence of TURBO_FORCE, and skip the ignore check if it exists.  Because turbo-ignore now checks against VERCEL_GIT_PREVIOUS_SHA when deploying on Vercel, manually queued builds that skip the cache will not deploy if there are no changes between the selected build and production. This is confusing, and generally not what the user wants when redeploying a build.  NOTE: This isn't a Vercel specific env var (hence it's not gated by a process.env.VERCEL check) - any CI provider could set this when manually skipping the cache is selected (similar to how Vercel is handling this)"
2529,"Reorganised pipeline docs with clearer headings, groupings and content (#1866)",,"Reorganised pipeline docs with clearer headings, groupings and content (#1866)",
2530,cleanup nitpicks (#330),,cleanup nitpicks (#330),
2531,allow to pass module counts list via env var (#332),add custom benchmark workflow run large counts in CI,allow to pass module counts list via env var (#332),add custom benchmark workflow run large counts in CI
2532,"Rewrote pipelines, caching and remote caching docs (#1758)",Latest update: https://www.loom.com/share/80974c53ee1e44dd82b5828b126a8521,"Rewrote pipelines, caching and remote caching docs (#1758)",Latest update: link
2533,fix(deps): update dependency swr to v1.3.0 (#1876)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | swr (source) | 1.0.1 -> 1.3.0 |  |  |  |  |  Release Notes  vercel/swr  ### [`v1.3.0`](https://togithub.com/vercel/swr/releases/tag/1.3.0)  [Compare Source](https://togithub.com/vercel/swr/compare/1.2.2...1.3.0)  #### What's Changed  -   type: fix type error on SWRConfig by [@​Himself65](https://togithub.com/Himself65) in [#​1913](https://togithub.com/vercel/swr/issues/1913) -   chore: update React 18 dependencies by [@​shuding](https://togithub.com/shuding) in [#​1824](https://togithub.com/vercel/swr/issues/1824) -   test: fix an act warning by [@​koba04](https://togithub.com/koba04) in [#​1888](https://togithub.com/vercel/swr/issues/1888) -   feat: support functional optimisticData by [@​huozhi](https://togithub.com/huozhi) in [#​1861](https://togithub.com/vercel/swr/issues/1861) -   bugfix: make suspense and revalidateIfStale work together by [@​simowe](https://togithub.com/simowe) in [#​1851](https://togithub.com/vercel/swr/issues/1851)  **Full Changelog**: https://github.com/vercel/swr/compare/1.2.2...1.3.0  ### [`v1.2.2`](https://togithub.com/vercel/swr/releases/tag/1.2.2)  [Compare Source](https://togithub.com/vercel/swr/compare/1.2.1...1.2.2)  #### Highlights of This Release  ##### `populateCache` Option Now Supports Function  We added better Optimistic UI support in [v1.2.0](https://togithub.com/vercel/swr/releases/tag/1.2.0). However, what if your API is only returning a subset of the data (such as the mutated part), that can be populated into the cache? Usually, an extra revalidation after that mutation is needed. But now you can also use a function as `populateCache` to transform the mutate result into the full data:  ```js await mutate(addTodo(newTodo), {   optimisticData: [...data, newTodo],   rollbackOnError: true,   populateCache: (addedTodo, currentData) => {     // `addedTodo` is what the API returns. It's not     // returning a list of all current todos but only     // the new added one.     // In this case, we can transform the mutate result     // together with current data, into the new data     // that can be updated.     return [...currentData, addedTodo];   },   // Since the API already gives us the updated information,   // we don't need to revalidate here.   revalidate: false, }); ```  The new definition:  ```ts populateCache?: boolean | ((mutationResult: any, currentData: Data) => Data) ```  Here is a demo for it: https://codesandbox.io/s/swr-basic-forked-hi9svh  ##### Bug Fixes  #### What's Changed  -   refactor: revalidateIfStale has an effect on updates, not only mounting by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1837](https://togithub.com/vercel/swr/pull/1837) -   fix: reset stale unmountedRef in suspense by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1843](https://togithub.com/vercel/swr/pull/1843) -   test: add a test for the behavior of revalidateOnMount when the key has been changed by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1847](https://togithub.com/vercel/swr/pull/1847) -   feat: Support `populateCache` as a function by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1818](https://togithub.com/vercel/swr/pull/1818)  **Full Changelog**: https://github.com/vercel/swr/compare/1.2.1...1.2.2  ### [`v1.2.1`](https://togithub.com/vercel/swr/releases/tag/1.2.1)  [Compare Source](https://togithub.com/vercel/swr/compare/1.2.0...1.2.1)  #### Highlights of This Release  ##### `shouldRetryOnError` accepts a function  Previously [`shouldRetryOnError`](https://swr.vercel.app/docs/error-handling#error-retry) is either true or false. Now it accepts a function that conditionally determines if SWR should retry. Here's a simple example:  ```js const fetcher = url => fetch(url).then(res => {   // Fetcher throws if the response code is not 2xx.   if (!res.ok) throw res   return res.json() })  useSWR(key, fetcher, {   shouldRetryOnError: (error) => {     // We skip retrying if the API is returning 404:     if (error.status === 404) return false     return true   } }) ```  Thanks to [@​sairajchouhan](https://togithub.com/sairajchouhan) for contributing!  #### What's Changed  -   `shouldRetryOnError` accepts a function that can be used to conditionally stop retrying   by [@​sairajchouhan](https://togithub.com/sairajchouhan) in [https://github.com/vercel/swr/pull/1816](https://togithub.com/vercel/swr/pull/1816) -   build(deps-dev): bump next from 12.0.8 to 12.0.9 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/vercel/swr/pull/1821](https://togithub.com/vercel/swr/pull/1821) -   fix: useSWRInfinite revalidates with revalidateOnMount by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1830](https://togithub.com/vercel/swr/pull/1830)  #### New Contributors  -   [@​sairajchouhan](https://togithub.com/sairajchouhan) made their first contribution in [https://github.com/vercel/swr/pull/1816](https://togithub.com/vercel/swr/pull/1816)  **Full Changelog**: https://github.com/vercel/swr/compare/1.2.0...1.2.1  ### [`v1.2.0`](https://togithub.com/vercel/swr/releases/tag/1.2.0)  [Compare Source](https://togithub.com/vercel/swr/compare/1.1.2...1.2.0)  #### Highlights of This Release  ##### Optimistic Updates with Auto Error Rollback  There are now some new options in `mutate`:  ```js mutate(patchUser(user), {   optimisticData: user,   populateCache: true,   rollbackOnError: true,   revalidate: true, }) ```  Here the cache will be immediately updated to `user`, the “optimistic value”. And then a request (remote mutation) is started via `patchUser(user)` and the response will be written to the cache. If that request fails, the original result will be rolled back safely so the optimistic value will be gone. And after all those finish, a revalidation will start to fetch the latest value.  This is extremely helpful for building the optimistic UI pattern.  You can do the same for the global `mutate`, just remember to pass the key. Also, the current `mutate` APIs stay unchanged so `mutate(data, false)` works the same.  Here's an example: https://codesandbox.io/s/swr-basic-forked-k5hps.  https://user-images.githubusercontent.com/3676859/151381238-f3aba769-91b6-4bfc-9285-df1b9ef51773.mp4  ##### `.mjs` Support  SWR now has `.mjs` exported for bundlers that prefer this format.  This doesn’t break environments that don’t support `.mjs`. An alternative `.esm.js` and CJS bundle are also published.  You can read more about ES modules [here](https://2ality.com/2017/05/es-module-specifiers.html).  #### What's Changed  -   feat: Optimistic mutation with error rollback by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1745](https://togithub.com/vercel/swr/pull/1745) -   fix: Required return type when mutating by [@​RKatarine](https://togithub.com/RKatarine) in [https://github.com/vercel/swr/pull/1772](https://togithub.com/vercel/swr/pull/1772) -   fix: use the latest reference of fetcher with suspense mode by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1803](https://togithub.com/vercel/swr/pull/1803) -   test: add delay for flaky focus test by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1762](https://togithub.com/vercel/swr/pull/1762) -   test: remove flaky focus test case by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1793](https://togithub.com/vercel/swr/pull/1793) -   test: use [@​swc/jest](https://togithub.com/swc/jest) by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1790](https://togithub.com/vercel/swr/pull/1790) -   chore: Ignore coverage report by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1744](https://togithub.com/vercel/swr/pull/1744) -   chore: Merge mutation states by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1748](https://togithub.com/vercel/swr/pull/1748) -   chore: Rename CONCURRENT_REQUESTS to FETCH by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1749](https://togithub.com/vercel/swr/pull/1749) -   chore: Merge extra request states in cache by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1752](https://togithub.com/vercel/swr/pull/1752) -   chore: support mjs exports by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1760](https://togithub.com/vercel/swr/pull/1760) -   chore: remove useless react-native field by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1761](https://togithub.com/vercel/swr/pull/1761) -   chore: comment helper by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1757](https://togithub.com/vercel/swr/pull/1757) -   chore: display name in devtool by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1779](https://togithub.com/vercel/swr/pull/1779) -   chore: simplify example development by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1787](https://togithub.com/vercel/swr/pull/1787) -   chore: build: improve watch commands by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1788](https://togithub.com/vercel/swr/pull/1788) -   chore: Update examples and dependencies by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1789](https://togithub.com/vercel/swr/pull/1789) -   chore: zeit -> vercel by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1791](https://togithub.com/vercel/swr/pull/1791) -   chore: Clean up configurations by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1792](https://togithub.com/vercel/swr/pull/1792) -   chore: move community health files to .github dir by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1794](https://togithub.com/vercel/swr/pull/1794) -   chore: Add link to security email directly by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1795](https://togithub.com/vercel/swr/pull/1795)  #### New Contributors  -   [@​RKatarine](https://togithub.com/RKatarine) made their first contribution in [https://github.com/vercel/swr/pull/1772](https://togithub.com/vercel/swr/pull/1772)  **Full Changelog**: https://github.com/vercel/swr/compare/1.1.2...1.2.0  ### [`v1.1.2`](https://togithub.com/vercel/swr/releases/tag/1.1.2)  [Compare Source](https://togithub.com/vercel/swr/compare/1.1.1...1.1.2)  #### Highlights of This Release  ##### Use the Latest Fetcher Function  SWR will now use the latest fetcher function passed to the hook, when sending the request. Previously it uses the initial snapshotted fetcher.  ##### Avoid Unnecessary Auto Revalidations  When refocusing on the window with state changes (like clicking a button that changes the SWR key immediately), SWR now avoids revalidations if they're not necessary. Details can be found in [#​1720](https://togithub.com/vercel/swr/issues/1720).  ##### New Types for `useSWRInfinite`  Two types for `useSWRInfinite` are added: `SWRInfinteHook` and `SWRInfinteKeyLoader`. You can use them to type the hook and the `getKey` function.  ##### New `populateCache` option for `mutate`  A new option to control if the mutation data should be written to the cache. You can find the details in [#​1729](https://togithub.com/vercel/swr/issues/1729).  #### What's Changed  -   Make polyfill for `requestAnimationFrame` more robust by [@​thomaspaulmann](https://togithub.com/thomaspaulmann) in [https://github.com/vercel/swr/pull/1707](https://togithub.com/vercel/swr/pull/1707) -   type(infinite): export SWRInfinteHook and SWRInfiniteKeyLoader from infinite, rename InfiniteFetcher to SWRInfiniteFetcher by [@​houkanshan](https://togithub.com/houkanshan) in [https://github.com/vercel/swr/pull/1714](https://togithub.com/vercel/swr/pull/1714) -   feat: Ensure auto revalidations are executed after state updates by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1720](https://togithub.com/vercel/swr/pull/1720) -   Add moduleNameMapper to jest by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1724](https://togithub.com/vercel/swr/pull/1724) -   Improve test by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1725](https://togithub.com/vercel/swr/pull/1725) -   feat: Use the latest reference of fetcher by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1727](https://togithub.com/vercel/swr/pull/1727) -   fix: Re-export InfiniteFetcher by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1728](https://togithub.com/vercel/swr/pull/1728) -   feat: Add `populateCache` option to `mutate` by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1729](https://togithub.com/vercel/swr/pull/1729) -   Fix local state sharing example deps by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1737](https://togithub.com/vercel/swr/pull/1737) -   Merge states for concurrent requests by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1741](https://togithub.com/vercel/swr/pull/1741) -   Skip error retrying when document is not active and improve tests by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1742](https://togithub.com/vercel/swr/pull/1742)  #### New Contributors  -   [@​thomaspaulmann](https://togithub.com/thomaspaulmann) made their first contribution in [https://github.com/vercel/swr/pull/1707](https://togithub.com/vercel/swr/pull/1707) -   [@​houkanshan](https://togithub.com/houkanshan) made their first contribution in [https://github.com/vercel/swr/pull/1714](https://togithub.com/vercel/swr/pull/1714)  **Full Changelog**: https://github.com/vercel/swr/compare/1.1.1...1.1.2  ### [`v1.1.1`](https://togithub.com/vercel/swr/releases/tag/1.1.1)  [Compare Source](https://togithub.com/vercel/swr/compare/1.1.0...1.1.1)  #### Highlights of This Release  ##### Dynamic `refreshInterval`  You can now pass a function as `refreshInterval`, to dynamically return the interval (in millisecond) til the next request, based on the current data:  ```typescript useSWR('key', fetcher, {   refreshInterval: function (data: Data | undefined) {     if (!data) return 3000 // Initial request      return data.next_update   } }) ```  If return `0`, polling will be stopped.  #### What's Changed  -   feat: refreshInterval as a function by [@​Andrewnt219](https://togithub.com/Andrewnt219) in [https://github.com/vercel/swr/pull/1690](https://togithub.com/vercel/swr/pull/1690) -   test: add refreshInterval function returns 0 by [@​Andrewnt219](https://togithub.com/Andrewnt219) in [https://github.com/vercel/swr/pull/1691](https://togithub.com/vercel/swr/pull/1691) -   fix: If `newData` is deeply to the latest state, broadcast the latest state by [@​icyJoseph](https://togithub.com/icyJoseph) in [https://github.com/vercel/swr/pull/1697](https://togithub.com/vercel/swr/pull/1697) -   fix: Return `undefined` data if key's falsy under suspense mode by [@​icyJoseph](https://togithub.com/icyJoseph) in [https://github.com/vercel/swr/pull/1698](https://togithub.com/vercel/swr/pull/1698)  #### New Contributors  -   [@​Andrewnt219](https://togithub.com/Andrewnt219) made their first contribution in [https://github.com/vercel/swr/pull/1690](https://togithub.com/vercel/swr/pull/1690) -   [@​icyJoseph](https://togithub.com/icyJoseph) made their first contribution in [https://github.com/vercel/swr/pull/1697](https://togithub.com/vercel/swr/pull/1697)  **Full Changelog**: https://github.com/vercel/swr/compare/1.1.0...1.1.1  ### [`v1.1.0`](https://togithub.com/vercel/swr/releases/tag/1.1.0)  [Compare Source](https://togithub.com/vercel/swr/compare/1.0.1...1.1.0)  #### Highlights for This Release  ##### 1. Built-in & stable serialization for SWR keys  ```js useSWR({ query: graphql`...`, variables }, fetcher) useSWR({ query: graphql`...`, variables }, fetcher) useSWR({ variables, query: graphql`...` }, fetcher) // ^all recognized as the same resource ```  For array keys too, it's safe to do the following:  ```js useSWR([ `...`, { variables } ], fetcher) ```  ##### 2. `revalidateFirstPage` for `useSWRInfinite`  This is a new added option for `useSWRInfinite` (defaults to `true`), you can use it to control if the first page should be revalidated when changing the size or doing a mutation.  ##### 3. Better TypeScript support  -   Key / arguments -   Conditional / dependent -   Constant keys -   Returned data  ![image](https://user-images.githubusercontent.com/3676859/144089090-f46f109a-e2bc-465f-8a75-f4932bc2d7dd.png)  #### What's Changed  -   Feature: make return state(data, error and isValidating) readonly by [@​anirudh1713](https://togithub.com/anirudh1713) in [https://github.com/vercel/swr/pull/1431](https://togithub.com/vercel/swr/pull/1431) -   Stable hash by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1429](https://togithub.com/vercel/swr/pull/1429) -   test: add render utilities and remove TestSWRConfig by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1435](https://togithub.com/vercel/swr/pull/1435) -   Revert ""Feature: make return state(data, error and isValidating) readonly"" by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1443](https://togithub.com/vercel/swr/pull/1443) -   Fix initial isValidating when isPaused() returns true by [@​anothertempore](https://togithub.com/anothertempore) in [https://github.com/vercel/swr/pull/1440](https://togithub.com/vercel/swr/pull/1440) -   build: no emit on error by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1446](https://togithub.com/vercel/swr/pull/1446) -   chore: remove unused typings by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1448](https://togithub.com/vercel/swr/pull/1448) -   enhance: provider release handlers by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1449](https://togithub.com/vercel/swr/pull/1449) -   test: refactor use-swr-cache-test by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1442](https://togithub.com/vercel/swr/pull/1442) -   Chore: refactor code related to unsubscribing global listeners by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1451](https://togithub.com/vercel/swr/pull/1451) -   Chore: code refactoring for swr/infinite by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1452](https://togithub.com/vercel/swr/pull/1452) -   test: refactor concurrent rendering tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1457](https://togithub.com/vercel/swr/pull/1457) -   test: refactor config tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1458](https://togithub.com/vercel/swr/pull/1458) -   Revert ""feat: add a warning for invalid arguments with suspense mode … by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1460](https://togithub.com/vercel/swr/pull/1460) -   test: refactor mutation tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1459](https://togithub.com/vercel/swr/pull/1459) -   fix: Support IE11 by [@​amannn](https://togithub.com/amannn) in [https://github.com/vercel/swr/pull/1463](https://togithub.com/vercel/swr/pull/1463) -   test: refactor immutable and infinite hook tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1466](https://togithub.com/vercel/swr/pull/1466) -   chore: Add React 18 to peerDependencies by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1467](https://togithub.com/vercel/swr/pull/1467) -   test: refactor integration and loading tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1473](https://togithub.com/vercel/swr/pull/1473) -   test: refactor key, middlewares, and suspense tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1474](https://togithub.com/vercel/swr/pull/1474) -   test: refactor offline and refresh tests by [@​koba04](https://togithub.com/koba04) in [https://github.com/vercel/swr/pull/1483](https://togithub.com/vercel/swr/pull/1483) -   build(deps): bump tmpl from 1.0.4 to 1.0.5 by [@​dependabot](https://togithub.com/dependabot) in [https://github.com/vercel/swr/pull/1484](https://togithub.com/vercel/swr/pull/1484) -   Upgrade typescript to 4.4.3 by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1486](https://togithub.com/vercel/swr/pull/1486) -   chore: Code refactoring by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1482](https://togithub.com/vercel/swr/pull/1482) -   ci: multiple dir type checking by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1492](https://togithub.com/vercel/swr/pull/1492) -   Type useSWR fetcher by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1477](https://togithub.com/vercel/swr/pull/1477) -   chore: Improve project file structure by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1497](https://togithub.com/vercel/swr/pull/1497) -   chore: Refine type interfaces by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1496](https://togithub.com/vercel/swr/pull/1496) -   chore: Upgrade eslint and add local cache by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1499](https://togithub.com/vercel/swr/pull/1499) -   fix: Invalidate the key when mutating without revalidating by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1498](https://togithub.com/vercel/swr/pull/1498) -   example: add ref checking condition by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1504](https://togithub.com/vercel/swr/pull/1504) -   fix: Refactor core revalidate function and fix isValidating state bug by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1493](https://togithub.com/vercel/swr/pull/1493) -   chore: remove duplicate configs by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1507](https://togithub.com/vercel/swr/pull/1507) -   typing: fix-type-generation by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1509](https://togithub.com/vercel/swr/pull/1509) -   chroe: use yalc for local development by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1508](https://togithub.com/vercel/swr/pull/1508) -   chore: Code refactoring by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1521](https://togithub.com/vercel/swr/pull/1521) -   feat: Add new onDiscarded option by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1523](https://togithub.com/vercel/swr/pull/1523) -   fix: Error events should be deduplicated by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1522](https://togithub.com/vercel/swr/pull/1522) -   chore: Output test code coverage by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1511](https://togithub.com/vercel/swr/pull/1511) -   chore: Mark returned states and mutate callback argument as readonly by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1514](https://togithub.com/vercel/swr/pull/1514) -   test: Add tests for reconnect and merge-config by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1530](https://togithub.com/vercel/swr/pull/1530) -   fix: Only trigger the success event if not discarded by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1529](https://togithub.com/vercel/swr/pull/1529) -   chore: Code refactoring by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1533](https://togithub.com/vercel/swr/pull/1533) -   Add revalidateFirstPage option to swr/infinite ([#​1401](https://togithub.com/vercel/swr/issues/1401)) by [@​timas130](https://togithub.com/timas130) in [https://github.com/vercel/swr/pull/1538](https://togithub.com/vercel/swr/pull/1538) -   fix: Reusing cache provider by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1539](https://togithub.com/vercel/swr/pull/1539) -   chore: fix ts comments by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1540](https://togithub.com/vercel/swr/pull/1540) -   fix: Ensure mutate accepts undefined as the data by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1515](https://togithub.com/vercel/swr/pull/1515) -   chore: Fix comment and startAt type by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1541](https://togithub.com/vercel/swr/pull/1541) -   chore: Refactor cleanupState by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1544](https://togithub.com/vercel/swr/pull/1544) -   feat: using latest version of `axios` with fetch interceptor by [@​danestves](https://togithub.com/danestves) in [https://github.com/vercel/swr/pull/1548](https://togithub.com/vercel/swr/pull/1548) -   test: Add test case for mutation deduplication by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1549](https://togithub.com/vercel/swr/pull/1549) -   test: speed up with [@​swc-node/jest](https://togithub.com/swc-node/jest) by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1569](https://togithub.com/vercel/swr/pull/1569) -   chore: Optimizations by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1578](https://togithub.com/vercel/swr/pull/1578) -   fix react-native issue by [@​aFINKndreas](https://togithub.com/aFINKndreas) in [https://github.com/vercel/swr/pull/1583](https://togithub.com/vercel/swr/pull/1583) -   fix: Support for functions that return false by [@​TakahiroHimi](https://togithub.com/TakahiroHimi) in [https://github.com/vercel/swr/pull/1586](https://togithub.com/vercel/swr/pull/1586) -   fix: adds undefined as valid Key type to allow falsy Key or Key() by [@​morgs32](https://togithub.com/morgs32) in [https://github.com/vercel/swr/pull/1594](https://togithub.com/vercel/swr/pull/1594) -   fix: can't find variable removeEventListener by [@​zhaomengfan](https://togithub.com/zhaomengfan) in [https://github.com/vercel/swr/pull/1595](https://togithub.com/vercel/swr/pull/1595) -   Revert ""chore: Mark returned states and mutate callback argument as readonly"" by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1570](https://togithub.com/vercel/swr/pull/1570) -   fix: change config alteration process in withMiddleware to be immutable by [@​junsushin-dev](https://togithub.com/junsushin-dev) in [https://github.com/vercel/swr/pull/1556](https://togithub.com/vercel/swr/pull/1556) -   fix: Allow empty mutate argument list for infinite by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1602](https://togithub.com/vercel/swr/pull/1602) -   chore: Add `type: ""module""` and use `.mjs` extension by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1604](https://togithub.com/vercel/swr/pull/1604) -   Revert ""chore: Add type: ""module"" and use .mjs extension ([#​1604](https://togithub.com/vercel/swr/issues/1604))"" by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1618](https://togithub.com/vercel/swr/pull/1618) -   enhance: bind removeEventListener by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1596](https://togithub.com/vercel/swr/pull/1596) -   fix: typos by [@​nguyenyou](https://togithub.com/nguyenyou) in [https://github.com/vercel/swr/pull/1647](https://togithub.com/vercel/swr/pull/1647) -   build: output without minification by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1650](https://togithub.com/vercel/swr/pull/1650) -   Tweak types by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1640](https://togithub.com/vercel/swr/pull/1640) -   fix: supports ssr in ie11([#​1657](https://togithub.com/vercel/swr/issues/1657)) by [@​Sh031224](https://togithub.com/Sh031224) in [https://github.com/vercel/swr/pull/1659](https://togithub.com/vercel/swr/pull/1659) -   type: disbale inference when data generic is provided by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1658](https://togithub.com/vercel/swr/pull/1658) -   chore: rename major branch to main by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1664](https://togithub.com/vercel/swr/pull/1664) -   fix keyloader index and previousPageData type by [@​promer94](https://togithub.com/promer94) in [https://github.com/vercel/swr/pull/1669](https://togithub.com/vercel/swr/pull/1669) -   Add defaults for SWRResponse by [@​TakahiroHimi](https://togithub.com/TakahiroHimi) in [https://github.com/vercel/swr/pull/1609](https://togithub.com/vercel/swr/pull/1609) -   example: update typescript examples with strict ts mode by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1673](https://togithub.com/vercel/swr/pull/1673) -   chore: upgrade eslint to v8 and prettier to v2 by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1674](https://togithub.com/vercel/swr/pull/1674) -   fix: remove unnecessary async by [@​Cut0](https://togithub.com/Cut0) in [https://github.com/vercel/swr/pull/1676](https://togithub.com/vercel/swr/pull/1676) -   types: remove duplicated typing def by [@​huozhi](https://togithub.com/huozhi) in [https://github.com/vercel/swr/pull/1675](https://togithub.com/vercel/swr/pull/1675) -   chore: Add test case for `getKey` in `useSWRInfinite` by [@​shuding](https://togithub.com/shuding) in [https://github.com/vercel/swr/pull/1681](https://togithub.com/vercel/swr/pull/1681)  #### New Contributors  -   [@​willheslam](https://togithub.com/willheslam) made their first contribution in [https://github.com/vercel/swr/pull/1393](https://togithub.com/vercel/swr/pull/1393) -   [@​louisgv](https://togithub.com/louisgv) made their first contribution in [https://github.com/vercel/swr/pull/1406](https://togithub.com/vercel/swr/pull/1406) -   [@​origin-master](https://togithub.com/origin-master) made their first contribution in [https://github.com/vercel/swr/pull/1409](https://togithub.com/vercel/swr/pull/1409) -   [@​anirudh1713](https://togithub.com/anirudh1713) made their first contribution in [https://github.com/vercel/swr/pull/1431](https://togithub.com/vercel/swr/pull/1431) -   [@​amannn](https://togithub.com/amannn) made their first contribution in [https://github.com/vercel/swr/pull/1463](https://togithub.com/vercel/swr/pull/1463) -   [@​timas130](https://togithub.com/timas130) made their first contribution in [https://github.com/vercel/swr/pull/1538](https://togithub.com/vercel/swr/pull/1538) -   [@​danestves](https://togithub.com/danestves) made their first contribution in [https://github.com/vercel/swr/pull/1548](https://togithub.com/vercel/swr/pull/1548) -   [@​aFINKndreas](https://togithub.com/aFINKndreas) made their first contribution in [https://github.com/vercel/swr/pull/1583](https://togithub.com/vercel/swr/pull/1583) -   [@​TakahiroHimi](https://togithub.com/TakahiroHimi) made their first contribution in [https://github.com/vercel/swr/pull/1586](https://togithub.com/vercel/swr/pull/1586) -   [@​zhaomengfan](https://togithub.com/zhaomengfan) made their first contribution in [https://github.com/vercel/swr/pull/1595](https://togithub.com/vercel/swr/pull/1595) -   [@​junsushin-dev](https://togithub.com/junsushin-dev) made their first contribution in [https://github.com/vercel/swr/pull/1556](https://togithub.com/vercel/swr/pull/1556) -   [@​nguyenyou](https://togithub.com/nguyenyou) made their first contribution in [https://github.com/vercel/swr/pull/1647](https://togithub.com/vercel/swr/pull/1647) -   [@​Sh031224](https://togithub.com/Sh031224) made their first contribution in [https://github.com/vercel/swr/pull/1659](https://togithub.com/vercel/swr/pull/1659) -   [@​Cut0](https://togithub.com/Cut0) made their first contribution in [https://github.com/vercel/swr/pull/1676](https://togithub.com/vercel/swr/pull/1676)  **Full Changelog**: https://github.com/vercel/swr/compare/1.0.1...1.1.0    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency swr to v1.3.0 (#1876),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | swr (source) | 1.0.1 -> 1.3.0 |  |  |  |  | Release Notes vercel/swr module Compare Source What's Changed  type: fix type error on SWRConfig by @​Himself65 in #​1913 chore: update React 18 dependencies by @​shuding in #​1824 test: fix an act warning by @​koba04 in #​1888 feat: support functional optimisticData by @​huozhi in #​1861 bugfix: make suspense and revalidateIfStale work together by @​simowe in #​1851  Full Changelog: link module Compare Source Highlights of This Release module Option Now Supports Function We added better Optimistic UI support in v1.2.0. However, what if your API is only returning a subset of the data (such as the mutated part), that can be populated into the cache? Usually, an extra revalidation after that mutation is needed. But now you can also use a function as module to transform the mutate result into the full data: module The new definition: module Here is a demo for it: link Bug Fixes What's Changed  refactor: revalidateIfStale has an effect on updates, not only mounting by @​koba04 in [link) fix: reset stale unmountedRef in suspense by @​promer94 in [link) test: add a test for the behavior of revalidateOnMount when the key has been changed by @​koba04 in [link) feat: Support module as a function by @​shuding in [link)  Full Changelog: link module Compare Source Highlights of This Release module accepts a function Previously module is either true or false. Now it accepts a function that conditionally determines if SWR should retry. Here's a simple example: ```js const fetcher = url => fetch(url).then(res => {   // Fetcher throws if the response code is not 2xx.   if (!res.ok) throw res   return res.json() }) useSWR(key, fetcher, {   shouldRetryOnError: (error) => {     // We skip retrying if the API is returning 404:     if (error.status === 404) return false     return true   } }) ``` Thanks to @​sairajchouhan for contributing! What's Changed  module accepts a function that can be used to conditionally stop retrying   by @​sairajchouhan in [link) build(deps-dev): bump next from 12.0.8 to 12.0.9 by @​dependabot in [link) fix: useSWRInfinite revalidates with revalidateOnMount by @​koba04 in [link)  New Contributors  @​sairajchouhan made their first contribution in [link)  Full Changelog: link module Compare Source Highlights of This Release Optimistic Updates with Auto Error Rollback There are now some new options in module: module Here the cache will be immediately updated to module, the “optimistic value”. And then a request (remote mutation) is started via module and the response will be written to the cache. If that request fails, the original result will be rolled back safely so the optimistic value will be gone. And after all those finish, a revalidation will start to fetch the latest value. This is extremely helpful for building the optimistic UI pattern. You can do the same for the global module, just remember to pass the key. Also, the current module APIs stay unchanged so module works the same. Here's an example: link. link module Support SWR now has module exported for bundlers that prefer this format. This doesn’t break environments that don’t support module. An alternative module and CJS bundle are also published. You can read more about ES modules here. What's Changed  feat: Optimistic mutation with error rollback by @​shuding in [link) fix: Required return type when mutating by @​RKatarine in [link) fix: use the latest reference of fetcher with suspense mode by @​koba04 in [link) test: add delay for flaky focus test by @​huozhi in [link) test: remove flaky focus test case by @​huozhi in [link) test: use @​swc/jest by @​huozhi in [link) chore: Ignore coverage report by @​shuding in [link) chore: Merge mutation states by @​shuding in [link) chore: Rename CONCURRENT_REQUESTS to FETCH by @​shuding in [link) chore: Merge extra request states in cache by @​shuding in [link) chore: support mjs exports by @​huozhi in [link) chore: remove useless react-native field by @​huozhi in [link) chore: comment helper by @​huozhi in [link) chore: display name in devtool by @​huozhi in [link) chore: simplify example development by @​huozhi in [link) chore: build: improve watch commands by @​huozhi in [link) chore: Update examples and dependencies by @​shuding in [link) chore: zeit -> vercel by @​huozhi in [link) chore: Clean up configurations by @​shuding in [link) chore: move community health files to .github dir by @​huozhi in [link) chore: Add link to security email directly by @​huozhi in [link)  New Contributors  @​RKatarine made their first contribution in [link)  Full Changelog: link module Compare Source Highlights of This Release Use the Latest Fetcher Function SWR will now use the latest fetcher function passed to the hook, when sending the request. Previously it uses the initial snapshotted fetcher. Avoid Unnecessary Auto Revalidations When refocusing on the window with state changes (like clicking a button that changes the SWR key immediately), SWR now avoids revalidations if they're not necessary. Details can be found in #​1720. New Types for module Two types for module are added: module and module. You can use them to type the hook and the module function. New module option for module A new option to control if the mutation data should be written to the cache. You can find the details in #​1729. What's Changed  Make polyfill for module more robust by @​thomaspaulmann in [link) type(infinite): export SWRInfinteHook and SWRInfiniteKeyLoader from infinite, rename InfiniteFetcher to SWRInfiniteFetcher by @​houkanshan in [link) feat: Ensure auto revalidations are executed after state updates by @​shuding in [link) Add moduleNameMapper to jest by @​shuding in [link) Improve test by @​promer94 in [link) feat: Use the latest reference of fetcher by @​shuding in [link) fix: Re-export InfiniteFetcher by @​shuding in [link) feat: Add module option to module by @​shuding in [link) Fix local state sharing example deps by @​huozhi in [link) Merge states for concurrent requests by @​shuding in [link) Skip error retrying when document is not active and improve tests by @​shuding in [link)  New Contributors  @​thomaspaulmann made their first contribution in [link) @​houkanshan made their first contribution in [link)  Full Changelog: link module Compare Source Highlights of This Release Dynamic module You can now pass a function as module, to dynamically return the interval (in millisecond) til the next request, based on the current data: module If return module, polling will be stopped. What's Changed  feat: refreshInterval as a function by @​Andrewnt219 in [link) test: add refreshInterval function returns 0 by @​Andrewnt219 in [link) fix: If module is deeply to the latest state, broadcast the latest state by @​icyJoseph in [link) fix: Return module data if key's falsy under suspense mode by @​icyJoseph in [link)  New Contributors  @​Andrewnt219 made their first contribution in [link) @​icyJoseph made their first contribution in [link)  Full Changelog: link module Compare Source Highlights for This Release 1. Built-in & stable serialization for SWR keys module For array keys too, it's safe to do the following: module 2. module for module This is a new added option for module (defaults to module), you can use it to control if the first page should be revalidated when changing the size or doing a mutation. 3. Better TypeScript support  Key / arguments Conditional / dependent Constant keys Returned data   What's Changed  Feature: make return state(data, error and isValidating) readonly by @​anirudh1713 in [link) Stable hash by @​shuding in [link) test: add render utilities and remove TestSWRConfig by @​koba04 in [link) Revert ""Feature: make return state(data, error and isValidating) readonly"" by @​huozhi in [link) Fix initial isValidating when isPaused() returns true by @​anothertempore in [link) build: no emit on error by @​huozhi in [link) chore: remove unused typings by @​huozhi in [link) enhance: provider release handlers by @​huozhi in [link) test: refactor use-swr-cache-test by @​koba04 in [link) Chore: refactor code related to unsubscribing global listeners by @​shuding in [link) Chore: code refactoring for swr/infinite by @​shuding in [link) test: refactor concurrent rendering tests by @​koba04 in [link) test: refactor config tests by @​koba04 in [link) Revert ""feat: add a warning for invalid arguments with suspense mode … by @​koba04 in [link) test: refactor mutation tests by @​koba04 in [link) fix: Support IE11 by @​amannn in [link) test: refactor immutable and infinite hook tests by @​koba04 in [link) chore: Add React 18 to peerDependencies by @​shuding in [link) test: refactor integration and loading tests by @​koba04 in [link) test: refactor key, middlewares, and suspense tests by @​koba04 in [link) test: refactor offline and refresh tests by @​koba04 in [link) build(deps): bump tmpl from 1.0.4 to 1.0.5 by @​dependabot in [link) Upgrade typescript to 4.4.3 by @​huozhi in [link) chore: Code refactoring by @​shuding in [link) ci: multiple dir type checking by @​huozhi in [link) Type useSWR fetcher by @​promer94 in [link) chore: Improve project file structure by @​shuding in [link) chore: Refine type interfaces by @​shuding in [link) chore: Upgrade eslint and add local cache by @​shuding in [link) fix: Invalidate the key when mutating without revalidating by @​shuding in [link) example: add ref checking condition by @​huozhi in [link) fix: Refactor core revalidate function and fix isValidating state bug by @​shuding in [link) chore: remove duplicate configs by @​huozhi in [link) typing: fix-type-generation by @​promer94 in [link) chroe: use yalc for local development by @​promer94 in [link) chore: Code refactoring by @​shuding in [link) feat: Add new onDiscarded option by @​shuding in [link) fix: Error events should be deduplicated by @​shuding in [link) chore: Output test code coverage by @​shuding in [link) chore: Mark returned states and mutate callback argument as readonly by @​shuding in [link) test: Add tests for reconnect and merge-config by @​shuding in [link) fix: Only trigger the success event if not discarded by @​shuding in [link) chore: Code refactoring by @​shuding in [link) Add revalidateFirstPage option to swr/infinite (#​1401) by @​timas130 in [link) fix: Reusing cache provider by @​shuding in [link) chore: fix ts comments by @​huozhi in [link) fix: Ensure mutate accepts undefined as the data by @​shuding in [link) chore: Fix comment and startAt type by @​shuding in [link) chore: Refactor cleanupState by @​shuding in [link) feat: using latest version of module with fetch interceptor by @​danestves in [link) test: Add test case for mutation deduplication by @​shuding in [link) test: speed up with @​swc-node/jest by @​huozhi in [link) chore: Optimizations by @​shuding in [link) fix react-native issue by @​aFINKndreas in [link) fix: Support for functions that return false by @​TakahiroHimi in [link) fix: adds undefined as valid Key type to allow falsy Key or Key() by @​morgs32 in [link) fix: can't find variable removeEventListener by @​zhaomengfan in [link) Revert ""chore: Mark returned states and mutate callback argument as readonly"" by @​shuding in [link) fix: change config alteration process in withMiddleware to be immutable by @​junsushin-dev in [link) fix: Allow empty mutate argument list for infinite by @​shuding in [link) chore: Add module and use module extension by @​shuding in [link) Revert ""chore: Add type: ""module"" and use .mjs extension (#​1604)"" by @​huozhi in [link) enhance: bind removeEventListener by @​huozhi in [link) fix: typos by @​nguyenyou in [link) build: output without minification by @​huozhi in [link) Tweak types by @​promer94 in [link) fix: supports ssr in ie11(#​1657) by @​Sh031224 in [link) type: disbale inference when data generic is provided by @​promer94 in [link) chore: rename major branch to main by @​huozhi in [link) fix keyloader index and previousPageData type by @​promer94 in [link) Add defaults for SWRResponse by @​TakahiroHimi in [link) example: update typescript examples with strict ts mode by @​huozhi in [link) chore: upgrade eslint to v8 and prettier to v2 by @​huozhi in [link) fix: remove unnecessary async by @​Cut0 in [link) types: remove duplicated typing def by @​huozhi in [link) chore: Add test case for module in module by @​shuding in [link)  New Contributors  @​willheslam made their first contribution in [link) @​louisgv made their first contribution in [link) @​origin-master made their first contribution in [link) @​anirudh1713 made their first contribution in [link) @​amannn made their first contribution in [link) @​timas130 made their first contribution in [link) @​danestves made their first contribution in [link) @​aFINKndreas made their first contribution in [link) @​TakahiroHimi made their first contribution in [link) @​zhaomengfan made their first contribution in [link) @​junsushin-dev made their first contribution in [link) @​nguyenyou made their first contribution in [link) @​Sh031224 made their first contribution in [link) @​Cut0 made their first contribution in [link)  Full Changelog: link Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2534,Rewrote filtering workspaces docs (#1879),"Improved organisation of filter docs, added a reference list at the top, simplified language and pulled out examples into different sections. NOTE - I've added imagery to this PR but it can be dropped if we don't think it's high enough quality.",Rewrote filtering workspaces docs (#1879),"Improved organisation of filter docs, added a reference list at the top, simplified language and pulled out examples into different sections. NOTE - I've added imagery to this PR but it can be dropped if we don't think it's high enough quality."
2535,Ensure pages close before app does (#329),,Ensure pages close before app does (#329),
2536,refactor(turbo): introduce swc_core for upstream SWC dep import references (#317),  refactor(turbo): introduce swc_core   refactor(turbo): update import references   build(cargo): update lockfile ,refactor(turbo): introduce swc_core for upstream SWC dep import references (#317),refactor(turbo): introduce swc_core refactor(turbo): update import references build(cargo): update lockfile
2537,"Stop processes gracefully when possible, add drop guard to pages (#328)",,"Stop processes gracefully when possible, add drop guard to pages (#328)",
2538,Benchmark Parcel (#322),  Benchmark Parcel   add Parcel to the CI benchmarks   move some turbopack dependencies to the bundler as they conflict with other bundlers   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Benchmark Parcel (#322),Benchmark Parcel add Parcel to the CI benchmarks move some turbopack dependencies to the bundler as they conflict with other bundlers Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2539,emit_with_completion is not used in node-modules-trace  (#327),so we don't really have to benchmark that,emit_with_completion is not used in node-modules-trace  (#327),so we don't really have to benchmark that
2540,run nft compare CI only on main (#326),We no longer need to run this on every PR,run nft compare CI only on main (#326),We no longer need to run this on every PR
2541,print benchmark results in readable way (#323),,print benchmark results in readable way (#323),
2542,really benchmark Next.js in CI (#324),,really benchmark Next.js in CI (#324),
2543,chore(turbo-ignore): add console message of an unfriendly error (#1871),issue  Fixes #1859   description fix above issue by adding console message. Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com,chore(turbo-ignore): add console message of an unfriendly error (#1871),issue Fixes #1859  description fix above issue by adding console message. Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com
2544,Benchmark Next.js 11 and 12 (#304),"This implements benchmark support for Next.js 12. Next.js (the tool) expects to be able to resolve from the next package in the cwd, so it must be installed alongside the other node_modules in the test.  prepare was added to the Bundler trait to handle this case. Test Plan: TURBOPACK_BENCH_ALL=all cargo bench -p next-dev Co-authored-by: Alex Kirszenberg 1621758+alexkirsz@users.noreply.github.com Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Benchmark Next.js 11 and 12 (#304),"This implements benchmark support for Next.js 12. Next.js (the tool) expects to be able to resolve from the next package in the cwd, so it must be installed alongside the other node_modules in the test.  prepare was added to the Bundler trait to handle this case. Test Plan: TURBOPACK_BENCH_ALL=all cargo bench -p next-dev Co-authored-by: Alex Kirszenberg 1621758+alexkirsz@users.noreply.github.com Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2545,Add degit instructions for all examples (#1884),Fixes #1852 Fixes #1781 Fixes #1738 Fixes #1600 (and others like it),Add degit instructions for all examples (#1884),Fixes #1852 Fixes #1781 Fixes #1738 Fixes #1600 (and others like it)
2546,publish 1.4.6 to registry,,publish 1.4.6 to registry,
2547,feat: go1.19.1,bump goreleaser v1.11.2 bump cosign 1.11.1 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.19.1,bump goreleaser v1.11.2 bump cosign 1.11.1 Signed-off-by: Artur Troian troian.ap@gmail.com
2548,fix(deps): update dependency react-hot-toast to v2.3.0 (#1875),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency react-hot-toast to v2.3.0 (#1875),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2549,fix runtime code for server rendered content source (#315),move transition into turbopack,fix runtime code for server rendered content source (#315),move transition into turbopack
2550,use larger github actions runners for benchmarks (#320),,use larger github actions runners for benchmarks (#320),
2551,Benchmark against Vite (#299),"This adds a comparison against Vite to our benchmark suite, running the startup, change, and restart benchmarks. Test Plan: cargo bench Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Benchmark against Vite (#299),"This adds a comparison against Vite to our benchmark suite, running the startup, change, and restart benchmarks. Test Plan: cargo bench Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2552,Don't special case version command (#1870),"We don't have a turbo version command, so don't special case it in argument parsing. Fixes #1839  This is superceded by #1792",Don't special case version command (#1870),"We don't have a turbo version command, so don't special case it in argument parsing. Fixes #1839  This is superceded by #1792"
2553,fix benchmark compare actions (#318),"The benchmark github action didn't correctly copy and use the executables used in benchmarks via CARGO_BIN_EXE_*. This adds a CARGO_BIN_EXE_* runtime override to the github action to allow to use correct executable. It will show correct results for next-dev benchmarks too, e. g. here an example of reverting #295 ",fix benchmark compare actions (#318),"The benchmark github action didn't correctly copy and use the executables used in benchmarks via CARGO_BIN_EXE_. This adds a CARGO_BIN_EXE_ runtime override to the github action to allow to use correct executable. It will show correct results for next-dev benchmarks too, e. g. here an example of reverting #295 "
2554,fix(deps): update dependency ora to v4.1.1 (#1854)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | ora | 4.0.4 -> 4.1.1 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency ora to v4.1.1 (#1854),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | ora | 4.0.4 -> 4.1.1 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2555,fix(eslint): exclude variables in rule (#1865),Co-authored-by: tknickman tom.knickman@vercel.com,fix(eslint): exclude variables in rule (#1865),Co-authored-by: tknickman tom.knickman@vercel.com
2556,improve HMR update performance (#295), avoid cloning Strings and reading/calling many functions when building ecmascript chunk content introduce ReadRef to allow storing snapshot of a value in values use snapshot trees to allow caching more function calls and reads  Before: updated in 35ms (18 tasks) updated in 34ms (18 tasks) updated in 37ms (18 tasks) updated in 31ms (18 tasks) updated in 40ms (19 tasks) updated in 37ms (18 tasks) updated in 37ms (18 tasks) updated in 34ms (18 tasks) updated in 35ms (18 tasks) updated in 52ms (18 tasks) After: updated in 6.105ms (19 tasks) updated in 5.279ms (18 tasks) updated in 10.471ms (19 tasks) updated in 6.863ms (18 tasks) updated in 4.593ms (18 tasks) updated in 4.173ms (18 tasks) updated in 5.352ms (18 tasks) updated in 10.69ms (18 tasks) updated in 5.065ms (18 tasks) updated in 6.309ms (19 tasks) a 5x performance improvement,improve HMR update performance (#295),avoid cloning Strings and reading/calling many functions when building ecmascript chunk content introduce ReadRef to allow storing snapshot of a value in values use snapshot trees to allow caching more function calls and reads Before: updated in 35ms (18 tasks) updated in 34ms (18 tasks) updated in 37ms (18 tasks) updated in 31ms (18 tasks) updated in 40ms (19 tasks) updated in 37ms (18 tasks) updated in 37ms (18 tasks) updated in 34ms (18 tasks) updated in 35ms (18 tasks) updated in 52ms (18 tasks) After: updated in 6.105ms (19 tasks) updated in 5.279ms (18 tasks) updated in 10.471ms (19 tasks) updated in 6.863ms (18 tasks) updated in 4.593ms (18 tasks) updated in 4.173ms (18 tasks) updated in 5.352ms (18 tasks) updated in 10.69ms (18 tasks) updated in 5.065ms (18 tasks) updated in 6.309ms (19 tasks) a 5x performance improvement
2557,Parameterize devserver used in benchmarks (#298),"This implements the basics of parameterizing the tool/devserver used in these tests. Following PRs will implement benchmarking of Vite, bun, Parcel, etc. Test Plan: cargo bench -p next-dev and verify no change in performance.",Parameterize devserver used in benchmarks (#298),"This implements the basics of parameterizing the tool/devserver used in these tests. Following PRs will implement benchmarking of Vite, bun, Parcel, etc. Test Plan: cargo bench -p next-dev and verify no change in performance."
2558,Benchmark restart time for dev server (#244),"This implements a benchmark of restarting the devserver after successfully starting it and shutting it down. Question/TODO: Since our goal is metrics that don't scale with project size, should we assert that the small/medium benchmark results don't differ? Test Plan: cargo bench -p next-dev",Benchmark restart time for dev server (#244),"This implements a benchmark of restarting the devserver after successfully starting it and shutting it down. Question/TODO: Since our goal is metrics that don't scale with project size, should we assert that the small/medium benchmark results don't differ? Test Plan: cargo bench -p next-dev"
2559,Basic change bench for dev server (#297),"This builds on #240, starting up a server and then benchmarking the response to a small file change. This change does not introduce nor remove any dependencies. A followup benchmark should do so. Test Plan: cargo bench -p next-dev Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Basic change bench for dev server (#297),"This builds on #240, starting up a server and then benchmarking the response to a small file change. This change does not introduce nor remove any dependencies. A followup benchmark should do so. Test Plan: cargo bench -p next-dev Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2560,Test benchmark cases in separate job in quick test (#313),,Test benchmark cases in separate job in quick test (#313),
2561,Test benchmark cases in separate job (#311),Move benchmark test into separate job and run them for windows and macOS too,Test benchmark cases in separate job (#311),Move benchmark test into separate job and run them for windows and macOS too
2562,chore(deps): update dependency @types/react to v17.0.49 (#1833)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 17.0.48 -> 17.0.49 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @types/react to v17.0.49 (#1833),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react (source) | 17.0.48 -> 17.0.49 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2563,fix(deps): update dependency eslint-plugin-react to v7.31.6 (#1834)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-plugin-react | 7.31.0 -> 7.31.6 |  |  |  |  |  Release Notes  jsx-eslint/eslint-plugin-react  ### [`v7.31.6`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7316---20220904)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.5...v7.31.6)  ##### Fixed  -   \[`no-unknown-property`]: `onError` and `onLoad` both work on `img` and `script` ([#​3388][] [@​ljharb](https://togithub.com/ljharb)) -   \[`no-unknown-property`]: data-\* attributes can have numbers ([#​3390][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: add more audio/video attributes ([#​3390][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: move allowfullscreen to case ignored attributes ([#​3390][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: fill works on line, mask, and use elements ([#​3390][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: add onMouseMoveCapture as valid react-specific attribute ([#​3390][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: make onLoad and onError be accepted on more elements ([#​3390][] [@​sjarva](https://togithub.com/sjarva))  ##### Changed  -   \[Docs] \[`no-unknown-property`]: add a mention about using ignores properties with libraries that add props ([#​3390][] [@​sjarva](https://togithub.com/sjarva))  [7.31.6]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.5...v7.31.6  [#​3390]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3390  [#​3388]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3388  ### [`v7.31.5`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7315---20220903)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.4...v7.31.5)  ##### Fixed  -   \[`no-unknown-property`]: add properties `onToggle`, `fill`, `as`, and pointer events ([#​3385][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: add `defaultChecked` property ([#​3385][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: add touch and media event related properties ([#​3385][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: `children` is always an acceptable prop; iframes have `scrolling`; video has `playsInline` ([#​3385][] [@​ljharb](https://togithub.com/ljharb))  [7.31.5]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.4...v7.31.5  [#​3385]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3385  ### [`v7.31.4`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7314---20220903)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.3...v7.31.4)  ##### Fixed  -   \[`no-unknown-property`]: support `checked` on inputs ([#​3383][] [@​ljharb](https://togithub.com/ljharb))  [#​3383]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3383  [7.31.4]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.3...v7.31.4  ### [`v7.31.3`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7313---20220902)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.2...v7.31.3)  ##### Fixed  -   \[`no-unknown-property`]: add SVG and meta properties ([#​3381][] [@​AhmadMayo](https://togithub.com/AhmadMayo))  [7.31.3]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.2...v7.31.3  [#​3381]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3381  ### [`v7.31.2`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7312---20220902)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.1...v7.31.2)  ##### Fixed  -   \[`jsx-key`]: avoid a crash with optional chaining ([#​3371][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-sort-props`]: avoid a crash with spread props ([#​3376][] [@​ljharb](https://togithub.com/ljharb)) -   \[`no-unknown-property`]: properly recognize valid data- and aria- attributes ([#​3377][] [@​sjarva](https://togithub.com/sjarva)) -   \[`no-unknown-property`]: properly recognize unknown HTML/DOM attributes ([#​3377][] [@​sjarva](https://togithub.com/sjarva))  ##### Changed  -   \[Docs] \[`jsx-sort-props`]: replace ref string with ref variable ([#​3375][] [@​Luccasoli](https://togithub.com/Luccasoli)) -   \[Refactor] \[`no-unknown-property`]: improve jsdoc; extract logic to separate functions ([#​3377][] [@​sjarva](https://togithub.com/sjarva)) -   \[Refactor] \[`no-unknown-property`]: update DOM properties to include also one word properties ([#​3377][] [@​sjarva](https://togithub.com/sjarva))  [7.31.2]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.1...v7.31.2  [#​3377]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3377  [#​3376]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3376  [#​3375]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3375  [#​3371]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3371  ### [`v7.31.1`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7311---20220826)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.0...v7.31.1)  ##### Fixed  -   \[`jsx-key`]: fix detecting missing key in `Array.from`'s mapping function ([#​3369][] [@​sjarva](https://togithub.com/sjarva)) -   \[`jsx-no-leaked-render`]: coerce strategy now allows a ternary ([#​3370][] [@​sjarva](https://togithub.com/sjarva))  [7.31.1]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.31.0...v7.31.1  [#​3370]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3370  [#​3369]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3369    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency eslint-plugin-react to v7.31.6 (#1834),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-plugin-react | 7.31.0 -> 7.31.6 |  |  |  |  | Release Notes jsx-eslint/eslint-plugin-react module Compare Source Fixed  [module]: module and module both work on module and module (#​3388 @​ljharb) [module]: data-* attributes can have numbers (#​3390 @​sjarva) [module]: add more audio/video attributes (#​3390 @​sjarva) [module]: move allowfullscreen to case ignored attributes (#​3390 @​sjarva) [module]: fill works on line, mask, and use elements (#​3390 @​sjarva) [module]: add onMouseMoveCapture as valid react-specific attribute (#​3390 @​sjarva) [module]: make onLoad and onError be accepted on more elements (#​3390 @​sjarva)  Changed  [Docs] [module]: add a mention about using ignores properties with libraries that add props (#​3390 @​sjarva)  module Compare Source Fixed  [module]: add properties module, module, module, and pointer events (#​3385 @​sjarva) [module]: add module property (#​3385 @​sjarva) [module]: add touch and media event related properties (#​3385 @​sjarva) [module]: module is always an acceptable prop; iframes have module; video has module (#​3385 @​ljharb)  module Compare Source Fixed  [module]: support module on inputs (#​3383 @​ljharb)  module Compare Source Fixed  [module]: add SVG and meta properties (#​3381 @​AhmadMayo)  module Compare Source Fixed  [module]: avoid a crash with optional chaining (#​3371 @​ljharb) [module]: avoid a crash with spread props (#​3376 @​ljharb) [module]: properly recognize valid data- and aria- attributes (#​3377 @​sjarva) [module]: properly recognize unknown HTML/DOM attributes (#​3377 @​sjarva)  Changed  [Docs] [module]: replace ref string with ref variable (#​3375 @​Luccasoli) [Refactor] [module]: improve jsdoc; extract logic to separate functions (#​3377 @​sjarva) [Refactor] [module]: update DOM properties to include also one word properties (#​3377 @​sjarva)  module Compare Source Fixed  [module]: fix detecting missing key in module's mapping function (#​3369 @​sjarva) [module]: coerce strategy now allows a ternary (#​3370 @​sjarva)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2564,"Fix broken links on ""Add to existing Monorepo"" (#1836)","Summary  Same reason as PR#1835 In the case of the turbo run link, change the hash from #turbo-run-task1-task2-1 to #turbo-run-task because the former no longer exists  Page: https://turborepo.org/docs/getting-started/existing-monorepo Question  Should we also change these ../features/* in the relative paths to ../core-concepts/*? Since any /features/* path is redirected to /core-concepts/* path due to the Next.js redirect config.","Fix broken links on ""Add to existing Monorepo"" (#1836)","Summary Same reason as PR#1835 In the case of the turbo run link, change the hash from #turbo-run-task1-task2-1 to #turbo-run-task because the former no longer exists Page: link Question Should we also change these ../features/ in the relative paths to ../core-concepts/? Since any /features/ path is redirected to /core-concepts/ path due to the Next.js redirect config."
2565,Renamed storybook components (#1841),Preview -> Canvas Props -> ArgsTable,Renamed storybook components (#1841),Preview -> Canvas Props -> ArgsTable
2566,Update Docs (#1794), Added tabs to delete command to be more inclusive of OS types Added missing sh tag Uniformization import linting on mdx files Updated deprecated extension recommendation,Update Docs (#1794),Added tabs to delete command to be more inclusive of OS types Added missing sh tag Uniformization import linting on mdx files Updated deprecated extension recommendation
2567,Enable pnpm@6 testing. (#1837),,Enable pnpm@6 testing. (#1837),
2568,Update existing-monorepo.mdx (#1858),Remove unneeded quotes in a comment,Update existing-monorepo.mdx (#1858),Remove unneeded quotes in a comment
2569,Replace some 2 letter variables for readability (#1845),"While working on another task (#1832), I found several things hard to read because of short variable names. Although types and ""Go to Definition"" helps in these cases, long function blocks and large files make it dfficult to focus on the task at hand. For example, in some cases, the variable ht and th appear side by side in the same block! This commit replaces some of these names to improve general readability (and also to reduce the diff in future behavior-changing work).",Replace some 2 letter variables for readability (#1845),"While working on another task (#1832), I found several things hard to read because of short variable names. Although types and ""Go to Definition"" helps in these cases, long function blocks and large files make it dfficult to focus on the task at hand. For example, in some cases, the variable ht and th appear side by side in the same block! This commit replaces some of these names to improve general readability (and also to reduce the diff in future behavior-changing work)."
2570,chore(deps): update dependency esbuild to ^0.15.0 (#1848)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | esbuild | ^0.14.38 -> ^0.15.0 |  |  |  |  |  Release Notes  evanw/esbuild  ### [`v0.15.7`](https://togithub.com/evanw/esbuild/blob/HEAD/CHANGELOG.md#​0157)  [Compare Source](https://togithub.com/evanw/esbuild/compare/v0.15.6...v0.15.7)  -   Add `--watch=forever` to allow esbuild to never terminate ([#​1511](https://togithub.com/evanw/esbuild/issues/1511), [#​1885](https://togithub.com/evanw/esbuild/issues/1885))      Currently using esbuild's watch mode via `--watch` from the CLI will stop watching if stdin is closed. The rationale is that stdin is automatically closed by the OS when the parent process exits, so stopping watch mode when stdin is closed ensures that esbuild's watch mode doesn't keep running forever after the parent process has been closed. For example, it would be bad if you wrote a shell script that did `esbuild --watch &` to run esbuild's watch mode in the background, and every time you run the script it creates a new `esbuild` process that runs forever.      However, there are cases when it makes sense for esbuild's watch mode to never exit. One such case is within a short-lived VM where the lifetime of all processes inside the VM is expected to be the lifetime of the VM. Previously you could easily do this by piping the output of a long-lived command into esbuild's stdin such as `sleep 999999999 | esbuild --watch &`. However, this possibility often doesn't occur to people, and it also doesn't work on Windows. People also sometimes attempt to keep esbuild open by piping an infinite stream of data to esbuild such as with `esbuild --watch /` where `` is an integer must be treated as if they were `n` times the `..` operator instead (the `` path segment is ignored). So `/path/to/project/__virtual__/xyz/2/foo.js` maps to the underlying file `/path/to/project/../../foo.js`. This scheme makes it possible for Yarn to get node (and esbuild) to load the same file multiple times (which is sometimes required for correctness) without actually duplicating the file on the file system.          However, old versions of Yarn used to use `$$virtual` instead of `__virtual__`. This was changed because `$$virtual` was error-prone due to the use of the `$` character, which can cause bugs when it's not correctly escaped within regular expressions. Now that esbuild makes `$$virtual` an alias for `__virtual__`, esbuild should now work with manifests from these old Yarn versions.      -   Ignore PnP manifests in virtual directories          The specification describes the algorithm for how to find the Plug'n'Play manifest when starting from a certain point in the file system: search through all parent directories in reverse order until the manifest is found. However, this interacts poorly with virtual paths since it can end up finding a virtual copy of the manifest instead of the original. To avoid this, esbuild now ignores manifests in virtual directories so that the search for the manifest will continue and find the original manifest in another parent directory later on.      These fixes mean that esbuild's implementation of Plug'n'Play now matches Yarn's implementation more closely, and esbuild can now correctly build more projects that use Plug'n'Play.  ### [`v0.15.0`](https://togithub.com/evanw/esbuild/blob/HEAD/CHANGELOG.md#​0150)  [Compare Source](https://togithub.com/evanw/esbuild/compare/v0.14.54...v0.15.0)  **This release contains backwards-incompatible changes.** Since esbuild is before version 1.0.0, these changes have been released as a new minor version to reflect this (as [recommended by npm](https://docs.npmjs.com/cli/v6/using-npm/semver/)). You should either be pinning the exact version of `esbuild` in your `package.json` file or be using a version range syntax that only accepts patch upgrades such as `~0.14.0`. See the documentation about [semver](https://docs.npmjs.com/cli/v6/using-npm/semver/) for more information.  -   Implement the Yarn Plug'n'Play module resolution algorithm ([#​154](https://togithub.com/evanw/esbuild/issues/154), [#​237](https://togithub.com/evanw/esbuild/issues/237), [#​1263](https://togithub.com/evanw/esbuild/issues/1263), [#​2451](https://togithub.com/evanw/esbuild/pull/2451))      [Node](https://nodejs.org/) comes with a package manager called [npm](https://www.npmjs.com/), which installs packages into a `node_modules` folder. Node and esbuild both come with built-in rules for resolving import paths to packages within `node_modules`, so packages installed via npm work automatically without any configuration. However, many people use an alternative package manager called [Yarn](https://yarnpkg.com/). While Yarn can install packages using `node_modules`, it also offers a different package installation strategy called [Plug'n'Play](https://yarnpkg.com/features/pnp/), which is often shortened to ""PnP"" (not to be confused with [pnpm](https://pnpm.io/), which is an entirely different unrelated package manager).      Plug'n'Play installs packages as `.zip` files on your file system. The packages are never actually unzipped. Since Node doesn't know anything about Yarn's package installation strategy, this means you can no longer run your code with Node as it won't be able to find your packages. Instead, you need to run your code with Yarn, which applies patches to Node's file system APIs before running your code. These patches attempt to make zip files seem like normal directories. When running under Yarn, using Node's file system API to read `./some.zip/lib/file.js` actually automatically extracts `lib/file.js` from `./some.zip` at run-time as if it was a normal file. Other file system APIs behave similarly. However, these patches don't work with esbuild because esbuild is not written in JavaScript; it's a native binary executable that interacts with the file system directly through the operating system.      Previously the workaround for using esbuild with Plug'n'Play was to use the [`@yarnpkg/esbuild-plugin-pnp`](https://www.npmjs.com/package/@​yarnpkg/esbuild-plugin-pnp) plugin with esbuild's JavaScript API. However, this wasn't great because the plugin needed to potentially intercept every single import path and file load to check whether it was a Plug'n'Play package, which has an unusually high performance cost. It also meant that certain subtleties of path resolution rules within a `.zip` file could differ slightly from the way esbuild normally works since path resolution inside `.zip` files was implemented by Yarn, not by esbuild (which is due to a limitation of esbuild's plugin API).      With this release, esbuild now contains an independent implementation of Yarn's Plug'n'Play algorithm (which is used when esbuild finds a `.pnp.js`, `.pnp.cjs`, or `.pnp.data.json` file in the directory tree). Creating additional implementations of this algorithm recently became possible because Yarn's package manifest format was recently documented: https://yarnpkg.com/advanced/pnp-spec/. This should mean that you can now use esbuild to bundle Plug'n'Play projects without any additional configuration (so you shouldn't need `@yarnpkg/esbuild-plugin-pnp` anymore). Bundling these projects should now happen much faster as Yarn no longer even needs to be run at all. Bundling the Yarn codebase itself with esbuild before and after this change seems to demonstrate over a 10x speedup (3.4s to 0.24s). And path resolution rules within Yarn packages should now be consistent with how esbuild handles regular Node packages. For example, fields such as `module` and `browser` in `package.json` files within `.zip` files should now be respected.      Keep in mind that this is brand new code and there may be some initial issues to work through before esbuild's implementation is solid. Yarn's Plug'n'Play specification is also brand new and may need some follow-up edits to guide new implementations to match Yarn's exact behavior. If you try this out, make sure to test it before committing to using it, and let me know if anything isn't working as expected. Should you need to debug esbuild's path resolution, you may find `--log-level=verbose` helpful.    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency esbuild to ^0.15.0 (#1848),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | esbuild | ^0.14.38 -> ^0.15.0 |  |  |  |  | Release Notes evanw/esbuild module Compare Source   Add module to allow esbuild to never terminate (#​1511, #​1885) Currently using esbuild's watch mode via module from the CLI will stop watching if stdin is closed. The rationale is that stdin is automatically closed by the OS when the parent process exits, so stopping watch mode when stdin is closed ensures that esbuild's watch mode doesn't keep running forever after the parent process has been closed. For example, it would be bad if you wrote a shell script that did module to run esbuild's watch mode in the background, and every time you run the script it creates a new module process that runs forever. However, there are cases when it makes sense for esbuild's watch mode to never exit. One such case is within a short-lived VM where the lifetime of all processes inside the VM is expected to be the lifetime of the VM. Previously you could easily do this by piping the output of a long-lived command into esbuild's stdin such as module. However, this possibility often doesn't occur to people, and it also doesn't work on Windows. People also sometimes attempt to keep esbuild open by piping an infinite stream of data to esbuild such as with module where module path segment is ignored). So module maps to the underlying file module. This scheme makes it possible for Yarn to get node (and esbuild) to load the same file multiple times (which is sometimes required for correctness) without actually duplicating the file on the file system. module   Ignore PnP manifests in virtual directories The specification describes the algorithm for how to find the Plug'n'Play manifest when starting from a certain point in the file system: search through all parent directories in reverse order until the manifest is found. However, this interacts poorly with virtual paths since it can end up finding a virtual copy of the manifest instead of the original. To avoid this, esbuild now ignores manifests in virtual directories so that the search for the manifest will continue and find the original manifest in another parent directory later on.   These fixes mean that esbuild's implementation of Plug'n'Play now matches Yarn's implementation more closely, and esbuild can now correctly build more projects that use Plug'n'Play.   module Compare Source This release contains backwards-incompatible changes. Since esbuild is before version 1.0.0, these changes have been released as a new minor version to reflect this (as recommended by npm). You should either be pinning the exact version of module in your module file or be using a version range syntax that only accepts patch upgrades such as module. See the documentation about semver for more information.   Implement the Yarn Plug'n'Play module resolution algorithm (#​154, #​237, #​1263, #​2451) Node comes with a package manager called npm, which installs packages into a module folder. Node and esbuild both come with built-in rules for resolving import paths to packages within module, so packages installed via npm work automatically without any configuration. However, many people use an alternative package manager called Yarn. While Yarn can install packages using module, it also offers a different package installation strategy called Plug'n'Play, which is often shortened to ""PnP"" (not to be confused with pnpm, which is an entirely different unrelated package manager). Plug'n'Play installs packages as module files on your file system. The packages are never actually unzipped. Since Node doesn't know anything about Yarn's package installation strategy, this means you can no longer run your code with Node as it won't be able to find your packages. Instead, you need to run your code with Yarn, which applies patches to Node's file system APIs before running your code. These patches attempt to make zip files seem like normal directories. When running under Yarn, using Node's file system API to read module actually automatically extracts module from module at run-time as if it was a normal file. Other file system APIs behave similarly. However, these patches don't work with esbuild because esbuild is not written in JavaScript; it's a native binary executable that interacts with the file system directly through the operating system. Previously the workaround for using esbuild with Plug'n'Play was to use the module plugin with esbuild's JavaScript API. However, this wasn't great because the plugin needed to potentially intercept every single import path and file load to check whether it was a Plug'n'Play package, which has an unusually high performance cost. It also meant that certain subtleties of path resolution rules within a module file could differ slightly from the way esbuild normally works since path resolution inside module files was implemented by Yarn, not by esbuild (which is due to a limitation of esbuild's plugin API). With this release, esbuild now contains an independent implementation of Yarn's Plug'n'Play algorithm (which is used when esbuild finds a module, module, or module file in the directory tree). Creating additional implementations of this algorithm recently became possible because Yarn's package manifest format was recently documented: link/. This should mean that you can now use esbuild to bundle Plug'n'Play projects without any additional configuration (so you shouldn't need module anymore). Bundling these projects should now happen much faster as Yarn no longer even needs to be run at all. Bundling the Yarn codebase itself with esbuild before and after this change seems to demonstrate over a 10x speedup (3.4s to 0.24s). And path resolution rules within Yarn packages should now be consistent with how esbuild handles regular Node packages. For example, fields such as module and module in module files within module files should now be respected. Keep in mind that this is brand new code and there may be some initial issues to work through before esbuild's implementation is solid. Yarn's Plug'n'Play specification is also brand new and may need some follow-up edits to guide new implementations to match Yarn's exact behavior. If you try this out, make sure to test it before committing to using it, and let me know if anything isn't working as expected. Should you need to debug esbuild's path resolution, you may find module helpful.   Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2571,chore(deps): update dependency typescript to v4.8.2 (#1849)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | typescript (source) | 4.7.4 -> 4.8.2 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency typescript to v4.8.2 (#1849),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | typescript (source) | 4.7.4 -> 4.8.2 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2572,Removed parallel flag from basic example (#1787),Removed because it's unnecessary for this example (dev doesn't depend on any other dev scripts) and it makes the tutorial harder to teach.,Removed parallel flag from basic example (#1787),Removed because it's unnecessary for this example (dev doesn't depend on any other dev scripts) and it makes the tutorial harder to teach.
2573,Rewrote docs homepage (#1756),,Rewrote docs homepage (#1756),
2574,Consolidated 'workspace' and 'package' terminology (#1817),This PR removes references to 'packages' when the writer actually meant 'workspaces'. Refocusing this language makes things a lot clearer:  Workspace: anything containing a package.json Package: something you get from/deploy to the NPM registry,Consolidated 'workspace' and 'package' terminology (#1817),This PR removes references to 'packages' when the writer actually meant 'workspaces'. Refocusing this language makes things a lot clearer: Workspace: anything containing a package.json Package: something you get from/deploy to the NPM registry
2575,chore(deps): update jamesives/github-pages-deploy-action action to v4.4.0 (#1851),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update jamesives/github-pages-deploy-action action to v4.4.0 (#1851),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2576,CSS HMR (#296),Implements HMR for CSS chunks and paves the way for accepting HMR updates for the HTML entry point as well.,CSS HMR (#296),Implements HMR for CSS chunks and paves the way for accepting HMR updates for the HTML entry point as well.
2577,Remove unused packages from docs site (#1828),,Remove unused packages from docs site (#1828),
2578,publish 1.4.5 to registry,,publish 1.4.5 to registry,
2579,Split notion of logged in into user and linked-team (#1844),,Split notion of logged in into user and linked-team (#1844),
2580,Fix typo in contributing.md (#310),,Fix typo in contributing.md (#310),
2581,Upgrade Nextra (#1831),  upgrade nextra   fix import   Co-authored-by: Jared Palmer jared@jaredpalmer.com,Upgrade Nextra (#1831),upgrade nextra fix import Co-authored-by: Jared Palmer jared@jaredpalmer.com
2582,"Fix broken links at ""Next Steps"" (#1835)",The document was moved from /docs to /docs/getting-started in the previous commit which made the relative path referred by those links changed.,"Fix broken links at ""Next Steps"" (#1835)",The document was moved from /docs to /docs/getting-started in the previous commit which made the relative path referred by those links changed.
2583,Remove unused @react-aria/radio package (#1826),,Remove unused @react-aria/radio package (#1826),
2584,Turborepo usage. (#1827),,Turborepo usage. (#1827),
2585,publish 1.4.4 to registry,,publish 1.4.4 to registry,
2586,Added long-form tutorial for 'create new' section (#1786),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Added long-form tutorial for 'create new' section (#1786),Co-authored-by: Jared Palmer jared@jaredpalmer.com
2587,Reworked quickstart area into two different files with an index page (#1784),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Reworked quickstart area into two different files with an index page (#1784),Co-authored-by: Jared Palmer jared@jaredpalmer.com
2588,Fix link to outputs API (#1777),,Fix link to outputs API (#1777),
2589,publish 1.4.4-canary.4 to registry,,publish 1.4.4-canary.4 to registry,
2590,Removed dependsOn and dist/** from build in basic example (#1814),This helps keep things simpler in the basic example,Removed dependsOn and dist/** from build in basic example (#1814),This helps keep things simpler in the basic example
2591,Add additional logging to npm publish.,,Add additional logging to npm publish.,
2592,publish 1.4.4-canary.3 to registry,,publish 1.4.4-canary.3 to registry,
2593,Split pack from publish so that npm locates the correct .npmrc file.,,Split pack from publish so that npm locates the correct .npmrc file.,
2594,publish 1.4.4-canary.2 to registry,,publish 1.4.4-canary.2 to registry,
2595,Change npm config location to global.,,Change npm config location to global.,
2596,Change npm config location to user.,,Change npm config location to user.,
2597,Use Async IO for File Read/Write (#305),"Linux OS: Ubuntu 20.04.4 LTS on Windows 10 x86_64 Kernel: 5.15.57.1-microsoft-standard-WSL2 CPU: AMD Ryzen 9 5950X (32) @ 3.400GHz cargo run --release --bin node-file-trace -- build crates/turbopack/tests/node-file-trace/integration/better-sqlite3.js Before done in 560ms (459ms compilation, 458ms task execution, 109028 tasks) After done in 378ms (277ms compilation, 277ms task execution, 109028 tasks) macOS OS: macOS 12.5.1 21G83 arm64 Host: MacBookPro18,2 CPU: Apple M1 Max Before done in 482ms (380ms compilation, 379ms task execution, 111640 tasks) After done in 362ms (259ms compilation, 259ms task execution, 111640 tasks)",Use Async IO for File Read/Write (#305),"Linux OS: Ubuntu 20.04.4 LTS on Windows 10 x86_64 Kernel: 5.15.57.1-microsoft-standard-WSL2 CPU: AMD Ryzen 9 5950X (32) @ 3.400GHz cargo run --release --bin node-file-trace -- build crates/turbopack/tests/node-file-trace/integration/better-sqlite3.js Before done in 560ms (459ms compilation, 458ms task execution, 109028 tasks) After done in 378ms (277ms compilation, 277ms task execution, 109028 tasks) macOS OS: macOS 12.5.1 21G83 arm64 Host: MacBookPro18,2 CPU: Apple M1 Max Before done in 482ms (380ms compilation, 379ms task execution, 111640 tasks) After done in 362ms (259ms compilation, 259ms task execution, 111640 tasks)"
2598,Make GH treat snapshot outputs as generated files (#308),"The snapshot outputs are a little noisy whenever we change runtime files. This will have GH collapse the file by default when viewing the PR diffs, so that it's easier to focus on the real changes. https://docs.github.com/en/repositories/working-with-files/managing-files/customizing-how-changed-files-appear-on-github",Make GH treat snapshot outputs as generated files (#308),"The snapshot outputs are a little noisy whenever we change runtime files. This will have GH collapse the file by default when viewing the PR diffs, so that it's easier to focus on the real changes. link"
2599,publish 1.4.4-canary.1 to registry,,publish 1.4.4-canary.1 to registry,
2600,Configure .npmrc in-project.,,Configure .npmrc in-project.,
2601,Update open instances of incorrect references to Turborepo. (#1812),Correct turbo and Turborepo usage throughout the codebase.,Update open instances of incorrect references to Turborepo. (#1812),Correct turbo and Turborepo usage throughout the codebase.
2602,[refactor] - made Features components more reusable (#1782),No behaviour changes. Did this in order to re-use the Feature component elsewhere.,[refactor] - made Features components more reusable (#1782),No behaviour changes. Did this in order to re-use the Feature component elsewhere.
2603,chore(configs): update tsconfigs & packages (#1815),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,chore(configs): update tsconfigs & packages (#1815),Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
2604,Respect the npm_config_local_prefix env variable in npm workspace (#307),,Respect the npm_config_local_prefix env variable in npm workspace (#307),
2605,Update to insert newlines. (#1813),Patch to #1739.,Update to insert newlines. (#1813),Patch to #1739.
2606,Use parking_lot in tt-memory (#288),"While profiling next-dev using cargo-instruments, I noticed that locking/unlocking the RwLock<TaskState> in turbo-tasks-memory was responsible for a significant chunk of the overall execution time. My first reaction was to try to minimize the lifetime of the WriteGuard in add_to_scope_internal_shallow to avoid contention. However, it's unclear whether it's lock contention that's causing the slowdown, or if it's just the locking/unlocking mechanism of std::sync::RwLock itself. Instead, I switched to parking_lot::RwLock, and instantly noticed great improvements. Benchmark: 30k sierpinski triangles Before: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail    Compiling turbo-tasks-memory v0.1.0 (/Users/alex/dev/turbo-tooling/crates/turbo-tasks-memory)    Compiling next-dev v0.1.0 (/Users/alex/dev/turbo-tooling/crates/next-dev)     Finished release [optimized] target(s) in 9.40s      Running `target/release/next-dev triangles_30k --log-detail` server listening on: http://localhost:3000 start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... start watcher /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... initial compilation 23s (23s task execution, 2476451 tasks) [TaskId 2476470] once took 1977ms [TaskId 2476493] once took 2696ms [TaskId 2476454] once took 3507ms [TaskId 2476514] once took 5026ms [TaskId 2917702] once took 2785ms [TaskId 3083451] once took 1890ms [TaskId 2917653] once took 4440ms [TaskId 2994301] once took 1687ms updated in 48s (1112024 tasks) Total execution time 71s  After: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail     Finished release [optimized] target(s) in 0.57s      Running `target/release/next-dev triangles_30k --log-detail` server listening on: http://localhost:3000 start watcher /Users/alex/dev/turbo-tooling/triangles_30k... start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... initial compilation 5670ms (5602ms task execution, 2476451 tasks) updated in 12s (1112024 tasks) updated in 3.173ms (26 tasks) updated in 2.579ms (48 tasks) updated in 0.017ms (0 tasks) Total execution time 18s  Task::add_to_scope_internal_shallow is still a very hot path, and three things stand out: * Allocating a Vec for children; * HashMap::entry; * The Mutex<TaskScopeState> in TaskScope:   Replacing it with parking_lot::Mutex yields even greater improvements: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail    Compiling turbo-tasks-memory v0.1.0 (/Users/alex/dev/turbo-tooling/crates/turbo-tasks-memory)    Compiling next-dev v0.1.0 (/Users/alex/dev/turbo-tooling/crates/next-dev)     Finished release [optimized] target(s) in 7.12s      Running `target/release/next-dev triangles_30k --log-detail` server listening on: http://localhost:3000 start watcher /Users/alex/dev/turbo-tooling/triangles_30k... start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... initial compilation 5621ms (5513ms task execution, 2476451 tasks) updated in 8128ms (1112023 tasks) Total execution time 14s (5x speedup!)  Looking at the traces, it looks like there's more low-hanging fruits for further optimizing turbo-tasks and turbopack. This was tested on macOS 12.5.1, Apple M1 Max, 32GB. Traces: traces.zip",Use parking_lot in tt-memory (#288),"While profiling next-dev using cargo-instruments, I noticed that locking/unlocking the RwLock in turbo-tasks-memory was responsible for a significant chunk of the overall execution time. My first reaction was to try to minimize the lifetime of the WriteGuard in add_to_scope_internal_shallow to avoid contention. However, it's unclear whether it's lock contention that's causing the slowdown, or if it's just the locking/unlocking mechanism of std::sync::RwLock itself. Instead, I switched to parking_lot::RwLock, and instantly noticed great improvements. Benchmark: 30k sierpinski triangles Before: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail    Compiling turbo-tasks-memory v0.1.0 (/Users/alex/dev/turbo-tooling/crates/turbo-tasks-memory)    Compiling next-dev v0.1.0 (/Users/alex/dev/turbo-tooling/crates/next-dev)     Finished release [optimized] target(s) in 9.40s      Running module server listening on: link start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... start watcher /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... initial compilation 23s (23s task execution, 2476451 tasks) [TaskId 2476470] once took 1977ms [TaskId 2476493] once took 2696ms [TaskId 2476454] once took 3507ms [TaskId 2476514] once took 5026ms [TaskId 2917702] once took 2785ms [TaskId 3083451] once took 1890ms [TaskId 2917653] once took 4440ms [TaskId 2994301] once took 1687ms updated in 48s (1112024 tasks) Total execution time 71s After: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail     Finished release [optimized] target(s) in 0.57s      Running module server listening on: link start watcher /Users/alex/dev/turbo-tooling/triangles_30k... start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... initial compilation 5670ms (5602ms task execution, 2476451 tasks) updated in 12s (1112024 tasks) updated in 3.173ms (26 tasks) updated in 2.579ms (48 tasks) updated in 0.017ms (0 tasks) Total execution time 18s Task::add_to_scope_internal_shallow is still a very hot path, and three things stand out: * Allocating a Vec for children; * HashMap::entry; * The Mutex in TaskScope:  Replacing it with parking_lot::Mutex yields even greater improvements: RUST_BACKTRACE=1 cargo run --bin next-dev --release -- triangles_30k --log-detail    Compiling turbo-tasks-memory v0.1.0 (/Users/alex/dev/turbo-tooling/crates/turbo-tasks-memory)    Compiling next-dev v0.1.0 (/Users/alex/dev/turbo-tooling/crates/next-dev)     Finished release [optimized] target(s) in 7.12s      Running module server listening on: link start watcher /Users/alex/dev/turbo-tooling/triangles_30k... start watcher /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... watching /Users/alex/dev/turbo-tooling/triangles_30k... watching /Users/alex/dev/turbo-tooling/triangles_30k/.next/server... initial compilation 5621ms (5513ms task execution, 2476451 tasks) updated in 8128ms (1112023 tasks) Total execution time 14s (5x speedup!) Looking at the traces, it looks like there's more low-hanging fruits for further optimizing turbo-tasks and turbopack. This was tested on macOS 12.5.1, Apple M1 Max, 32GB. Traces: traces.zip"
2607,Move fs.AbsolutePath to turbopath.AbsolutePath (#1779),This PR does a few things: 1. Moves fs.AbsolutePath to turbopath.AbsolutePath. 2. (temporarily) Duplicates some utils and constants from fs into turbopath/absolute_path.go to prevent cycles. These will be removed in a followup commit. 3. (in a separate commit) \b(fs\.)?AbsolutePath\b => turbopath.AbsolutePath. (excluding the turbopath folder) The goal here is to make what are sweeping changes to the codebase still feel as incremental as possible. The next increment is turbopath.AbsolutePath to turbopath.AbsoluteSystemPath by combining the files and fixing the expectations of method calls throughout the codebase.,Move fs.AbsolutePath to turbopath.AbsolutePath (#1779),This PR does a few things: 1. Moves fs.AbsolutePath to turbopath.AbsolutePath. 2. (temporarily) Duplicates some utils and constants from fs into turbopath/absolute_path.go to prevent cycles. These will be removed in a followup commit. 3. (in a separate commit) \b(fs.)?AbsolutePath\b => turbopath.AbsolutePath. (excluding the turbopath folder) The goal here is to make what are sweeping changes to the codebase still feel as incremental as possible. The next increment is turbopath.AbsolutePath to turbopath.AbsoluteSystemPath by combining the files and fixing the expectations of method calls throughout the codebase.
2608,(refactor) add lockfile abstraction (#1789),"This PR introduces a new lockfile abstraction that will allow us to easily add more lockfile support to other package managers. It also  Notable changes:  - Context now stores the lockfile interface instead of a yarn specific lockfile  - PackageJson now only stores the package names as they appear in the lockfile, these will be mapped to their entries when the pruned lockfile is created  - The initial implementation would cache the processed version of the yarn lockfile and attempt to use it. I did some light testing and I don't think this has a significant perf hit since the processing is straightforward. From my understanding of Golang I think having Lockfile as an interface makes sense since each package manager has a different data layout for their lockfile e.g. pnpm has 6 top level entries and yarn's top level entries are the package entries themselves. Testing: The e2e tests cover yarn prune, but I also tested that prune produces the an identical lockfile before and after these changes on a repo created with npx create-turbo.",(refactor) add lockfile abstraction (#1789),"This PR introduces a new lockfile abstraction that will allow us to easily add more lockfile support to other package managers. It also  Notable changes:  - Context now stores the lockfile interface instead of a yarn specific lockfile  - PackageJson now only stores the package names as they appear in the lockfile, these will be mapped to their entries when the pruned lockfile is created  - The initial implementation would cache the processed version of the yarn lockfile and attempt to use it. I did some light testing and I don't think this has a significant perf hit since the processing is straightforward. From my understanding of Golang I think having Lockfile as an interface makes sense since each package manager has a different data layout for their lockfile e.g. pnpm has 6 top level entries and yarn's top level entries are the package entries themselves. Testing: The e2e tests cover yarn prune, but I also tested that prune produces the an identical lockfile before and after these changes on a repo created with npx create-turbo."
2609,"Remove --no-gc flag, always run with garbage collection (#1803)","This PR:  * Removes the --no-gc flag  * Makes using the GC the default. A parsing bug meant no one was using --no-gc, so use this opportunity to enable GC. Benchmarks show negligible difference in execution time.","Remove --no-gc flag, always run with garbage collection (#1803)","This PR:  * Removes the --no-gc flag  * Makes using the GC the default. A parsing bug meant no one was using --no-gc, so use this opportunity to enable GC. Benchmarks show negligible difference in execution time."
2610,Remove errant indentation (#1810),Fix syntax for github action so that it triggers properly,Remove errant indentation (#1810),Fix syntax for github action so that it triggers properly
2611,Set cmd.Dir to an absolute path when we execute scripts (#1774),Setting cmd.Dir to an absolute path ensures that it will continue to work in the presence of the --cwd flag. Bonus drop unused turboCache from execContext. Note that this PR stacks on top of #1773,Set cmd.Dir to an absolute path when we execute scripts (#1774),Setting cmd.Dir to an absolute path ensures that it will continue to work in the presence of the --cwd flag. Bonus drop unused turboCache from execContext. Note that this PR stacks on top of #1773
2612,chore(ci): use remote cache for JS tests (#1808),,chore(ci): use remote cache for JS tests (#1808),
2613,chore(packages): typecheck and abstract ts config (#1807),,chore(packages): typecheck and abstract ts config (#1807),
2614,improve vizualization (#225),,improve vizualization (#225),
2615,"dynamic imports for the test app, and fixes (#294)",add the ability to generate an test app with dynamic imports via option. fixes chunking. It didn't handle async imports in the case where chunk where too large. The PR reuses the same logic for both cases now.,"dynamic imports for the test app, and fixes (#294)",add the ability to generate an test app with dynamic imports via option. fixes chunking. It didn't handle async imports in the case where chunk where too large. The PR reuses the same logic for both cases now.
2616,chore(deps): update dependency @babel/core to v7.18.13 (#1765),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency @babel/core to v7.18.13 (#1765),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2617,Postfix join and try_join (#300),"Instead of dropping back to prefix calling form in try_join_all(iterator_of_intofutures).await?, we now use postfix form iterator_of_intofutures.try_join().await?.",Postfix join and try_join (#300),"Instead of dropping back to prefix calling form in try_join_all(iterator_of_intofutures).await?, we now use postfix form iterator_of_intofutures.try_join().await?."
2618,fix: use docker cache best practices in examples (#1673),"The whole purpose of the turbo prune --docker is to use docker caching best practices while the Docker examples do not follow these bests practices.    Plus, I believe that the first stage of the Dockerfile is wrong as it copies the whole project and defeats the entire purpose of the caching because the first layer never gets cached. I believe the most optimized solution is to run the turbo prune before the docker build on the machine that runs the docker build and set the out directory as the docker build context.   I understand that showing this approach may not be possible in the example, so I suggest we add a comment to the first stage with the above explanation.",fix: use docker cache best practices in examples (#1673),"The whole purpose of the turbo prune --docker is to use docker caching best practices while the Docker examples do not follow these bests practices.  Plus, I believe that the first stage of the Dockerfile is wrong as it copies the whole project and defeats the entire purpose of the caching because the first layer never gets cached. I believe the most optimized solution is to run the turbo prune before the docker build on the machine that runs the docker build and set the out directory as the docker build context. I understand that showing this approach may not be possible in the example, so I suggest we add a comment to the first stage with the above explanation."
2619,Generate .npmrc just-in-time (#1805),"Generate the .npmrc file before publishing, but don't check it into the repo Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com",Generate .npmrc just-in-time (#1805),"Generate the .npmrc file before publishing, but don't check it into the repo Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com"
2620,Benchmarks: assert that no runtime errors occur when loading pages (#285),"This adds an assertion that no runtime (browser) errors occurred when loading a benchmark page. Test Plan: Temporarily removed the npm install for the test app and verified the benchmark failed as the test app requires react, react-dom. Restored the npm install and verified the benchmark runs to completion.",Benchmarks: assert that no runtime errors occur when loading pages (#285),"This adds an assertion that no runtime (browser) errors occurred when loading a benchmark page. Test Plan: Temporarily removed the npm install for the test app and verified the benchmark failed as the test app requires react, react-dom. Restored the npm install and verified the benchmark runs to completion."
2621,Benchmarks: Install node_modules and reuse test directories (#284),"This:  Runs npm install in test directories to provide turbopack with modules necessary to bundle them. Reuses test directories for iterations across the given benchmark. This prevents unnecessary file writing and npm install for each iteration, improving the times to run benchmarks.  Currently cherry-picks #278 as it's necessary along with #277. Test Plan: Connected to the running devserver mid-test and confirmed no errors are thrown and the triangle is rendered correctly.",Benchmarks: Install node_modules and reuse test directories (#284),"This: Runs npm install in test directories to provide turbopack with modules necessary to bundle them. Reuses test directories for iterations across the given benchmark. This prevents unnecessary file writing and npm install for each iteration, improving the times to run benchmarks. Currently cherry-picks #278 as it's necessary along with #277. Test Plan: Connected to the running devserver mid-test and confirmed no errors are thrown and the triangle is rendered correctly."
2622,Drop unused absolute unix path (#1791),"We don't use, and probably should not use, absolute unix paths. Unix paths are for sharing across machines, and absolute paths are for interacting with the local machine and should always be system paths.",Drop unused absolute unix path (#1791),"We don't use, and probably should not use, absolute unix paths. Unix paths are for sharing across machines, and absolute paths are for interacting with the local machine and should always be system paths."
2623,fix(docs): nextjs with-docker link (#1800),Just a small fix.,fix(docs): nextjs with-docker link (#1800),Just a small fix.
2624,Provide a bit more context for trace files. (#1768),,Provide a bit more context for trace files. (#1768),
2625,Fix typo in getting-started.mdx (#1785),👋 This PR fixes a typo in the Getting Started docs.,Fix typo in getting-started.mdx (#1785),👋 This PR fixes a typo in the Getting Started docs.
2626,Make create-turbo Berry-aware. (#1717),Turn on Windows CI and runs the test suite against both Yarn and Berry.,Make create-turbo Berry-aware. (#1717),Turn on Windows CI and runs the test suite against both Yarn and Berry.
2627,fix: rule doc link (#1793),Tried to click on the linked doc in vscode and ended up with a 404. File extension was needed.,fix: rule doc link (#1793),Tried to click on the linked doc in vscode and ended up with a 404. File extension was needed.
2628,Add schema dialect to example turbo.json files (#1795),"While working with the examples I noticed only some of them specify the incredibly useful turbo.json schema dialect (""$schema"": ""https://turborepo.org/schema.json""). This PR adds it to all of them :)",Add schema dialect to example turbo.json files (#1795),"While working with the examples I noticed only some of them specify the incredibly useful turbo.json schema dialect (""$schema"": ""link""). This PR adds it to all of them :)"
2629,Reduce files to trace (#290)," We only need the entry chunk, which is the last item of entrypoint.getFiles() Found the yarn version handle the prerelease version incorrectly: https://github.com/yarnpkg/berry/issues/4799 Prevent OOM on Vercel build by limiting the chunks count in every node-file-trace invoking  Should make memory limitation configurable in MemoryBackend in the future?",Reduce files to trace (#290),"We only need the entry chunk, which is the last item of entrypoint.getFiles() Found the yarn version handle the prerelease version incorrectly: link Prevent OOM on Vercel build by limiting the chunks count in every node-file-trace invoking Should make memory limitation configurable in MemoryBackend in the future?"
2630,Run the benchmark after every release (#1776),Triggers the Large Monorepo benchmark after the Release action,Run the benchmark after every release (#1776),Triggers the Large Monorepo benchmark after the Release action
2631,Change fs.ReadPackageJSON to operate on AbsolutePath instances (#1773),Updates fs.ReadPackageJSON to take an AbsolutePath so that we respect --cwd Pulls the thread on updating PackageJSON.Dir and PackageJSON.PackageJSONPath to have the correct turbopath types. cc @nathanhammond note in particular changes to taskhash_test.go,Change fs.ReadPackageJSON to operate on AbsolutePath instances (#1773),Updates fs.ReadPackageJSON to take an AbsolutePath so that we respect --cwd Pulls the thread on updating PackageJSON.Dir and PackageJSON.PackageJSONPath to have the correct turbopath types. cc @nathanhammond note in particular changes to taskhash_test.go
2632,avoid cloning in chunk update (#292),rust-style no cloning...,avoid cloning in chunk update (#292),rust-style no cloning...
2633,HMR support + React Refresh (#252),"This PR implements HMR support with React Refresh built-in. For now, in order for React Refresh to be enabled, you'll need the @next/react-refresh-utils package to be resolveable: yarn add @next/react-refresh-utils in your app folder.  Depends on #266  Integrated both HMR-and-React-Refresh-specific logic directly into the ES chunks' runtime. Webpack has more complex setup here, but for now this makes the logic much more easy to follow since everything is in one place. I have yet to implement the ""dependencies"" signature for hot.accept/hot.dispose, since React Refresh does not depend on them. We'll have to see if they're even used in the wild or if we should deprecate them. Only implemented the module API, not the management API. We apply all updates as soon as we receive them. Added support for ""runtime entries"" to ES chunks. These are assets that will be executed before the main entry of an ES chunk. They'll be useful for polyfills in the future, but for now they're here to evaluate the react refresh runtime before any module is instantiated.  Next steps for HMR: * Implement CSS HMR * Implement (or decide to deprecate) the dependencies form of hot.accept/hot.dispose * Clean up runtime.js some more: switch to TypeScript, split into multiple files, etc. It'd be nice if all of this could be done at compile time, but how to achieve this is unclear at the moment. Can we run turbopack to compile turbopack?",HMR support + React Refresh (#252),"This PR implements HMR support with React Refresh built-in. For now, in order for React Refresh to be enabled, you'll need the @next/react-refresh-utils package to be resolveable: yarn add @next/react-refresh-utils in your app folder. Depends on #266  Integrated both HMR-and-React-Refresh-specific logic directly into the ES chunks' runtime. Webpack has more complex setup here, but for now this makes the logic much more easy to follow since everything is in one place. I have yet to implement the ""dependencies"" signature for hot.accept/hot.dispose, since React Refresh does not depend on them. We'll have to see if they're even used in the wild or if we should deprecate them. Only implemented the module API, not the management API. We apply all updates as soon as we receive them. Added support for ""runtime entries"" to ES chunks. These are assets that will be executed before the main entry of an ES chunk. They'll be useful for polyfills in the future, but for now they're here to evaluate the react refresh runtime before any module is instantiated. Next steps for HMR: * Implement CSS HMR * Implement (or decide to deprecate) the dependencies form of hot.accept/hot.dispose * Clean up runtime.js some more: switch to TypeScript, split into multiple files, etc. It'd be nice if all of this could be done at compile time, but how to achieve this is unclear at the moment. Can we run turbopack to compile turbopack?"
2634,try_join_all supports IntoFuture (#287),That makes it easier to use as it avoid the need to call into_future manually,try_join_all supports IntoFuture (#287),That makes it easier to use as it avoid the need to call into_future manually
2635,Split dynamic import loading (#261),"This splits dynamic loading into two phases, ""skinny"" and ""fat"" chunks. The skinny loader chunk is shipped in the same chunk that uses dynamic import() expression. Its responsibility is to load the fat loader chunk from the server. The dynamic import has been rewritten to load this skinny chunk item, which will load the fat chunk from the server, which will load all the chunks needed by the dynamic import. Finally, we'll be able to load the module we're trying to dynamically import. Splitting the dynamic import into a quickly generatable skinny chunk item and a slow to generate fat chunk item allows for faster incremental compilation. The traversal won't be performed until the dynamic import is actually reached, instead of eagerly as part of the chunk that the dynamic import appears in.",Split dynamic import loading (#261),"This splits dynamic loading into two phases, ""skinny"" and ""fat"" chunks. The skinny loader chunk is shipped in the same chunk that uses dynamic import() expression. Its responsibility is to load the fat loader chunk from the server. The dynamic import has been rewritten to load this skinny chunk item, which will load the fat chunk from the server, which will load all the chunks needed by the dynamic import. Finally, we'll be able to load the module we're trying to dynamically import. Splitting the dynamic import into a quickly generatable skinny chunk item and a slow to generate fat chunk item allows for faster incremental compilation. The traversal won't be performed until the dynamic import is actually reached, instead of eagerly as part of the chunk that the dynamic import appears in."
2636,Fix log level flag for node-file-trace (#289),,Fix log level flag for node-file-trace (#289),
2637,"improve test app generator to support next.js, vite and webpack (#277)",,"improve test app generator to support next.js, vite and webpack (#277)",
2638,resolve entrypoint to allow it to select jsx automatically (#278),,resolve entrypoint to allow it to select jsx automatically (#278),
2639,show all issues in the dev server (#282),"Before it showed only some issues in the dev server, now it aggregates issues from all sources",show all issues in the dev server (#282),"Before it showed only some issues in the dev server, now it aggregates issues from all sources"
2640,use helper to convert sys to unix path (#283),,use helper to convert sys to unix path (#283),
2641,add support for .jsx and .tsx files (#276),,add support for .jsx and .tsx files (#276),
2642,require.resolve to non-entry packages throw errors (#286),require.resolve('@vercel/node-module-trace') and the binary package throw errors because they don't have main/exports fields in package.json. We can resolve the package.json file in its.,require.resolve to non-entry packages throw errors (#286),require.resolve('@vercel/node-module-trace') and the binary package throw errors because they don't have main/exports fields in package.json. We can resolve the package.json file in its.
2643,resolve options depend on environment (#275),,resolve options depend on environment (#275),
2644,Move user config and repo config to Viper (#1751),"The main goal is break up the giant Config struct into pieces that will fit into a top-level helper / command base in the final move to cobra.   Moves our top-level repo- and user-config file parsing to viper.  Applies ENV VAR overrides as appropriate Does not yet handle top-level flags in the mix, since that requires top-level cobra, but that is the eventual goal Pulls out auth and endpoint details for the api client into a struct. This struct is generated with values from the repo and user configs",Move user config and repo config to Viper (#1751),"The main goal is break up the giant Config struct into pieces that will fit into a top-level helper / command base in the final move to cobra.  Moves our top-level repo- and user-config file parsing to viper.  Applies ENV VAR overrides as appropriate Does not yet handle top-level flags in the mix, since that requires top-level cobra, but that is the eventual goal Pulls out auth and endpoint details for the api client into a struct. This struct is generated with values from the repo and user configs"
2645,More docs (#1775),,More docs (#1775),
2646,Improve docs on automatic env var inclusion (#1772),,Improve docs on automatic env var inclusion (#1772),
2647,Remove command flag shorthands from docs. (#1767),"Shorthand command flags are for expert users, we want to teach users what is happening.",Remove command flag shorthands from docs. (#1767),"Shorthand command flags are for expert users, we want to teach users what is happening."
2648,Remove hard link code and SameFile function (#1454),"Removes code for hard links, which wasn't being used. Removes CopyOrLinkFile, which means symlink handling needs to be pushed down to CopyFile, so CopyFile now handles symlinks (broken or otherwise). Caching behavior is unchanged from the base branch (See #1453). Also removes SameFile, which is no longer necessary now that we don't expect to be dealing with hard links. The calls in tests have been replaced with helpers that check file contents and file mode.",Remove hard link code and SameFile function (#1454),"Removes code for hard links, which wasn't being used. Removes CopyOrLinkFile, which means symlink handling needs to be pushed down to CopyFile, so CopyFile now handles symlinks (broken or otherwise). Caching behavior is unchanged from the base branch (See #1453). Also removes SameFile, which is no longer necessary now that we don't expect to be dealing with hard links. The calls in tests have been replaced with helpers that check file contents and file mode."
2649,add shorter timeouts to tests and benches (#279),,add shorter timeouts to tests and benches (#279),
2650,fix windows path separators (#281),,fix windows path separators (#281),
2651,Include the npm configuration for publishing. (#1770),,Include the npm configuration for publishing. (#1770),
2652,Update docs for release to clarify questions. (#1766),Pass at clarifying documentation based upon questions in #1562.,Update docs for release to clarify questions. (#1766),Pass at clarifying documentation based upon questions in #1562.
2653,fix(deps): update dependency eslint-plugin-react to v7.31.0 (#1569)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-plugin-react | 7.28.0 -> 7.31.0 |  |  |  |  |  Release Notes  jsx-eslint/eslint-plugin-react  ### [`v7.31.0`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7310---20220824)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/2ed2d468c1bfb7058cbbbcbe4b3e367e310c9006...b0d0ca188e3e0ca365afd5140975c0ead9d1175c)  ##### Added  -   \[`jsx-newline`]: add `allowMultiline` option when prevent option is true ([#​3311][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[`forbid-dom-props`]: add `disallowedFor` option ([#​3338][] [@​TildaDares](https://togithub.com/TildaDares))  ##### Fixed  -   \[`jsx-no-literals`]: properly error on children with noAttributeStrings: true ([#​3317][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[`jsx-key`]: catch key errors inside conditional statements ([#​3320][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[`display-name`]: Accept forwardRef and Memo nesting in newer React versions ([#​3321][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[`jsx-key`]: avoid a crash from optional chaining from [#​3320][] ([#​3327][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-key`]: avoid a crash on a non-array node.body from [#​3320][] ([#​3328][] [@​ljharb](https://togithub.com/ljharb)) -   \[`display-name`]: fix false positive for assignment of function returning null ([#​3331][] [@​apbarrero](https://togithub.com/apbarrero)) -   \[`display-name`]: fix identifying `_` as a capital letter ([#​3335][] [@​apbarrero](https://togithub.com/apbarrero)) -   \[`require-default-props`]: avoid a crash when function has no props param ([#​3350][] [@​noahnu](https://togithub.com/noahnu)) -   \[`display-name`], component detection: fix HOF returning null as Components ([#​3347][] [@​jxm-math](https://togithub.com/jxm-math)) -   \[`forbid-prop-types`]: Ignore objects that are not of type React.PropTypes ([#​3326][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[`display-name`], component detection: fix false positive for HOF returning only nulls and literals ([#​3305][] [@​golopot](https://togithub.com/golopot)) -   \[`jsx-no-target-blank`]: False negative when rel attribute is assigned using ConditionalExpression ([#​3332][] [@​V2dha](https://togithub.com/V2dha)) -   \[`jsx-no-leaked-render`]: autofix nested ""&&"" logical expressions ([#​3353][] [@​hduprat](https://togithub.com/hduprat)) -   \[`jsx-sort-props`]: sorted attributes now respect comments ([#​3358][] [@​ROSSROSALES](https://togithub.com/ROSSROSALES))  ##### Changed  -   \[Refactor] \[`jsx-indent-props`]: improved readability of the checkNodesIndent function ([#​3315][] [@​caroline223](https://togithub.com/caroline223)) -   \[Tests] \[`jsx-indent`], \[`jsx-one-expression-per-line`]: add passing test cases ([#​3314][] [@​ROSSROSALES](https://togithub.com/ROSSROSALES)) -   \[Refactor] `boolean-prop-naming`, `jsx-indent`: avoid assigning to arguments ([#​3316][] [@​caroline223](https://togithub.com/caroline223)) -   \[Docs] \[`sort-comp`]: add class component examples ([#​3339][] [@​maurer2](https://togithub.com/maurer2)) -   \[Docs] \[`jsx-no-useless-fragment`]: add more examples of correct code ([#​3349][] [@​karlhorky](https://togithub.com/karlhorky)) -   \[Docs] \[`jsx-boolean-value`]: add jsdoc types for helper functions ([#​3344][] [@​caroline223](https://togithub.com/caroline223)) -   \[readme] remove dead codeclimate badge, add actions badge ([@​ljharb](https://togithub.com/ljharb)) -   \[readme] Remove dead david-dm badge ([#​3262][] [@​ddzz](https://togithub.com/ddzz)) -   \[Refactor] \[`jsx-closing-bracket-location`], \[`jsx-no-bind`]: fix eslint issues ([#​3351][] [@​caroline223](https://togithub.com/caroline223)) -   \[Tests] \[`function-component-definition`]: add passing test cases ([#​3355][] [@​TildaDares](https://togithub.com/TildaDares)) -   \[Docs] \[`jsx-no-target-blank`]: Fix link to link-type-noreferrer ([#​3319][] [@​Luccasoli](https://togithub.com/Luccasoli)) -   \[Docs] document which rules provide suggestions ([#​3359][], [#​3365][] [@​bmish](https://togithub.com/bmish)) -   \[Docs] Consistent rule descriptions and doc sections ([#​3361][] [@​bmish](https://togithub.com/bmish)) -   \[Docs] Standardize deprecated rule notice ([#​3364][] [@​bmish](https://togithub.com/bmish)) -   \[Docs] Fix typos ([#​3366][] [@​bmish](https://togithub.com/bmish)) -   \[Docs] Add markdownlint for documentation formatting consistency ([#​3367][] [@​bmish](https://togithub.com/bmish)) -   \[Docs] Add config notice to rule docs ([#​3362][] [@​bmish](https://togithub.com/bmish))  [7.31.0]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.30.1...v7.31.0  [#​3367]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3367  [#​3366]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3366  [#​3365]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3365  [#​3364]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3364  [#​3362]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3362  [#​3361]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3361  [#​3359]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3359  [#​3358]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3358  [#​3355]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3355  [#​3353]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3353  [#​3351]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3351  [#​3350]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3350  [#​3349]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3349  [#​3347]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3347  [#​3344]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3344  [#​3339]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3339  [#​3338]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3338  [#​3335]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3335  [#​3332]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3332  [#​3331]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3331  [#​3328]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3328  [#​3327]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3327  [#​3326]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3326  [#​3321]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3321  [#​3320]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3320  [#​3319]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3319  [#​3317]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3317  [#​3316]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3316  [#​3315]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3315  [#​3314]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3314  [#​3311]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3311  [#​3305]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3305  [#​3262]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3262  ### [`v7.30.2`](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.30.1...2ed2d468c1bfb7058cbbbcbe4b3e367e310c9006)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.30.1...2ed2d468c1bfb7058cbbbcbe4b3e367e310c9006)  ### [`v7.30.1`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7301---20220623)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.30.0...v7.30.1)  ##### Fixed  -   \[`display-name`]: fix false positive for HOF returning only nulls ([#​3291][] [@​golopot](https://togithub.com/golopot)) -   \[`jsx-no-leaked-render`]: avoid unnecessary negation operators and ternary branches deletion ([#​3299][] [@​Belco90](https://togithub.com/Belco90)) -   \[`display-name`]: fix false positive when using memo ([#​3304][] [@​golopot](https://togithub.com/golopot))  ##### Changed  -   \[Docs] \[`jsx-tag-spacing`]: rename option from \[[#​3264](https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3264)]\[] (\[[#​3294](https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3294)\[] [@​ljharb](https://togithub.com/ljharb)) -   \[Docs] \[`jsx-key`]: split the examples ([#​3293][] [@​ioggstream](https://togithub.com/ioggstream))  [7.30.1]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.30.0...v7.30.1  [#​3304]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3304  [#​3299]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3299  [#​3294]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3294  [#​3293]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3293  [#​3291]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3291  ### [`v7.30.0`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7300---20220518)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.4...v7.30.0)  ##### Added  -   \[`destructuring-assignment`]: add option `destructureInSignature` ([#​3235][] [@​golopot](https://togithub.com/golopot)) -   \[`no-unknown-property`]: Allow crossOrigin on image tag (SVG) ([#​3251][] [@​zpao](https://togithub.com/zpao)) -   \[`jsx-tag-spacing`]: Add `multiline-always` option ([#​3260][], [#​3264][] [@​Nokel81](https://togithub.com/Nokel81)) -   \[`function-component-definition`]: replace `var` by `const` in certain situations ([#​3248][] [@​JohnBerd](https://togithub.com/JohnBerd) [@​SimeonC](https://togithub.com/SimeonC)) -   add \[`jsx-no-leaked-render`] ([#​3203][] [@​Belco90](https://togithub.com/Belco90)) -   \[`require-default-props`]: add option `functions` ([#​3249][] [@​nix6839](https://togithub.com/nix6839)) -   \[`jsx-newline`]: Add `allowMultilines` option (\[[#​3311](https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3311)]\[] [@​TildaDares](https://togithub.com/TildaDares))  ##### Fixed  -   \[`hook-use-state`]: Allow UPPERCASE setState setter prefixes ([#​3244][] [@​duncanbeevers](https://togithub.com/duncanbeevers)) -   `propTypes`: add `VFC` to react generic type param map ([#​3230][] [@​dlech](https://togithub.com/dlech)) -   \[`no-unused-state`]: avoid a crash ([#​3258][] [@​WillyLiaoWH](https://togithub.com/WillyLiaoWH) [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-no-useless-fragment`]: use proper apostrophe in error message ([#​3266][] [@​develohpanda](https://togithub.com/develohpanda)) -   `propTypes`: handle imported types/interface in forwardRef generic ([#​3280][] [@​vedadeepta](https://togithub.com/vedadeepta)) -   \[`button-has-type`]: fix exception for `` ([#​3255][] [@​meowtec](https://togithub.com/meowtec)) -   \[`no-unstable-nested-components`]: Improve error message and catch React.memo() ([#​3247][] [@​zacharyliu](https://togithub.com/zacharyliu))  ##### Changed  -   \[readme] remove global usage and eslint version from readme ([#​3254][] [@​aladdin-add](https://togithub.com/aladdin-add)) -   \[Refactor] fix linter errors ([#​3261][] [@​golopot](https://togithub.com/golopot)) -   \[Docs] \[`no-unused-prop-types`]: fix syntax errors ([#​3259][] [@​mrdulin](https://togithub.com/mrdulin)) -   \[Refactor] improve performance for detecting function components ([#​3265][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] improve performance for detecting class components ([#​3267][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] \[`no-deprecated`]: improve performance ([#​3271][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] \[`no-did-mount-set-state`], \[`no-did-update-set-state`], \[`no-will-update-set-state`]: improve performance ([#​3272][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] improve performance by avoiding unnecessary `Components.detect` ([#​3273][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] add `isParenthesized` AST util ([#​3203][] [@​Belco90](https://togithub.com/Belco90)) -   \[Docs] `default-props-match-prop-types`, `require-default-props`, `sort-prop-types`: fix typos ([#​3279][] [@​nix6839](https://togithub.com/nix6839)) -   \[Refactor] improve performance of rule merging ([#​3281][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] improve performance of component detection ([#​3276][] [@​golopot](https://togithub.com/golopot))  [7.30.0]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.4...v7.30.0  [#​3281]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3281  [#​3280]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3280  [#​3279]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3279  [#​3276]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3276  [#​3273]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3273  [#​3272]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3272  [#​3271]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3271  [#​3267]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3267  [#​3266]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3266  [#​3265]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3265  [#​3264]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3264  [#​3261]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3261  [#​3260]: https://github.jsx-eslintckcr/eslint-plugin-react/pull/3260  [#​3259]: https://githubjsx-eslintickcr/eslint-plugin-react/pull/3259  [#​3258]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3258  [#​3255]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3255  [#​3254]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3254  [#​3251]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3251  [#​3249]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3249  [#​3248]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3248  [#​3247]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3247  [#​3244]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3244  [#​3235]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3235  [#​3230]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3230  [#​3203]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3203  ### [`v7.29.4`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7294---20220313)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.3...v7.29.4)  ##### Fixed  -   \[`no-unused-state`]: avoid a crash on a class field gDSFP ([#​3236][] [@​ljharb](https://togithub.com/ljharb)) -   \[`boolean-prop-naming`]: handle React.FC, intersection, union types ([#​3241][] [@​ljharb](https://togithub.com/ljharb))  [7.29.4]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.3...v7.29.4  [#​3241]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3241  [#​3236]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3236  ### [`v7.29.3`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7293---20220303)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.2...v7.29.3)  ##### Fixed  -   \[`no-unused-state`]: avoid a crash on type-only gDSFP declarations ([#​3225][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-curly-brace-presence`]: the string ""never"" defaults to `propElementValues` as `ignore` ([#​3228][] [@​ljharb](https://togithub.com/ljharb)) -   `propTypes`: add `VFC` to react generic list ([#​3230][] [@​ljharb](https://togithub.com/ljharb))  [7.29.3]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.2...v7.29.3  [#​3230]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3230  [#​3228]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3228  [#​3225]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3225  ### [`v7.29.2`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7292---20220225)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.1...v7.29.2)  ##### Fixed  -   \[`jsx-curly-brace-presence`]: avoid warning on curlies containing quote characters ([#​3214][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-indent`]: do not report on non-jsx-returning ternaries that contain null ([#​3222][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-indent`]: properly report on returned ternaries with jsx ([#​3222][] [@​ljharb](https://togithub.com/ljharb)) -   \[`no-array-index-key`]: detect named-imported `cloneElement`/`createElement` ([#​3213][] [@​ljharb](https://togithub.com/ljharb))  [7.29.2]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.1...v7.29.2  [#​3222]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3222  [#​3214]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3214  [#​3213]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3213  ### [`v7.29.1`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7291---20220225)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.0...v7.29.1)  ##### Fixed  -   \[`jsx-key`]: prevent false ""missing array key"" warning ([#​3215][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-indent`]: avoid checking returns sans jsx ([#​3218][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-key`]: avoid a crash ([#​3220][] [@​ljharb](https://togithub.com/ljharb)) -   version settings: avoid a crash with an invalid version ([#​3219][] [@​ljharb](https://togithub.com/ljharb))  [7.29.1]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.29.0...v7.29.1  [#​3220]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3220  [#​3219]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3219  [#​3218]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3218  [#​3215]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3215  ### [`v7.29.0`](https://togithub.com/jsx-eslint/eslint-plugin-react/blob/HEAD/CHANGELOG.md#​7290---20220224)  [Compare Source](https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.28.0...v7.29.0)  ##### Added  -   add \[`hook-use-state`] rule to enforce symmetric useState hook variable names ([#​2921][] [@​duncanbeevers](https://togithub.com/duncanbeevers)) -   \[`jsx-no-target-blank`]: Improve fixer with option `allowReferrer` ([#​3167][] [@​apepper](https://togithub.com/apepper)) -   \[`jsx-curly-brace-presence`]: add ""propElementValues"" config option ([#​3191][] [@​ljharb](https://togithub.com/ljharb)) -   add \[`iframe-missing-sandbox`] rule ([#​2753][] [@​tosmolka](https://togithub.com/tosmolka) [@​ljharb](https://togithub.com/ljharb)) -   \[`no-did-mount-set-state`], \[`no-did-update-set-state`]: no-op with react >= 16.3 ([#​1754][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-sort-props`]: support multiline prop groups ([#​3198][] [@​duhamelgm](https://togithub.com/duhamelgm)) -   \[`jsx-key`]: add `warnDuplicates` option to warn on duplicate jsx keys in an array ([#​2614][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-sort-props`]: add `locale` option ([#​3002][] [@​ljharb](https://togithub.com/ljharb))  ##### Fixed  -   \[`prop-types`], `propTypes`: add support for exported type inference ([#​3163][] [@​vedadeepta](https://togithub.com/vedadeepta)) -   \[`no-invalid-html-attribute`]: allow 'shortcut icon' on `link` ([#​3174][] [@​Primajin](https://togithub.com/Primajin)) -   \[`prefer-exact-props`] improve performance for `Identifier` visitor ([#​3190][] [@​meowtec](https://togithub.com/meowtec)) -   `propTypes`: Handle TSTypeReference in no-unused-prop-type ([#​3195][] [@​niik](https://togithub.com/niik)) -   \[`sort-prop-types`]: avoid repeated warnings of the same node/reason ([#​519][] [@​ljharb](https://togithub.com/ljharb)) -   \[`jsx-indent`]: Fix indent handling for closing parentheses ([#​620][] [@​stefanbuck](https://togithub.com/stefanbuck)]) -   \[`prop-types`]/`propTypes`: follow a returned identifier to see if it is JSX ([#​1046][] [@​ljharb](https://togithub.com/ljharb)) -   \[`no-unused-state`]: TS: support `getDerivedStateFromProps` as an arrow function ([#​2061][] [@​ljharb](https://togithub.com/ljharb)) -   \[`no-array-index-key`]: catch `.toString` and `String()` usage ([#​2813][] [@​RedTn](https://togithub.com/RedTn)) -   \[`function-component-definition`]: do not break on dollar signs ([#​3207][] [@​ljharb](https://togithub.com/ljharb)) -   \[`prefer-stateless-function`]: avoid a crash inside `doctrine` ([#​2596][] [@​ljharb](https://togithub.com/ljharb)) -   \[`prop-types`]: catch infinite loop ([#​2861][] [@​ljharb](https://togithub.com/ljharb)) -   \[`forbid-prop-types`]: properly report name in error message; check undestructured arguments ([#​2945][] [@​ljharb](https://togithub.com/ljharb))  ##### Changed  -   \[readme] change \[`jsx-runtime`] link from branch to sha ([#​3160][] [@​tatsushitoji](https://togithub.com/tatsushitoji)) -   \[Docs] HTTP => HTTPS ([#​3133][] [@​Schweinepriester](https://togithub.com/Schweinepriester)) -   \[readme] Some grammar fixes ([#​3186][] [@​JJ](https://togithub.com/JJ)) -   \[Docs] \[`jsx-no-target-blank`]: Improve readme ([#​3169][] [@​apepper](https://togithub.com/apepper)) -   \[Docs] \[`display-name`]: improve examples ([#​3189][] [@​golopot](https://togithub.com/golopot)) -   \[Refactor] \[`no-invalid-html-attribute`]: sort HTML_ELEMENTS and messages ([#​3182][] [@​Primajin](https://togithub.com/Primajin)) -   \[Docs] \[`forbid-foreign-prop-types`]: document `allowInPropTypes` option ([#​1815][] [@​ljharb](https://togithub.com/ljharb)) -   \[Refactor] \[`jsx-sort-default-props`]: remove unnecessary code ([#​1817][] [@​ljharb](https://togithub.com/ljharb)) -   \[Docs] \[`jsx-no-target-blank`]: fix syntax highlighting ([#​3199][] [@​shamrin](https://togithub.com/shamrin)) -   \[Docs] \[`jsx-key`]: improve example ([#​3202][] [@​chnakamura](https://togithub.com/chnakamura)) -   \[Refactor] \[`jsx-key`]: use more AST selectors ([@​ljharb](https://togithub.com/ljharb))  [7.29.0]: https://togithub.com/jsx-eslint/eslint-plugin-react/compare/v7.28.0...v7.29.0  [#​3207]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3207  [#​3202]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3202  [#​3199]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3199  [#​3198]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3198  [#​3195]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3195  [#​3191]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3191  [#​3190]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3190  [#​3189]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3189  [#​3186]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3186  [#​3182]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3182  [#​3174]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3174  [#​3169]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3169  [#​3167]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3167  [#​3163]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3163  [#​3160]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3160  [#​3133]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/3133  [#​3002]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/3002  [#​2945]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/2945  [#​2921]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/2921  [#​2861]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/2861  [#​2813]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/2813  [#​2753]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/2753  [#​2614]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/2614  [#​2596]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/2596  [#​2061]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/2061  [#​1817]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/1817  [#​1815]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/1815  [#​1754]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/1754  [#​1046]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/1046  [#​620]: https://togithub.com/jsx-eslint/eslint-plugin-react/pull/620  [#​519]: https://togithub.com/jsx-eslint/eslint-plugin-react/issues/519    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency eslint-plugin-react to v7.31.0 (#1569),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-plugin-react | 7.28.0 -> 7.31.0 |  |  |  |  | Release Notes jsx-eslint/eslint-plugin-react module Compare Source Added  [module]: add module option when prevent option is true (#​3311 @​TildaDares) [module]: add module option (#​3338 @​TildaDares)  Fixed  [module]: properly error on children with noAttributeStrings: true (#​3317 @​TildaDares) [module]: catch key errors inside conditional statements (#​3320 @​TildaDares) [module]: Accept forwardRef and Memo nesting in newer React versions (#​3321 @​TildaDares) [module]: avoid a crash from optional chaining from #​3320 (#​3327 @​ljharb) [module]: avoid a crash on a non-array node.body from #​3320 (#​3328 @​ljharb) [module]: fix false positive for assignment of function returning null (#​3331 @​apbarrero) [module]: fix identifying module as a capital letter (#​3335 @​apbarrero) [module]: avoid a crash when function has no props param (#​3350 @​noahnu) [module], component detection: fix HOF returning null as Components (#​3347 @​jxm-math) [module]: Ignore objects that are not of type React.PropTypes (#​3326 @​TildaDares) [module], component detection: fix false positive for HOF returning only nulls and literals (#​3305 @​golopot) [module]: False negative when rel attribute is assigned using ConditionalExpression (#​3332 @​V2dha) [module]: autofix nested ""&&"" logical expressions (#​3353 @​hduprat) [module]: sorted attributes now respect comments (#​3358 @​ROSSROSALES)  Changed  [Refactor] [module]: improved readability of the checkNodesIndent function (#​3315 @​caroline223) [Tests] [module], [module]: add passing test cases (#​3314 @​ROSSROSALES) [Refactor] module, module: avoid assigning to arguments (#​3316 @​caroline223) [Docs] [module]: add class component examples (#​3339 @​maurer2) [Docs] [module]: add more examples of correct code (#​3349 @​karlhorky) [Docs] [module]: add jsdoc types for helper functions (#​3344 @​caroline223) [readme] remove dead codeclimate badge, add actions badge (@​ljharb) [readme] Remove dead david-dm badge (#​3262 @​ddzz) [Refactor] [module], [module]: fix eslint issues (#​3351 @​caroline223) [Tests] [module]: add passing test cases (#​3355 @​TildaDares) [Docs] [module]: Fix link to link-type-noreferrer (#​3319 @​Luccasoli) [Docs] document which rules provide suggestions (#​3359, #​3365 @​bmish) [Docs] Consistent rule descriptions and doc sections (#​3361 @​bmish) [Docs] Standardize deprecated rule notice (#​3364 @​bmish) [Docs] Fix typos (#​3366 @​bmish) [Docs] Add markdownlint for documentation formatting consistency (#​3367 @​bmish) [Docs] Add config notice to rule docs (#​3362 @​bmish)  module Compare Source module Compare Source Fixed  [module]: fix false positive for HOF returning only nulls (#​3291 @​golopot) [module]: avoid unnecessary negation operators and ternary branches deletion (#​3299 @​Belco90) [module]: fix false positive when using memo (#​3304 @​golopot)  Changed  [Docs] [module]: rename option from [#​3264][] ([#​3294[] @​ljharb) [Docs] [module]: split the examples (#​3293 @​ioggstream)  module Compare Source Added  [module]: add option module (#​3235 @​golopot) [module]: Allow crossOrigin on image tag (SVG) (#​3251 @​zpao) [module]: Add module option (#​3260, #​3264 @​Nokel81) [module]: replace module by module in certain situations (#​3248 @​JohnBerd @​SimeonC) add [module] (#​3203 @​Belco90) [module]: add option module (#​3249 @​nix6839) [module]: Add module option ([#​3311][] @​TildaDares)  Fixed  [module]: Allow UPPERCASE setState setter prefixes (#​3244 @​duncanbeevers) module: add module to react generic type param map (#​3230 @​dlech) [module]: avoid a crash (#​3258 @​WillyLiaoWH @​ljharb) [module]: use proper apostrophe in error message (#​3266 @​develohpanda) module: handle imported types/interface in forwardRef generic (#​3280 @​vedadeepta) [module]: fix exception for `` (#​3255 @​meowtec) [module]: Improve error message and catch React.memo() (#​3247 @​zacharyliu)  Changed  [readme] remove global usage and eslint version from readme (#​3254 @​aladdin-add) [Refactor] fix linter errors (#​3261 @​golopot) [Docs] [module]: fix syntax errors (#​3259 @​mrdulin) [Refactor] improve performance for detecting function components (#​3265 @​golopot) [Refactor] improve performance for detecting class components (#​3267 @​golopot) [Refactor] [module]: improve performance (#​3271 @​golopot) [Refactor] [module], [module], [module]: improve performance (#​3272 @​golopot) [Refactor] improve performance by avoiding unnecessary module (#​3273 @​golopot) [Refactor] add module AST util (#​3203 @​Belco90) [Docs] module, module, module: fix typos (#​3279 @​nix6839) [Refactor] improve performance of rule merging (#​3281 @​golopot) [Refactor] improve performance of component detection (#​3276 @​golopot)  module Compare Source Fixed  [module]: avoid a crash on a class field gDSFP (#​3236 @​ljharb) [module]: handle React.FC, intersection, union types (#​3241 @​ljharb)  module Compare Source Fixed  [module]: avoid a crash on type-only gDSFP declarations (#​3225 @​ljharb) [module]: the string ""never"" defaults to module as module (#​3228 @​ljharb) module: add module to react generic list (#​3230 @​ljharb)  module Compare Source Fixed  [module]: avoid warning on curlies containing quote characters (#​3214 @​ljharb) [module]: do not report on non-jsx-returning ternaries that contain null (#​3222 @​ljharb) [module]: properly report on returned ternaries with jsx (#​3222 @​ljharb) [module]: detect named-imported module/module (#​3213 @​ljharb)  module Compare Source Fixed  [module]: prevent false ""missing array key"" warning (#​3215 @​ljharb) [module]: avoid checking returns sans jsx (#​3218 @​ljharb) [module]: avoid a crash (#​3220 @​ljharb) version settings: avoid a crash with an invalid version (#​3219 @​ljharb)  module Compare Source Added  add [module] rule to enforce symmetric useState hook variable names (#​2921 @​duncanbeevers) [module]: Improve fixer with option module (#​3167 @​apepper) [module]: add ""propElementValues"" config option (#​3191 @​ljharb) add [module] rule (#​2753 @​tosmolka @​ljharb) [module], [module]: no-op with react >= 16.3 (#​1754 @​ljharb) [module]: support multiline prop groups (#​3198 @​duhamelgm) [module]: add module option to warn on duplicate jsx keys in an array (#​2614 @​ljharb) [module]: add module option (#​3002 @​ljharb)  Fixed  [module], module: add support for exported type inference (#​3163 @​vedadeepta) [module]: allow 'shortcut icon' on module (#​3174 @​Primajin) [module] improve performance for module visitor (#​3190 @​meowtec) module: Handle TSTypeReference in no-unused-prop-type (#​3195 @​niik) [module]: avoid repeated warnings of the same node/reason (#​519 @​ljharb) [module]: Fix indent handling for closing parentheses (#​620 @​stefanbuck]) [module]/module: follow a returned identifier to see if it is JSX (#​1046 @​ljharb) [module]: TS: support module as an arrow function (#​2061 @​ljharb) [module]: catch module and module usage (#​2813 @​RedTn) [module]: do not break on dollar signs (#​3207 @​ljharb) [module]: avoid a crash inside module (#​2596 @​ljharb) [module]: catch infinite loop (#​2861 @​ljharb) [module]: properly report name in error message; check undestructured arguments (#​2945 @​ljharb)  Changed  [readme] change [module] link from branch to sha (#​3160 @​tatsushitoji) [Docs] HTTP => HTTPS (#​3133 @​Schweinepriester) [readme] Some grammar fixes (#​3186 @​JJ) [Docs] [module]: Improve readme (#​3169 @​apepper) [Docs] [module]: improve examples (#​3189 @​golopot) [Refactor] [module]: sort HTML_ELEMENTS and messages (#​3182 @​Primajin) [Docs] [module]: document module option (#​1815 @​ljharb) [Refactor] [module]: remove unnecessary code (#​1817 @​ljharb) [Docs] [module]: fix syntax highlighting (#​3199 @​shamrin) [Docs] [module]: improve example (#​3202 @​chnakamura) [Refactor] [module]: use more AST selectors (@​ljharb)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2654,fix(deps): update dependency @react-aria/focus to v3.7.0 (#1548)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-aria/focus | 3.2.2 -> 3.7.0 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency @react-aria/focus to v3.7.0 (#1548),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-aria/focus | 3.2.2 -> 3.7.0 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2655,Improve release docs (#1759),Follow up on 4d677009fdca9b1ba9e83b260ecd670b27b3e8ec.,Improve release docs (#1759),Follow up on 4d677009fdca9b1ba9e83b260ecd670b27b3e8ec.
2656,Improve documentation of accepted options for outputMode config (#1761),,Improve documentation of accepted options for outputMode config (#1761),
2657,docs: Callout that turbo.json is an input (#1762),,docs: Callout that turbo.json is an input (#1762),
2658,fix(deps): update dependency @react-aria/ssr to v3.3.0 (#1680)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-aria/ssr | 3.2.0 -> 3.3.0 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency @react-aria/ssr to v3.3.0 (#1680),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-aria/ssr | 3.2.0 -> 3.3.0 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2659,chore(deps): update nextjs monorepo to v12.2.5 (#1700),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update nextjs monorepo to v12.2.5 (#1700),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2660,add root_dir to support monorepos (#260),"This adds an option to pass the root dir from CLI, before it was always the current directory",add root_dir to support monorepos (#260),"This adds an option to pass the root dir from CLI, before it was always the current directory"
2661,Benchmark startup time for bundling many modules (#240),  Basic startup bench for dev server   fixes to benchmarking (#268)   use bench profile for benchmarking   make setup and teardown not part of the measurement   add support for async setup and teardown share browser between measurements  updates for changes TestApp  Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Benchmark startup time for bundling many modules (#240),Basic startup bench for dev server fixes to benchmarking (#268) use bench profile for benchmarking make setup and teardown not part of the measurement add support for async setup and teardown share browser between measurements updates for changes TestApp Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
2662,Script for releasing from CI. (#1562),  Script for releasing from CI.   Make it live.   Prep for CI release.   Add golangci-lint command.   Update version.txt parsing.   Install goreleaser in CI.   Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Script for releasing from CI. (#1562),Script for releasing from CI. Make it live. Prep for CI release. Add golangci-lint command. Update version.txt parsing. Install goreleaser in CI. Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2663,fix more watching issues (#226),,fix more watching issues (#226),
2664,chore: release npm packages, @vercel/turbo-tracing-next-plugin@0.0.2,chore: release npm packages,@vercel/turbo-tracing-next-plugin@0.0.2
2665,Removed key emoji (#1757),,Removed key emoji (#1757),
2666,Only apply tracing on server prod builds (#270),,Only apply tracing on server prod builds (#270),
2667,Remove confusing features from docs page (#1754),,Remove confusing features from docs page (#1754),
2668,create sierpinski triangle in test app (#269),The test app generator creates a sierpinski triangle based on the specified * modules count * directories count * flatness Examples: --modules 30 --directories 3  --modules 300 --directories 30  --modules 2000 --flatness 100  --modules 2000 --flatness 10  --modules 2000 --flatness 3,create sierpinski triangle in test app (#269),The test app generator creates a sierpinski triangle based on the specified * modules count * directories count * flatness Examples: --modules 30 --directories 3 --modules 300 --directories 30 --modules 2000 --flatness 100 --modules 2000 --flatness 10 --modules 2000 --flatness 3
2669,chore: release npm packages, node-file-trace@0.0.2 @vercel/turbo-tracing-next-plugin@0.0.1 @vercel/webpack-node-module-trace@0.0.4,chore: release npm packages,node-file-trace@0.0.2 @vercel/turbo-tracing-next-plugin@0.0.1 @vercel/webpack-node-module-trace@0.0.4
2670,Autofix fixable lint issues (#1748),,Autofix fixable lint issues (#1748),
2671,Document how to publish new releases (#1750),,Document how to publish new releases (#1750),
2672,publish 1.4.4-canary.0 to registry,,publish 1.4.4-canary.0 to registry,
2673,Turbo Config refactor (#1739), Replace references to turbo.json with a constant Write test against public function for reading turbo config,Turbo Config refactor (#1739),Replace references to turbo.json with a constant Write test against public function for reading turbo config
2674,fix(cli): fallback to manual hashing for global (#1747),,fix(cli): fallback to manual hashing for global (#1747),
2675,Implement snapshot tests (#241),"This implements snapshot testing, which writes all chunks to the filesystem. Hopefully these'll be a little quicker to test than the evaluation tests, which require us to spin up a browser to execute. The snapshots will detect if a file is expected (in the output dir) but it's not output by turbopack, if a file is output but was not expected, or if the contents has changed. It also supports a TURBOPACK_SNAPSHOT_UPDATE=1 env, which will pass all tests, update all files to the latest outputs, and delete any files that shouldn't exist. The test structure follows a */*/input directory structure. Eg, large-feature-group └── explicit-feature     ├── input     │   └── index.js     │   └── any-other-files...     │   └── node_modules/...     └── output         └── snapshot_large_feature_group_explicit_feature_input_index.js         └── snapshot_large_feature_group_explicit_feature_input_node_modules_foo_index.js.js The */*/output is the output chunks we expect turbopack to generate. A few things are still left todo: - Diffing of the files isn't supported, which would be very helpful for finding changes. - I didn't handle static assets, and CSS could be broken. - It only supports index.js as the entry point, but we should support many entrypoints (and different filenames and extensions) via an options.json. - We only perform Browser transformations, but we should support any via an options.json. - I don't know if a nested directory structure is possible for output chunks, so it only supports output/* files.",Implement snapshot tests (#241),"This implements snapshot testing, which writes all chunks to the filesystem. Hopefully these'll be a little quicker to test than the evaluation tests, which require us to spin up a browser to execute. The snapshots will detect if a file is expected (in the output dir) but it's not output by turbopack, if a file is output but was not expected, or if the contents has changed. It also supports a TURBOPACK_SNAPSHOT_UPDATE=1 env, which will pass all tests, update all files to the latest outputs, and delete any files that shouldn't exist. The test structure follows a //input directory structure. Eg, large-feature-group └── explicit-feature     ├── input     │   └── index.js     │   └── any-other-files...     │   └── node_modules/...     └── output         └── snapshot_large_feature_group_explicit_feature_input_index.js         └── snapshot_large_feature_group_explicit_feature_input_node_modules_foo_index.js.js The //output is the output chunks we expect turbopack to generate. A few things are still left todo: - Diffing of the files isn't supported, which would be very helpful for finding changes. - I didn't handle static assets, and CSS could be broken. - It only supports index.js as the entry point, but we should support many entrypoints (and different filenames and extensions) via an options.json. - We only perform Browser transformations, but we should support any via an options.json. - I don't know if a nested directory structure is possible for output chunks, so it only supports output/* files."
2676,Move parent_path into FileSystemPathVc (#265),"This moves FileSystem::parent_path (which takes a FileSystemPathVc) to be directly on FileSystemPathVc. There's already a FileSystemPathVc::parent method which internally calls FileSystem::parent_path with self, which seems to be an indirect way to implement this. With the new method location, we're able to take advantage of FileSystemPathVc::new_normalized to skip some unnecessary work. And we also reduce duplication, there were two nearly identical implementations of parent_path between DevServerFileSystem and DiskFileSystem.",Move parent_path into FileSystemPathVc (#265),"This moves FileSystem::parent_path (which takes a FileSystemPathVc) to be directly on FileSystemPathVc. There's already a FileSystemPathVc::parent method which internally calls FileSystem::parent_path with self, which seems to be an indirect way to implement this. With the new method location, we're able to take advantage of FileSystemPathVc::new_normalized to skip some unnecessary work. And we also reduce duplication, there were two nearly identical implementations of parent_path between DevServerFileSystem and DiskFileSystem."
2677,docs: pipelines.mdx typo (#1743),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,docs: pipelines.mdx typo (#1743),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2678,Upgrade SWC and use React preset (#266),"Upgrading SWC deps because we need https://github.com/swc-project/swc/pull/5499 for #252 This also switches from using the JSX preset to the full React preset. @sokra noticed a drop in performance in #252 and one possible reason is the difference in processing between the SWC versions, or between the presets, so this PR acts as a way to isolate that particular change for benchmarks.",Upgrade SWC and use React preset (#266),"Upgrading SWC deps because we need link for #252 This also switches from using the JSX preset to the full React preset. @sokra noticed a drop in performance in #252 and one possible reason is the difference in processing between the SWC versions, or between the presets, so this PR acts as a way to isolate that particular change for benchmarks."
2679,limit long source lines in issue printing (#256),,limit long source lines in issue printing (#256),
2680,Normalize Windows paths into Unix paths (#251),"The snapshot tests were failing because Windows paths were sneaking into the FileSystemPathVc::path. Reviewing, the ::new method didn't normalize \ into /, and the various ::join methods didn't either. This came up in both the chunk ids, and the request pathnames used by the server. No path with backslash should enter the FileSystemPath APIs, they should be normalized during conversion from Path to String Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com",Normalize Windows paths into Unix paths (#251),"The snapshot tests were failing because Windows paths were sneaking into the FileSystemPathVc::path. Reviewing, the ::new method didn't normalize \ into /, and the various ::join methods didn't either. This came up in both the chunk ids, and the request pathnames used by the server. No path with backslash should enter the FileSystemPath APIs, they should be normalized during conversion from Path to String Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com"
2681,feat(turbo-tracing): implement next plugin (#267),,feat(turbo-tracing): implement next plugin (#267),
2682,Remove registry argument. (#1742),The registry argument is being read from the configuration paths and then being passed back in via --registry which is entirely unnecessary. The package managers already default to deferring to system-configured registries.,Remove registry argument. (#1742),The registry argument is being read from the configuration paths and then being passed back in via --registry which is entirely unnecessary. The package managers already default to deferring to system-configured registries.
2683,only create pages for .js etc. files in pages (#255),,only create pages for .js etc. files in pages (#255),
2684,Do not execute .css during server rendering (#254),Ignore any non-code chunks for server rendering,Do not execute .css during server rendering (#254),Ignore any non-code chunks for server rendering
2685,make AssetGraphContentSource lazy even for the first asset (#258),"This is required for pages support, since an AssetGraphContentSource is created for each page in the pages folder. When the first asset won't be lazy it would compile all pages initially. In future we could add a new_prefetch constructor that adds the root asset to the expanded set which would allow to prefetch that. This would make sense for the / page.",make AssetGraphContentSource lazy even for the first asset (#258),"This is required for pages support, since an AssetGraphContentSource is created for each page in the pages folder. When the first asset won't be lazy it would compile all pages initially. In future we could add a new_prefetch constructor that adds the root asset to the expanded set which would allow to prefetch that. This would make sense for the / page."
2686,Update CODEOWNERS with team (#1737),Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Update CODEOWNERS with team (#1737),Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2687,Improve docs on how to get started debugging (#1736),,Improve docs on how to get started debugging (#1736),
2688,"Minor editorial, grammatical, and spelling improvments to docs (#1701)",Co-authored-by: gnohj gnohj21@gmail.com Co-authored-by: Maedah Batool me@MaedahBatool.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,"Minor editorial, grammatical, and spelling improvments to docs (#1701)",Co-authored-by: gnohj gnohj21@gmail.com Co-authored-by: Maedah Batool me@MaedahBatool.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2689,Invert automerging behavior from Kodiak (#1735),,Invert automerging behavior from Kodiak (#1735),
2690,Run go mod tidy (#1734),"I'm still wrapping my head around how Go does package management, but I think this is a follow up from #1472. cc @bguedes-moz",Run go mod tidy (#1734),"I'm still wrapping my head around how Go does package management, but I think this is a follow up from #1472. cc @bguedes-moz"
2691,run_state refactor (#1711),"Removes unused code and tightens things up a bit.  A future refactor might consider moving to a new package.  There are not currently tests for this code, although the e2e tests contain a smoke test for the tracing file.",run_state refactor (#1711),"Removes unused code and tightens things up a bit.  A future refactor might consider moving to a new package.  There are not currently tests for this code, although the e2e tests contain a smoke test for the tracing file."
2692,single thread for test cases (#264),,single thread for test cases (#264),
2693,fix workflows on branch events (#263),,fix workflows on branch events (#263),
2694,convert some printlns to emitted issues (#257),,convert some printlns to emitted issues (#257),
2695,Group and prettier log messages (#245),Default flags cargo run --bin node-file-trace -- build --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js  --show-all cargo run --bin node-file-trace -- build --show-all --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js  --log-detail cargo run --bin node-file-trace -- build --log-detail --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js  Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com,Group and prettier log messages (#245),Default flags cargo run --bin node-file-trace -- build --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js --show-all cargo run --bin node-file-trace -- build --show-all --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js --log-detail cargo run --bin node-file-trace -- build --log-detail --context-directory crates/turbopack/tests/node-file-trace  ./crates/turbopack/tests/node-file-trace/integration/loopback.js Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com
2696,fix(docs): fix showcase layout shift (#1727),Handle logo size correctly and fix showcase layout shift,fix(docs): fix showcase layout shift (#1727),Handle logo size correctly and fix showcase layout shift
2697,Fix instructions for running a single Go unit test (#1728),,Fix instructions for running a single Go unit test (#1728),
2698,Document how to run unit tests (#1726),,Document how to run unit tests (#1726),
2699,Removed blocks from storybook import (#1725),"Removed ""/blocks"" from ""@storybook/addon-docs/blocks"" since it's deprecated, one should only use ""@storybook/addon-docs"".",Removed blocks from storybook import (#1725),"Removed ""/blocks"" from ""@storybook/addon-docs/blocks"" since it's deprecated, one should only use ""@storybook/addon-docs""."
2700,Add back symlinks in fs cache (#1453),"This brings back some behavior from before #1354. The filesystem cache will save all symlinks, and restore non-broken symlinks to files. Symlinks to directories continue to get restored as empty directories. Still TBD what we're going to do with broken symlinks in the filesystem cache, they currently are not restored. For reference: the http cache saves and restores all symlinks.",Add back symlinks in fs cache (#1453),"This brings back some behavior from before #1354. The filesystem cache will save all symlinks, and restore non-broken symlinks to files. Symlinks to directories continue to get restored as empty directories. Still TBD what we're going to do with broken symlinks in the filesystem cache, they currently are not restored. For reference: the http cache saves and restores all symlinks."
2701,MacOS times out on large monorepo (#1721),"40 minutes is sufficient for ubuntu, but not macOS apparently.",MacOS times out on large monorepo (#1721),"40 minutes is sufficient for ubuntu, but not macOS apparently."
2702,Remove MacOS from suggested setup (#1716),1 MacOS minute in Github Actions currently costs 10 minutes. Turborepo users will be surprised with a hefty bill or a notification for hitting their build minute limit. Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Remove MacOS from suggested setup (#1716),1 MacOS minute in Github Actions currently costs 10 minutes. Turborepo users will be surprised with a hefty bill or a notification for hitting their build minute limit. Co-authored-by: Thomas Knickman tom.knickman@vercel.com
2703,add Xata to showcase list (#1675),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Mehul Kar mehul.kar@gmail.com,add Xata to showcase list (#1675),Co-authored-by: Thomas Knickman tom.knickman@vercel.com Co-authored-by: Mehul Kar mehul.kar@gmail.com
2704,fix: fs errors when running next-dev with pages (#253),,fix: fs errors when running next-dev with pages (#253),
2705,"Run benchmarks, push data to tinybird and gh-pages (#1715)",New revision of the large monorepo benchmark. Still set to manual. Produces both benchmark-action-compatible json as well as tinybird-compatible ndjson. Sends ndjson to tinybird and json to gh-pages. Tested on my own fork of the repo.,"Run benchmarks, push data to tinybird and gh-pages (#1715)",New revision of the large monorepo benchmark. Still set to manual. Produces both benchmark-action-compatible json as well as tinybird-compatible ndjson. Sends ndjson to tinybird and json to gh-pages. Tested on my own fork of the repo.
2706,Add n8n to showcase (#1661),Thank you for your amazing work! At n8n we recently migrated from lerna to Turborepo and would love to be included in your showcase. Light mode             | Dark mode :-------------------------:|:-------------------------:   |  ,Add n8n to showcase (#1661),Thank you for your amazing work! At n8n we recently migrated from lerna to Turborepo and would love to be included in your showcase. Light mode             | Dark mode :-------------------------:|:-------------------------:   |  
2707,Add yarn/berry switch in create-turbo tests. (#1712),This would be somewhat cleaned up in a corepack world.,Add yarn/berry switch in create-turbo tests. (#1712),This would be somewhat cleaned up in a corepack world.
2708,Wait for initial delay even with no TTY (#1713),"In the previous change, I accidentally forgot to wait for a timeout before displaying the message when we're not using a TTY. This unifies the behavior between TTY and no TTY.",Wait for initial delay even with no TTY (#1713),"In the previous change, I accidentally forgot to wait for a timeout before displaying the message when we're not using a TTY. This unifies the behavior between TTY and no TTY."
2709,Increase timeout for tests involving npm install (#1714),,Increase timeout for tests involving npm install (#1714),
2710,chore(ci): test all other packages in CI (#1709),Test all packages in CI,chore(ci): test all other packages in CI (#1709),Test all packages in CI
2711,create-turbo: Add tests to assert package installation works (#1698)," create-turbo: Add tests to assert package installation works  Add --runInBand to speed up CI. npm installation tests are timing out in CI, possibly becuase of lack of hardware resources. runInBand can improve performance by running tests in serial. There may also be an issue where tests are using the same directory to write node_modules and when running in parallel are erroring out. This doesn't reproduce locally, so it's possible that Jest only parallelizes in CI or non-TTY environments?   Lower timeout value   slight bump ",create-turbo: Add tests to assert package installation works (#1698),"create-turbo: Add tests to assert package installation works Add --runInBand to speed up CI. npm installation tests are timing out in CI, possibly becuase of lack of hardware resources. runInBand can improve performance by running tests in serial. There may also be an issue where tests are using the same directory to write node_modules and when running in parallel are erroring out. This doesn't reproduce locally, so it's possible that Jest only parallelizes in CI or non-TTY environments? Lower timeout value slight bump"
2712,fix scope activation race condition (#248),In some cases deactivation of scopes can be faster than activation which can cause the active count to become shortly negative.,fix scope activation race condition (#248),In some cases deactivation of scopes can be faster than activation which can cause the active count to become shortly negative.
2713,Move more fields out of Config (#1461),"Commits:  1. Move RootPackageJSON out of Config. Only run and prune need it  2. Move calculateGlobalHash and associated code into the run package. Only run needs it, and it is unrelated to the package-dependency graph  3. With calculateGlobalHash gone, update WithGraph to no longer need TurboJSON and Config, replaced with repoRoot.",Move more fields out of Config (#1461),"Commits:  1. Move RootPackageJSON out of Config. Only run and prune need it  2. Move calculateGlobalHash and associated code into the run package. Only run needs it, and it is unrelated to the package-dependency graph  3. With calculateGlobalHash gone, update WithGraph to no longer need TurboJSON and Config, replaced with repoRoot."
2714,Use git hash-object instead of git ls-files for inputs hashing (#1699),  Move package_deps_hash to its own package: hashing   Add failing test with existing pathspec   Use hash-object instead of ls-files   Add test for OR ,Use git hash-object instead of git ls-files for inputs hashing (#1699),Move package_deps_hash to its own package: hashing Add failing test with existing pathspec Use hash-object instead of ls-files Add test for OR
2715,"Module documentation, consolidate turbo-tasks-testing (#246)",Add module docs for a few modules and consolidate turbo-tasks-test-utils and turbo-tasks-testing.,"Module documentation, consolidate turbo-tasks-testing (#246)",Add module docs for a few modules and consolidate turbo-tasks-test-utils and turbo-tasks-testing.
2716,add turbo-tasks overview documentation (#247),,add turbo-tasks overview documentation (#247),
2717,Embed runtime code (#222),"As @sokra wrote, allows for faster iteration on embedded JS files.",Embed runtime code (#222),"As @sokra wrote, allows for faster iteration on embedded JS files."
2718,fix consistency issues (#224),There are a bunch or problems with invalidations:  The fs impl watches path case-insenstive. This means two paths might conflict when on a case-sensitive filesystem. It uses an array of Invalidators now Move the next-dev bootstrapping logic out of the run_once scope (which is not updated when invalidations occur). Instead it's executed inside the request handling resp. update stream where changes can be handled. TransientValue was not an Value type actually. This fixes that. Adds a new TransientInstance wrapper to pass transient by reference. strongly_consistent was broken when using nested TaskScopes. This fixes that.,fix consistency issues (#224),There are a bunch or problems with invalidations: The fs impl watches path case-insenstive. This means two paths might conflict when on a case-sensitive filesystem. It uses an array of Invalidators now Move the next-dev bootstrapping logic out of the run_once scope (which is not updated when invalidations occur). Instead it's executed inside the request handling resp. update stream where changes can be handled. TransientValue was not an Value type actually. This fixes that. Adds a new TransientInstance wrapper to pass transient by reference. strongly_consistent was broken when using nested TaskScopes. This fixes that.
2719,Remove duplicate node-file-trace member from Cargo.toml,,Remove duplicate node-file-trace member from Cargo.toml,
2720,1283 - Fixed json5 support (#1472),,1283 - Fixed json5 support (#1472),
2721,chore(cli): fix comment (#1697),,chore(cli): fix comment (#1697),
2722,create-turbo: improve test cases and make them pass (#1655)," Make existing tests pass Add GH action to run tests in CI  Set up a new Github Action that builds the turbo CLI (since that is   required for the create-turbo tests) and runs the JS tests for that   package. Notable things:   Installs yarn and disables corepack as part of the test suite. This     is the pristine state we want for the tests that exist today. For     future tests cases that have a different setup, we may need to     modify this more.   Disables Windows tests. This yarn setup on Windows does not seem to     work, but this gets us one step forward. ",create-turbo: improve test cases and make them pass (#1655),"Make existing tests pass Add GH action to run tests in CI Set up a new Github Action that builds the turbo CLI (since that is   required for the create-turbo tests) and runs the JS tests for that   package. Notable things: Installs yarn and disables corepack as part of the test suite. This     is the pristine state we want for the tests that exist today. For     future tests cases that have a different setup, we may need to     modify this more. Disables Windows tests. This yarn setup on Windows does not seem to     work, but this gets us one step forward."
2723,add basic next pages support (#223),"Server Rendering:  This adds an additional ContentSource to next-dev which takes care of handling the pages directory. The content source creates a ServerRenderedAsset from each file in the src/pages or pages directory and a AssetGraphContentSource for that. The ServerRenderedAsset will reference an underlying asset for the node.js context which will be passed to the node executable for rendering. It uses a WrapperAsset to add additional communication logic.  Client Transition:  When annotating imports with transition: ""next-client"" the NextClientTransition is used This transition changes the environment to browser It wraps the referenced asset with a next-hyrdation wrapper asset It leaves a little module in the previous context which exports a list of URLs for chunks needed. The NextClientTransition takes a client_chunking_context as argument which specifies how the client code is chunked.",add basic next pages support (#223),"Server Rendering: This adds an additional ContentSource to next-dev which takes care of handling the pages directory. The content source creates a ServerRenderedAsset from each file in the src/pages or pages directory and a AssetGraphContentSource for that. The ServerRenderedAsset will reference an underlying asset for the node.js context which will be passed to the node executable for rendering. It uses a WrapperAsset to add additional communication logic. Client Transition: When annotating imports with transition: ""next-client"" the NextClientTransition is used This transition changes the environment to browser It wraps the referenced asset with a next-hyrdation wrapper asset It leaves a little module in the previous context which exports a list of URLs for chunks needed. The NextClientTransition takes a client_chunking_context as argument which specifies how the client code is chunked."
2724,output to terminal when we are just waiting for cache uploads (#1686),"As a stopgap before we move cache uploads to the daemon, I added some terminal output if uploading is blocking process completion.  While obviously not ideal that users are just waiting for cache population, I think it's at least better that they know that that is what is happening, rather than the process appearing to hang.",output to terminal when we are just waiting for cache uploads (#1686),"As a stopgap before we move cache uploads to the daemon, I added some terminal output if uploading is blocking process completion.  While obviously not ideal that users are just waiting for cache population, I think it's at least better that they know that that is what is happening, rather than the process appearing to hang."
2725,fix(deps): update dependency @react-aria/radio to v3.3.0 (#1679),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency @react-aria/radio to v3.3.0 (#1679),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2726,add more environments (#190),,add more environments (#190),
2727,Remove references to baseBranch (#1681),,Remove references to baseBranch (#1681),
2728,next-dev test runner: ask os for free port (#238),"These integration tests have been flaky, failing when a ""free"" port turns out to be in use. Since nextest parallelizes test runs and portpicker guesses and checks free ports [0], I'm guessing that there's a collision occurring.  Instead, ask the operating system for a free port by binding to port 0 and read the port back from the resulting address. Test Plan: Tried local runs with nextest, but those succeeded before as well. I'll probably retry things on CI a few times. [0] https://github.com/Dentosal/portpicker-rs/blob/912f913ac325278a564d8828d550070db1d79373/src/lib.rs#L53",next-dev test runner: ask os for free port (#238),"These integration tests have been flaky, failing when a ""free"" port turns out to be in use. Since nextest parallelizes test runs and portpicker guesses and checks free ports [0], I'm guessing that there's a collision occurring.  Instead, ask the operating system for a free port by binding to port 0 and read the port back from the resulting address. Test Plan: Tried local runs with nextest, but those succeeded before as well. I'll probably retry things on CI a few times. [0] link"
2729,fix value macro panic message (#239),,fix value macro panic message (#239),
2730,Implement basic test app generator (#219),  Implement test app generator   Implement basic test app generator   Remove into_iter()   Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com  Update crates/turbopack-create-test-app/src/main.rs  Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Leah github.leah@hrmny.sh,Implement basic test app generator (#219),Implement test app generator Implement basic test app generator Remove into_iter() Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Update crates/turbopack-create-test-app/src/main.rs Co-authored-by: Leah github.leah@hrmny.sh Co-authored-by: Alex Kirszenberg alex.kirszenberg@vercel.com Co-authored-by: Leah github.leah@hrmny.sh
2731,refactor: Prune prefactor (#1689),  add e2e test for turbo prune --docker   prefactor: move can prune check into package manager   prefactor: dedupe prune docker codepath ,refactor: Prune prefactor (#1689),add e2e test for turbo prune --docker prefactor: move can prune check into package manager prefactor: dedupe prune docker codepath
2732,fix: 🐛 typo (#1688),,fix: 🐛 typo (#1688),
2733,"Flip benchmark to manual, only run on ubuntu, add protoc setup (#1687)",,"Flip benchmark to manual, only run on ubuntu, add protoc setup (#1687)",
2734,"update github status manually, as github doesn't do it correctly for skipped workflows (#237)",update github status manually as github doesn't do it correctly for skipped workflows,"update github status manually, as github doesn't do it correctly for skipped workflows (#237)",update github status manually as github doesn't do it correctly for skipped workflows
2735,workflows should not cancel prev runs when they are skipped (#236),,workflows should not cancel prev runs when they are skipped (#236),
2736,upgrade SWC (#234),,upgrade SWC (#234),
2737,avoid running benchmark action too often on edits (#233),,avoid running benchmark action too often on edits (#233),
2738,upgrade toolchain (#235),  upgrade toolchain   update code for changes in backtrace ,upgrade toolchain (#235),upgrade toolchain update code for changes in backtrace
2739,add comment to workflow (#232),,add comment to workflow (#232),
2740,reduce CI workload for non-main PRs (#231),This runs a Quick Test (only linux) for stacked PRs and the real test once the base branch is changed to main.,reduce CI workload for non-main PRs (#231),This runs a Quick Test (only linux) for stacked PRs and the real test once the base branch is changed to main.
2741,Fix auto deref clippy warnings (#229),"Some of these were addressable using clippy's suggestion, but in others (specifically when dereferencing a vc) the deref seems to be required. In those cases I extracted the dereferenced value into a variable, which often was enough to prevent the automatic deref check. In others, I suppressed it (a let or block is required to suppress clippy). Test Plan: cargo nextest run",Fix auto deref clippy warnings (#229),"Some of these were addressable using clippy's suggestion, but in others (specifically when dereferencing a vc) the deref seems to be required. In those cases I extracted the dereferenced value into a variable, which often was enough to prevent the automatic deref check. In others, I suppressed it (a let or block is required to suppress clippy). Test Plan: cargo nextest run"
2742,Fix Safety clippy warnings (#228),It seems like clippy requires a specific format for these comments. Test Plan: Verify clippy no longer warns.,Fix Safety clippy warnings (#228),It seems like clippy requires a specific format for these comments. Test Plan: Verify clippy no longer warns.
2743,docs: Update with-nextjs readme to add prisma starter link (#1682),Add a link to with-nextjs starter to Prisma starter.,docs: Update with-nextjs readme to add prisma starter link (#1682),Add a link to with-nextjs starter to Prisma starter.
2744,update: create-turbo templates to use react v18 (#1685),,update: create-turbo templates to use react v18 (#1685),
2745,next-dev test runner: Ensure skipped tests fail (#216),"This adds test runs for integration tests in __skipped__ directories, ensuring that they fail, otherwise they should probably be unskipped. Test Plan: Temporarily moved a succeeding test into a __skipped__ directory and ensured that cargo test began failing that test.",next-dev test runner: Ensure skipped tests fail (#216),"This adds test runs for integration tests in skipped directories, ensuring that they fail, otherwise they should probably be unskipped. Test Plan: Temporarily moved a succeeding test into a skipped directory and ensured that cargo test began failing that test."
2746,next-dev test runner: Check in and use webpack's chunk test cases (#212),This commits webpack's chunk tests (test/cases/chunks) and skips those that do not pass yet. Test Plan: cargo test -p next-dev -- --nocapture and verify the non-skipped tests run.,next-dev test runner: Check in and use webpack's chunk test cases (#212),This commits webpack's chunk tests (test/cases/chunks) and skips those that do not pass yet. Test Plan: cargo test -p next-dev -- --nocapture and verify the non-skipped tests run.
2747,Make try_join_all respect order (#221),"This implements try_join_all with join_all, making it respect the order of futures provided, as well as deterministically return the first error that occurred not by time, but by the future order. This was preventing #212 from inserting script tags in a consistent order. Test Plan: cargo test",Make try_join_all respect order (#221),"This implements try_join_all with join_all, making it respect the order of futures provided, as well as deterministically return the first error that occurred not by time, but by the future order. This was preventing #212 from inserting script tags in a consistent order. Test Plan: cargo test"
2748,Remove corepack upgrade step from corepack build target (#1668),"The corepack step as it exists causes issues if a machine already has corepack enabled and is using the npm shim: ``` olszewski@chriss-mbp cli % make corepack npm install -g corepack@latest Usage Error: This project is configured to use pnpm $ npm ... make: *** [corepack] Error 1 ``` I think we could get around this by changing to a working directory without a packageManager, but that feels very icky.  Since we were only upgrading corepack in order to avoid #110 which only happens the first time a user sets up a package manager on a machine, I think this an acceptable regression in order to unblock development. We should follow what comes out of #157 to see if we can add this back eventually.",Remove corepack upgrade step from corepack build target (#1668),"The corepack step as it exists causes issues if a machine already has corepack enabled and is using the npm shim: module I think we could get around this by changing to a working directory without a packageManager, but that feels very icky.  Since we were only upgrading corepack in order to avoid #110 which only happens the first time a user sets up a package manager on a machine, I think this an acceptable regression in order to unblock development. We should follow what comes out of #157 to see if we can add this back eventually."
2749,"Introduce FileContent, Versioned, and refactor dev server updates (#209)","This prepares the way for HMR (#160) by letting us diff assets between versions.  Add Asset::versioned_content which returns a VersionedContentVc. VersionedContents have a built-in versioning mechanism as they must implement version() -> VersionVc. Version is a trait, so VersionVc can contain a specific version implementation by asset type. This is particularly important because...  A VersionedContentVc can be diffed with a VersionVc from the same underlying VersionedContent type with content.update(from: version). This returns an UpdateVc which describes the steps necessary to update from one verson to the next. In the case of ES chunks, this will be a map of added, and modified module IDs, with their respective factories, and a set of deleted module IDs. Implement diffing for ES chunks.","Introduce FileContent, Versioned, and refactor dev server updates (#209)","This prepares the way for HMR (#160) by letting us diff assets between versions. Add Asset::versioned_content which returns a VersionedContentVc. VersionedContents have a built-in versioning mechanism as they must implement version() -> VersionVc. Version is a trait, so VersionVc can contain a specific version implementation by asset type. This is particularly important because...  A VersionedContentVc can be diffed with a VersionVc from the same underlying VersionedContent type with content.update(from: version). This returns an UpdateVc which describes the steps necessary to update from one verson to the next. In the case of ES chunks, this will be a map of added, and modified module IDs, with their respective factories, and a set of deleted module IDs. Implement diffing for ES chunks."
2750,Make it easier to copy paste command from README (#1678),Fixes #1650,Make it easier to copy paste command from README (#1678),Fixes #1650
2751,chore(deps): update nextjs monorepo to v12.2.4 (#1670)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-config-next | 12.2.3 -> 12.2.4 |  |  |  |  | | next (source) | 12.2.3 -> 12.2.4 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update nextjs monorepo to v12.2.4 (#1670),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-config-next | 12.2.3 -> 12.2.4 |  |  |  |  | | next (source) | 12.2.3 -> 12.2.4 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2752,chore(deps): update dependency postcss to v8.4.16 (#1669),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency postcss to v8.4.16 (#1669),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2753,next-dev test runner: Implement manual debug mode (#211),"This implements a manual debug mode for next-dev tests, enabled by setting the environment variable TURBOPACK_DEBUG_BROWSER to any value. It launches the test browser in non-headless mode and holds it open ~~indefinitely~~ until the user closes it, so it can be inspected. Test Plan: TURBOPACK_DEBUG_BROWSER=1 cargo test -p next-dev -- test_crates_next_dev_tests_integration_chunks_circular_correctness --nocapture and verify the browser is opened non-headless and is held open",next-dev test runner: Implement manual debug mode (#211),"This implements a manual debug mode for next-dev tests, enabled by setting the environment variable TURBOPACK_DEBUG_BROWSER to any value. It launches the test browser in non-headless mode and holds it open ~~indefinitely~~ until the user closes it, so it can be inspected. Test Plan: TURBOPACK_DEBUG_BROWSER=1 cargo test -p next-dev -- test_crates_next_dev_tests_integration_chunks_circular_correctness --nocapture and verify the browser is opened non-headless and is held open"
2754,Sync up latest integration tests from @vercel/nft (#217),,Sync up latest integration tests from @vercel/nft (#217),
2755,publish 1.4.3 to registry,,publish 1.4.3 to registry,
2756,Additional details on invisible environment variables. (#1665),,Additional details on invisible environment variables. (#1665),
2757,OG Image: v1-4-0,,OG Image: v1-4-0,
2758,Separate ValueDebugFormat derive from ValueDebug derive (#218),"Split from #209 This lets any non-#[turbo_tasks::value] struct be debug-formatted properly when inside another #[turbo_tasks::value] struct. e.g. ```rust [turbo_tasks::value] struct Value1 {   value2: Value2, } [derive(TraceRawVcs, Serialize, Debug, Deserialize, PartialEq, Eq) struct Value2 {   value3: Value3Vc } [turbo_tasks::value] struct Value3 {   str: StringVc } ``` Prints: rust Value1 {     value2: Value2 {         value3: Value3Vc {             node: TaskCell(                 TaskId {                     id: 58,                 },                 0,             ),         },     }, } Replacing the Debug derive with ValueDebugFormat for Value2 prints: rust Value1 {     value2: Value2 {         value3: Value3 {           str: ""hello!""         },     }, }",Separate ValueDebugFormat derive from ValueDebug derive (#218),"Split from #209 This lets any non-#[turbo_tasks::value] struct be debug-formatted properly when inside another #[turbo_tasks::value] struct. e.g. module Prints: rust Value1 {     value2: Value2 {         value3: Value3Vc {             node: TaskCell(                 TaskId {                     id: 58,                 },                 0,             ),         },     }, } Replacing the Debug derive with ValueDebugFormat for Value2 prints: rust Value1 {     value2: Value2 {         value3: Value3 {           str: ""hello!""         },     }, }"
2759,Update toolchain to 2022-08-02 (#215),  Update toolchain to 2022-08-02   Fix warnings ,Update toolchain to 2022-08-02 (#215),Update toolchain to 2022-08-02 Fix warnings
2760,css url codegen (#213),,css url codegen (#213),
2761,next-dev test runner (#172),"This is a very early version of the next-dev test runner. I'm opening this early to get thoughts from folks re: the direction of the design and implementation. Fixes #204  Currently it: * Discovers integration test fixtures from the filesystem. Right now these are expected to be single files that get bundled and will eventually include assertions. This is powered by the test-generator crate, which allows us not to have to manually enumerate each case. We could consider using this for the node-file-trace tests as well. * Starts the dev server on a free port and opens a headless browser to its root. The browser control is implemented with the https://crates.io/crates/chromiumoxide crate, which expects Chrome or Chromium to already be available. Eventually it will: * [x] Implement a minimal test environment loaded in the browser so that assertions can be run there from bundled code. * [x] Report back the results of these assertions to rust, where we can pass/fail cargo tests with those results. In the future it could: * Possibly include snapshot-style tests to assert on transformed results. This could be in the form of fixture directories instead of files cc @jridgewell * Support expressing special configuration of turbopack in a fixture, possibly as another file in the fixture directory. * [x] ~Possibly support distributing tests to a pool of open browsers instead of opening and closing for each test.~ Test Plan: See next PRs",next-dev test runner (#172),"This is a very early version of the next-dev test runner. I'm opening this early to get thoughts from folks re: the direction of the design and implementation. Fixes #204  Currently it: * Discovers integration test fixtures from the filesystem. Right now these are expected to be single files that get bundled and will eventually include assertions. This is powered by the test-generator crate, which allows us not to have to manually enumerate each case. We could consider using this for the node-file-trace tests as well. * Starts the dev server on a free port and opens a headless browser to its root. The browser control is implemented with the link crate, which expects Chrome or Chromium to already be available. Eventually it will: * [x] Implement a minimal test environment loaded in the browser so that assertions can be run there from bundled code. * [x] Report back the results of these assertions to rust, where we can pass/fail cargo tests with those results. In the future it could: * Possibly include snapshot-style tests to assert on transformed results. This could be in the form of fixture directories instead of files cc @jridgewell * Support expressing special configuration of turbopack in a fixture, possibly as another file in the fixture directory. * [x] ~Possibly support distributing tests to a pool of open browsers instead of opening and closing for each test.~ Test Plan: See next PRs"
2762,Update post,,Update post,
2763,Fix tab/spaces for 1.4 post. (#1659),,Fix tab/spaces for 1.4 post. (#1659),
2764,Update 1-4 blog post (#1658),Co-authored-by: Lee Robinson 9113740+leerob@users.noreply.github.com Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com,Update 1-4 blog post (#1658),Co-authored-by: Lee Robinson 9113740+leerob@users.noreply.github.com Co-authored-by: Mehul Kar 490968+mehulkar@users.noreply.github.com
2765,publish 1.4.3-canary.0 to registry,,publish 1.4.3-canary.0 to registry,
2766,ci: bump actions versions,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: bump actions versions,Signed-off-by: Artur Troian troian.ap@gmail.com
2767,feat: go 1.19,bump goreleaser to v1.10.3 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go 1.19,bump goreleaser to v1.10.3 Signed-off-by: Artur Troian troian.ap@gmail.com
2768,Attempt at an alternative corepack implementation. (#1656),"I don't actually know if this will work, but I was trying to make the system itself responsible for maintaining the executable paths so that we didn't need to account for it in our e2e scripts.",Attempt at an alternative corepack implementation. (#1656),"I don't actually know if this will work, but I was trying to make the system itself responsible for maintaining the executable paths so that we didn't need to account for it in our e2e scripts."
2769,Weird makefile differences (#1653),When run via make and directly on the command line this was getting different results.,Weird makefile differences (#1653),When run via make and directly on the command line this was getting different results.
2770,Make the defensive behavior correct. (#1651),"Defensive behavior caught a build issue, but not where I expected it.",Make the defensive behavior correct. (#1651),"Defensive behavior caught a build issue, but not where I expected it."
2771,fix(berry arg parsing) (#1612),  remove debug action from CI   add e2e test for arg parsing   add fix for berry arg passing   Create more robust arg passing testing script   The initial testing script had a hidden dependency on the length of the node path which would trigger the output to be spread over multiple lines. This lead to confusing logic around handling the case when it all fit onto one line. This commit changes the script to now always output all information on a single line.   add additional test cases for arg passing   add pnpm6 to e2e tests   move pnpm 6/7 behavior split into new package manager   Add comments and delete unused code ,fix(berry arg parsing) (#1612),remove debug action from CI add e2e test for arg parsing add fix for berry arg passing Create more robust arg passing testing script The initial testing script had a hidden dependency on the length of the node path which would trigger the output to be spread over multiple lines. This lead to confusing logic around handling the case when it all fit onto one line. This commit changes the script to now always output all information on a single line. add additional test cases for arg passing add pnpm6 to e2e tests move pnpm 6/7 behavior split into new package manager Add comments and delete unused code
2772,docs: fix turbo prune with docker blog example (#1596),This updates the turbo prune with docker multi-stage builds example from the 0.4.0 release blog post so that it can be run without errors. See the Github comments for further explanation.,docs: fix turbo prune with docker blog example (#1596),This updates the turbo prune with docker multi-stage builds example from the 0.4.0 release blog post so that it can be run without errors. See the Github comments for further explanation.
2773,fix: remove debug action from CI (#1649),An action I was using to debug CI jobs in #1632 accidentally got merged,fix: remove debug action from CI (#1649),An action I was using to debug CI jobs in #1632 accidentally got merged
2774,switch e2e tests to use corepack (#1632),"A quick and dirty switch to use corepack for managing package managers for our e2e tests. A few things to note:  - Running these tests on a local machine will enable corepack on that machine, this could be undesired for some devs.  - I found that it is necessary to forcibly add the corepack install dir to the top of $PATH in case a dev has a package manager installed elsewhere that would take priority. At the moment this is only useful for the Yarn/Berry split, but it would simplify #1612 which adds pnpm6 to e2e tests quite a bit.",switch e2e tests to use corepack (#1632),"A quick and dirty switch to use corepack for managing package managers for our e2e tests. A few things to note:  - Running these tests on a local machine will enable corepack on that machine, this could be undesired for some devs.  - I found that it is necessary to forcibly add the corepack install dir to the top of $PATH in case a dev has a package manager installed elsewhere that would take priority. At the moment this is only useful for the Yarn/Berry split, but it would simplify #1612 which adds pnpm6 to e2e tests quite a bit."
2775,chore: release npm packages, @vercel/webpack-node-module-trace@0.0.3,chore: release npm packages,@vercel/webpack-node-module-trace@0.0.3
2776,Fix wrong hooks usage in webpack-node-module-trace (#214),,Fix wrong hooks usage in webpack-node-module-trace (#214),
2777,fix(deps): update dependency copy-to-clipboard to v3.3.2 (#1644),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency copy-to-clipboard to v3.3.2 (#1644),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2778,Comment a few methods (#210),,Comment a few methods (#210),
2779,add issue reporting to next dev (#208),,add issue reporting to next dev (#208),
2780,Fix toml format check failed on CI (#207),Focus install workspace root dependencies to avoid symbol-linked directories,Fix toml format check failed on CI (#207),Focus install workspace root dependencies to avoid symbol-linked directories
2781,fix(deps): update dependency @react-types/radio to v3.2.2 (#1643)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-types/radio | 3.2.1 -> 3.2.2 |  |  |  |  |  Release Notes  adobe/react-spectrum  ### [`v3.2.2`](https://togithub.com/adobe/react-spectrum/compare/@react-stately/toggle@3.2.1...@react-stately/toggle@3.2.2)  [Compare Source](https://togithub.com/adobe/react-spectrum/compare/@react-types/radio@3.2.1...@react-types/radio@3.2.2)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency @react-types/radio to v3.2.2 (#1643),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @react-types/radio | 3.2.1 -> 3.2.2 |  |  |  |  | Release Notes adobe/react-spectrum module Compare Source Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2782,chore(deps): update dependency tailwindcss to v3.1.8 (#1635)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tailwindcss (source) | 3.1.6 -> 3.1.8 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency tailwindcss to v3.1.8 (#1635),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tailwindcss (source) | 3.1.6 -> 3.1.8 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2783,feat(examples) update examples & starters to use eslint config (#1639),,feat(examples) update examples & starters to use eslint config (#1639),
2784,Remove docs-index workflow,,Remove docs-index workflow,
2785,Rename main.yml to docs-index.yml,,Rename main.yml to docs-index.yml,
2786,Add docs index,,Add docs index,
2787,chore(deps): update dependency @babel/core to v7.18.10 (#1634),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency @babel/core to v7.18.10 (#1634),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2788,feat(examples): add vite (#1573),Vite example.  Fixes TURBO-205,feat(examples): add vite (#1573),Vite example.  Fixes TURBO-205
2789,Correct the license identifiers. (#1638),"LICENSE files were correct, but the identifier in package.json needed updating.",Correct the license identifiers. (#1638),"LICENSE files were correct, but the identifier in package.json needed updating."
2790,refactor turbo-tasks-macros (#198),"Changes attribute/argument parsing to the more usual field = ""value"" / turbo_tasks(trace_ignore)",refactor turbo-tasks-macros (#198),"Changes attribute/argument parsing to the more usual field = ""value"" / turbo_tasks(trace_ignore)"
2791,rename ModuleAsset (#206),,rename ModuleAsset (#206),
2792,add cell_local (#203),,add cell_local (#203),
2793,Add support for dynamic import loading (#202),"This also adds a new __turbopack_import__ module helper, which checks whether a chunk has been loaded and inserts a new <script> if not. This PR is just the starting point. We need to better support dynamic resolution (import(value)), import assertions, and split the full traversal of the deferred chunk group's module graph until the browser makes the request (instead of doing all the work during the main chunk loading).",Add support for dynamic import loading (#202),"This also adds a new turbopack_import module helper, which checks whether a chunk has been loaded and inserts a new "
2794,"Revert ""hotfix: set height on marquee to avoid layout shift"" (#1631)",This reverts commit 2e2f54aa59c7f1ea426cc7091972b63917dd024e. The static height was introduced to fix a layout shift that doesn't reproduce anymore. The static height clips logos that are taller than then 40px. Shows up even more on larger screens where images are scaled larger. This static height isn't needed anymore.,"Revert ""hotfix: set height on marquee to avoid layout shift"" (#1631)",This reverts commit 2e2f54aa59c7f1ea426cc7091972b63917dd024e. The static height was introduced to fix a layout shift that doesn't reproduce anymore. The static height clips logos that are taller than then 40px. Shows up even more on larger screens where images are scaled larger. This static height isn't needed anymore.
2795,simplify turbo_tasks::value (#196),Removes the trait arguments and registers them separately,simplify turbo_tasks::value (#196),Removes the trait arguments and registers them separately
2796,add open-browser option (#199),Fixes https://github.com/vercel/turbo-tooling/issues/171,add open-browser option (#199),Fixes link
2797,fix(examples): fix cra ui package (#1629),,fix(examples): fix cra ui package (#1629),
2798,track processing path for issues (#205),allow to attach context at any point show processing path in output move cli issue display into separate crate,track processing path for issues (#205),allow to attach context at any point show processing path in output move cli issue display into separate crate
2799,feat(packages): eslint-config-turbo (#1628),"eslint-config-turbo Setting up lint for turbo is now as easy as adding turbo to your eslint extends array: {   ""extends"": [""turbo""] }",feat(packages): eslint-config-turbo (#1628),"eslint-config-turbo Setting up lint for turbo is now as easy as adding turbo to your eslint extends array: {   ""extends"": [""turbo""] }"
2800,chore(deps): update dependency @types/react to v17.0.48 (#1624)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react | 17.0.47 -> 17.0.48 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @types/react to v17.0.48 (#1624),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react | 17.0.47 -> 17.0.48 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2801,refactor turbo-tasks-build (#197),Moves the naming functions to use them from turbo-tasks-build and may or may not make turbo-tasks-build easier to read,refactor turbo-tasks-build (#197),Moves the naming functions to use them from turbo-tasks-build and may or may not make turbo-tasks-build easier to read
2802,chore(deps): update dependency autoprefixer to v10.4.8 (#1625),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency autoprefixer to v10.4.8 (#1625),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2803,feat(packages): eslint-plugin-turbo (#1620), feat(packages): eslint-plugin-turbo  update test name   review updates   chore(eslint-plugin): change rule name   fixes ,feat(packages): eslint-plugin-turbo (#1620),feat(packages): eslint-plugin-turbo update test name review updates chore(eslint-plugin): change rule name fixes
2804,add new turbo_tasks primitive: collectibles (#201),"This adds two new APIs: rs turbo_tasks::emit(some_trait_vc) emits some kind of value to the current task. It will bubble up the call graph until processed via: rs let some_vc = some_function(); let all_emitted_vcs: Vec<SomeTraitVc> = some_vc.peek_collectibles::<SomeTraitVc>().await?; // or let all_emitted_vcs: Vec<SomeTraitVc> = some_vc.take_collectibles::<SomeTraitVc>().await?; The peek variant will return the emitted values, but they will continue to bubble up the call graph. The take variant will stop bubbling and parent tasks will not see these values. You may re-emit them via emit() again. Peeking is a bit more efficient. Emitting is pretty cheap. Peeking and taking is counted as read operation and the task will invalidate when new values are emitted or existing ones are removed.  This also improves the error handling for node-file-trace:  but there is still a lot to do to improve that...",add new turbo_tasks primitive: collectibles (#201),"This adds two new APIs: rs turbo_tasks::emit(some_trait_vc) emits some kind of value to the current task. It will bubble up the call graph until processed via: rs let some_vc = some_function(); let all_emitted_vcs: Vec = some_vc.peek_collectibles::().await?; // or let all_emitted_vcs: Vec = some_vc.take_collectibles::().await?; The peek variant will return the emitted values, but they will continue to bubble up the call graph. The take variant will stop bubbling and parent tasks will not see these values. You may re-emit them via emit() again. Peeking is a bit more efficient. Emitting is pretty cheap. Peeking and taking is counted as read operation and the task will invalidate when new values are emitted or existing ones are removed. This also improves the error handling for node-file-trace: but there is still a lot to do to improve that..."
2805,feat(cli): add TURBO_CI_VENDOR_ENV_KEY (#1622),Support blocklist for automatically include env vars,feat(cli): add TURBO_CI_VENDOR_ENV_KEY (#1622),Support blocklist for automatically include env vars
2806,hotfix(docs): change remote cache callouts to warnings,,hotfix(docs): change remote cache callouts to warnings,
2807,show significant benchmark diff (#200),,show significant benchmark diff (#200),
2808,fix css layer import (#195),kdy1 fixes this upstream,fix css layer import (#195),kdy1 fixes this upstream
2809,Extract server creation into own function and module (#191),  Extract server creation into fn   Use builder pattern and anyhow context ,Extract server creation into own function and module (#191),Extract server creation into fn Use builder pattern and anyhow context
2810,Update showcase (#1621),,Update showcase (#1621),
2811,Make releasing more-defensive of errors. (#1618),"The 1.4.1 release demonstrated some gaps in the release process, this tests for error conditions before publishing, and removes the required lockfile dependency update.",Make releasing more-defensive of errors. (#1618),"The 1.4.1 release demonstrated some gaps in the release process, this tests for error conditions before publishing, and removes the required lockfile dependency update."
2812,Custom debug implementation for Vcs (#193),"This PR builds our own Debug-like derive-macro machinery for formatting structs, relying on std::fmt::Formatter for the actual formatting. Usage A new ValueDebug trait is automatically implemented for all #[turbo_tasks::value]s, which has a single .dbg() method which resolves to a debug representation that can then be printed to the screen. #[turbo_tasks::value_trait] also implement the .dbg() method directly. rust dbg!(any_vc.dbg().await?); If you have a #[turbo_tasks::value] struct with a field that doesn't implement Debug, you'll want to declare that field as #[debug_ignore]. For instance: ```rust [turbo_tasks::value(ContentSource, serialization: none, eq: manual, cell: new, into: new)] pub struct TurboTasksSource {     #[debug_ignore]     #[trace_ignore]     pub turbo_tasks: Arc>, } ``` Why not use Debug directly? We can't use Debug because our values are resolved asynchronously and can nest Vcs arbitrarily. I tried using futures::executor::block_on to resolve them synchronously in a Debug implementation but that causes deadlocks.",Custom debug implementation for Vcs (#193),"This PR builds our own Debug-like derive-macro machinery for formatting structs, relying on std::fmt::Formatter for the actual formatting. Usage A new ValueDebug trait is automatically implemented for all #[turbo_tasks::value]s, which has a single .dbg() method which resolves to a debug representation that can then be printed to the screen. #[turbo_tasks::value_trait] also implement the .dbg() method directly. rust dbg!(any_vc.dbg().await?); If you have a #[turbo_tasks::value] struct with a field that doesn't implement Debug, you'll want to declare that field as #[debug_ignore]. For instance: module Why not use Debug directly? We can't use Debug because our values are resolved asynchronously and can nest Vcs arbitrarily. I tried using futures::executor::block_on to resolve them synchronously in a Debug implementation but that causes deadlocks."
2813,chore(owners): add chris & mehul (#1616),,chore(owners): add chris & mehul (#1616),
2814,docs: add N26 to showcase list (#1610),"Hey folks 👋 , First of all, thanks for the amazing work with Turborepo. I've started experimenting with this tool in my current work and it works so well that we managed to get it fully integrated into our pipelines. This little PR is including https://n26.com to the showcase list. | Light Version | Dark Version | |------|-------| |     |     | Cheers! Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com",docs: add N26 to showcase list (#1610),"Hey folks 👋 , First of all, thanks for the amazing work with Turborepo. I've started experimenting with this tool in my current work and it works so well that we managed to get it fully integrated into our pipelines. This little PR is including link to the showcase list. | Light Version | Dark Version | |------|-------| |     |     | Cheers! Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com"
2815,add turbo_tasks test case (#192),,add turbo_tasks test case (#192),
2816,chore: release npm packages, node-file-trace@0.0.1 @vercel/webpack-node-module-trace@0.0.2,chore: release npm packages,node-file-trace@0.0.1 @vercel/webpack-node-module-trace@0.0.2
2817,Make the ESPN logo less chonky on /showcase (#1613),,Make the ESPN logo less chonky on /showcase (#1613),
2818,"Revert ""Update Go version updating target.""",This reverts commit 5b62926d90747713262f327251c4070933ce6110.,"Revert ""Update Go version updating target.""",This reverts commit 5b62926d90747713262f327251c4070933ce6110.
2819,Update lockfile,,Update lockfile,
2820,publish 1.4.2 to registry,,publish 1.4.2 to registry,
2821,Update lockfile,,Update lockfile,
2822,Update lockfile,,Update lockfile,
2823,publish 1.4.1-canary.1 to registry,,publish 1.4.1-canary.1 to registry,
2824,Update Go version updating target.,,Update Go version updating target.,
2825,Update lockfile,,Update lockfile,
2826,Update lockfile,,Update lockfile,
2827,publish 1.4.1 to registry,,publish 1.4.1 to registry,
2828,Try different method to identify published state.,,Try different method to identify published state.,
2829,Update lockfile,,Update lockfile,
2830,Update lockfile,,Update lockfile,
2831,publish 1.4.1-canary.0 to registry,,publish 1.4.1-canary.0 to registry,
2832,Await publish before attempting lockfile update. (#1611),Last automated release attempt resulted in a partial lockfile update: https://github.com/vercel/turborepo/commit/c0861594540f6004adad524cf82870578ae00b46 This inserts a delay mechanism to make sure we don't proceed before ready.,Await publish before attempting lockfile update. (#1611),Last automated release attempt resulted in a partial lockfile update: link This inserts a delay mechanism to make sure we don't proceed before ready.
2833,chore(deps): update nextjs monorepo to v12.2.3 (#1544)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-config-next | 12.1.6 -> 12.2.3 |  |  |  |  | | next (source) | 12.0.8 -> 12.2.3 |  |  |  |  | | next (source) | 12.2.2 -> 12.2.3 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again.   [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update nextjs monorepo to v12.2.3 (#1544),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | eslint-config-next | 12.1.6 -> 12.2.3 |  |  |  |  | | next (source) | 12.0.8 -> 12.2.3 |  |  |  |  | | next (source) | 12.2.2 -> 12.2.3 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Renovate will not automatically rebase this PR, because other commits have been found. 🔕 Ignore: Close this PR and you won't be reminded about these updates again. [ ] If you want to rebase/retry this PR, click this checkbox. ⚠ Warning: custom changes will be lost. This PR has been generated by Mend Renovate. View repository job log here."
2834,docs: update deprecated notice for serial option (#1602),Some changes to the CLI Reference Docs in serial option. I have modified the deprecated notice by removing the simple text and adding an error <Callout>.,docs: update deprecated notice for serial option (#1602),Some changes to the CLI Reference Docs in serial option. I have modified the deprecated notice by removing the simple text and adding an error .
2835,docs: Add dark/light mode aware ThemedImage and ThemedImageFigure (#1604),"Added some image utils for us. ` The one that's useful is ThemedImageFigure which gives use light/dark mode images and nice captions on blog posts. There is a also a plain ThemedImage that simple dark/light mode aware. jsx <ThemedImageFigure    borderRadius={true}   dark={{     source: '/images/blog/turbo-1-1-0/dark.png?,     height: 600,     width: 1200   }}   light={{     source: '/images/blog/turbo-1-1-0/light.png',     height: 600,     width: 1200   }}   caption=""This is a caption"" /> ",docs: Add dark/light mode aware ThemedImage and ThemedImageFigure (#1604),Added some image utils for us. ` The one that's useful is ThemedImageFigure which gives use light/dark mode images and nice captions on blog posts. There is a also a plain ThemedImage that simple dark/light mode aware. jsx
2836,Inferencing for environment variables. (#1599),"To prevent overly-aggressive cache partitioning, add per-task inferencing of framework.",Inferencing for environment variables. (#1599),"To prevent overly-aggressive cache partitioning, add per-task inferencing of framework."
2837,Reset prerelease version if bump to non-prerelease versions (#189),,Reset prerelease version if bump to non-prerelease versions (#189),
2838,fix: modern yarn lockfile parsing error (#1597),"Description The header string written to the pruned lockfile by the turbo prune command starts each of the metadata fields at the beginning of a line. This causes the __metadata, version, and cache_key fields to be parsed as separate fields, when really the version and cache_key should be nested within __metadata.  This silently causes the yarn cache to miss on every dependency without throwing an error. Fixing this line drastically improves dependency install times for pruned workspaces when the cache exists. Additionally, turbo throws an error here when running a yarn workspaces focus my-app install afterwards due to the un-nested metadata: ERROR  yarn.lock: could not unmarshal lockfile: yaml: unmarshal errors: --   |   | line 5: cannot unmarshal !!int `5` into fs.LockfileEntry   |   | line 6: cannot unmarshal !!int `8` into fs.LockfileEntry Solution Because the yamlEncoder sets the indent to two, adding two spaces before each of the fields should make this valid syntax. Before: yaml __metadata: version: 5 cacheKey: 8 After: yaml __metadata:   version: 5   cacheKey: 8 Env Yarn v3.2.2 Turborepo v1.3.4",fix: modern yarn lockfile parsing error (#1597),"Description The header string written to the pruned lockfile by the turbo prune command starts each of the metadata fields at the beginning of a line. This causes the __metadata, version, and cache_key fields to be parsed as separate fields, when really the version and cache_key should be nested within __metadata.  This silently causes the yarn cache to miss on every dependency without throwing an error. Fixing this line drastically improves dependency install times for pruned workspaces when the cache exists. Additionally, turbo throws an error here when running a yarn workspaces focus my-app install afterwards due to the un-nested metadata: ERROR  yarn.lock: could not unmarshal lockfile: yaml: unmarshal errors: --   |   | line 5: cannot unmarshal !!int module into fs.LockfileEntry   |   | line 6: cannot unmarshal !!int module into fs.LockfileEntry Solution Because the yamlEncoder sets the indent to two, adding two spaces before each of the fields should make this valid syntax. Before: yaml __metadata: version: 5 cacheKey: 8 After: yaml __metadata:   version: 5   cacheKey: 8 Env Yarn v3.2.2 Turborepo v1.3.4"
2839,Build next-dev in release workflow (#188),,Build next-dev in release workflow (#188),
2840,refactor turbo-tasks-macros code for readablility (#187),,refactor turbo-tasks-macros code for readablility (#187),
2841,refactor lazy asset to lazy graph content source (#186),,refactor lazy asset to lazy graph content source (#186),
2842,introduce ContentSource as source for the dev server (#185),and potentially a next build in future,introduce ContentSource as source for the dev server (#185),and potentially a next build in future
2843,update SWC (#179),It requires some changes in the codebase since SWC has two different string types now: JsWord and Atom We need to change to support both...,update SWC (#179),It requires some changes in the codebase since SWC has two different string types now: JsWord and Atom We need to change to support both...
2844,Replace musl.cc with GitHub release url (#183),we are unable to connect to musl.cc domain in CI for unknown reason; replace the musl.cc URL with GitHub releases.,Replace musl.cc with GitHub release url (#183),we are unable to connect to musl.cc domain in CI for unknown reason; replace the musl.cc URL with GitHub releases.
2845,Remove default_to_path example method (#184),Forgot to remove it before merging #176,Remove default_to_path example method (#184),Forgot to remove it before merging #176
2846,Support default trait methods (#176),See #175,Support default trait methods (#176),See #175
2847,chore: release npm packages, node-file-trace@0.0.0-alpha.3 @vercel/webpack-node-module-trace@0.0.1-alpha.1,chore: release npm packages,node-file-trace@0.0.0-alpha.3 @vercel/webpack-node-module-trace@0.0.1-alpha.1
2848,Implement --dry-run flag for xtask workspace (#181),,Implement --dry-run flag for xtask workspace (#181),
2849,hotfix: set height on marquee to avoid layout shift,,hotfix: set height on marquee to avoid layout shift,
2850,hotfix: fix showcase,,hotfix: fix showcase,
2851,hotfix: Use dark/light dual Image,,hotfix: Use dark/light dual Image,
2852,Uncomment users,,Uncomment users,
2853,hotfix: fix height on /showcase,,hotfix: fix height on /showcase,
2854,hotfix: set height,,hotfix: set height,
2855,Set height,,Set height,
2856,hotfix: marquee,,hotfix: marquee,
2857,"Revert ""1.4 blog post. (#1593)""",This reverts commit c782ba082531550c8414d3cc9139ee01446c007b.,"Revert ""1.4 blog post. (#1593)""",This reverts commit c782ba082531550c8414d3cc9139ee01446c007b.
2858,Update lockfile,,Update lockfile,
2859,fix benchmarks (#182),broke the path in #177,fix benchmarks (#182),broke the path in #177
2860,1.4 blog post. (#1593),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Anthony Shew anthonyshew@gmail.com,1.4 blog post. (#1593),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Anthony Shew anthonyshew@gmail.com
2861,Update lockfile,,Update lockfile,
2862,publish 1.4.0 to registry,,publish 1.4.0 to registry,
2863,Remove --dry-run from npm publish command (#180),,Remove --dry-run from npm publish command (#180),
2864,hotfix: priority on all images to fix layout shift,,hotfix: priority on all images to fix layout shift,
2865,hotfix: layout shift,,hotfix: layout shift,
2866,benchmark refactor (#177),Groups the benchmarks in a nicer way for the final report and reduces nesting in the code,benchmark refactor (#177),Groups the benchmarks in a nicer way for the final report and reduces nesting in the code
2867,Cancel previous GH Actions after push (#174),"When pushing several changes to a pull request, I don't think we need to continue running the actions (particularly benchmarking) for the old commits. This should cancel any still-running workflows when a new commit is pushed.",Cancel previous GH Actions after push (#174),"When pushing several changes to a pull request, I don't think we need to continue running the actions (particularly benchmarking) for the old commits. This should cancel any still-running workflows when a new commit is pushed."
2868,Add swc-ast-explorer (#173)," Add swc-ast-explorer  I was having a bit of trouble visualizing the AST while writing my transform visitor. This bin accepts some JS code via stdin, and outputs the full AST tree (including the Enums and Structs).  fmt",Add swc-ast-explorer (#173),"Add swc-ast-explorer I was having a bit of trouble visualizing the AST while writing my transform visitor. This bin accepts some JS code via stdin, and outputs the full AST tree (including the Enums and Structs). fmt"
2869,Add tools to publish and bump npm packages in yarn workspace (#162),  Add tools to publish and bump npm packages in yarn workspace   chore: release npm packages   node-file-trace@0.0.0-alpha.2   @vercel/webpack-node-module-trace@0.0.1-alpha.0   Cleanup CI and add doc for release   Show current version of packages while bumping up ,Add tools to publish and bump npm packages in yarn workspace (#162),Add tools to publish and bump npm packages in yarn workspace chore: release npm packages node-file-trace@0.0.0-alpha.2 @vercel/webpack-node-module-trace@0.0.1-alpha.0 Cleanup CI and add doc for release Show current version of packages while bumping up
2870,introduce an Environment and track that for the graph and Assets (#167),,introduce an Environment and track that for the graph and Assets (#167),
2871,feat(cli): auto hash framework env vars (#1580),Automatically include framework env vars in task hashes.,feat(cli): auto hash framework env vars (#1580),Automatically include framework env vars in task hashes.
2872,Move browser opening to next-dev cli (#169),"Cherry-picking this from my work on the next-dev test runner. This moves browser opening from the turbopack-dev-server crate into the next-dev crate, which has the cli entrypoint that runs the dev server. It looks like the dev server package is meant to be used as a library (it's only a library crate), and having this external side effect feels unexpected and makes it difficult to use this crate in situations like a test runner for next-dev, where we should test with a headless web browser. Alternatively, opening the browser could be an option passed when creating the dev server, but this feels a bit cleaner to me. Test Plan: cargo run -p next-dev and verify the browser still opens and successfully connects to the dev server.",Move browser opening to next-dev cli (#169),"Cherry-picking this from my work on the next-dev test runner. This moves browser opening from the turbopack-dev-server crate into the next-dev crate, which has the cli entrypoint that runs the dev server. It looks like the dev server package is meant to be used as a library (it's only a library crate), and having this external side effect feels unexpected and makes it difficult to use this crate in situations like a test runner for next-dev, where we should test with a headless web browser. Alternatively, opening the browser could be an option passed when creating the dev server, but this feels a bit cleaner to me. Test Plan: cargo run -p next-dev and verify the browser still opens and successfully connects to the dev server."
2873,print a stack trace in CI (#170),,print a stack trace in CI (#170),
2874,chore: remove non-unsafe unsafe (#168),,chore: remove non-unsafe unsafe (#168),
2875,Update lockfile after version bump (#1591),The root project needs to update the lockfile after publish.,Update lockfile after version bump (#1591),The root project needs to update the lockfile after publish.
2876,.css should be never included in content field (#1589),,.css should be never included in content field (#1589),
2877,Use new future next image component and priority prop (#1588),,Use new future next image component and priority prop (#1588),
2878,publish 1.3.5-canary.0 to registry,,publish 1.3.5-canary.0 to registry,
2879,Wrap in folder.,,Wrap in folder.,
2880,Update archive paths.,,Update archive paths.,
2881,cleanup compile target (#157),,cleanup compile target (#157),
2882,chore: Don't use LTO for local development (#166),LTO will be enabled for release builds via an environment variable,chore: Don't use LTO for local development (#166),LTO will be enabled for release builds via an environment variable
2883,Update archive paths.,,Update archive paths.,
2884,remove warnings (#165),  help rust-analyser   remove warnings ,remove warnings (#165),help rust-analyser remove warnings
2885,reduce number of clippy warnings (#164),,reduce number of clippy warnings (#164),
2886,Use GoReleaser for Builds (#1455),This is to enable using GoReleaser as a first step toward continuous delivery of build artifacts via CI. This is also the first step toward using CGO across a wider array of platforms.,Use GoReleaser for Builds (#1455),This is to enable using GoReleaser as a first step toward continuous delivery of build artifacts via CI. This is also the first step toward using CGO across a wider array of platforms.
2887,hotfix: update description on /showcase,,hotfix: update description on /showcase,
2888,Add /showcase (#1584),Adds a user showcase page to the docs!,Add /showcase (#1584),Adds a user showcase page to the docs!
2889,remove ResolveResult::Nested to remove complexity (#163),,remove ResolveResult::Nested to remove complexity (#163),
2890,feat(turbo-ignore): update to support vercel CI (#1578),Updated to turbo-ignore to be aware of the $VERCEL_GIT_PREVIOUS_SHA Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com,feat(turbo-ignore): update to support vercel CI (#1578),Updated to turbo-ignore to be aware of the $VERCEL_GIT_PREVIOUS_SHA Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com
2891,improve clippy warnings caching (#161),,improve clippy warnings caching (#161),
2892,Support for AMD define call with dependencies (#155),Closes #151,Support for AMD define call with dependencies (#155),Closes #151
2893,Handle exports[*].node field in package.json (#159),,Handle exports[*].node field in package.json (#159),
2894,make rust fail when missing trait in turbo_tasks::value attr (#156),A little hack to make it impossible to forget the trait in turbo_tasks::value attribute.  cc @jridgewell,make rust fail when missing trait in turbo_tasks::value attr (#156),A little hack to make it impossible to forget the trait in turbo_tasks::value attribute. cc @jridgewell
2895,correctly exclude typescript cases from benchmark (#153),support execution on windows,correctly exclude typescript cases from benchmark (#153),support execution on windows
2896,use faster linker (#154),,use faster linker (#154),
2897,Implement codegen for require.cache (#136),Closes #135 Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com,Implement codegen for require.cache (#136),Closes #135 Co-authored-by: Tobias Koppers 1365881+sokra@users.noreply.github.com
2898,Use build override to speed up macro expansion (#152),,Use build override to speed up macro expansion (#152),
2899,fix(deps): update dependency execa to v5.1.1 (#1570)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | execa | 5.0.0 -> 5.1.1 |  |  |  |  |  Release Notes  sindresorhus/execa  ### [`v5.1.1`](https://togithub.com/sindresorhus/execa/releases/tag/v5.1.1)  [Compare Source](https://togithub.com/sindresorhus/execa/compare/v5.1.0...v5.1.1)  -   Fix error message when user passes a single array argument ([#​468](https://togithub.com/sindresorhus/execa/issues/468))  [`2b9c0e1`](https://togithub.com/sindresorhus/execa/commit/2b9c0e1)  ### [`v5.1.0`](https://togithub.com/sindresorhus/execa/releases/tag/v5.1.0)  [Compare Source](https://togithub.com/sindresorhus/execa/compare/v5.0.1...v5.1.0)  -   Add [`.escapedCommand`](https://togithub.com/sindresorhus/execa#escapedcommand) property to the results ([#​466](https://togithub.com/sindresorhus/execa/issues/466))  [`712bafc`](https://togithub.com/sindresorhus/execa/commit/712bafc)  ### [`v5.0.1`](https://togithub.com/sindresorhus/execa/releases/tag/v5.0.1)  [Compare Source](https://togithub.com/sindresorhus/execa/compare/v5.0.0...v5.0.1)  -   Fix `timeout` option validation ([#​463](https://togithub.com/sindresorhus/execa/issues/463))  [`427c5c2`](https://togithub.com/sindresorhus/execa/commit/427c5c2)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",fix(deps): update dependency execa to v5.1.1 (#1570),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | execa | 5.0.0 -> 5.1.1 |  |  |  |  | Release Notes sindresorhus/execa module Compare Source  Fix error message when user passes a single array argument (#​468)  module  module Compare Source  Add module property to the results (#​466)  module  module Compare Source  Fix module option validation (#​463)  module  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2900,fix(deps): update dependency @react-aria/ssr to v3.2.0 (#1551),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency @react-aria/ssr to v3.2.0 (#1551),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2901,chore(deps): update dependency @babel/core to v7.18.9 (#1560)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.18.6 -> 7.18.9 |  |  |  |  |  Release Notes  babel/babel  ### [`v7.18.9`](https://togithub.com/babel/babel/blob/HEAD/CHANGELOG.md#v7189-2022-07-18)  [Compare Source](https://togithub.com/babel/babel/compare/v7.18.6...v7.18.9)  ##### :bug: Bug Fix  -   `babel-plugin-transform-modules-systemjs`, `babel-types`     -   [#​14763](https://togithub.com/babel/babel/pull/14763) fix: allow exporting `TSDeclareFunction` as default ([@​zxbodya](https://togithub.com/zxbodya)) -   `babel-generator`     -   [#​14758](https://togithub.com/babel/babel/pull/14758) fix: `returnType` with comments generates incorrect code ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu))  ##### :nail_care: Polish  -   `babel-cli`     -   [#​14748](https://togithub.com/babel/babel/pull/14748) Print a message when the watcher of `babel-cli` is ready. ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu))  ##### :house: Internal  -   `babel-core`, `babel-helper-remap-async-to-generator`, `babel-helpers`, `babel-parser`, `babel-plugin-transform-block-scoping`, `babel-preset-env`     -   [#​13414](https://togithub.com/babel/babel/pull/13414) Prepare for compiling Babel to native ESM ([@​nicolo-ribaudo](https://togithub.com/nicolo-ribaudo)) -   `babel-helper-create-class-features-plugin`, `babel-helper-member-expression-to-functions`, `babel-helper-remap-async-to-generator`, `babel-helper-replace-supers`, `babel-helper-wrap-function`, `babel-helpers`, `babel-plugin-bugfix-v8-spread-parameters-in-optional-chaining`, `babel-plugin-proposal-decorators`, `babel-plugin-proposal-object-rest-spread`, `babel-plugin-proposal-optional-chaining`, `babel-plugin-transform-block-scoping`, `babel-plugin-transform-classes`, `babel-traverse`, `babel-types`     -   [#​14739](https://togithub.com/babel/babel/pull/14739) Provide better parentPath typings ([@​JLHwung](https://togithub.com/JLHwung))  ##### :running_woman: Performance  -   `babel-generator`     -   [#​14701](https://togithub.com/babel/babel/pull/14701) perf: Improve generator perf ([@​liuxingbaoyu](https://togithub.com/liuxingbaoyu))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @babel/core to v7.18.9 (#1560),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @babel/core (source) | 7.18.6 -> 7.18.9 |  |  |  |  | Release Notes babel/babel module Compare Source :bug: Bug Fix  module, module #​14763 fix: allow exporting module as default (@​zxbodya)   module #​14758 fix: module with comments generates incorrect code (@​liuxingbaoyu)    :nail_care: Polish  module #​14748 Print a message when the watcher of module is ready. (@​liuxingbaoyu)    :house: Internal  module, module, module, module, module, module #​13414 Prepare for compiling Babel to native ESM (@​nicolo-ribaudo)   module, module, module, module, module, module, module, module, module, module, module, module, module, module #​14739 Provide better parentPath typings (@​JLHwung)    :running_woman: Performance  module #​14701 perf: Improve generator perf (@​liuxingbaoyu)    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
2902,fix(deps): update dependency axios to v0.27.2 (#1566),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency axios to v0.27.2 (#1566),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2903,improve bench against node nft (#150),,improve bench against node nft (#150),
2904,symlink support (#148),,symlink support (#148),
2905,Node Module Trace webpack plugin (#140),"  Initialize Node.js/TypeScript workspace   node-module-trace Webpack plugin   Add new fmt checks to pipeline   Popup unwind error   Implement --exact flag   Yarn 3.2.2   Reformat toml files   Fix socket io test, 100ms timeout is too long   remove unnecessary CI cache config   regenerate lockfile from old lockfile, align the dependencies version   Run nmt tests in system tmp dir   Apply code review suggestions   allow to wait for task completion and propagate errors and panics   revert method addition   spawn_root_task should be sync   Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com",Node Module Trace webpack plugin (#140),"Initialize Node.js/TypeScript workspace node-module-trace Webpack plugin Add new fmt checks to pipeline Popup unwind error Implement --exact flag Yarn 3.2.2 Reformat toml files Fix socket io test, 100ms timeout is too long remove unnecessary CI cache config regenerate lockfile from old lockfile, align the dependencies version Run nmt tests in system tmp dir Apply code review suggestions allow to wait for task completion and propagate errors and panics revert method addition spawn_root_task should be sync Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com"
2906,require automerge label,,require automerge label,
2907,Add kodiak config (#149),,Add kodiak config (#149),
2908,fix(turbo-ignore): build on error (#1565),"When using npx turbo-ignore, the HEAD^ used to fetch the previous commit will fail if there is only one commit.  This is a common case (especially when importing a project) and should be handled gracefully (the build should not be skipped when the diff encounters an unknown error) Currently, this fails on Vercel with the following error when running on a repository with only a single commit: ``` Running ""npx turbo-ignore"" 15:00:41.493 | npx: installed 1 in 1.272s 15:00:41.515 | ≫ Using Turborepo to determine if this project is affected by the commit... 15:00:41.515 | ≫ Inferred docs as scope from ""./package.json"" 15:00:41.515 | ≫ Analyzing results of npx turbo run build --filter=docs...[HEAD^] --dry=json... 15:00:46.444 | exec error: Error: Command failed: npx turbo run build --filter=docs...[HEAD^] --dry=json 15:00:46.445 | ERROR  failed to resolve packages to run: commit HEAD^ does not exist 15:00:46.445 |   15:00:46.451 | The Deployment has been canceled as a result of running the command defined in the ""Ignored Build Step"" setting. ```",fix(turbo-ignore): build on error (#1565),"When using npx turbo-ignore, the HEAD^ used to fetch the previous commit will fail if there is only one commit.  This is a common case (especially when importing a project) and should be handled gracefully (the build should not be skipped when the diff encounters an unknown error) Currently, this fails on Vercel with the following error when running on a repository with only a single commit: module"
2909,fix(deps): update dependency @react-stately/radio to v3.4.1 (#1552),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency @react-stately/radio to v3.4.1 (#1552),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2910,publish 1.3.4 to registry,,publish 1.3.4 to registry,
2911,fix(cli): don’t exit when no tasks are found (#1564),,fix(cli): don’t exit when no tasks are found (#1564),
2912,Merge pull request #146 from vercel/feat/eager-compile,allow to switch to eager compiling,Merge pull request #146 from vercel/feat/eager-compile,allow to switch to eager compiling
2913,Move fixtures to correct directory. (#1561),  Move fixtures to correct directory.   Fix paths in test. ,Move fixtures to correct directory. (#1561),Move fixtures to correct directory. Fix paths in test.
2914,allow to switch to eager compiling,,allow to switch to eager compiling,
2915,Merge pull request #145 from vercel/swc/update,update swc and add upgrade script,Merge pull request #145 from vercel/swc/update,update swc and add upgrade script
2916,upgrade swc,,upgrade swc,
2917,upgrade swc and update all deps,,upgrade swc and update all deps,
2918,add upgrade-swc script,,add upgrade-swc script,
2919,Merge pull request #144 from vercel/source-map-reference,Do not reference source map file if not existed,Merge pull request #144 from vercel/source-map-reference,Do not reference source map file if not existed
2920,Do not reference source map file if not existed,,Do not reference source map file if not existed,
2921,Merge pull request #138 from vercel/code-gen/esm-reexports,add support for export * and other reexports,Merge pull request #138 from vercel/code-gen/esm-reexports,add support for export * and other reexports
2922,Merge pull request #143 from vercel/dx/build-script,ignore parse error in the build script,Merge pull request #143 from vercel/dx/build-script,ignore parse error in the build script
2923,Merge pull request #114 from vercel/css-codegen,feat: css codegen,Merge pull request #114 from vercel/css-codegen,feat: css codegen
2924,fix(deps): update dependency @react-types/radio to v3.2.1 (#1553),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency @react-types/radio to v3.2.1 (#1553),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2925,ignore parse error in the build script,,ignore parse error in the build script,
2926,Handle exports in .d.ts files without crashing,,Handle exports in .d.ts files without crashing,
2927,publish 1.3.3 to registry,,publish 1.3.3 to registry,
2928,fix(create-turbo): pnpm peer deps error (#1559),,fix(create-turbo): pnpm peer deps error (#1559),
2929,add support for export * and other reexports,,add support for export * and other reexports,
2930,Merge pull request #142 from vercel/bugfix/timings,timing fixes,Merge pull request #142 from vercel/bugfix/timings,timing fixes
2931,make websocket task special as it never completes,aggregate timings before displaying,make websocket task special as it never completes,aggregate timings before displaying
2932,Merge pull request #139 from vercel/ci/cache-key,give every rust cache a unique key,Merge pull request #139 from vercel/ci/cache-key,give every rust cache a unique key
2933,remove .mjs workaround,,remove .mjs workaround,
2934,simplify writer,,simplify writer,
2935,move handle_resolve_error to turbopack-core,,move handle_resolve_error to turbopack-core,
2936,support media + other stuff,,support media + other stuff,
2937,expand content in parallel,,expand content in parallel,
2938,futures instead of custom join,,futures instead of custom join,
2939,initial css codegen,,initial css codegen,
2940,address unused warnings,,address unused warnings,
2941,publish 1.3.2 to registry,,publish 1.3.2 to registry,
2942,publish 1.3.2-canary.4 to registry,,publish 1.3.2-canary.4 to registry,
2943,give every rust cache a unique key,,give every rust cache a unique key,
2944,Merge pull request #137 from vercel/node-canvas-troubleshooting,Relocate troubleshooting tip for node-canvas,Merge pull request #137 from vercel/node-canvas-troubleshooting,Relocate troubleshooting tip for node-canvas
2945,Relocate troubleshooting tip for node-canvas,,Relocate troubleshooting tip for node-canvas,
2946,Merge pull request #132 from vercel/alexkirsz/require-resolve,Implement codegen for require.resolve,Merge pull request #132 from vercel/alexkirsz/require-resolve,Implement codegen for require.resolve
2947,Makefile works for turbobot (#1550),"This removes unnecessary portions of the makefile, deletes never-published packages, sorts platforms, fixes whitespace, and ensures that it can be run from top to bottom without error.",Makefile works for turbobot (#1550),"This removes unnecessary portions of the makefile, deletes never-published packages, sorts platforms, fixes whitespace, and ensures that it can be run from top to bottom without error."
2948,Merge pull request #133 from vercel/bugfix/runtime,"fix typo in js runtime code, show loopback addr as localhost",Merge pull request #133 from vercel/bugfix/runtime,"fix typo in js runtime code, show loopback addr as localhost"
2949,Merge pull request #134 from vercel/move/esm,move esm references into multiple files,Merge pull request #134 from vercel/move/esm,move esm references into multiple files
2950,Add unreachable error message,,Add unreachable error message,
2951,move esm references into multiple files,,move esm references into multiple files,
2952,show loopback addr as localhost,,show loopback addr as localhost,
2953,fix typo in js runtime code,,fix typo in js runtime code,
2954,Fmt,,Fmt,
2955,Implement codegen for require.resolve,Closes #131,Implement codegen for require.resolve,Closes #131
2956,Merge pull request #122 from vercel/dev-server/refresh,add WebSocket and send refresh,Merge pull request #122 from vercel/dev-server/refresh,add WebSocket and send refresh
2957,Merge pull request #130 from vercel/bugfix/chunk-ext,ensure to put the correct extension to chunks,Merge pull request #130 from vercel/bugfix/chunk-ext,ensure to put the correct extension to chunks
2958,Merge pull request #128 from vercel/dx/disable-rocksdb,Disable turbo-tasks-rocksdb as it hurts compile times,Merge pull request #128 from vercel/dx/disable-rocksdb,Disable turbo-tasks-rocksdb as it hurts compile times
2959,add WebSocket and send refresh,,add WebSocket and send refresh,
2960,also prefetch references when content is done,,also prefetch references when content is done,
2961,Disable turbo-tasks-rocksdb as it hurts compile times,,Disable turbo-tasks-rocksdb as it hurts compile times,
2962,Merge pull request #127 from vercel/test/limit-threads,limit the number of threads in test cases for stability,Merge pull request #127 from vercel/test/limit-threads,limit the number of threads in test cases for stability
2963,ensure to put the correct extension to chunks,,ensure to put the correct extension to chunks,
2964,Merge pull request #129 from vercel/alexkirsz/open-browser,Open browser when the dev server is listening,Merge pull request #129 from vercel/alexkirsz/open-browser,Open browser when the dev server is listening
2965,Merge pull request #123 from vercel/padmaia/docs.rs,Add workflow for publishing docs,Merge pull request #123 from vercel/padmaia/docs.rs,Add workflow for publishing docs
2966,Merge pull request #126 from vercel/viz/table,add performance table,Merge pull request #126 from vercel/viz/table,add performance table
2967,Open browser when the dev server is listening,,Open browser when the dev server is listening,
2968,limit the number of threads in test cases for stability,,limit the number of threads in test cases for stability,
2969,Merge pull request #124 from vercel/publish-nft,Rename token config,Merge pull request #124 from vercel/publish-nft,Rename token config
2970,add performance table,,add performance table,
2971,NPM_TOKEN_ELEVATED,,NPM_TOKEN_ELEVATED,
2972,Add workflow for publishing docs,,Add workflow for publishing docs,
2973,Merge pull request #119 from vercel/dev-server-watch,next-dev: Fix watching relative directories,Merge pull request #119 from vercel/dev-server-watch,next-dev: Fix watching relative directories
2974,next-dev: Fix watching relative directories,Fixes #107,next-dev: Fix watching relative directories,Fixes #107
2975,Merge pull request #117 from vercel/gitignore,Ignore all target directories,Merge pull request #117 from vercel/gitignore,Ignore all target directories
2976,Merge pull request #118 from vercel/troubleshooting,Add a few troubleshooting tips,Merge pull request #118 from vercel/troubleshooting,Add a few troubleshooting tips
2977,Merge pull request #116 from vercel/image-mime,Add a few more image extensions to ModuleType::Static,Merge pull request #116 from vercel/image-mime,Add a few more image extensions to ModuleType::Static
2978,Add a few troubleshooting tips,,Add a few troubleshooting tips,
2979,Ignore all target directories,"The original /target would only ignore the root target directory, but because each sub-crate generates its own creates/foo/target, those would show up in our repo.",Ignore all target directories,"The original /target would only ignore the root target directory, but because each sub-crate generates its own creates/foo/target, those would show up in our repo."
2980,Add a few more image extensions to ModuleType::Static,From https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#apng_animated_portable_network_graphics,Add a few more image extensions to ModuleType::Static,From link
2981,Merge pull request #115 from vercel/refactor/util-duration,add util for formating durations,Merge pull request #115 from vercel/refactor/util-duration,add util for formating durations
2982,publish 1.3.2-canary.3 to registry,,publish 1.3.2-canary.3 to registry,
2983,add util for formating durations,,add util for formating durations,
2984,Merge pull request #108 from vercel/demo/cra,Add features and workarounds for the demo,Merge pull request #108 from vercel/demo/cra,Add features and workarounds for the demo
2985,chore(docs): improvements (#1540),Docs Improvements This PR includes No Functional Changes - only the following improvements:  Remove dead code Consolidates duplicated code / copy Convert all of docs/ to TS Cleanup components Cleanup dependencies,chore(docs): improvements (#1540),Docs Improvements This PR includes No Functional Changes - only the following improvements: Remove dead code Consolidates duplicated code / copy Convert all of docs/ to TS Cleanup components Cleanup dependencies
2986,add mimetype to dev-server,,add mimetype to dev-server,
2987,fixup paths,,fixup paths,
2988,add support for svg,,add support for svg,
2989,allow to enable module and exports only when needed,,allow to enable module and exports only when needed,
2990,chore(deps): update dependency postcss to v8.4.14 (#1542),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency postcss to v8.4.14 (#1542),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2991,improve ESM support to avoid CommonJs transform,,improve ESM support to avoid CommonJs transform,
2992,allow to enable module and exports only when needed,,allow to enable module and exports only when needed,
2993,chore(deps): update pnpm/action-setup action to v2.2.2 (#1546),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update pnpm/action-setup action to v2.2.2 (#1546),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
2994,pass transforms via module options to only transform app code (not node_modules),,pass transforms via module options to only transform app code (not node_modules),
2995,Merge branch 'main' of https://github.com/vercel/turborepo,,Merge branch 'main' of link,
2996,fixes for the demo,,fixes for the demo,
2997,fix visualization,,fix visualization,
2998,fixes,,fixes,
2999,Apply jsx pass,,Apply jsx pass,
3000,Dep,,Dep,
3001,add some temporary workarounds for react,,add some temporary workarounds for react,
3002,Merge pull request #112 from vercel/bugfix/consistency,invalidate dependent tasks before flagging current task as finished,Merge pull request #112 from vercel/bugfix/consistency,invalidate dependent tasks before flagging current task as finished
3003,Merge pull request #113 from vercel/alexkirsz/packages-macos,Installation instructions for macOS,Merge pull request #113 from vercel/alexkirsz/packages-macos,Installation instructions for macOS
3004,Merge pull request #101 from vercel/alezkirsz/static-assets,Naive static assets impl,Merge pull request #101 from vercel/alezkirsz/static-assets,Naive static assets impl
3005,Installation instructions for macOS,,Installation instructions for macOS,
3006,invalidate dependent tasks before flagging current task as finished,,invalidate dependent tasks before flagging current task as finished,
3007,Remove And and Or variants,,Remove And and Or variants,
3008,PR comments,,PR comments,
3009,Remove inner assets,,Remove inner assets,
3010,Remove futures dep and fix await points,,Remove futures dep and fix await points,
3011,Apply suggestions from @sokra,Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com,Apply suggestions from @sokra,Co-authored-by: Tobias Koppers tobias.koppers@googlemail.com
3012,Remove AND and OR,,Remove AND and OR,
3013,WIP: CSS embeds,,WIP: CSS embeds,
3014,Static assets support for ES,,Static assets support for ES,
3015,Naive static assets impl,,Naive static assets impl,
3016,Merge pull request #110 from vercel/bugfix/consistency,fix consistency issue after updates,Merge pull request #110 from vercel/bugfix/consistency,fix consistency issue after updates
3017,fix consistency issue after updates,,fix consistency issue after updates,
3018,Merge pull request #109 from vercel/padmaia/readme,Add readme,Merge pull request #109 from vercel/padmaia/readme,Add readme
3019,Add readme,,Add readme,
3020,publish 1.3.2-canary.2 to registry,,publish 1.3.2-canary.2 to registry,
3021,Filter in package (#1538),Previously we didn't properly check for package prefixes being at actual file-addressing boundaries. This PR resolves the issue. Fixes #1528 Closes #1533 Co-authored-by: Will Van Rensselaer 35181014+wvanrensselaer@users.noreply.github.com Co-authored-by: Joe Boyle 8823810+helloitsjoe@users.noreply.github.com,Filter in package (#1538),Previously we didn't properly check for package prefixes being at actual file-addressing boundaries. This PR resolves the issue. Fixes #1528 Closes #1533 Co-authored-by: Will Van Rensselaer 35181014+wvanrensselaer@users.noreply.github.com Co-authored-by: Joe Boyle 8823810+helloitsjoe@users.noreply.github.com
3022,feat(create-turbo): add schema.json to templates (#1537),,feat(create-turbo): add schema.json to templates (#1537),
3023,Bug: Fix logic that wipes out part of the config (#1527),If not using vercel's build tools we shouldn't wipe out these parts of the config. This fixes building in docker without having to add these undocumented environment variables   fixes issue: https://github.com/vercel/turborepo/issues/1508,Bug: Fix logic that wipes out part of the config (#1527),If not using vercel's build tools we shouldn't wipe out these parts of the config. This fixes building in docker without having to add these undocumented environment variables fixes issue: link
3024,[example/kitchensink] allow accessing vite on any ip/hostname  (#1532),"useful e.g.: in a vagrant setup with port forwarding, when the incoming  request's ip address doesn't match the default 127.0.0.1 It is also consistent with the other services in the example, which aren't bound to a specific IP address either",[example/kitchensink] allow accessing vite on any ip/hostname  (#1532),"useful e.g.: in a vagrant setup with port forwarding, when the incoming  request's ip address doesn't match the default 127.0.0.1 It is also consistent with the other services in the example, which aren't bound to a specific IP address either"
3025,chore(examples): clean the kitchen (sink) (#1534),Updates to kitchen-sink example (inspired by:https://github.com/vercel/turborepo/pull/1522),chore(examples): clean the kitchen (sink) (#1534),Updates to kitchen-sink example (inspired by:link)
3026,Merge pull request #105 from vercel/debug-ci,Fix linux x64 musl build,Merge pull request #105 from vercel/debug-ci,Fix linux x64 musl build
3027,Fix linux x64 musl build,,Fix linux x64 musl build,
3028,feat(examples): add docker (#1522),Docker example including a Next.js app which makes API requests to an Express API. Can be built individually or via docker-compose (see README.md) Addresses https://github.com/vercel/turborepo/issues/215,feat(examples): add docker (#1522),Docker example including a Next.js app which makes API requests to an Express API. Can be built individually or via docker-compose (see README.md) Addresses link
3029,Merge pull request #97 from vercel/clippy-fixes,clippy fixes,Merge pull request #97 from vercel/clippy-fixes,clippy fixes
3030,Implement fsevents (#1419),"Still WIP, but testing w/ FSEvents now works.  Remaining:   - [x] Clean up naming and package structure. It's possible we want to break out a backend package or something   - [x] Verify behavior on remaining platforms (should be unchanged, but needs verification)   - [ ] Documentation on code structure Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com",Implement fsevents (#1419),"Still WIP, but testing w/ FSEvents now works.  Remaining:   - [x] Clean up naming and package structure. It's possible we want to break out a backend package or something   - [x] Verify behavior on remaining platforms (should be unchanged, but needs verification)   - [ ] Documentation on code structure Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com"
3031,revert CARGO_WORKSPACE_DIR removal,,revert CARGO_WORKSPACE_DIR removal,
3032,separate clippy and fmt jobs,,separate clippy and fmt jobs,
3033,chore(deps): update dependency eslint-config-prettier to v8.5.0 (#1531),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency eslint-config-prettier to v8.5.0 (#1531),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
3034,downgrade rust to make rust-analyzer work again,,downgrade rust to make rust-analyzer work again,
3035,fix benches,,fix benches,
3036,fmt,,fmt,
3037,clippy,,clippy,
3038,Merge pull request #104 from vercel/code-gen/require,add support for require(),Merge pull request #104 from vercel/code-gen/require,add support for require()
3039,fix paths,,fix paths,
3040,add support for require(),,add support for require(),
3041,chore(deps): update dependency autoprefixer to v10.4.7 (#1530)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.2.6 -> 10.4.7 |  |  |  |  |  Release Notes  postcss/autoprefixer  ### [`v10.4.7`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1047)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.6...10.4.7)  -   Fixed `print-color-adjust` support in Firefox.  ### [`v10.4.6`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1046)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.5...10.4.6)  -   Fixed `print-color-adjust` support.  ### [`v10.4.5`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1045)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.4...10.4.5)  -   Fixed `NaN` in grid (by [@​SukkaW](https://togithub.com/SukkaW)).  ### [`v10.4.4`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1044)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.3...10.4.4)  -   Fixed `package.funding` to have same value between all PostCSS packages.  ### [`v10.4.3`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1043)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.2...10.4.3)  -   Fixed `package.funding` (by Álvaro Mondéjar).  ### [`v10.4.2`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1042)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.1...10.4.2)  -   Fixed missed `-webkit-` prefix for `width: stretch`.  ### [`v10.4.1`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1041)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.4.0...10.4.1)  -   Fixed `::file-selector-button` data (by Luke Warlow).  ### [`v10.4.0`](https://togithub.com/postcss/autoprefixer/releases/tag/10.4.0)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.7...10.4.0)    In Autoprefixer 10.4 [@​lukewarlow](https://togithub.com/lukewarlow) added `:autofill` support:  ```css input:-webkit-autofill {   background-color: red; }  input:autofill {   background-color: red; } ```  ### [`v10.3.7`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1037)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.6...10.3.7)  -   Replaced `nanocolors` to `picocolors`.  ### [`v10.3.6`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1036)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.5...10.3.6)  -   Updated `nanocolors`. -   Reduced package size.  ### [`v10.3.5`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1035)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.4...10.3.5)  -   Replaced `colorette` to `nanocolors`.  ### [`v10.3.4`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1034)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.3...10.3.4)  -   Fixed `stretch` value in latest Firefox.  ### [`v10.3.3`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1033)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.2...10.3.3)  -   Fixed wrong `-moz-` prefix from  `::file-selector-button` (by Usman Yunusov).  ### [`v10.3.2`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1032)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.1...10.3.2)  -   Fixed `::file-selector-button` support (by Usman Yunusov).  ### [`v10.3.1`](https://togithub.com/postcss/autoprefixer/blob/HEAD/CHANGELOG.md#​1031)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.3.0...10.3.1)  -   Fixed adding wrong prefixes to `content` (by Luke Warlow).  ### [`v10.3.0`](https://togithub.com/postcss/autoprefixer/releases/tag/10.3.0)  [Compare Source](https://togithub.com/postcss/autoprefixer/compare/10.2.6...10.3.0)    In Autoprefixer 10.3 [@​lukewarlow](https://togithub.com/lukewarlow) added `::file-selector-button` support.  ```css ::-webkit-file-upload-button {   border: 2px solid #​6c5ce7;   padding: .2em .4em;   border-radius: .2em;   background-color: #a29bfe; }  ::file-selector-button {   border: 2px solid #​6c5ce7;   padding: .2em .4em;   border-radius: .2em;   background-color: #a29bfe; } ```    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency autoprefixer to v10.4.7 (#1530),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | autoprefixer | 10.2.6 -> 10.4.7 |  |  |  |  | Release Notes postcss/autoprefixer module Compare Source  Fixed module support in Firefox.  module Compare Source  Fixed module support.  module Compare Source  Fixed module in grid (by @​SukkaW).  module Compare Source  Fixed module to have same value between all PostCSS packages.  module Compare Source  Fixed module (by Álvaro Mondéjar).  module Compare Source  Fixed missed module prefix for module.  module Compare Source  Fixed module data (by Luke Warlow).  module Compare Source In Autoprefixer 10.4 @​lukewarlow added module support: ```css input:-webkit-autofill {   background-color: red; } input:autofill {   background-color: red; } ``` module Compare Source  Replaced module to module.  module Compare Source  Updated module. Reduced package size.  module Compare Source  Replaced module to module.  module Compare Source  Fixed module value in latest Firefox.  module Compare Source  Fixed wrong module prefix from  module (by Usman Yunusov).  module Compare Source  Fixed module support (by Usman Yunusov).  module Compare Source  Fixed adding wrong prefixes to module (by Luke Warlow).  module Compare Source In Autoprefixer 10.3 @​lukewarlow added module support. ```css ::-webkit-file-upload-button {   border: 2px solid #​6c5ce7;   padding: .2em .4em;   border-radius: .2em;   background-color: #a29bfe; } ::file-selector-button {   border: 2px solid #​6c5ce7;   padding: .2em .4em;   border-radius: .2em;   background-color: #a29bfe; } ``` Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
3042,chore(deps): update dependency tailwindcss to v3.1.6 (#1529)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tailwindcss (source) | 3.1.3 -> 3.1.6 |  |  |  |  |  Release Notes  tailwindlabs/tailwindcss  ### [`v3.1.6`](https://togithub.com/tailwindlabs/tailwindcss/blob/HEAD/CHANGELOG.md#​316---2022-07-11)  [Compare Source](https://togithub.com/tailwindlabs/tailwindcss/compare/v3.1.5...v3.1.6)  ##### Fixed  -   Fix usage on Node 12.x ([b4e637e](https://togithub.com/tailwindlabs/tailwindcss/commit/b4e637e2e096a9d6f2210efba9541f6fd4f28e56)) -   Handle theme keys with slashes when using `theme()` in CSS ([#​8831](https://togithub.com/tailwindlabs/tailwindcss/pull/8831))  ### [`v3.1.5`](https://togithub.com/tailwindlabs/tailwindcss/blob/HEAD/CHANGELOG.md#​315---2022-07-07)  [Compare Source](https://togithub.com/tailwindlabs/tailwindcss/compare/v3.1.4...v3.1.5)  ##### Added  -   Support configuring a default `font-weight` for each font size utility ([#​8763](https://togithub.com/tailwindlabs/tailwindcss/pull/8763)) -   Add support for alpha values in safe list ([#​8774](https://togithub.com/tailwindlabs/tailwindcss/pull/8774))  ##### Fixed  -   Improve types to support fallback values in the CSS-in-JS syntax used in plugin APIs ([#​8762](https://togithub.com/tailwindlabs/tailwindcss/pull/8762)) -   Support including `tailwindcss` and `autoprefixer` in `postcss.config.js` in standalone CLI ([#​8769](https://togithub.com/tailwindlabs/tailwindcss/pull/8769)) -   Fix using special-characters as prefixes ([#​8772](https://togithub.com/tailwindlabs/tailwindcss/pull/8772)) -   Don’t prefix classes used within arbitrary variants ([#​8773](https://togithub.com/tailwindlabs/tailwindcss/pull/8773)) -   Add more explicit types for the default theme ([#​8780](https://togithub.com/tailwindlabs/tailwindcss/pull/8780))  ### [`v3.1.4`](https://togithub.com/tailwindlabs/tailwindcss/blob/HEAD/CHANGELOG.md#​314---2022-06-21)  [Compare Source](https://togithub.com/tailwindlabs/tailwindcss/compare/v3.1.3...v3.1.4)  ##### Fixed  -   Provide default to `` when using `theme()` ([#​8652](https://togithub.com/tailwindlabs/tailwindcss/pull/8652)) -   Detect arbitrary variants with quotes ([#​8687](https://togithub.com/tailwindlabs/tailwindcss/pull/8687)) -   Don’t add spaces around raw `/` that are preceded by numbers ([#​8688](https://togithub.com/tailwindlabs/tailwindcss/pull/8688))    Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency tailwindcss to v3.1.6 (#1529),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | tailwindcss (source) | 3.1.3 -> 3.1.6 |  |  |  |  | Release Notes tailwindlabs/tailwindcss module Compare Source Fixed  Fix usage on Node 12.x (b4e637e) Handle theme keys with slashes when using module in CSS (#​8831)  module Compare Source Added  Support configuring a default module for each font size utility (#​8763) Add support for alpha values in safe list (#​8774)  Fixed  Improve types to support fallback values in the CSS-in-JS syntax used in plugin APIs (#​8762) Support including module and module in module in standalone CLI (#​8769) Fix using special-characters as prefixes (#​8772) Don’t prefix classes used within arbitrary variants (#​8773) Add more explicit types for the default theme (#​8780)  module Compare Source Fixed  Provide default to moduletheme()` (#​8652) Detect arbitrary variants with quotes (#​8687) Don’t add spaces around raw module that are preceded by numbers (#​8688)  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
3043,Merge pull request #103 from vercel/code-gen/exports,improve code generation to handle esm exports,Merge pull request #103 from vercel/code-gen/exports,improve code generation to handle esm exports
3044,fix test case,,fix test case,
3045,improve code generation to handle esm exports,,improve code generation to handle esm exports,
3046,Examples fast follows (#1526),,Examples fast follows (#1526),
3047,feat(examples): add cra (#1504),  feat(examples): add cra   Review updates   add missing dependency ,feat(examples): add cra (#1504),feat(examples): add cra Review updates add missing dependency
3048,Merge pull request #99 from vercel/bench-against-node-nft,Run benchmark against @vercel/nft,Merge pull request #99 from vercel/bench-against-node-nft,Run benchmark against @vercel/nft
3049,Add with-prisma example (#979),"What's been changed  Added new with-prisma example Originally based off basic example Added .env.example for all required environment variables Added docker-compose.yml to deploy a MySQL database locally Added prisma config to root package.json to allow use of prisma CLI from root apps/web: Added basic Next.js app with ""Hello World"" Added basic API route to access prisma client    packages/database: Added basic Prisma schema Added Prisma client that is re-exported Added tsup to build Prisma client export Added seed.ts script to pre-populate your database Included symlink .env to workspace root      Feedback This is of course how I feel a basic Prisma example should be structured. Any changes, feedback or questions are gladly welcome.",Add with-prisma example (#979),"What's been changed Added new with-prisma example Originally based off basic example Added .env.example for all required environment variables Added docker-compose.yml to deploy a MySQL database locally Added prisma config to root package.json to allow use of prisma CLI from root apps/web: Added basic Next.js app with ""Hello World"" Added basic API route to access prisma client  packages/database: Added basic Prisma schema Added Prisma client that is re-exported Added tsup to build Prisma client export Added seed.ts script to pre-populate your database Included symlink .env to workspace root Feedback This is of course how I feel a basic Prisma example should be structured. Any changes, feedback or questions are gladly welcome."
3050,Merge pull request #102 from vercel/bundle/code-gen,Improvements to code generation,Merge pull request #102 from vercel/bundle/code-gen,Improvements to code generation
3051,macro for visitors,"initial impl for ""export default""",macro for visitors,"initial impl for ""export default"""
3052,eagerly compiled code,,eagerly compiled code,
3053,Fix tests,,Fix tests,
3054,Move publish crate into xtask,,Move publish crate into xtask,
3055,Disable bzip2 feature of rocksdb to make lto work,,Disable bzip2 feature of rocksdb to make lto work,
3056,Enable thin lto on release build,,Enable thin lto on release build,
3057,"Introduce turbo-malloc, skip ts cases in benchmark",,"Introduce turbo-malloc, skip ts cases in benchmark",
3058,Run benchmark against @vercel/nft,,Run benchmark against @vercel/nft,
3059,Merge pull request #77 from vercel/bundle/code-gen,initial work towards code generation,Merge pull request #77 from vercel/bundle/code-gen,initial work towards code generation
3060,chore(deps): update dependency @babel/core to v7.18.6 (#1523),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency @babel/core to v7.18.6 (#1523),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
3061,fix(deps): update dependency @heroicons/react to v1.0.6 (#1520),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,fix(deps): update dependency @heroicons/react to v1.0.6 (#1520),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
3062,fix test case,,fix test case,
3063,fmt,,fmt,
3064,generate code for import,improve visitor lifetimes stuff,generate code for import,improve visitor lifetimes stuff
3065,fix warnings,,fix warnings,
3066,code generation doing something,,code generation doing something,
3067,refactor to use ast_path instead of span,,refactor to use ast_path instead of span,
3068,sort out some dependency duplication,,sort out some dependency duplication,
3069,emit the code,,emit the code,
3070,split different asset reference types into separate files,make CjsAssetReference chunkable,split different asset reference types into separate files,make CjsAssetReference chunkable
3071,Update again,,Update again,
3072,Update to make AstKind implement Eq,,Update to make AstKind implement Eq,
3073,Rename,,Rename,
3074,Patch more code to use path-aware visitor,,Patch more code to use path-aware visitor,
3075,path,,path,
3076,Ast path,,Ast path,
3077,fixup,,fixup,
3078,WIP,,WIP,
3079,path-aware visitors,,path-aware visitors,
3080,fixup for rebase,,fixup for rebase,
3081,Oops,,Oops,
3082,Test,,Test,
3083,Rename,,Rename,
3084,VisitWithPath,,VisitWithPath,
3085,todo!,,todo!,
3086,Hmm,,Hmm,
3087,Adjust,,Adjust,
3088,Change type,,Change type,
3089,dbg!,,dbg!,
3090,Okay,,Okay,
3091,WIP,,WIP,
3092,fixup,,fixup,
3093,Test,,Test,
3094,Remove dbg!,,Remove dbg!,
3095,Okay,,Okay,
3096,Test,,Test,
3097,Replace,,Replace,
3098,More,,More,
3099,VisitMut,,VisitMut,
3100,More,,More,
3101,Let's test,,Let's test,
3102,Rename,,Rename,
3103,Okay,,Okay,
3104,Hmm,,Hmm,
3105,Oh,,Oh,
3106,index,,index,
3107,Vec,,Vec,
3108,fixup,,fixup,
3109,WIP,,WIP,
3110,WIP,,WIP,
3111,AstPathMap,,AstPathMap,
3112,TODO,,TODO,
3113,Move,,Move,
3114,More methods,,More methods,
3115,More,,More,
3116,visitor,,visitor,
3117,Add visitor module,,Add visitor module,
3118,Change type,,Change type,
3119,Add a module,,Add a module,
3120,Deref,,Deref,
3121,initial work towards code generation,,initial work towards code generation,
3122,Merge pull request #94 from vercel/bundle/chunk-gen,add bootstrap logic for ecmascript chunks,Merge pull request #94 from vercel/bundle/chunk-gen,add bootstrap logic for ecmascript chunks
3123,into_future is stable now,,into_future is stable now,
3124,back to into_future,,back to into_future,
3125,add bootstrap logic for chunks,,add bootstrap logic for chunks,
3126,fix handling of Option<Vc> arguments,,fix handling of Option arguments,
3127,add future() method for Vcs,add resolve_from method for non-trait Vcs,add future() method for Vcs,add resolve_from method for non-trait Vcs
3128,Merge pull request #98 from vercel/alexkirsz/expected-clippy-warnings-fix1,Clippy Warnings: fix mv command arguments,Merge pull request #98 from vercel/alexkirsz/expected-clippy-warnings-fix1,Clippy Warnings: fix mv command arguments
3129,Fix mv command arguments,,Fix mv command arguments,
3130,chore(renovate): support go mod tidy (#1515),,chore(renovate): support go mod tidy (#1515),
3131,Merge pull request #92 from vercel/rust-update,update rust,Merge pull request #92 from vercel/rust-update,update rust
3132,Merge pull request #95 from vercel/alexkirsz/expected-clippy-warnings,Check the number of Clippy warnings is ever decreasing,Merge pull request #95 from vercel/alexkirsz/expected-clippy-warnings,Check the number of Clippy warnings is ever decreasing
3133,Merge pull request #96 from vercel/next-dev_args,match next dev args in next-dev bin,Merge pull request #96 from vercel/next-dev_args,match next dev args in next-dev bin
3134,DRY counting warnings,,DRY counting warnings,
3135,Fix typo,,Fix typo,
3136,Store the expected number of warnings in cache,,Store the expected number of warnings in cache,
3137,fmt,,fmt,
3138,match next dev args,,match next dev args,
3139,Typo: verifcation --> verification (#1517),Co-authored-by: Jake 4656974+samouri@users.noreply.github.com,Typo: verifcation --> verification (#1517),Co-authored-by: Jake 4656974+samouri@users.noreply.github.com
3140,Check the number of Clippy warnings is ever decreasing,,Check the number of Clippy warnings is ever decreasing,
3141,Merge branch 'main' into rust-update,,Merge branch 'main' into rust-update,
3142,Merge pull request #93 from vercel/sourcemap-forward,Follow sourceMappingURL references,Merge pull request #93 from vercel/sourcemap-forward,Follow sourceMappingURL references
3143,chore(deps): update dependency ts-json-schema-generator to v0.98.0 (#1516),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com,chore(deps): update dependency ts-json-schema-generator to v0.98.0 (#1516),Co-authored-by: renovate[bot] 29139614+renovate[bot]@users.noreply.github.com
3144,Follow sourceMappingURL references,,Follow sourceMappingURL references,
3145,chore(deps): update dependency @types/react to v17.0.47 (#1514)," This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react | 17.0.37 -> 17.0.47 |  |  |  |  |  Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again.   [ ] If you want to rebase/retry this PR, click this checkbox.   This PR has been generated by Mend Renovate. View repository job log here.",chore(deps): update dependency @types/react to v17.0.47 (#1514),"This PR contains the following updates: | Package | Change | Age | Adoption | Passing | Confidence | |---|---|---|---|---|---| | @types/react | 17.0.37 -> 17.0.47 |  |  |  |  | Configuration 📅 Schedule: Branch creation - ""after 10pm every weekday,before 5am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined). 🚦 Automerge: Disabled by config. Please merge this manually once you are satisfied. ♻ Rebasing: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox. 🔕 Ignore: Close this PR and you won't be reminded about this update again. [ ] If you want to rebase/retry this PR, click this checkbox. This PR has been generated by Mend Renovate. View repository job log here."
3146,Merge pull request #86 from vercel/publish-scripts,Publish scripts,Merge pull request #86 from vercel/publish-scripts,Publish scripts
3147,Merge pull request #91 from vercel/dev-html-css,emit styles properly in the dev html asset and only consider css @imports chunkable,Merge pull request #91 from vercel/dev-html-css,emit styles properly in the dev html asset and only consider css @imports chunkable
3148,update rust version,,update rust version,
3149,fix(docs): update prune compatibility (#1505),Update prune docs with a note about compatibility.,fix(docs): update prune compatibility (#1505),Update prune docs with a note about compatibility.
3150,feat(examples): add nextjs (#1506),Add a with-nextjs directory with pointers to other examples that contain Next.js applications.,feat(examples): add nextjs (#1506),Add a with-nextjs directory with pointers to other examples that contain Next.js applications.
3151,fmt,,fmt,
3152,emit styles properly in the dev html asset and only consider css @imports chunkable,,emit styles properly in the dev html asset and only consider css @imports chunkable,
3153,Configure Renovate (#1499)," Welcome to Renovate! This is an onboarding PR to help you understand and configure settings before regular Pull Requests begin. 🚦 To activate Renovate, merge this Pull Request. To disable Renovate, simply close this Pull Request unmerged.  Detected Package Files  cli/scripts/nginx/docker-compose.yml (docker-compose) .devcontainer/Dockerfile (dockerfile) cli/scripts/nginx/Dockerfile.cacher (dockerfile) .github/workflows/ci-go.yml (github-actions) .github/workflows/golangci-lint.yml (github-actions) .github/workflows/large-monorepo.yml (github-actions) cli/go.mod (gomod) benchmark/package.json (npm) cli/npm/turbo-android-arm64/package.json (npm) cli/npm/turbo-darwin-64/package.json (npm) cli/npm/turbo-darwin-arm64/package.json (npm) cli/npm/turbo-freebsd-64/package.json (npm) cli/npm/turbo-freebsd-arm64/package.json (npm) cli/npm/turbo-install/package.json (npm) cli/npm/turbo-linux-32/package.json (npm) cli/npm/turbo-linux-64/package.json (npm) cli/npm/turbo-linux-arm/package.json (npm) cli/npm/turbo-linux-arm64/package.json (npm) cli/npm/turbo-linux-mips64le/package.json (npm) cli/npm/turbo-linux-ppc64le/package.json (npm) cli/npm/turbo-linux-s390x/package.json (npm) cli/npm/turbo-netbsd-64/package.json (npm) cli/npm/turbo-openbsd-64/package.json (npm) cli/npm/turbo-sunos-64/package.json (npm) cli/npm/turbo-windows-32/package.json (npm) cli/npm/turbo-windows-64/package.json (npm) cli/npm/turbo-windows-arm64/package.json (npm) cli/package.json (npm) docs/package.json (npm) package.json (npm) packages/create-turbo/package.json (npm) packages/create-turbo/templates/_shared_ts/apps/docs/package.json (npm) packages/create-turbo/templates/_shared_ts/apps/web/package.json (npm) packages/create-turbo/templates/_shared_ts/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/eslint-config-custom/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/tsconfig/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/ui/package.json (npm) packages/create-turbo/templates/npm/package.json (npm) packages/create-turbo/templates/pnpm/apps/docs/package.json (npm) packages/create-turbo/templates/pnpm/apps/web/package.json (npm) packages/create-turbo/templates/pnpm/package.json (npm) packages/create-turbo/templates/pnpm/packages/ui/package.json (npm) packages/create-turbo/templates/yarn/package.json (npm) packages/turbo-codemod/package.json (npm) packages/turbo-ignore/package.json (npm)  Configuration 🔡 Renovate has detected a custom config for this PR. Feel free to ask for help if you have any doubts and would like it reviewed. Important: Now that this branch is edited, Renovate can't rebase it from the base branch any more. If you make changes to the base branch that could impact this onboarding PR, please merge them manually. What to Expect With your current configuration, Renovate will create 58 Pull Requests:  fix(deps): update github.com/google/chrometracing digest to 32f135b    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-google-chrometracing-digest`   - Merge into: `main`   - Upgrade [github.com/google/chrometracing](https://togithub.com/google/chrometracing) to `32f135b956e4fead57cccda6cd31629361cdc417`     fix(deps): update github.com/sabhiram/go-gitignore digest to 525f6e1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-sabhiram-go-gitignore-digest`   - Merge into: `main`   - Upgrade [github.com/sabhiram/go-gitignore](https://togithub.com/sabhiram/go-gitignore) to `525f6e181f062064d83887ed2530e3b1ba0bc95a`     fix(deps): update golang.org/x/sync digest to 0de741c    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/golang.org-x-sync-digest`   - Merge into: `main`   - Upgrade [golang.org/x/sync](https://togithub.com/golang/sync) to `0de741cfad7ff3874b219dfbc1b9195b58c7c490`     chore(deps): update dependency @​types/react to v17.0.47    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-17.x`   - Merge into: `main`   - Upgrade [@types/react](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `17.0.47`     chore(deps): update dependency tailwindcss to v3.1.5    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/tailwindcss-3.x`   - Merge into: `main`   - Upgrade [tailwindcss](https://togithub.com/tailwindlabs/tailwindcss) to `3.1.5`     chore(deps): update dependency ts-json-schema-generator to v0.98.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ts-json-schema-generator-0.x`   - Merge into: `main`   - Upgrade [ts-json-schema-generator](https://togithub.com/vega/ts-json-schema-generator) to `0.98.0`     fix(deps): update dependency @​heroicons/react to v1.0.6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/heroicons-react-1.x`   - Merge into: `main`   - Upgrade [@heroicons/react](https://togithub.com/tailwindlabs/heroicons) to `1.0.6`     fix(deps): update dependency nextra to v2.0.0-beta.5    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/nextra-2.x`   - Merge into: `main`   - Upgrade [nextra](https://togithub.com/shuding/nextra) to `2.0.0-beta.5`     fix(deps): update dependency nextra-theme-docs to v2.0.0-beta.5    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/nextra-theme-docs-2.x`   - Merge into: `main`   - Upgrade [nextra-theme-docs](https://togithub.com/shuding/nextra-theme-docs) to `2.0.0-beta.5`     fix(deps): update module github.com/mitchellh/cli to v1.1.4    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-mitchellh-cli-1.x`   - Merge into: `main`   - Upgrade [github.com/mitchellh/cli](https://togithub.com/mitchellh/cli) to `v1.1.4`     chore(deps): update dependency @​babel/core to v7.18.6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/babel-monorepo`   - Merge into: `main`   - Upgrade [@babel/core](https://togithub.com/babel/babel) to `7.18.6`     chore(deps): update dependency autoprefixer to v10.4.7    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/autoprefixer-10.x`   - Merge into: `main`   - Upgrade [autoprefixer](https://togithub.com/postcss/autoprefixer) to `10.4.7`     chore(deps): update dependency eslint-config-prettier to v8.5.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/eslint-config-prettier-8.x`   - Merge into: `main`   - Upgrade [eslint-config-prettier](https://togithub.com/prettier/eslint-config-prettier) to `8.5.0`     chore(deps): update dependency postcss to v8.4.14    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/postcss-8.x`   - Merge into: `main`   - Upgrade [postcss](https://togithub.com/postcss/postcss) to `8.4.14`     chore(deps): update dependency webpack to v5.73.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/webpack-5.x`   - Merge into: `main`   - Upgrade [webpack](https://togithub.com/webpack/webpack) to `5.73.0`     chore(deps): update nextjs monorepo to v12.2.2    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/nextjs-monorepo`   - Merge into: `main`   - Upgrade [eslint-config-next](https://togithub.com/vercel/next.js) to `12.2.2`   - Upgrade [next](https://togithub.com/vercel/next.js) to `12.2.2`     chore(deps): update pnpm to v7.5.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/pnpm-7.x`   - Merge into: `main`   - Upgrade [pnpm](https://togithub.com/pnpm/pnpm) to `7.5.0`     chore(deps): update pnpm/action-setup action to v2.2.2    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/pnpm-action-setup-2.x`   - Merge into: `main`   - Upgrade [pnpm/action-setup](https://togithub.com/pnpm/action-setup) to `v2.2.2`     fix(deps): update dependency @react-aria/focus to v3.6.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-aria-focus-3.x`   - Merge into: `main`   - Upgrade [@react-aria/focus](https://togithub.com/adobe/react-spectrum) to `3.6.1`     fix(deps): update dependency @react-aria/ssr to v3.2.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-aria-ssr-3.x`   - Merge into: `main`   - Upgrade [@react-aria/ssr](https://togithub.com/adobe/react-spectrum) to `3.2.0`     fix(deps): update dependency @react-stately/radio to v3.4.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-stately-radio-3.x`   - Merge into: `main`   - Upgrade [@react-stately/radio](https://togithub.com/adobe/react-spectrum) to `3.4.1`     fix(deps): update dependency @react-types/radio to v3.2.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-types-radio-3.x`   - Merge into: `main`   - Upgrade [@react-types/radio](https://togithub.com/adobe/react-spectrum) to `3.2.1`     fix(deps): update dependency axios to v0.27.2    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/axios-0.x`   - Merge into: `main`   - Upgrade [axios](https://togithub.com/axios/axios) to `0.27.2`     fix(deps): update dependency eslint-plugin-react to v7.30.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/eslint-plugin-react-7.x`   - Merge into: `main`   - Upgrade [eslint-plugin-react](https://togithub.com/jsx-eslint/eslint-plugin-react) to `7.30.1`     fix(deps): update dependency execa to v5.1.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/execa-5.x`   - Merge into: `main`   - Upgrade [execa](https://togithub.com/sindresorhus/execa) to `5.1.1`     fix(deps): update dependency ora to v4.1.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ora-4.x`   - Merge into: `main`   - Upgrade [ora](https://togithub.com/sindresorhus/ora) to `4.1.1`     fix(deps): update dependency react-hot-toast to v2.2.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-hot-toast-2.x`   - Merge into: `main`   - Upgrade [react-hot-toast](https://togithub.com/timolins/react-hot-toast) to `2.2.0`     fix(deps): update dependency swr to v1.3.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/swr-1.x`   - Merge into: `main`   - Upgrade [swr](https://togithub.com/vercel/swr) to `1.3.0`     fix(deps): update module github.com/adrg/xdg to v0.4.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-adrg-xdg-0.x`   - Merge into: `main`   - Upgrade [github.com/adrg/xdg](https://togithub.com/adrg/xdg) to `v0.4.0`     fix(deps): update module github.com/hashicorp/go-retryablehttp to v0.7.1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-hashicorp-go-retryablehttp-0.x`   - Merge into: `main`   - Upgrade [github.com/hashicorp/go-retryablehttp](https://togithub.com/hashicorp/go-retryablehttp) to `v0.7.1`     fix(deps): update module github.com/karrick/godirwalk to v1.17.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-karrick-godirwalk-1.x`   - Merge into: `main`   - Upgrade [github.com/karrick/godirwalk](https://togithub.com/karrick/godirwalk) to `v1.17.0`     fix(deps): update module github.com/mitchellh/mapstructure to v1.5.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-mitchellh-mapstructure-1.x`   - Merge into: `main`   - Upgrade [github.com/mitchellh/mapstructure](https://togithub.com/mitchellh/mapstructure) to `v1.5.0`     fix(deps): update module github.com/spf13/cobra to v1.5.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-spf13-cobra-1.x`   - Merge into: `main`   - Upgrade [github.com/spf13/cobra](https://togithub.com/spf13/cobra) to `v1.5.0`     fix(deps): update module github.com/stretchr/testify to v1.8.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/github.com-stretchr-testify-1.x`   - Merge into: `main`   - Upgrade [github.com/stretchr/testify](https://togithub.com/stretchr/testify) to `v1.8.0`     fix(deps): update module google.golang.org/grpc to v1.47.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/google.golang.org-grpc-1.x`   - Merge into: `main`   - Upgrade [google.golang.org/grpc](https://togithub.com/grpc/grpc-go) to `v1.47.0`     fix(deps): update module gotest.tools/v3 to v3.3.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/gotest.tools-v3-3.x`   - Merge into: `main`   - Upgrade [gotest.tools/v3](https://togithub.com/gotestyourself/gotest.tools) to `v3.3.0`     chore(deps): update actions/setup-node action to v3    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/actions-setup-node-3.x`   - Merge into: `main`   - Upgrade [actions/setup-node](https://togithub.com/actions/setup-node) to `v3`     chore(deps): update dependency @​types/inquirer to v8    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/inquirer-8.x`   - Merge into: `main`   - Upgrade [@types/inquirer](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `^8.0.0`     chore(deps): update dependency @​types/react to v18    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-18.x`   - Merge into: `main`   - Upgrade [@types/react](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `^18.0.0`   - Upgrade [@types/react](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `18.0.15`     chore(deps): update dependency @​types/react-dom to v18    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/react-dom-18.x`   - Merge into: `main`   - Upgrade [@types/react-dom](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `^18.0.0`     chore(deps): update dependency eslint to v8.19.0    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/eslint-8.x`   - Merge into: `main`   - Upgrade [eslint](https://togithub.com/eslint/eslint) to `^8.0.0`   - Upgrade [eslint](https://togithub.com/eslint/eslint) to `8.19.0`     chore(deps): update dependency faker to v6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/faker-6.x`   - Merge into: `main`   - Upgrade [faker](https://togithub.com/Marak/Faker.js) to `^6.0.0`     chore(deps): update dependency fs-extra to v10    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/fs-extra-10.x`   - Merge into: `main`   - Upgrade [fs-extra](https://togithub.com/jprichardson/node-fs-extra) to `^10.0.0`     chore(deps): update dependency ngraph.generators to v20    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ngraph.generators-20.x`   - Merge into: `main`   - Upgrade [ngraph.generators](https://togithub.com/anvaka/ngraph.generators) to `^20.0.0`     chore(deps): update dependency strip-ansi to v7    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/strip-ansi-7.x`   - Merge into: `main`   - Upgrade [strip-ansi](https://togithub.com/chalk/strip-ansi) to `^7.0.0`     chore(deps): update dependency ts-json-schema-generator to v1    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ts-json-schema-generator-1.x`   - Merge into: `main`   - Upgrade [ts-json-schema-generator](https://togithub.com/vega/ts-json-schema-generator) to `1.0.0`     chore(deps): update dependency tsup to v6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/tsup-6.x`   - Merge into: `main`   - Upgrade [tsup](https://togithub.com/egoist/tsup) to `^6.0.0`     chore(deps): update dependency ubuntu to v22    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ubuntu-22.x`   - Merge into: `main`   - Upgrade ubuntu to `jammy`     chore(deps): update jest monorepo to v28 (major)    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/major-jest-monorepo`   - Merge into: `main`   - Upgrade [@types/jest](https://togithub.com/DefinitelyTyped/DefinitelyTyped) to `^28.0.0`   - Upgrade [jest](https://togithub.com/facebook/jest) to `^28.0.0`   - Upgrade [ts-jest](https://togithub.com/kulshekhar/ts-jest) to `^28.0.0`     chore(deps): update react monorepo to v18 (major)    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/major-react-monorepo`   - Merge into: `main`   - Upgrade [react](https://togithub.com/facebook/react) to `^18.0.0`   - Upgrade [react](https://togithub.com/facebook/react) to `18.2.0`   - Upgrade [react-dom](https://togithub.com/facebook/react) to `18.2.0`     fix(deps): update dependency chalk to v5    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/chalk-5.x`   - Merge into: `main`   - Upgrade [chalk](https://togithub.com/chalk/chalk) to `5.0.1`     fix(deps): update dependency execa to v6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/execa-6.x`   - Merge into: `main`   - Upgrade [execa](https://togithub.com/sindresorhus/execa) to `6.1.0`   - Upgrade [execa](https://togithub.com/sindresorhus/execa) to `^6.0.0`     fix(deps): update dependency find-up to v6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/find-up-6.x`   - Merge into: `main`   - Upgrade [find-up](https://togithub.com/sindresorhus/find-up) to `6.3.0`     fix(deps): update dependency globby to v13    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/globby-13.x`   - Merge into: `main`   - Upgrade [globby](https://togithub.com/sindresorhus/globby) to `13.1.2`     fix(deps): update dependency inquirer to v9    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/inquirer-9.x`   - Merge into: `main`   - Upgrade [inquirer](https://togithub.com/SBoudrias/Inquirer.js) to `^9.0.0`     fix(deps): update dependency meow to v10    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/meow-10.x`   - Merge into: `main`   - Upgrade [meow](https://togithub.com/sindresorhus/meow) to `^10.0.0`     fix(deps): update dependency ora to v6    - Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""]   - Branch name: `renovate/ora-6.x`   - Merge into: `main`   - Upgrade [ora](https://togithub.com/sindresorhus/ora) to `6.1.2`     chore(deps): lock file maintenance    - Schedule: [""before 5am on monday""]   - Branch name: `renovate/lock-file-maintenance`   - Merge into: `main`   - Regenerate lock files to use latest dependency versions    🚸 Branch creation will be limited to maximum 2 per hour, so it doesn't swamp any CI resources or spam the project. See docs for prhourlylimit for details.  ❓ Got questions? Check out Renovate's Docs, particularly the Getting Started section. If you need any further assistance then you can also request help here.  This PR has been generated by Mend Renovate. View repository job log here. Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com",Configure Renovate (#1499),"Welcome to Renovate! This is an onboarding PR to help you understand and configure settings before regular Pull Requests begin. 🚦 To activate Renovate, merge this Pull Request. To disable Renovate, simply close this Pull Request unmerged. Detected Package Files cli/scripts/nginx/docker-compose.yml (docker-compose) .devcontainer/Dockerfile (dockerfile) cli/scripts/nginx/Dockerfile.cacher (dockerfile) .github/workflows/ci-go.yml (github-actions) .github/workflows/golangci-lint.yml (github-actions) .github/workflows/large-monorepo.yml (github-actions) cli/go.mod (gomod) benchmark/package.json (npm) cli/npm/turbo-android-arm64/package.json (npm) cli/npm/turbo-darwin-64/package.json (npm) cli/npm/turbo-darwin-arm64/package.json (npm) cli/npm/turbo-freebsd-64/package.json (npm) cli/npm/turbo-freebsd-arm64/package.json (npm) cli/npm/turbo-install/package.json (npm) cli/npm/turbo-linux-32/package.json (npm) cli/npm/turbo-linux-64/package.json (npm) cli/npm/turbo-linux-arm/package.json (npm) cli/npm/turbo-linux-arm64/package.json (npm) cli/npm/turbo-linux-mips64le/package.json (npm) cli/npm/turbo-linux-ppc64le/package.json (npm) cli/npm/turbo-linux-s390x/package.json (npm) cli/npm/turbo-netbsd-64/package.json (npm) cli/npm/turbo-openbsd-64/package.json (npm) cli/npm/turbo-sunos-64/package.json (npm) cli/npm/turbo-windows-32/package.json (npm) cli/npm/turbo-windows-64/package.json (npm) cli/npm/turbo-windows-arm64/package.json (npm) cli/package.json (npm) docs/package.json (npm) package.json (npm) packages/create-turbo/package.json (npm) packages/create-turbo/templates/_shared_ts/apps/docs/package.json (npm) packages/create-turbo/templates/_shared_ts/apps/web/package.json (npm) packages/create-turbo/templates/_shared_ts/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/eslint-config-custom/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/tsconfig/package.json (npm) packages/create-turbo/templates/_shared_ts/packages/ui/package.json (npm) packages/create-turbo/templates/npm/package.json (npm) packages/create-turbo/templates/pnpm/apps/docs/package.json (npm) packages/create-turbo/templates/pnpm/apps/web/package.json (npm) packages/create-turbo/templates/pnpm/package.json (npm) packages/create-turbo/templates/pnpm/packages/ui/package.json (npm) packages/create-turbo/templates/yarn/package.json (npm) packages/turbo-codemod/package.json (npm) packages/turbo-ignore/package.json (npm) Configuration 🔡 Renovate has detected a custom config for this PR. Feel free to ask for help if you have any doubts and would like it reviewed. Important: Now that this branch is edited, Renovate can't rebase it from the base branch any more. If you make changes to the base branch that could impact this onboarding PR, please merge them manually. What to Expect With your current configuration, Renovate will create 58 Pull Requests: fix(deps): update github.com/google/chrometracing digest to 32f135b  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/google/chrometracing to module  fix(deps): update github.com/sabhiram/go-gitignore digest to 525f6e1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/sabhiram/go-gitignore to module  fix(deps): update golang.org/x/sync digest to 0de741c  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade golang.org/x/sync to module  chore(deps): update dependency @​types/react to v17.0.47  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @types/react to module  chore(deps): update dependency tailwindcss to v3.1.5  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade tailwindcss to module  chore(deps): update dependency ts-json-schema-generator to v0.98.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ts-json-schema-generator to module  fix(deps): update dependency @​heroicons/react to v1.0.6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @heroicons/react to module  fix(deps): update dependency nextra to v2.0.0-beta.5  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade nextra to module  fix(deps): update dependency nextra-theme-docs to v2.0.0-beta.5  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade nextra-theme-docs to module  fix(deps): update module github.com/mitchellh/cli to v1.1.4  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/mitchellh/cli to module  chore(deps): update dependency @​babel/core to v7.18.6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @babel/core to module  chore(deps): update dependency autoprefixer to v10.4.7  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade autoprefixer to module  chore(deps): update dependency eslint-config-prettier to v8.5.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade eslint-config-prettier to module  chore(deps): update dependency postcss to v8.4.14  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade postcss to module  chore(deps): update dependency webpack to v5.73.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade webpack to module  chore(deps): update nextjs monorepo to v12.2.2  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade eslint-config-next to module Upgrade next to module  chore(deps): update pnpm to v7.5.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade pnpm to module  chore(deps): update pnpm/action-setup action to v2.2.2  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade pnpm/action-setup to module  fix(deps): update dependency @react-aria/focus to v3.6.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @react-aria/focus to module  fix(deps): update dependency @react-aria/ssr to v3.2.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @react-aria/ssr to module  fix(deps): update dependency @react-stately/radio to v3.4.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @react-stately/radio to module  fix(deps): update dependency @react-types/radio to v3.2.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @react-types/radio to module  fix(deps): update dependency axios to v0.27.2  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade axios to module  fix(deps): update dependency eslint-plugin-react to v7.30.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade eslint-plugin-react to module  fix(deps): update dependency execa to v5.1.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade execa to module  fix(deps): update dependency ora to v4.1.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ora to module  fix(deps): update dependency react-hot-toast to v2.2.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade react-hot-toast to module  fix(deps): update dependency swr to v1.3.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade swr to module  fix(deps): update module github.com/adrg/xdg to v0.4.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/adrg/xdg to module  fix(deps): update module github.com/hashicorp/go-retryablehttp to v0.7.1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/hashicorp/go-retryablehttp to module  fix(deps): update module github.com/karrick/godirwalk to v1.17.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/karrick/godirwalk to module  fix(deps): update module github.com/mitchellh/mapstructure to v1.5.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/mitchellh/mapstructure to module  fix(deps): update module github.com/spf13/cobra to v1.5.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/spf13/cobra to module  fix(deps): update module github.com/stretchr/testify to v1.8.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade github.com/stretchr/testify to module  fix(deps): update module google.golang.org/grpc to v1.47.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade google.golang.org/grpc to module  fix(deps): update module gotest.tools/v3 to v3.3.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade gotest.tools/v3 to module  chore(deps): update actions/setup-node action to v3  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade actions/setup-node to module  chore(deps): update dependency @​types/inquirer to v8  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @types/inquirer to module  chore(deps): update dependency @​types/react to v18  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @types/react to module Upgrade @types/react to module  chore(deps): update dependency @​types/react-dom to v18  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @types/react-dom to module  chore(deps): update dependency eslint to v8.19.0  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade eslint to module Upgrade eslint to module  chore(deps): update dependency faker to v6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade faker to module  chore(deps): update dependency fs-extra to v10  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade fs-extra to module  chore(deps): update dependency ngraph.generators to v20  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ngraph.generators to module  chore(deps): update dependency strip-ansi to v7  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade strip-ansi to module  chore(deps): update dependency ts-json-schema-generator to v1  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ts-json-schema-generator to module  chore(deps): update dependency tsup to v6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade tsup to module  chore(deps): update dependency ubuntu to v22  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ubuntu to module  chore(deps): update jest monorepo to v28 (major)  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade @types/jest to module Upgrade jest to module Upgrade ts-jest to module  chore(deps): update react monorepo to v18 (major)  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade react to module Upgrade react to module Upgrade react-dom to module  fix(deps): update dependency chalk to v5  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade chalk to module  fix(deps): update dependency execa to v6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade execa to module Upgrade execa to module  fix(deps): update dependency find-up to v6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade find-up to module  fix(deps): update dependency globby to v13  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade globby to module  fix(deps): update dependency inquirer to v9  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade inquirer to module  fix(deps): update dependency meow to v10  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade meow to module  fix(deps): update dependency ora to v6  Schedule: [""after 10pm every weekday"",""before 5am every weekday"",""every weekend""] Branch name: module Merge into: module Upgrade ora to module  chore(deps): lock file maintenance  Schedule: [""before 5am on monday""] Branch name: module Merge into: module Regenerate lock files to use latest dependency versions  🚸 Branch creation will be limited to maximum 2 per hour, so it doesn't swamp any CI resources or spam the project. See docs for prhourlylimit for details. ❓ Got questions? Check out Renovate's Docs, particularly the Getting Started section. If you need any further assistance then you can also request help here. This PR has been generated by Mend Renovate. View repository job log here. Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com"
3154,assert command status to be success,,assert command status to be success,
3155,Publish from GitHub tags,,Publish from GitHub tags,
3156,Simple publish scripts,,Simple publish scripts,
3157,Fix tailwind example (#1500),"The wrong npm package was installed in the tailwind example tailwind => tailwindcss. I also added exports field for styles.css as it was not found from within the _app.tsx in next applications, but I am not sure if this is required. web:dev: error - ./pages/_app.tsx:3:0 web:dev: Module not found: Package path ./styles.css is not exported from package ~/turborepo/examples/with-tailwind/node_modules/ui (see exports field in ~/turborepo/examples/with-tailwind/node_modules/ui/package.json)",Fix tailwind example (#1500),"The wrong npm package was installed in the tailwind example tailwind => tailwindcss. I also added exports field for styles.css as it was not found from within the _app.tsx in next applications, but I am not sure if this is required. web:dev: error - ./pages/_app.tsx:3:0 web:dev: Module not found: Package path ./styles.css is not exported from package ~/turborepo/examples/with-tailwind/node_modules/ui (see exports field in ~/turborepo/examples/with-tailwind/node_modules/ui/package.json)"
3158,Add golang to OSX setup (#1492),,Add golang to OSX setup (#1492),
3159,fix: added vite.config and fixes for svelte-next.358 (#1496),,fix: added vite.config and fixes for svelte-next.358 (#1496),
3160,Merge pull request #90 from vercel/turbo-tasks/scopes,turbo-tasks refactoring for task scopes,Merge pull request #90 from vercel/turbo-tasks/scopes,turbo-tasks refactoring for task scopes
3161,"bugfix, cleanup",,"bugfix, cleanup",
3162,"cleanup, performance",,"cleanup, performance",
3163,complete strongly consistent read,performance improvements,complete strongly consistent read,performance improvements
3164,improve visualization,make TransientValue functional make console-subscriber an optional feature avoid cloning when calling a function capture timings of task executions fix LazyAsset expose graph from dev server,improve visualization,make TransientValue functional make console-subscriber an optional feature avoid cloning when calling a function capture timings of task executions fix LazyAsset expose graph from dev server
3165,first scoping prototype,,first scoping prototype,
3166,use task scopes,,use task scopes,
3167,Merge pull request #89 from vercel/css-chunking,feat: css chunking,Merge pull request #89 from vercel/css-chunking,feat: css chunking
3168,fmt,,fmt,
3169,publish 1.3.2-canary.1 to registry,,publish 1.3.2-canary.1 to registry,
3170,remove unnecessary shared traits,,remove unnecessary shared traits,
3171,chunk content stuff,,chunk content stuff,
3172,feat(examples): add tailwind (#1464),,feat(examples): add tailwind (#1464),
3173,feat: css chunking,,feat: css chunking,
3174,Merge pull request #88 from vercel/slot-to-cell,Finish renaming slot to cell,Merge pull request #88 from vercel/slot-to-cell,Finish renaming slot to cell
3175,Add missing dependencies to OSX setup (#1487),Add protoc-gen-go and protoc-gen-go-grpc to brew install command. Fixes the following issue: $ make turbo make protoc protoc --go_out=. --go_opt=paths=source_relative \     --go-grpc_out=. --go-grpc_opt=paths=source_relative \     internal/turbodprotocol/turbod.proto protoc-gen-go: program not found or is not executable,Add missing dependencies to OSX setup (#1487),Add protoc-gen-go and protoc-gen-go-grpc to brew install command. Fixes the following issue: $ make turbo make protoc protoc --go_out=. --go_opt=paths=source_relative \     --go-grpc_out=. --go-grpc_opt=paths=source_relative \     internal/turbodprotocol/turbod.proto protoc-gen-go: program not found or is not executable
3176,feat(examples): add react-native-web (#1486),Fixes https://github.com/vercel/turborepo/issues/1119 Adds an example with: - native: a react-native app built with expo - web: a Next.js app with react-native-web - ui: a stub react-native component library shared by both web and native applications This uses expo with react native for a simpler native development experience.,feat(examples): add react-native-web (#1486),Fixes link Adds an example with: - native: a react-native app built with expo - web: a Next.js app with react-native-web - ui: a stub react-native component library shared by both web and native applications This uses expo with react native for a simpler native development experience.
3177,Implement filesystem cookies for filewatch ordering (#1410),"A filewatching cookie is a file that makes the roundtrip through the file-watching implementation. It's wired at the point of a task notifying that it has finished writing its outputs, and again at the point of checking if outputs have changed.",Implement filesystem cookies for filewatch ordering (#1410),"A filewatching cookie is a file that makes the roundtrip through the file-watching implementation. It's wired at the point of a task notifying that it has finished writing its outputs, and again at the point of checking if outputs have changed."
3178,Label root package in dependency graph (#1491),"Fixes #1333  Previously, our package dependency graph used whatever name the root package.json had. This PR changes it to always use our internal root-package token (//). This lets us reference the root package later in the process and properly work out dependency- / dependent-relationships that include the root package. Unfortunately, we don't yet have the infrastructure for unit testing this part of the code. We'll likely need to break apart context.go a bit more before it's really tractable. Verified experimentally using the repo in the linked issue.",Label root package in dependency graph (#1491),"Fixes #1333  Previously, our package dependency graph used whatever name the root package.json had. This PR changes it to always use our internal root-package token (//). This lets us reference the root package later in the process and properly work out dependency- / dependent-relationships that include the root package. Unfortunately, we don't yet have the infrastructure for unit testing this part of the code. We'll likely need to break apart context.go a bit more before it's really tractable. Verified experimentally using the repo in the linked issue."
3179,Run cargo fmt,,Run cargo fmt,
3180,Finish renaming slot to cell,,Finish renaming slot to cell,
3181,chore(examples): update tsconfig declaration val (#1483),Fixes https://github.com/vercel/turborepo/issues/1446 This also: - Alphabetically sorts all keys in TS config compiler options - Removes redundant keys (keys with the same value specified both in the base config and an inheriting child config),chore(examples): update tsconfig declaration val (#1483),Fixes link This also: - Alphabetically sorts all keys in TS config compiler options - Removes redundant keys (keys with the same value specified both in the base config and an inheriting child config)
3182,Depending on root tasks should work (#1485),"Fixes #1471  Previously, declaring a dependency on a root task would error due to the package-dependency graph (TopologicGraph) not including the root package. Special case the root package. Included some more tests for scheduler behavior:  * a task depending on a root task    * should work if the root package has been opted in to that task    * should fail if the root package has not been opted in to that task  * depending on a task that doesn't exist should be an error (e.g. foo#special-task exists and depends on bar#special-task, which does not exist, and there is no top-level ""special-task"" entry)",Depending on root tasks should work (#1485),"Fixes #1471  Previously, declaring a dependency on a root task would error due to the package-dependency graph (TopologicGraph) not including the root package. Special case the root package. Included some more tests for scheduler behavior:  * a task depending on a root task    * should work if the root package has been opted in to that task    * should fail if the root package has not been opted in to that task  * depending on a task that doesn't exist should be an error (e.g. foo#special-task exists and depends on bar#special-task, which does not exist, and there is no top-level ""special-task"" entry)"
3183,Update caching.mdx (#1482),Fix ESLint pro tip link to the latest version (current one is 404ing),Update caching.mdx (#1482),Fix ESLint pro tip link to the latest version (current one is 404ing)
3184,Merge pull request #87 from vercel/kdy1/swc-upgrade,Update swc to use path-aware visitors,Merge pull request #87 from vercel/kdy1/swc-upgrade,Update swc to use path-aware visitors
3185,Update test refs,,Update test refs,
3186,Update test refs,,Update test refs,
3187,Update test refs,,Update test refs,
3188,Fix,,Fix,
3189,fixup,,fixup,
3190,lockfile,,lockfile,
3191,Update swc crates,,Update swc crates,
3192,Fix yarn start not working (#1468),When trying to run the app using yarn start it will fail with the following error: ``` turbo-kitchensink/apps/blog is 📦 v0.0.0 via ⬢ v16.13.1 ➜ yarn start yarn run v1.22.17 $ remix-serve build node:internal/modules/cjs/loader:936   throw err;   ^ Error: Cannot find module '/Users/eli/projects/temp/turbo-kitchensink/apps/blog/build' ``` The issue being the build directory isn't at the top level as the script expects. Changing the script to run remix-serve api/build resolves the issue.,Fix yarn start not working (#1468),When trying to run the app using yarn start it will fail with the following error: module The issue being the build directory isn't at the top level as the script expects. Changing the script to run remix-serve api/build resolves the issue.
3193,chore: remove redundant .turbo (#1475),Very minor: there are two .turbo declarations - I removed one.,chore: remove redundant .turbo (#1475),Very minor: there are two .turbo declarations - I removed one.
3194,Merge pull request #85 from vercel/docs/core,"documentation, formating, cleanup",Merge pull request #85 from vercel/docs/core,"documentation, formating, cleanup"
3195,install rustfmt in CI,,install rustfmt in CI,
3196,"documentation, formating",specialize trait impl in vc to avoid trait calls and to validate signatures,"documentation, formating",specialize trait impl in vc to avoid trait calls and to validate signatures
3197,Move some fields out of Config (#1460),"First commit:   * moves ApiClient out of config.Config. Replaces it with a helper to construct it on demand. Currently all of the values for constructing one still come from a config.Config instance. No behavioral change Second commit:  * Move TurboJSON out of config.Config. Instead, read it on demand in run and prune  * Behavioral change: running turbo in a directory w/o a turbo.json will no longer immediately error, so we can display usage / help information. package.json is, however, still required as of this change. Notes on future work: prune requires TurboJSON because context.WithGraph requires it. But WithGraph only needs it to construct the global hash value, which isn't needed for constructing the package-dependency graph. If migrate calculateGlobalHash to its own top-level function, I think prune won't need turbo.json at all.",Move some fields out of Config (#1460),"First commit:   * moves ApiClient out of config.Config. Replaces it with a helper to construct it on demand. Currently all of the values for constructing one still come from a config.Config instance. No behavioral change Second commit:  * Move TurboJSON out of config.Config. Instead, read it on demand in run and prune  * Behavioral change: running turbo in a directory w/o a turbo.json will no longer immediately error, so we can display usage / help information. package.json is, however, still required as of this change. Notes on future work: prune requires TurboJSON because context.WithGraph requires it. But WithGraph only needs it to construct the global hash value, which isn't needed for constructing the package-dependency graph. If migrate calculateGlobalHash to its own top-level function, I think prune won't need turbo.json at all."
3198,Merge pull request #83 from vercel/publish-npm,Build release binary for major platform,Merge pull request #83 from vercel/publish-npm,Build release binary for major platform
3199,Merge pull request #84 from vercel/docs/core,cleanup and documentation,Merge pull request #84 from vercel/docs/core,cleanup and documentation
3200,Merge pull request #6 from goreleaser/readme,docs(readme): mark windows as verified,Merge pull request #6 from goreleaser/readme,docs(readme): mark windows as verified
3201,docs(readme): mark windows as verified,ref #3,docs(readme): mark windows as verified,ref #3
3202,Build release binary for major platform,,Build release binary for major platform,
3203,cleanup and documentation,,cleanup and documentation,
3204,Merge pull request #79 from vercel/persistent-cache/feature,fixes for persistent cache flag,Merge pull request #79 from vercel/persistent-cache/feature,fixes for persistent cache flag
3205,Merge pull request #82 from vercel/kdy1/umd-fix,Fix umd to suport ts-morph,Merge pull request #82 from vercel/kdy1/umd-fix,Fix umd to suport ts-morph
3206,Fix,,Fix,
3207,Fix,,Fix,
3208,extract,,extract,
3209,Enable,,Enable,
3210,Implement allowing both sides of git comparison (#1442),Fixes #1079  Allows CI setups to test a specific commit range.,Implement allowing both sides of git comparison (#1442),Fixes #1079  Allows CI setups to test a specific commit range.
3211,Merge branch 'main' into persistent-cache/feature,,Merge branch 'main' into persistent-cache/feature,
3212,Merge pull request #81 from vercel/resolve-css-imports,feat: resolve css imports and add docs,Merge pull request #81 from vercel/resolve-css-imports,feat: resolve css imports and add docs
3213,Chip away at path migration (#1459),"A mostly-mechanical move of the paths used in packagemanager.go to fs.AbsolutePath. I stopped short of migrating globby since its return values are used in a variety of places that are not at all typesafe, including sets of interface{}. No behavioral changes.",Chip away at path migration (#1459),"A mostly-mechanical move of the paths used in packagemanager.go to fs.AbsolutePath. I stopped short of migrating globby since its return values are used in a variety of places that are not at all typesafe, including sets of interface{}. No behavioral changes."
3214,fix: remove suggestion of using fetch-depth (#1438),"Description Changesets automatically deepens a shallow clone as necessary, So we don't need to recommend a complete deep clone in order for changesets to work. Ref: https://github.com/changesets/action/pull/177",fix: remove suggestion of using fetch-depth (#1438),"Description Changesets automatically deepens a shallow clone as necessary, So we don't need to recommend a complete deep clone in order for changesets to work. Ref: link"
3215,docs(cli): update contributing.md with new deps (#1449),,docs(cli): update contributing.md with new deps (#1449),
3216,fix benches in new package,,fix benches in new package,
3217,feat(examples): add svelte (#1458),"A basic svelte example.  Replaces https://github.com/vercel/turborepo/pull/1184 and https://github.com/vercel/turborepo/pull/244 NOTE: There is no shared ts-config package here because of how svelte sets up it's ts-config inheritance. The base config is auto generated in a set location (.svelte-kit). There are a few open issues about adjusting this for better monorepo support (relevant issues: https://github.com/sveltejs/kit/issues/4052, https://github.com/microsoft/TypeScript/issues/29118#issuecomment-1152511469)",feat(examples): add svelte (#1458),"A basic svelte example.  Replaces link and link NOTE: There is no shared ts-config package here because of how svelte sets up it's ts-config inheritance. The base config is auto generated in a set location (.svelte-kit). There are a few open issues about adjusting this for better monorepo support (relevant issues: link, link)"
3218,add some basic docs,,add some basic docs,
3219,unused,,unused,
3220,add support for resolving css imports,,add support for resolving css imports,
3221,don't like these quoted names lol,,don't like these quoted names lol,
3222,Merge pull request #74 from vercel/ci/release,fix release CI,Merge pull request #74 from vercel/ci/release,fix release CI
3223,Merge pull request #80 from vercel/fix-path-resolve,Fix path.resolve with zero argument,Merge pull request #80 from vercel/fix-path-resolve,Fix path.resolve with zero argument
3224,only bench on linux,,only bench on linux,
3225,Fix path.resolve with zero argument,,Fix path.resolve with zero argument,
3226,config eof on windows,,config eof on windows,
3227,add shell: bash on install nextest step,,add shell: bash on install nextest step,
3228,Add macOS and Windows tests,,Add macOS and Windows tests,
3229,fixes for persistent cache flag,,fixes for persistent cache flag,
3230,Fix missing dll on Windows,,Fix missing dll on Windows,
3231,Merge pull request #78 from vercel/persistent-cache/feature,place the persistent cache behind a feature flag,Merge pull request #78 from vercel/persistent-cache/feature,place the persistent cache behind a feature flag
3232,place the persistent cache behind a feature flag,,place the persistent cache behind a feature flag,
3233,publish 1.3.2-canary.0 to registry,,publish 1.3.2-canary.0 to registry,
3234,Add test to confirm that file copying works as expected. (#1450),Our file copying doesn't have a detailed test for all of the behaviors that we care about. This adds it to constrain future behavior.,Add test to confirm that file copying works as expected. (#1450),Our file copying doesn't have a detailed test for all of the behaviors that we care about. This adds it to constrain future behavior.
3235,Cross-compile amd64. (#1452),"CGO is required to deal with DNS resolution on Darwin (see #941), we need to do this for both arm and amd64.",Cross-compile amd64. (#1452),"CGO is required to deal with DNS resolution on Darwin (see #941), we need to do this for both arm and amd64."
3236,Fix hashing uncommitted changes (#1448),"We were passing the repo root and paths rooted at the package root to gitHashObject. Fixed to pass the package path. Also created array of paths to hash directly, rather than creating an intermediate array and converting. Added a test for the hashing behavior.",Fix hashing uncommitted changes (#1448),"We were passing the repo root and paths rooted at the package root to gitHashObject. Fixed to pass the package path. Also created array of paths to hash directly, rather than creating an intermediate array and converting. Added a test for the hashing behavior."
3237,Fix symlink mode check. (#1447),,Fix symlink mode check. (#1447),
3238,fix(cli): prefer IsDir() over explicit type check (#1445),Follow up to https://github.com/vercel/turborepo/pull/1429,fix(cli): prefer IsDir() over explicit type check (#1445),Follow up to link
3239,Merge pull request #76 from vercel/bundle/initial-work,initial work towards bundling and chunking,Merge pull request #76 from vercel/bundle/initial-work,initial work towards bundling and chunking
3240,Merge remote-tracking branch 'origin/main' into bundle/initial-work,,Merge remote-tracking branch 'origin/main' into bundle/initial-work,
3241,"avoid storing data in non-persistent tasks, as that breaks persistence",,"avoid storing data in non-persistent tasks, as that breaks persistence",
3242,Merge pull request #70 from vercel/bindings,Pass integration tests,Merge pull request #70 from vercel/bindings,Pass integration tests
3243,get rid of Vc<...>,it's not serializable and we don't want to promote a way to break serialization,get rid of Vc<...>,it's not serializable and we don't want to promote a way to break serialization
3244,replace Vc> with AssetReferencesVc,,replace Vc> with AssetReferencesVc,
3245,Fix compilation,,Fix compilation,
3246,chunking and bugfixes,,chunking and bugfixes,
3247,cwd: JsWord => JsValue,,cwd: JsWord => JsValue,
3248,feat: Analyze umd (#75),  Enable tests for umd   Hmm   We need another way   Hmm   fixup   Okay we need this   Fix   Okay ,feat: Analyze umd (#75),Enable tests for umd Hmm We need another way Hmm fixup Okay we need this Fix Okay
3249,"Vendor chrometracing, add Close method (#1443)"," Vendor chrometracing (mostly, it still references a sub-package that is just a struct definition) Implement Close function for chrometracing: it overwrites the trailing ,\n with ]\n and closes the file. Add an e2e test to make sure JSON.parse succeeds on the profiling output. Exempt chrometracing from linting","Vendor chrometracing, add Close method (#1443)","Vendor chrometracing (mostly, it still references a sub-package that is just a struct definition) Implement Close function for chrometracing: it overwrites the trailing ,\n with ]\n and closes the file. Add an e2e test to make sure JSON.parse succeeds on the profiling output. Exempt chrometracing from linting"
3250,Bump e2e pnpm to 7 (#1444),,Bump e2e pnpm to 7 (#1444),
3251,Ensure we fail if no examples are run (#1441),"This catches the error we previously saw where examples would ""run"" but due to incorrect argument passing were not actually running any examples.",Ensure we fail if no examples are run (#1441),"This catches the error we previously saw where examples would ""run"" but due to incorrect argument passing were not actually running any examples."
3252,Watch task outputs to avoid cache restorations (#1269),"Start a daemon, notify it of output globs when a task completes, watch those outputs, check if we can skip cache restores on subsequent runs. Uses grpc and protobuf for communication. Before shipping:  - [x] Wire up --no-daemon flag to run  - [x] Add command for daemon status  - [x] Add command for daemon stop  - [x] Add command for daemon start  - [x] Add command for daemon restart  - [x] Proper daemon logfile management  - [x] Ensure that the client tries to start the server after maybe killing a previous incarnation  - [x] Investigate golang internal lockfile  - [ ] Verify ordering guarantees on file-watching  - [ ] Sort out proper syntax for protos in Makefile  - [x] Shut down if repo root is deleted  - [x] Proper signal handling  - [ ] Handle watching too many files  - [ ] Consider using panicwrap",Watch task outputs to avoid cache restorations (#1269),"Start a daemon, notify it of output globs when a task completes, watch those outputs, check if we can skip cache restores on subsequent runs. Uses grpc and protobuf for communication. Before shipping:  - [x] Wire up --no-daemon flag to run  - [x] Add command for daemon status  - [x] Add command for daemon stop  - [x] Add command for daemon start  - [x] Add command for daemon restart  - [x] Proper daemon logfile management  - [x] Ensure that the client tries to start the server after maybe killing a previous incarnation  - [x] Investigate golang internal lockfile  - [ ] Verify ordering guarantees on file-watching  - [ ] Sort out proper syntax for protos in Makefile  - [x] Shut down if repo root is deleted  - [x] Proper signal handling  - [ ] Handle watching too many files  - [ ] Consider using panicwrap"
3253,refactor resolve / logic,,refactor resolve / logic,
3254,fix(cli): cache with correct file perms (#1429),"Fixes https://github.com/vercel/turborepo/issues/156 Issue Summary There were two main issues causing this:   We're using generic filesystem function for the cache operations. These functions require a file mode for the source file, and a file mode for the destination file. We were setting the incorrect bit here causing all files to be restored from cache with one file mode.    When recursively walking files, the walk function we use seems to be calling the callback with the incorrect file mode (it's always 0)   The Fix To fix this, I've made the file copying functions a bit less generalized (they no longer require a source mode, or a destination mode). Instead, they always use the mode of the source file for the destination file. I also pushed the logic of sourcing the source files mode into the Copy function, below where the incorrect mode was being returned from godirwalk. This makes these functions slightly less reusable, but for our purposes, this is what we need. We can always add back generalized versions in the future.",fix(cli): cache with correct file perms (#1429),"Fixes link Issue Summary There were two main issues causing this: We're using generic filesystem function for the cache operations. These functions require a file mode for the source file, and a file mode for the destination file. We were setting the incorrect bit here causing all files to be restored from cache with one file mode.  When recursively walking files, the walk function we use seems to be calling the callback with the incorrect file mode (it's always 0) The Fix To fix this, I've made the file copying functions a bit less generalized (they no longer require a source mode, or a destination mode). Instead, they always use the mode of the source file for the destination file. I also pushed the logic of sourcing the source files mode into the Copy function, below where the incorrect mode was being returned from godirwalk. This makes these functions slightly less reusable, but for our purposes, this is what we need. We can always add back generalized versions in the future."
3255,clippy fix,,clippy fix,
3256,apply review changes,,apply review changes,
3257,strip stderr timestamp,,strip stderr timestamp,
3258,grpc loader,,grpc loader,
3259,add #[turbo_task::value(transparent) to make better wrapper types,Add StringVc as replacement for Vc add initial traits for chunking,add #[turbo_task::value(transparent) to make better wrapper types,Add StringVc as replacement for Vc add initial traits for chunking
3260,Merge remote-tracking branch 'origin/main' into bindings,,Merge remote-tracking branch 'origin/main' into bindings,
3261,Merge pull request #72 from vercel/kdy1/proc-macro,feat(macros): Derive PartialEq and Eq for value-s by default,Merge pull request #72 from vercel/kdy1/proc-macro,feat(macros): Derive PartialEq and Eq for value-s by default
3262,fix some nitpicks,,fix some nitpicks,
3263,Merge remote-tracking branch 'origin/main' into bindings,,Merge remote-tracking branch 'origin/main' into bindings,
3264,Merge branch 'main' into kdy1/proc-macro,,Merge branch 'main' into kdy1/proc-macro,
3265,Merge pull request #73 from vercel/bugfix/println,remove println,Merge pull request #73 from vercel/bugfix/println,remove println
3266,remove println,,remove println,
3267,firebase,,firebase,
3268,fixup,,fixup,
3269,error message,,error message,
3270,fixup,,fixup,
3271,fixup,,fixup,
3272,fixup,,fixup,
3273,fixup,,fixup,
3274,fixup,,fixup,
3275,fixup,,fixup,
3276,fixup,,fixup,
3277,Fix,,Fix,
3278,Fix turbo-tasks,,Fix turbo-tasks,
3279,Allow eq: manual,,Allow eq: manual,
3280,DEfault,,DEfault,
3281,pass all tests,,pass all tests,
3282,special case for node-gyp,,special case for node-gyp,
3283,wip,,wip,
3284,Improve seo of config page,,Improve seo of config page,
3285,Update schema generation script invocation. (#1436),"This is kind of a weird fix. I believe it works by resetting the execution root for the compileProgram execution; not based upon any actual configuration in our TSConfig file. The previous state would succeed or fail based upon the node_modules directory structure, this changes the execution location to be from a known-good location.",Update schema generation script invocation. (#1436),"This is kind of a weird fix. I believe it works by resetting the execution root for the compileProgram execution; not based upon any actual configuration in our TSConfig file. The previous state would succeed or fail based upon the node_modules directory structure, this changes the execution location to be from a known-good location."
3286,cwd,,cwd,
3287,pass cwd,,pass cwd,
3288,fixup,,fixup,
3289,Def,,Def,
3290,wip,,wip,
3291,save,,save,
3292,strong-globalize,,strong-globalize,
3293,treat express().set({args}) as require dir,,treat express().set({args}) as require dir,
3294,"evaulate Array#map, handle require with / suffix",,"evaulate Array#map, handle require with / suffix",
3295,evaluate bindings,,evaluate bindings,
3296,require resolve,,require resolve,
3297,Connect,,Connect,
3298,call,,call,
3299,publish 1.3.1 to registry,,publish 1.3.1 to registry,
3300,Drop -- in pnpm invocation for pnpm 7+ (#1432),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Drop -- in pnpm invocation for pnpm 7+ (#1432),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3301,Ensure maps are accessed with a lock (#1434),"Also ensure mutex is captured by reference, rather than by value. Fixes #1433",Ensure maps are accessed with a lock (#1434),"Also ensure mutex is captured by reference, rather than by value. Fixes #1433"
3302,Remove Dependabot (#1423),"Dependabot doesn't meet our needs, and should be removed from the project. https://github.com/vercel/turborepo/pull/1423#issuecomment-1161589228",Remove Dependabot (#1423),"Dependabot doesn't meet our needs, and should be removed from the project. link"
3303,Resize twitter card,,Resize twitter card,
3304,Set twitter:image head metatag in docs,,Set twitter:image head metatag in docs,
3305,hotfix: fix contributor list,,hotfix: fix contributor list,
3306,Add blog post for v1.3 (#1431),,Add blog post for v1.3 (#1431),
3307,publish 1.3.0 to registry,,publish 1.3.0 to registry,
3308,publish 1.3.0-canary.0 to registry,,publish 1.3.0-canary.0 to registry,
3309,"Add gitoutput package, rework all git hashing (#1239)",Migrate all calls out to git to a streaming reading strategy. Along the way: - Addresses the git path handling by using -z. - 15% performance improvement on large-monorepo. - Added path types. History grabbed with: git log --pretty=email --patch-with-stat --reverse --full-index --binary -- src/pkg/csv/reader.go src/pkg/csv/reader_test.go src/pkg/encoding/csv/reader.go src/pkg/encoding/csv/reader_test.go src/encoding/csv/reader.go src/encoding/csv/reader_test.go Co-authored-by: Robert Griesemer 8528975+griesemer@users.noreply.github.com Co-authored-by: Russ Cox 104030+rsc@users.noreply.github.com Co-authored-by: Rob Pike 4324516+robpike@users.noreply.github.com Co-authored-by: Brad Fitzpatrick 2621+bradfitz@users.noreply.github.com Co-authored-by: Pieter Droogendijk 821733+PieterD@users.noreply.github.com Co-authored-by: Shawn Smith 80111+shawnps@users.noreply.github.com Co-authored-by: Justin Nuß 6443781+nussjustin@users.noreply.github.com Co-authored-by: Ainar Garipov 4964986+ainar-g@users.noreply.github.com Co-authored-by: Damien Neil 52544+neild@users.noreply.github.com Co-authored-by: Katrina Owen 276834+kytrinyx@users.noreply.github.com Co-authored-by: Eric Lagergren 5894247+ericlagergren@users.noreply.github.com Co-authored-by: Ian Lance Taylor 3194333+ianlancetaylor@users.noreply.github.com Co-authored-by: Jess Frazelle 1445228+jessfraz@users.noreply.github.com Co-authored-by: Joe Tsai 6354026+dsnet@users.noreply.github.com Co-authored-by: Roger Peppe 66491+rogpeppe@users.noreply.github.com,"Add gitoutput package, rework all git hashing (#1239)",Migrate all calls out to git to a streaming reading strategy. Along the way: - Addresses the git path handling by using -z. - 15% performance improvement on large-monorepo. - Added path types. History grabbed with: git log --pretty=email --patch-with-stat --reverse --full-index --binary -- src/pkg/csv/reader.go src/pkg/csv/reader_test.go src/pkg/encoding/csv/reader.go src/pkg/encoding/csv/reader_test.go src/encoding/csv/reader.go src/encoding/csv/reader_test.go Co-authored-by: Robert Griesemer 8528975+griesemer@users.noreply.github.com Co-authored-by: Russ Cox 104030+rsc@users.noreply.github.com Co-authored-by: Rob Pike 4324516+robpike@users.noreply.github.com Co-authored-by: Brad Fitzpatrick 2621+bradfitz@users.noreply.github.com Co-authored-by: Pieter Droogendijk 821733+PieterD@users.noreply.github.com Co-authored-by: Shawn Smith 80111+shawnps@users.noreply.github.com Co-authored-by: Justin Nuß 6443781+nussjustin@users.noreply.github.com Co-authored-by: Ainar Garipov 4964986+ainar-g@users.noreply.github.com Co-authored-by: Damien Neil 52544+neild@users.noreply.github.com Co-authored-by: Katrina Owen 276834+kytrinyx@users.noreply.github.com Co-authored-by: Eric Lagergren 5894247+ericlagergren@users.noreply.github.com Co-authored-by: Ian Lance Taylor 3194333+ianlancetaylor@users.noreply.github.com Co-authored-by: Jess Frazelle 1445228+jessfraz@users.noreply.github.com Co-authored-by: Joe Tsai 6354026+dsnet@users.noreply.github.com Co-authored-by: Roger Peppe 66491+rogpeppe@users.noreply.github.com
3310,"Remove cancellation workflow, fail-fast. (#1415)","A flaky test can bring down an entire set of CI runs but I only notice when I go back to look at the results, which means I've already waited for what I instinctively feel is the entire duration of the tests. Cancelled runs give me no information about the change. Like this run here: https://github.com/vercel/turborepo/runs/6934131393?check_suite_focus=true I only wanted to make sure it passed Windows CI, but that got cancelled for reason of a flaky test on Linux. This removes our cancellation workflow (replaced by built-in concurrency groups), and disables fast fail. It also corrects a bug in caching.","Remove cancellation workflow, fail-fast. (#1415)","A flaky test can bring down an entire set of CI runs but I only notice when I go back to look at the results, which means I've already waited for what I instinctively feel is the entire duration of the tests. Cancelled runs give me no information about the change. Like this run here: link I only wanted to make sure it passed Windows CI, but that got cancelled for reason of a flaky test on Linux. This removes our cancellation workflow (replaced by built-in concurrency groups), and disables fast fail. It also corrects a bug in caching."
3311,Update crates/turbopack-ecmascript/src/analyzer/well_known.rs,Co-authored-by: LongYinan lynweklm@gmail.com,Update crates/turbopack-ecmascript/src/analyzer/well_known.rs,Co-authored-by: LongYinan lynweklm@gmail.com
3312,Update crates/turbopack-ecmascript/src/analyzer/well_known.rs,Co-authored-by: LongYinan lynweklm@gmail.com,Update crates/turbopack-ecmascript/src/analyzer/well_known.rs,Co-authored-by: LongYinan lynweklm@gmail.com
3313,lints,,lints,
3314,ffmpeg,,ffmpeg,
3315,resolve,,resolve,
3316,Cwd,,Cwd,
3317,Done?,,Done?,
3318,Okay I got it,,Okay I got it,
3319,dbg!,,dbg!,
3320,dbg!,,dbg!,
3321,"Remove duplicate ""have"" (#1430)",,"Remove duplicate ""have"" (#1430)",
3322,docs: Fix yarn tab storage key name (#1428),Update the tabs to use matching keys to keep in sync.,docs: Fix yarn tab storage key name (#1428),Update the tabs to use matching keys to keep in sync.
3323,feat(cli): update the graph arg behavior (#1353),"Updates the behavior of the --graph CLI flag and fixes a few bugs.   This command will generate an svg, png, jpg, pdf, json, html, or other supported output formats of the current task graph. The output file format defaults to jpg, but can be controlled by specifying the filename's extension. If Graphviz is not installed, or no filename is provided, this command prints the dot graph to stdout  This PR also: 1. Updates docs to reflect the current state of the --graph CLI flag 1. Refactors the graph visualization code out of run.go 1. Cleans up the file name of colors_cache (follow up from https://github.com/vercel/turborepo/pull/1346) Fixes https://github.com/vercel/turborepo/issues/1286",feat(cli): update the graph arg behavior (#1353),"Updates the behavior of the --graph CLI flag and fixes a few bugs.  This command will generate an svg, png, jpg, pdf, json, html, or other supported output formats of the current task graph. The output file format defaults to jpg, but can be controlled by specifying the filename's extension. If Graphviz is not installed, or no filename is provided, this command prints the dot graph to stdout This PR also: 1. Updates docs to reflect the current state of the --graph CLI flag 1. Refactors the graph visualization code out of run.go 1. Cleans up the file name of colors_cache (follow up from link) Fixes link"
3324,publish 1.2.17-canary.1 to registry,,publish 1.2.17-canary.1 to registry,
3325,Bump github.com/AlecAivazis/survey/v2 from 2.2.12 to 2.3.5 in /cli (#1379),"Bumps github.com/AlecAivazis/survey/v2 from 2.2.12 to 2.3.5.  Release notes Sourced from github.com/AlecAivazis/survey/v2's releases.  v2.3.5 No release notes provided. v2.3.4 What's Changed  Fix Survey output on Windows by @​mislav in AlecAivazis/survey#413 Add terminal.Cursor error handling on Windows by @​mislav in AlecAivazis/survey#414  Full Changelog: https://github.com/AlecAivazis/survey/compare/v2.3.3...v2.3.4 v2.3.3 No release notes provided. v2.3.2 No release notes provided. v2.3.1 No release notes provided. Cursor tracks select focus No release notes provided. v2.2.16 No release notes provided. v2.2.15 No release notes provided. v2.2.14 No release notes provided. v2.2.13 No release notes provided.    Commits  e47352f Fix README formatting for select descriptions (#426) c2be27f Added an option to add a comment to every select's option (#418) 93657ef Enable compilation under Go 1.18 (#417) 459523e Add terminal.Cursor error handling on Windows (#414) 6cbb195 Fix Survey output on Windows (#413) c07023a Skip vi-dependent tests when there is no vi in PATH (#397) 099a968 Fix multiple validator inconsistency (#401) 1b28f27 fix: ensure terminal has required read settings in non-canonical mode (#409) bcabe24 Stricter error handling in tests (#404) 3cabaff Drop proprietary runner dependency in favor of go tooling (#403) Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)    Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com",Bump github.com/AlecAivazis/survey/v2 from 2.2.12 to 2.3.5 in /cli (#1379),"Bumps github.com/AlecAivazis/survey/v2 from 2.2.12 to 2.3.5. Release notes Sourced from github.com/AlecAivazis/survey/v2's releases. v2.3.5 No release notes provided. v2.3.4 What's Changed Fix Survey output on Windows by @​mislav in AlecAivazis/survey#413 Add terminal.Cursor error handling on Windows by @​mislav in AlecAivazis/survey#414 Full Changelog: link v2.3.3 No release notes provided. v2.3.2 No release notes provided. v2.3.1 No release notes provided. Cursor tracks select focus No release notes provided. v2.2.16 No release notes provided. v2.2.15 No release notes provided. v2.2.14 No release notes provided. v2.2.13 No release notes provided. Commits e47352f Fix README formatting for select descriptions (#426) c2be27f Added an option to add a comment to every select's option (#418) 93657ef Enable compilation under Go 1.18 (#417) 459523e Add terminal.Cursor error handling on Windows (#414) 6cbb195 Fix Survey output on Windows (#413) c07023a Skip vi-dependent tests when there is no vi in PATH (#397) 099a968 Fix multiple validator inconsistency (#401) 1b28f27 fix: ensure terminal has required read settings in non-canonical mode (#409) bcabe24 Stricter error handling in tests (#404) 3cabaff Drop proprietary runner dependency in favor of go tooling (#403) Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself) Co-authored-by: Nathan Hammond 20542+nathanhammond@users.noreply.github.com"
3326,Bump github.com/stretchr/testify from 1.7.0 to 1.7.2 in /cli (#1378),"Bumps github.com/stretchr/testify from 1.7.0 to 1.7.2.  Commits  41453c0 Update gopkg.in/yaml.v3 285adcc Update go versions in build matrix 6e7fab4 Bump actions/setup-go from 2 to 3.1.0 106ec21 use RWMutex a409ccf fix data race in the suit 3586478 assert: fix typo 7797738 Update versions supported to include go 1.16 083ff1c Fixed didPanic to now detect panic(nil). 1e36bfe Use cross Go version compatible build tag syntax e798dc2 Add docs on 1.17 build tags Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)  ",Bump github.com/stretchr/testify from 1.7.0 to 1.7.2 in /cli (#1378),"Bumps github.com/stretchr/testify from 1.7.0 to 1.7.2. Commits 41453c0 Update gopkg.in/yaml.v3 285adcc Update go versions in build matrix 6e7fab4 Bump actions/setup-go from 2 to 3.1.0 106ec21 use RWMutex a409ccf fix data race in the suit 3586478 assert: fix typo 7797738 Update versions supported to include go 1.16 083ff1c Fixed didPanic to now detect panic(nil). 1e36bfe Use cross Go version compatible build tag syntax e798dc2 Add docs on 1.17 build tags Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)"
3327,Bump @react-aria/radio from 3.1.8 to 3.2.1 in /docs (#1421),"Bumps @react-aria/radio from 3.1.8 to 3.2.1.  Commits  1e9f5ad Publish d537763 Add DatePicker and Calendar to monopackages (#3234) 73ade29 Fixing stuck FireFox ListView root drop indicator  (#3224) 4f3c81c Update TableView docs for checkbox/highlight + onAction behavior update (#3205) 922dbe8 CSF 3.0 Label and HelpText (#3152) e5848f6 Work around Safari bug with ethiopic calendar (#3223) df1783a Fix FF date segment typing (#3222) bcbe803 Fix entering dates with keyboard using VoiceOver on iOS (#3216) b91e0f4 Fix bugs with eras in DatePicker (#3215) ce12e09 Shift focus when era is removed while focused in DatePicker (#3213) Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)    Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com",Bump @react-aria/radio from 3.1.8 to 3.2.1 in /docs (#1421),"Bumps @react-aria/radio from 3.1.8 to 3.2.1. Commits 1e9f5ad Publish d537763 Add DatePicker and Calendar to monopackages (#3234) 73ade29 Fixing stuck FireFox ListView root drop indicator  (#3224) 4f3c81c Update TableView docs for checkbox/highlight + onAction behavior update (#3205) 922dbe8 CSF 3.0 Label and HelpText (#3152) e5848f6 Work around Safari bug with ethiopic calendar (#3223) df1783a Fix FF date segment typing (#3222) bcbe803 Fix entering dates with keyboard using VoiceOver on iOS (#3216) b91e0f4 Fix bugs with eras in DatePicker (#3215) ce12e09 Shift focus when era is removed while focused in DatePicker (#3213) Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself) Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com"
3328,Bump typescript from 4.5.5 to 4.7.4 in /docs (#1420),"Bumps typescript from 4.5.5 to 4.7.4. e notes Sourced from typescript's releases.  TypeScript 4.7.4 For release notes, check out the release announcement. For the complete list of fixed issues, check out the  fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable). fixed issues query for Typescript 4.7.3 (Stable). fixed issues query for Typescript 4.7.4 (Stable).  Downloads are available on:  npm Visual Studio 2022/2019 (Select new version in project options) NuGet package  TypeScript 4.7.3 For release notes, check out the release announcement. For the complete list of fixed issues, check out the  fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable). fixed issues query for Typescript 4.7.3 (Stable).  Downloads are available on:  npm Visual Studio 2022/2019 (Select new version in project options) NuGet package  TypeScript 4.7.2 For release notes, check out the release announcement. For the complete list of fixed issues, check out the  fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable).  Downloads are available on:  npm Visual Studio 2022/2019 (Select new version in project options) NuGet package  TypeScript 4.7 RC For release notes, check out the release announcement.  raw HTML omitted   ... (truncated)   Commits  76401ad Bump version to 4.7.4 and LKG dfe885b Properly re-scan > token in type argument list determination logic (#49560)... 4d2983a Cherry-pick PR #49442 into release-4.7 (#49447) e5050bb Bump version to 4.7.3 and LKG 4c4c803 🤖 Pick PR #49360 (Expose import mode calculation func...) into release-4.7 (#... 3ce08c6 fix(49223): checker.getTypeAtLocation for ExpressionWithTypeArguments returns... 3bf0d30 Pick PR #49356 (Add nightly-only error on ImportType resolution mode assertio... 5f7f0b1 Cherry-pick PR #49361 into release-4.7 (#49364) c07d883 Cherry-pick PR #49313 into release-4.7 (#49359) 197aaef Cherry-pick PR #49246 into release-4.7 (#49250) Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)    Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com",Bump typescript from 4.5.5 to 4.7.4 in /docs (#1420),"Bumps typescript from 4.5.5 to 4.7.4. e notes Sourced from typescript's releases. TypeScript 4.7.4 For release notes, check out the release announcement. For the complete list of fixed issues, check out the fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable). fixed issues query for Typescript 4.7.3 (Stable). fixed issues query for Typescript 4.7.4 (Stable). Downloads are available on: npm Visual Studio 2022/2019 (Select new version in project options) NuGet package TypeScript 4.7.3 For release notes, check out the release announcement. For the complete list of fixed issues, check out the fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable). fixed issues query for Typescript 4.7.3 (Stable). Downloads are available on: npm Visual Studio 2022/2019 (Select new version in project options) NuGet package TypeScript 4.7.2 For release notes, check out the release announcement. For the complete list of fixed issues, check out the fixed issues query for Typescript 4.7.0 (Beta). fixed issues query for Typescript 4.7.1 (RC). fixed issues query for Typescript 4.7.2 (Stable). Downloads are available on: npm Visual Studio 2022/2019 (Select new version in project options) NuGet package TypeScript 4.7 RC For release notes, check out the release announcement.  raw HTML omitted  ... (truncated) Commits 76401ad Bump version to 4.7.4 and LKG dfe885b Properly re-scan > token in type argument list determination logic (#49560)... 4d2983a Cherry-pick PR #49442 into release-4.7 (#49447) e5050bb Bump version to 4.7.3 and LKG 4c4c803 🤖 Pick PR #49360 (Expose import mode calculation func...) into release-4.7 (#... 3ce08c6 fix(49223): checker.getTypeAtLocation for ExpressionWithTypeArguments returns... 3bf0d30 Pick PR #49356 (Add nightly-only error on ImportType resolution mode assertio... 5f7f0b1 Cherry-pick PR #49361 into release-4.7 (#49364) c07d883 Cherry-pick PR #49313 into release-4.7 (#49359) 197aaef Cherry-pick PR #49246 into release-4.7 (#49250) Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself) Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com"
3329,Bump tailwindcss from 3.0.15 to 3.1.3 in /docs (#1422),"Bumps tailwindcss from 3.0.15 to 3.1.3. Sourced from tailwindcss's releases.  v3.1.3 Fixed  Fix extraction of multi-word utilities with arbitrary values and quotes (#8604) Fix casing of import of corePluginList type definition (#8587) Ignore PostCSS nodes returned by addVariant (#8608) Fix missing spaces around arithmetic operators (#8615) Detect alpha value in CSS theme() function when using quotes (#8625) Fix ""Maximum call stack size exceeded"" bug (#8636) Allow functions returning parallel variants to mutate the container (#8622) Remove text opacity CSS variables from ::marker (#8622)  v3.1.2 Fixed  Ensure \ is a valid arbitrary variant token (#8576) Enable postcss-import in the CLI by default in watch mode (#8574, #8580)  v3.1.1 Fixed  Fix candidate extractor regression (#8558) Split ::backdrop into separate defaults group (#8567) Fix postcss plugin type (#8564) Fix class detection in markdown code fences and slim templates (#8569)  v3.1.0 We just released Tailwind CSS v3.1 — the first new feature release since v3.0 came out last year! Read the announcement post for all the details, and watch the YouTube video for a tour of some of the highlights.  Added  Support PostCSS Document nodes (#7291) Add text-start and text-end utilities (#6656) Support customizing class name when using darkMode: 'class' (#5800) Add --poll option to the CLI (#7725) Add new border-spacing utilities (#7102) Add enabled variant (#7905) Add TypeScript types for the tailwind.config.js file (#7891) Add backdrop variant (#7924, #8526) Add grid-flow-dense utility (#8193) Add mix-blend-plus-lighter utility (#8288) Add arbitrary variants (#8299) Add experimental matchVariant API (#8310, 34fd0fb8) Add prefers-contrast media query variants (#8410) Add opacity support when referencing colors with theme function (#8416) Add postcss-import support to the CLI (#8437)   raw HTML omitted   ... (truncated)   Changelog Sourced from tailwindcss's changelog.  [3.1.3] - 2022-06-14 Fixed  Fix extraction of multi-word utilities with arbitrary values and quotes (#8604) Fix casing of import of corePluginList type definition (#8587) Ignore PostCSS nodes returned by addVariant (#8608) Fix missing spaces around arithmetic operators (#8615) Detect alpha value in CSS theme() function when using quotes (#8625) Fix ""Maximum call stack size exceeded"" bug (#8636) Allow functions returning parallel variants to mutate the container (#8622) Remove text opacity CSS variables from ::marker (#8622)  [3.1.2] - 2022-06-10 Fixed  Ensure \ is a valid arbitrary variant token (#8576) Enable postcss-import in the CLI by default in watch mode (#8574, #8580)  [3.1.1] - 2022-06-09 Fixed  Fix candidate extractor regression (#8558) Split ::backdrop into separate defaults group (#8567) Fix postcss plugin type (#8564) Fix class detection in markdown code fences and slim templates (#8569)  [3.1.0] - 2022-06-08 Fixed  Types: allow for arbitrary theme values (for 3rd party plugins) (#7926) Don’t split vars with numbers in them inside arbitrary values (#8091) Require matching prefix when detecting negatives (#8121) Handle duplicate At Rules without children (#8122) Allow arbitrary values with commas in @apply (#8125) Fix intellisense for plugins with multiple @apply rules (#8213) Improve type detection for arbitrary color values (#8201) Support PostCSS config options in config file in CLI (#8226) Remove default [hidden] style in preflight (#8248) Only check selectors containing base apply candidates for circular dependencies (#8222) Rewrite default class extractor (#8204) Move important selector to the front when @apply-ing selector-modifying variants in custom utilities (#8313) Error when registering an invalid custom variant (#8345) Create tailwind.config.cjs file in ESM package when running init (#8363) Fix matchVariants that use at-rules and placeholders (#8392) Improve types of the tailwindcss/plugin (#8400) Allow returning parallel variants from addVariant or matchVariant callback functions (#8455)   raw HTML omitted   ... (truncated)   Commits  76340ce 3.1.3 bd45445 update changelog 15dc5a3 Remove text opacity CSS variables from ::marker (#8622) 22eaad1 Fix ""Maximum call stack size exceeded"" bug (#8636) 47327f4 Update jest to version 28.1.1 2712d87 Update jest-diff to version 28.1.1 1c24d7a Detect alpha value in CSS theme() function when using quotes (#8625) aad299c Fix missing spaces around arithmetic operators (#8615) d116563 Update arg to version 5.0.2 037396b Ignore PostCSS nodes returned by addVariant (#8608) Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)    Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com",Bump tailwindcss from 3.0.15 to 3.1.3 in /docs (#1422),"Bumps tailwindcss from 3.0.15 to 3.1.3. Sourced from tailwindcss's releases. v3.1.3 Fixed Fix extraction of multi-word utilities with arbitrary values and quotes (#8604) Fix casing of import of corePluginList type definition (#8587) Ignore PostCSS nodes returned by addVariant (#8608) Fix missing spaces around arithmetic operators (#8615) Detect alpha value in CSS theme() function when using quotes (#8625) Fix ""Maximum call stack size exceeded"" bug (#8636) Allow functions returning parallel variants to mutate the container (#8622) Remove text opacity CSS variables from ::marker (#8622) v3.1.2 Fixed Ensure \ is a valid arbitrary variant token (#8576) Enable postcss-import in the CLI by default in watch mode (#8574, #8580) v3.1.1 Fixed Fix candidate extractor regression (#8558) Split ::backdrop into separate defaults group (#8567) Fix postcss plugin type (#8564) Fix class detection in markdown code fences and slim templates (#8569) v3.1.0 We just released Tailwind CSS v3.1 — the first new feature release since v3.0 came out last year! Read the announcement post for all the details, and watch the YouTube video for a tour of some of the highlights. Added Support PostCSS Document nodes (#7291) Add text-start and text-end utilities (#6656) Support customizing class name when using darkMode: 'class' (#5800) Add --poll option to the CLI (#7725) Add new border-spacing utilities (#7102) Add enabled variant (#7905) Add TypeScript types for the tailwind.config.js file (#7891) Add backdrop variant (#7924, #8526) Add grid-flow-dense utility (#8193) Add mix-blend-plus-lighter utility (#8288) Add arbitrary variants (#8299) Add experimental matchVariant API (#8310, 34fd0fb8) Add prefers-contrast media query variants (#8410) Add opacity support when referencing colors with theme function (#8416) Add postcss-import support to the CLI (#8437) raw HTML omitted  ... (truncated) Changelog Sourced from tailwindcss's changelog. [3.1.3] - 2022-06-14 Fixed Fix extraction of multi-word utilities with arbitrary values and quotes (#8604) Fix casing of import of corePluginList type definition (#8587) Ignore PostCSS nodes returned by addVariant (#8608) Fix missing spaces around arithmetic operators (#8615) Detect alpha value in CSS theme() function when using quotes (#8625) Fix ""Maximum call stack size exceeded"" bug (#8636) Allow functions returning parallel variants to mutate the container (#8622) Remove text opacity CSS variables from ::marker (#8622) [3.1.2] - 2022-06-10 Fixed Ensure \ is a valid arbitrary variant token (#8576) Enable postcss-import in the CLI by default in watch mode (#8574, #8580) [3.1.1] - 2022-06-09 Fixed Fix candidate extractor regression (#8558) Split ::backdrop into separate defaults group (#8567) Fix postcss plugin type (#8564) Fix class detection in markdown code fences and slim templates (#8569) [3.1.0] - 2022-06-08 Fixed Types: allow for arbitrary theme values (for 3rd party plugins) (#7926) Don’t split vars with numbers in them inside arbitrary values (#8091) Require matching prefix when detecting negatives (#8121) Handle duplicate At Rules without children (#8122) Allow arbitrary values with commas in @apply (#8125) Fix intellisense for plugins with multiple @apply rules (#8213) Improve type detection for arbitrary color values (#8201) Support PostCSS config options in config file in CLI (#8226) Remove default [hidden] style in preflight (#8248) Only check selectors containing base apply candidates for circular dependencies (#8222) Rewrite default class extractor (#8204) Move important selector to the front when @apply-ing selector-modifying variants in custom utilities (#8313) Error when registering an invalid custom variant (#8345) Create tailwind.config.cjs file in ESM package when running init (#8363) Fix matchVariants that use at-rules and placeholders (#8392) Improve types of the tailwindcss/plugin (#8400) Allow returning parallel variants from addVariant or matchVariant callback functions (#8455) raw HTML omitted  ... (truncated) Commits 76340ce 3.1.3 bd45445 update changelog 15dc5a3 Remove text opacity CSS variables from ::marker (#8622) 22eaad1 Fix ""Maximum call stack size exceeded"" bug (#8636) 47327f4 Update jest to version 28.1.1 2712d87 Update jest-diff to version 28.1.1 1c24d7a Detect alpha value in CSS theme() function when using quotes (#8625) aad299c Fix missing spaces around arithmetic operators (#8615) d116563 Update arg to version 5.0.2 037396b Ignore PostCSS nodes returned by addVariant (#8608) Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself) Co-authored-by: Thomas Knickman 2933988+tknickman@users.noreply.github.com"
3330,cwd,,cwd,
3331,Rename,,Rename,
3332,Copy paste,,Copy paste,
3333,stop logic,,stop logic,
3334,Optimize,,Optimize,
3335,Bump github.com/hashicorp/go-hclog from 1.1.0 to 1.2.1 in /cli (#1382),"Bumps github.com/hashicorp/go-hclog from 1.1.0 to 1.2.1.  Release notes Sourced from github.com/hashicorp/go-hclog's releases.  testify/go.yaml fix This bumps the version of testify and go.yaml that are referenced by go-hclog to fix a security issue in go.yaml. More Restrained Color What's Changed  Add Windows, MacOS to GitHub Actions build matrix by @​dolmen in hashicorp/go-hclog#107 Add ability to only colorize the header, not the whole log message by @​evanphx in hashicorp/go-hclog#108  New Contributors  @​dolmen made their first contribution in hashicorp/go-hclog#107  Full Changelog: https://github.com/hashicorp/go-hclog/compare/v1.1.0...v1.2.0    Commits  fb7b65b Merge pull request #114 from hashicorp/bflad-update-testify 5ab8851 deps: Update github.com/stretchr/testify@v1.7.2 6298bbe fix GH test workflow after master -> main switch (#113) af3b44c Merge pull request #111 from hashicorp/update-dependencies 1245bc2 build: update dependencies d6f8c30 Merge pull request #110 from hashicorp/aw/update-readme 48a8ddd Update README.md b6b5567 Merge pull request #108 from hashicorp/f-header-color fc772a8 Add ability to only colorize the header, not the whole log message 8103345 Merge pull request #107 from dolmen-go/actions-more-OS Additional commits viewable in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)  ",Bump github.com/hashicorp/go-hclog from 1.1.0 to 1.2.1 in /cli (#1382),"Bumps github.com/hashicorp/go-hclog from 1.1.0 to 1.2.1. Release notes Sourced from github.com/hashicorp/go-hclog's releases. testify/go.yaml fix This bumps the version of testify and go.yaml that are referenced by go-hclog to fix a security issue in go.yaml. More Restrained Color What's Changed Add Windows, MacOS to GitHub Actions build matrix by @​dolmen in hashicorp/go-hclog#107 Add ability to only colorize the header, not the whole log message by @​evanphx in hashicorp/go-hclog#108 New Contributors @​dolmen made their first contribution in hashicorp/go-hclog#107 Full Changelog: link Commits fb7b65b Merge pull request #114 from hashicorp/bflad-update-testify 5ab8851 deps: Update github.com/stretchr/testify@v1.7.2 6298bbe fix GH test workflow after master -> main switch (#113) af3b44c Merge pull request #111 from hashicorp/update-dependencies 1245bc2 build: update dependencies d6f8c30 Merge pull request #110 from hashicorp/aw/update-readme 48a8ddd Update README.md b6b5567 Merge pull request #108 from hashicorp/f-header-color fc772a8 Add ability to only colorize the header, not the whole log message 8103345 Merge pull request #107 from dolmen-go/actions-more-OS Additional commits viewable in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)"
3336,Bump github.com/briandowns/spinner from 1.16.0 to 1.18.1 in /cli (#1377),"Bumps github.com/briandowns/spinner from 1.16.0 to 1.18.1.  Commits  16b2c08 start spinner only when fd is terminal (#131) 55bc95e update copyright date 1935ea5 updates (#129) 7415b9d Issue 74 (#128) 3317de2 remove extra space (#127) 12b31a6 Move cursor to the beginning of the line before erasing (#126) 8cd3c74 Update TestRestart - CrossOS Passing & More Consistent (#125) See full diff in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)  ",Bump github.com/briandowns/spinner from 1.16.0 to 1.18.1 in /cli (#1377),"Bumps github.com/briandowns/spinner from 1.16.0 to 1.18.1. Commits 16b2c08 start spinner only when fd is terminal (#131) 55bc95e update copyright date 1935ea5 updates (#129) 7415b9d Issue 74 (#128) 3317de2 remove extra space (#127) 12b31a6 Move cursor to the beginning of the line before erasing (#126) 8cd3c74 Update TestRestart - CrossOS Passing & More Consistent (#125) See full diff in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)"
3337,Bump github.com/deckarep/golang-set from 1.7.1 to 1.8.0 in /cli (#1376),"Bumps github.com/deckarep/golang-set from 1.7.1 to 1.8.0.  Commits  645e1ba fix go mod ebd0439 make testing verbose 82e1f83 migrating to github workflows fd7989e only do tip and previous version of Go bcfae0b updating travis go versions 88d3a92 adding mod file 03b5720 Travis-ci: added support for ppc64le and updated go versions 1.14 & 1.15 699df6a check cardinality before check subset See full diff in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)  ",Bump github.com/deckarep/golang-set from 1.7.1 to 1.8.0 in /cli (#1376),"Bumps github.com/deckarep/golang-set from 1.7.1 to 1.8.0. Commits 645e1ba fix go mod ebd0439 make testing verbose 82e1f83 migrating to github workflows fd7989e only do tip and previous version of Go bcfae0b updating travis go versions 88d3a92 adding mod file 03b5720 Travis-ci: added support for ppc64le and updated go versions 1.14 & 1.15 699df6a check cardinality before check subset See full diff in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)"
3338,Friendly spellcheck in README.md (#1416),,Friendly spellcheck in README.md (#1416),
3339,Add root boundary to untarring (#1409),"  Add a test for untarring in the http cache   Disallow untarring files that cross the repo root boundary   Restructure resp.Body closing   Comments about tar headers being posix-style, and also our cache usage ",Add root boundary to untarring (#1409),"Add a test for untarring in the http cache Disallow untarring files that cross the repo root boundary Restructure resp.Body closing Comments about tar headers being posix-style, and also our cache usage"
3340,More CI Cleanup (#1408),This makes our repo configuration more system-agnostic by pushing the platform-switching behavior farther to the roots.,More CI Cleanup (#1408),This makes our repo configuration more system-agnostic by pushing the platform-switching behavior farther to the roots.
3341,Merge pull request #68 from vercel/dev-server/add,add initial dev server,Merge pull request #68 from vercel/dev-server/add,add initial dev server
3342,Merge pull request #69 from vercel/ci/split,split test and check into separate workflows,Merge pull request #69 from vercel/ci/split,split test and check into separate workflows
3343,split test and check into separate workflows,,split test and check into separate workflows,
3344,add Once tasks todo,,add Once tasks todo,
3345,abstract lazy graph into Asset decorator,enable watching for dev server,abstract lazy graph into Asset decorator,enable watching for dev server
3346,add initial dev-server and next-dev cli,,add initial dev-server and next-dev cli,
3347,Merge pull request #67 from vercel/refactor/tokio,refactor from async_std to tokio,Merge pull request #67 from vercel/refactor/tokio,refactor from async_std to tokio
3348,fix run_once,,fix run_once,
3349,We lost -- prefixing passthrough args (#1405),Fixes #1355  Prefix passthrough args with -- so that they get routed through the package manager,We lost -- prefixing passthrough args (#1405),Fixes #1355  Prefix passthrough args with -- so that they get routed through the package manager
3350,Use Go 1.17 mode for lint (#1404),,Use Go 1.17 mode for lint (#1404),
3351,Upgrade to pnpm v7.2.1 (#1403),,Upgrade to pnpm v7.2.1 (#1403),
3352,Update pnpm deps in example,,Update pnpm deps in example,
3353,publish 1.2.17-canary.0 to registry,,publish 1.2.17-canary.0 to registry,
3354,Handle running the tests by a logged-in user (#1402),Backup existing config and restore it at the end of the test.,Handle running the tests by a logged-in user (#1402),Backup existing config and restore it at the end of the test.
3355,Run lint against Go 1.17 to constrain introduction of 1.18 features. (#1374),"@gsoltis had a good minimally-invasive suggestion which gets our linters back working: https://github.com/vercel/turborepo/pull/1168#issuecomment-1150243992 This PR implements that suggestion. We still build and publish with 1.18, the only real difference is we run lint against 1.17; which will happily break us if we introduce 1.18-specific features.",Run lint against Go 1.17 to constrain introduction of 1.18 features. (#1374),"@gsoltis had a good minimally-invasive suggestion which gets our linters back working: link This PR implements that suggestion. We still build and publish with 1.18, the only real difference is we run lint against 1.17; which will happily break us if we introduce 1.18-specific features."
3356,Configure Dependabot (#1365),"This PR configures Dependabot to monitor dependencies across all of our own packages. It does not attempt to set up Dependabot for our examples or our create-turbo templates. (I want to address that update separately.) Note: Dependabot does not officially support pnpm (dependabot/dependabot-core#1736) and is not workspaces-friendly (dependabot/dependabot-core#4993). All Dependabot PRs for the npm ecosystem will require checking out, regenerating the lockfile, and pushing back to the branch. I've configured checks to be monthly which seems like a decent cadence to monitor things (and cluster everything to a few hours required to shepherd everything through).",Configure Dependabot (#1365),"This PR configures Dependabot to monitor dependencies across all of our own packages. It does not attempt to set up Dependabot for our examples or our create-turbo templates. (I want to address that update separately.) Note: Dependabot does not officially support pnpm (dependabot/dependabot-core#1736) and is not workspaces-friendly (dependabot/dependabot-core#4993). All Dependabot PRs for the npm ecosystem will require checking out, regenerating the lockfile, and pushing back to the branch. I've configured checks to be monthly which seems like a decent cadence to monitor things (and cluster everything to a few hours required to shepherd everything through)."
3357,Fix parsing concurrency as a number or percent (#1371),Fixes #1336  Implemented a custom value to accept either a number or percentage.,Fix parsing concurrency as a number or percent (#1371),Fixes #1336  Implemented a custom value to accept either a number or percentage.
3358,refactor from async_std to tokio,,refactor from async_std to tokio,
3359,Revert #1297 (#1375),I've been seeing frequent intermittent pnpm failures in CI. In theory #1297 is safe to revert and I'm trying to see if that makes problems go away.,Revert #1297 (#1375),I've been seeing frequent intermittent pnpm failures in CI. In theory #1297 is safe to revert and I'm trying to see if that makes problems go away.
3360,Merge pull request #66 from vercel/rust/toolchain,revert rust-toolchain update,Merge pull request #66 from vercel/rust/toolchain,revert rust-toolchain update
3361,revert rust-toolchain update,,revert rust-toolchain update,
3362,Merge pull request #65 from vercel/refactor/crate-split,split turbopack crate into pieces,Merge pull request #65 from vercel/refactor/crate-split,split turbopack crate into pieces
3363,fixes and native_native_bindings flag,,fixes and native_native_bindings flag,
3364,Code Housekeeping (#1367),A lot of little build housekeeping bundled into one PR.,Code Housekeeping (#1367),A lot of little build housekeeping bundled into one PR.
3365,bugfix,,bugfix,
3366,Bump lint-staged from 12.5.0 to 13.0.0 (#1318),Bumps lint-staged from 12.5.0 to 13.0.0. - Release notes - Commits  updated-dependencies: - dependency-name: lint-staged   dependency-type: direct:development   update-type: version-update:semver-major ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com,Bump lint-staged from 12.5.0 to 13.0.0 (#1318),Bumps lint-staged from 12.5.0 to 13.0.0. - Release notes - Commits updated-dependencies: - dependency-name: lint-staged   dependency-type: direct:development   update-type: version-update:semver-major ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Thomas Knickman tom.knickman@vercel.com
3367,feat: go1.18.3 goreleaser v1.9.2,update cosign to 1.9.0 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.18.3 goreleaser v1.9.2,update cosign to 1.9.0 Signed-off-by: Artur Troian troian.ap@gmail.com
3368,split turbopack crate into pieces,introduce AssetContext to pass graph related information,split turbopack crate into pieces,introduce AssetContext to pass graph related information
3369,Expand the blocking labels for Kodiak. (#1364),On #1354 Kodiak trolled us. This expands the blocking labels to ensure that the labels that look like they should be blocking are indeed blocking.,Expand the blocking labels for Kodiak. (#1364),On #1354 Kodiak trolled us. This expands the blocking labels to ensure that the labels that look like they should be blocking are indeed blocking.
3370,"Added ""outputLogs"" Configuration Option (#1332)"," Added ""outputLogs"" To turbo.json  This commit adds a new configuration option ""outputLogs"" which will be used to set the default value of the --output-logs run option.  Refactored --output-logs Run Option  This commit refactors the task log output to use the new util.TaskOutputModeand removes the LogMode type used previously.   Added ""outputLog"" Tests   Added ""outputLogs"" Documentation   Simplified TaskOutputMode Constants   Changed TaskOutputMode Into Enum   This commit replaces the TaskOutputMode strings with an appropriate enum and related parsing. It now uses UnmarshalJSON to parse as well and so we can remove ValidateTurboJSON entirely.  Moved ""outputLogs"" Config Into Pipeline  This commit moves the root ""outputLogs"" configuration option into the pipeline config. It also renames it to ""outputMode"" to better reflect the nature of the option.   Fixed Accidental Changes   Removed More Unnecessary Changes   After scrolling through all of the changed files in GitHub, I found other instances of unnecessary changes. Since this PR went through a few iterations, some things were left behind that weren't necessary.   Added ""outputMode"" Parsing Test   Refactored TaskOutputModeOverride Into TaskCache   This removes the need to deal with strings outside of the ""--output-logs"" value handling.   Added --output-logs Default Value Error Handling   Mark TaskOutputModeOverride as optional in runcache.Opts. Remove flags plumbing from run   Clarified RunCache.taskOutputMode As Override   Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com","Added ""outputLogs"" Configuration Option (#1332)","Added ""outputLogs"" To turbo.json This commit adds a new configuration option ""outputLogs"" which will be used to set the default value of the --output-logs run option. Refactored --output-logs Run Option This commit refactors the task log output to use the new util.TaskOutputModeand removes the LogMode type used previously. Added ""outputLog"" Tests Added ""outputLogs"" Documentation Simplified TaskOutputMode Constants Changed TaskOutputMode Into Enum This commit replaces the TaskOutputMode strings with an appropriate enum and related parsing. It now uses UnmarshalJSON to parse as well and so we can remove ValidateTurboJSON entirely. Moved ""outputLogs"" Config Into Pipeline This commit moves the root ""outputLogs"" configuration option into the pipeline config. It also renames it to ""outputMode"" to better reflect the nature of the option. Fixed Accidental Changes Removed More Unnecessary Changes After scrolling through all of the changed files in GitHub, I found other instances of unnecessary changes. Since this PR went through a few iterations, some things were left behind that weren't necessary. Added ""outputMode"" Parsing Test Refactored TaskOutputModeOverride Into TaskCache This removes the need to deal with strings outside of the ""--output-logs"" value handling. Added --output-logs Default Value Error Handling Mark TaskOutputModeOverride as optional in runcache.Opts. Remove flags plumbing from run Clarified RunCache.taskOutputMode As Override Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com"
3371,Bump global cache key (#1362),"Change cache key to force invalidations, since we changed how we interact with the cache (copies instead of links).",Bump global cache key (#1362),"Change cache key to force invalidations, since we changed how we interact with the cache (copies instead of links)."
3372,"Revert ""Log to temp files then rename"" (#1360)","Reverts vercel/turborepo#1351 We don't need this PR, as #1354 supersedes it.","Revert ""Log to temp files then rename"" (#1360)","Reverts vercel/turborepo#1351 We don't need this PR, as #1354 supersedes it."
3373,Log to temp files then rename (#1351),"Log files are hard-linked into the cache, so when re-running a task we need to ensure we don't pollute a previous run.  This changes our logging to stream to a temp file, which we then rename to the actual log file. This serves to break the hard link.  Note that:  * renames will succeed even if the target already exists, as long as the target isn't a directory. All of our targets are log files  * renames can fail if the rename is across filesystem boundaries. Our renames are within the same directory. Fixes #1323",Log to temp files then rename (#1351),"Log files are hard-linked into the cache, so when re-running a task we need to ensure we don't pollute a previous run.  This changes our logging to stream to a temp file, which we then rename to the actual log file. This serves to break the hard link.  Note that:  * renames will succeed even if the target already exists, as long as the target isn't a directory. All of our targets are log files  * renames can fail if the rename is across filesystem boundaries. Our renames are within the same directory. Fixes #1323"
3374,Add @tknickman to CODEOWNERS (#1358),歡迎光臨！,Add @tknickman to CODEOWNERS (#1358),歡迎光臨！
3375,Disable linking. (#1354),This is the simplest possible change to fix #1323 which addresses the root issue: turning off the hard linking behavior via function arguments. This is an alternative to #1351.,Disable linking. (#1354),This is the simplest possible change to fix #1323 which addresses the root issue: turning off the hard linking behavior via function arguments. This is an alternative to #1351.
3376,fix(docs): typo in pnpm-workspace.yaml filename (#1356),,fix(docs): typo in pnpm-workspace.yaml filename (#1356),
3377,Merge pull request #64 from vercel/persist/initial-poc,more incomplete work towards persistent caching,Merge pull request #64 from vercel/persist/initial-poc,more incomplete work towards persistent caching
3378,fix(cli): add colors back for cache hit log line (#1346),Fixes a bug introduced in 1.2.10 in which the first line (cache hit) is missing the correct color.  Caused by https://github.com/vercel/turborepo/pull/1256,fix(cli): add colors back for cache hit log line (#1346),Fixes a bug introduced in 1.2.10 in which the first line (cache hit) is missing the correct color.  Caused by link
3379,chore(remotecache): remove beta wording (#1350),Remote cache is no longer in beta! See the changelog for more information: https://vercel.com/changelog/vercel-remote-cache-is-now-generally-available,chore(remotecache): remove beta wording (#1350),Remote cache is no longer in beta! See the changelog for more information: link
3380,improvements,,improvements,
3381,performance improvements,,performance improvements,
3382,avoid creating a lot db entries on lookup,,avoid creating a lot db entries on lookup,
3383,"bugfixes, stats output",,"bugfixes, stats output",
3384,improve cache,,improve cache,
3385,fix missing cache bug,,fix missing cache bug,
3386,Merge pull request #63 from vercel/node-pre-gyp,Node pre gyp,Merge pull request #63 from vercel/node-pre-gyp,Node pre gyp
3387,fix(docs): update circleci remote cache docs,,fix(docs): update circleci remote cache docs,
3388,chore(docs): update hobby plan copy,Co-authored-by: Nathan Hammond nathan.hammond@vercel.com,chore(docs): update hobby plan copy,Co-authored-by: Nathan Hammond nathan.hammond@vercel.com
3389,docs updates,,docs updates,
3390,Merge branch 'main' into circleci_docs_fix,,Merge branch 'main' into circleci_docs_fix,
3391,Remove afero. (#1339),The afero experiment was interesting but we have discovered that the package has significant deficiencies and many ecosystem projects (e.g. https://github.com/adrg/xdg) do not currently support virtual file systems. As this is not a primary portion of what we're focusing on we don't at this time see ROI from responsibility for trying to push our corner of the ecosystem in this direction. If we want to adopt something similar in the future we would consider https://github.com/avfs/avfs.,Remove afero. (#1339),The afero experiment was interesting but we have discovered that the package has significant deficiencies and many ecosystem projects (e.g. link) do not currently support virtual file systems. As this is not a primary portion of what we're focusing on we don't at this time see ROI from responsibility for trying to push our corner of the ecosystem in this direction. If we want to adopt something similar in the future we would consider link.
3392,fix(docs): update circleci remote cache docs,,fix(docs): update circleci remote cache docs,
3393,Fix error loading Docs of StoryBook (#1344),Fix error loading Docs of StoryBook Button Component,Fix error loading Docs of StoryBook (#1344),Fix error loading Docs of StoryBook Button Component
3394,Add missing command to package.json scripts (#1342),,Add missing command to package.json scripts (#1342),
3395,fix(create-turbo): yarn berry & lint fix (#1341),,fix(create-turbo): yarn berry & lint fix (#1341),
3396,Follow up to porting run to cobra (#1327),Addressing some of @nathanhammond's review comments from #1298  I added a test for AbsolutePathVar so that we can have a way to discuss the intended behavior.,Follow up to porting run to cobra (#1327),Addressing some of @nathanhammond's review comments from #1298  I added a test for AbsolutePathVar so that we can have a way to discuss the intended behavior.
3397,code review changes,,code review changes,
3398,ffmpeg.js,,ffmpeg.js,
3399,mongoose,,mongoose,
3400,node-gyp-build,,node-gyp-build,
3401,Fix libc value on node-pre-gyp path,,Fix libc value on node-pre-gyp path,
3402,sqlite,,sqlite,
3403,@mapbox/node-pre-gyp support,,@mapbox/node-pre-gyp support,
3404,Prevent side effects when looking for config files. (#1328),"As noted in https://github.com/vercel/turborepo/pull/1156#discussion_r863341102, xdg.ConfigFile has side effects. One of the consequences of the side effects is that sometimes, when simply wanting to check for existence, we would error out entirely because the path wasn't writable. This splits the process of creating and reading a config file path, which means that the error won't be encountered unless a user is explicitly trying to create a configuration file. (Which should be an error.) Fixes #1270",Prevent side effects when looking for config files. (#1328),"As noted in link, xdg.ConfigFile has side effects. One of the consequences of the side effects is that sometimes, when simply wanting to check for existence, we would error out entirely because the path wasn't writable. This splits the process of creating and reading a config file path, which means that the error won't be encountered unless a user is explicitly trying to create a configuration file. (Which should be an error.) Fixes #1270"
3405,Fix link to dependsOn section in configuration from getting started in documentation (#1326),Link redirected to a 404 instead of the actual section. More info can be found in discord channel #general,Fix link to dependsOn section in configuration from getting started in documentation (#1326),Link redirected to a 404 instead of the actual section. More info can be found in discord channel #general
3406,publish 1.2.16 to registry,,publish 1.2.16 to registry,
3407,fix(create-turbo): fix ui lint in pnpm example (#1325),"Fixes two issues: 1. eslint-config-custom package was not renamed as part of https://github.com/vercel/turborepo/pull/1174 2. Because the eslint config is at the root, the plugin also needs to be installed at root.  Closes https://github.com/vercel/turborepo/issues/1238",fix(create-turbo): fix ui lint in pnpm example (#1325),"Fixes two issues: 1. eslint-config-custom package was not renamed as part of link 2. Because the eslint config is at the root, the plugin also needs to be installed at root.  Closes link"
3408,publish 1.2.15 to registry,,publish 1.2.15 to registry,
3409,Add default env vars (#1322),The first candidate is VERCEL_ANALYTICS_ID,Add default env vars (#1322),The first candidate is VERCEL_ANALYTICS_ID
3410,Fix eslint config pkg name (#1302),Otherwise the build starts failing if you change the scope from acme as instructed in the README.,Fix eslint config pkg name (#1302),Otherwise the build starts failing if you change the scope from acme as instructed in the README.
3411,feat(create-turbo): use basename as app name (#1321),"Closes https://github.com/vercel/turborepo/issues/430. Use last portion of path for the package.json name field.  For example: ```    TURBOREPO Welcome to Turborepo! Let's get you set up with a new codebase.    ? Where would you like to create your turborepo? ../../my-cool-repo ``` Will create a new turborepo at ../../my-cool-repo, and the package.json name will be: my-cool-repo; This is similar to how create-react-app and create-next-app work.",feat(create-turbo): use basename as app name (#1321),"Closes link. Use last portion of path for the package.json name field.  For example: ``` TURBOREPO Welcome to Turborepo! Let's get you set up with a new codebase. ? Where would you like to create your turborepo? ../../my-cool-repo ``` Will create a new turborepo at ../../my-cool-repo, and the package.json name will be: my-cool-repo; This is similar to how create-react-app and create-next-app work."
3412,fix example eslint custom config (#1301),The with-changesets example had the wrong eslint config name. This fixes it.,fix example eslint custom config (#1301),The with-changesets example had the wrong eslint config name. This fixes it.
3413,Port prune command to cobra (#1300),"Ports prune over to cobra. There is still a fair amount to be done to refactor prune, but this is a start that allows easier expansion of commandline configuration. Fixes #1258 Adds the feature requested in #1159 (flag for outputs of prune) Note that this PR stacks on top of porting over run",Port prune command to cobra (#1300),"Ports prune over to cobra. There is still a fair amount to be done to refactor prune, but this is a start that allows easier expansion of commandline configuration. Fixes #1258 Adds the feature requested in #1159 (flag for outputs of prune) Note that this PR stacks on top of porting over run"
3414,Port run to cobra (#1298),Removes some long-deprecated flags:  - serial  - includeDependencies  - cacheFolder,Port run to cobra (#1298),Removes some long-deprecated flags:  - serial  - includeDependencies  - cacheFolder
3415,Create noopCache to ensure that users always have a valid cache object. (#1317),"This makes it possible for a repository whose CI configuration is --remote-only to work when receiving pull-requests from forked repositories that do not have access to secrets configuration in CI. Example failures: - https://github.com/vercel/turborepo/pull/1302: Error - https://github.com/vercel/vercel/pull/7575: Error One example workaround: https://github.com/vercel/vercel/pull/7873 However, since this does not prevent the build from running to completion, I do not believe that it should be a hard error. While in the process of addressing this I also discovered that, since the httpCache can remove itself, there is an alternative path to triggering a panic if the httpCache is the only cache you have enabled and it removes itself. Using a noopCache as a cache of last resort (similar to the upstream solution) resolves both of these issues. Related to: #1169",Create noopCache to ensure that users always have a valid cache object. (#1317),"This makes it possible for a repository whose CI configuration is --remote-only to work when receiving pull-requests from forked repositories that do not have access to secrets configuration in CI. Example failures: - link: Error - link: Error One example workaround: link However, since this does not prevent the build from running to completion, I do not believe that it should be a hard error. While in the process of addressing this I also discovered that, since the httpCache can remove itself, there is an alternative path to triggering a panic if the httpCache is the only cache you have enabled and it removes itself. Using a noopCache as a cache of last resort (similar to the upstream solution) resolves both of these issues. Related to: #1169"
3416,docs: Add a little next steps section to /getting-started (#1313),  Add a little next steps section to getting-started   Update docs/pages/docs/getting-started.mdx   Co-authored-by: Lee Robinson lrobinson2011@gmail.com,docs: Add a little next steps section to /getting-started (#1313),Add a little next steps section to getting-started Update docs/pages/docs/getting-started.mdx Co-authored-by: Lee Robinson lrobinson2011@gmail.com
3417,Merge pull request #62 from vercel/node-process,Map process to Wellknown in analyzer instead of in graph,Merge pull request #62 from vercel/node-process,Map process to Wellknown in analyzer instead of in graph
3418,docs: fix workspaces link (#1316),,docs: fix workspaces link (#1316),
3419,fix(yarn): include prerelease versions in constraints (#1314),,fix(yarn): include prerelease versions in constraints (#1314),
3420,Fix duplicate workspaces guides,,Fix duplicate workspaces guides,
3421,Fix remote caching in getting started,,Fix remote caching in getting started,
3422,Move workspaces in sidebar,,Move workspaces in sidebar,
3423,Merge pull request #1295 from vercel/gsoltis/run_opts,Options cleanup,Merge pull request #1295 from vercel/gsoltis/run_opts,Options cleanup
3424,Merge branch 'main' into gsoltis/run_opts,,Merge branch 'main' into gsoltis/run_opts,
3425,Response to feedback,,Response to feedback,
3426,docs: Improve getting started (#1095),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Steven steven@ceriously.com Co-authored-by: Shu Ding g@shud.in Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: megbird meg@vercel.com,docs: Improve getting started (#1095),Co-authored-by: Nathan Hammond nathan.hammond@vercel.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Steven steven@ceriously.com Co-authored-by: Shu Ding g@shud.in Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: megbird meg@vercel.com
3427,Add Workspaces guide (#884),Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add Workspaces guide (#884),Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
3428,Fix a class in FooterLink (#1303),,Fix a class in FooterLink (#1303),
3429,Merge branch 'main' into gsoltis/run_opts,,Merge branch 'main' into gsoltis/run_opts,
3430,Route around pnpm action (#1297),"  Bump pnpm action version to latest   Comment out bumped pnpm setup action, use manual npm install of pnpm instead until the pnpm action gets fixed   Comment out bumped pnpm setup action, use manual npm install of pnpm instead until the pnpm action gets fixed ",Route around pnpm action (#1297),"Bump pnpm action version to latest Comment out bumped pnpm setup action, use manual npm install of pnpm instead until the pnpm action gets fixed Comment out bumped pnpm setup action, use manual npm install of pnpm instead until the pnpm action gets fixed"
3431,Lint,,Lint,
3432,flip bail -> continueOnError to avoid default: true in runOpts,,flip bail -> continueOnError to avoid default: true in runOpts,
3433,Encapsulate runOpts. This part could use future refactoring,,Encapsulate runOpts. This part could use future refactoring,
3434,Drop cwd from RunOptions,,Drop cwd from RunOptions,
3435,Move legacy package selection options into their own struct,,Move legacy package selection options into their own struct,
3436,flip boolean for dependents to avoid a default: true in our options struct,,flip boolean for dependents to avoid a default: true in our options struct,
3437,Use scope.Opts directly in RunOptions,,Use scope.Opts directly in RunOptions,
3438,publish 1.2.14 to registry,,publish 1.2.14 to registry,
3439,Ensure logs are flushed before we attempt to cache them (#1293),"We were not explicitly calling Close or Flush on our logstreamers, and the call to close the underlying log file was coming too late, due to defer",Ensure logs are flushed before we attempt to cache them (#1293),"We were not explicitly calling Close or Flush on our logstreamers, and the call to close the underlying log file was coming too late, due to defer"
3440,publish 1.2.13 to registry,,publish 1.2.13 to registry,
3441,Add additional debugging for tarring files (#1291),,Add additional debugging for tarring files (#1291),
3442,publish 1.2.12 to registry,,publish 1.2.12 to registry,
3443,Fix a typo in design-system example README.md (#1285),,Fix a typo in design-system example README.md (#1285),
3444,Document how to opt in to root tasks (#1260),,Document how to opt in to root tasks (#1260),
3445,"Adopt doublestar, disable traversing symlinks in globwalk (#1275)","Commits:  * Copy in doublestar files, point our existing code at them  * Make them satisfy our linter  * Remove symlink traversal and make associated test changes Fixes #1265  Our globwalk when collecting outputs was traversing symlinks. This caused us to copy their pointed-to contents as if the symlink was a directory, and then when copying the link itself, throw an error because it already existed (as a directory...). This in turn would crash all of our file-copying worker goroutines, leaving the main goroutine waiting indefinitely for file copying to complete. Not included here, but we should potentially make our file-copying goroutines more robust so that at the very least we get a better error message.","Adopt doublestar, disable traversing symlinks in globwalk (#1275)","Commits:  * Copy in doublestar files, point our existing code at them  * Make them satisfy our linter  * Remove symlink traversal and make associated test changes Fixes #1265  Our globwalk when collecting outputs was traversing symlinks. This caused us to copy their pointed-to contents as if the symlink was a directory, and then when copying the link itself, throw an error because it already existed (as a directory...). This in turn would crash all of our file-copying worker goroutines, leaving the main goroutine waiting indefinitely for file copying to complete. Not included here, but we should potentially make our file-copying goroutines more robust so that at the very least we get a better error message."
3446,publish 1.2.11 to registry,,publish 1.2.11 to registry,
3447,publish 1.2.10 to registry,,publish 1.2.10 to registry,
3448,hotfix: turn off pnpm strict-peer deps for now,,hotfix: turn off pnpm strict-peer deps for now,
3449,Wrap cache in abstraction layer for a run and for a package task (#1256)," Move Cache options into their own struct Move per-run cache handling into RunCache instance, along with associated Opts Move per-packagetask cache handling into TaskCache instance, created from a RunCache TaskCache is responsible for log recording and replaying, as well as restoring/saving task outputs as appropriate  The TaskCache save and restore methods are intended to be the place to hook in an eventual rpc to no-op the operation if the relevant files haven't changed.",Wrap cache in abstraction layer for a run and for a package task (#1256),"Move Cache options into their own struct Move per-run cache handling into RunCache instance, along with associated Opts Move per-packagetask cache handling into TaskCache instance, created from a RunCache TaskCache is responsible for log recording and replaying, as well as restoring/saving task outputs as appropriate The TaskCache save and restore methods are intended to be the place to hook in an eventual rpc to no-op the operation if the relevant files haven't changed."
3450,fix: Add GitHub Actions to design system (#1271),,fix: Add GitHub Actions to design system (#1271),
3451,Add Storybook and Changsets to design system example. (#1255),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add Storybook and Changsets to design system example. (#1255),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3452,Map process to Wellknown in analyzer instead of in graph,,Map process to Wellknown in analyzer instead of in graph,
3453,Merge pull request #1 from goreleaser/bump-goreleaser,feat: update to goreleaser v1.9.0,Merge pull request #1 from goreleaser/bump-goreleaser,feat: update to goreleaser v1.9.0
3454,feat: update to goreleaser v1.9.0,Signed-off-by: Carlos A Becker caarlos0@users.noreply.github.com,feat: update to goreleaser v1.9.0,Signed-off-by: Carlos A Becker caarlos0@users.noreply.github.com
3455,docs: Set TURBO_REMOTE_ONLY to true in GH Actions recipe (#1262),,docs: Set TURBO_REMOTE_ONLY to true in GH Actions recipe (#1262),
3456,chore: Extract a couple packages (#1252)," Move packageTask from run to nodes.PackageTask. If we eventually have other kinds of nodes, they can perhaps be colocated Move run/hash.go to taskhash/taskhash.go with associated test",chore: Extract a couple packages (#1252),"Move packageTask from run to nodes.PackageTask. If we eventually have other kinds of nodes, they can perhaps be colocated Move run/hash.go to taskhash/taskhash.go with associated test"
3457,Fan out example checking in github actions (#1259),,Fan out example checking in github actions (#1259),
3458,Remove unused --stream option (#1251),"stream was always set to true, with no way to set it to false. Also remove chunks of RunState that were gated by stream == false Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com",Remove unused --stream option (#1251),"stream was always set to true, with no way to set it to false. Also remove chunks of RunState that were gated by stream == false Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com"
3459,publish 1.2.10-canary.0 to registry,,publish 1.2.10-canary.0 to registry,
3460,Add some tests for copy behavior (#1242),,Add some tests for copy behavior (#1242),
3461,Resolve symlinks when determining cwd (#1246),,Resolve symlinks when determining cwd (#1246),
3462,Implement root tasks (#1040),"Adds the ability to run tasks from the root package.json file. Implementation notes that will need to be documented:  * Tasks run from the root are opt-in. That is, turbo.jsonmust have an entry for _root#<task> to enable running that task at the root.  * _root is available in filters, so turbo run my-task --filter=_root will run _root#my-task.   * If an entry exists in turbo.json for _root#task, then turbo run task will also run that task for the root.  * There is some best-effort cycle detection in place. If the root package.json has ""build"": ""turbo run build"", then even after opting in, turbo run build --filter=_root will produce an error. This cycle detection can be circumvented with aliases or other indirection used to run turbo.  * For the purposes of changed files, any changed file in a repo that doesn't belong to another package is considered to belong to the root.    * Note that this could cause frequent runs of root tasks if they are triggered from git changes. With inputs specified, they should hit cache if nothing relevant has changed. Additional changes:  * e2e tests now include a root task  * a package task is now sufficient to mark a particular task as runnable by turbo. e.g. if you defined foo#my-task but not my-task in turbo.json, previously running turbo run my-task would be an error, now it will run foo#my-task. Fixes #845",Implement root tasks (#1040),"Adds the ability to run tasks from the root package.json file. Implementation notes that will need to be documented:  * Tasks run from the root are opt-in. That is, turbo.jsonmust have an entry for _root# to enable running that task at the root.  * _root is available in filters, so turbo run my-task --filter=_root will run _root#my-task.   * If an entry exists in turbo.json for _root#task, then turbo run task will also run that task for the root.  * There is some best-effort cycle detection in place. If the root package.json has ""build"": ""turbo run build"", then even after opting in, turbo run build --filter=_root will produce an error. This cycle detection can be circumvented with aliases or other indirection used to run turbo.  * For the purposes of changed files, any changed file in a repo that doesn't belong to another package is considered to belong to the root.    * Note that this could cause frequent runs of root tasks if they are triggered from git changes. With inputs specified, they should hit cache if nothing relevant has changed. Additional changes:  * e2e tests now include a root task  * a package task is now sufficient to mark a particular task as runnable by turbo. e.g. if you defined foo#my-task but not my-task in turbo.json, previously running turbo run my-task would be an error, now it will run foo#my-task. Fixes #845"
3463,Merge pull request #61 from vercel/persist/add-serialization,add initial work on serialization and persistence,Merge pull request #61 from vercel/persist/add-serialization,add initial work on serialization and persistence
3464,"fix clippy error, add performance comment",,"fix clippy error, add performance comment",
3465,fix clippy errors,,fix clippy errors,
3466,enable serialization for CompileTarget,,enable serialization for CompileTarget,
3467,disable testing rocksdb,,disable testing rocksdb,
3468,cleanup,,cleanup,
3469,new version of rocksdb,,new version of rocksdb,
3470,restore scheduled tasks,,restore scheduled tasks,
3471,add InfiniteVec,,add InfiniteVec,
3472,add prefix extractor,,add prefix extractor,
3473,add backend logging,,add backend logging,
3474,add inspect-db debug helpers,,add inspect-db debug helpers,
3475,fine tuning,,fine tuning,
3476,enforce #[turbo_tasks::function] on trait functions too,,enforce #[turbo_tasks::function] on trait functions too,
3477,performance tuning,,performance tuning,
3478,open database with task id mapping,,open database with task id mapping,
3479,initial rocksdb implementation,,initial rocksdb implementation,
3480,add serialization,,add serialization,
3481,Merge pull request #60 from vercel/file-permission,"Evaluate os.{arch|platform|endianness}, fix rebased file permissions on unix platform",Merge pull request #60 from vercel/file-permission,"Evaluate os.{arch|platform|endianness}, fix rebased file permissions on unix platform"
3482,feat(cobra): port unlink command to cobra (#1203),,feat(cobra): port unlink command to cobra (#1203),
3483,Merge pull request #1240 from bennycode/patch-1,docs: fix link to Scoped builds from Microsoft Lage,Merge pull request #1240 from bennycode/patch-1,docs: fix link to Scoped builds from Microsoft Lage
3484,Update scopes.mdx,,Update scopes.mdx,
3485,fix: Remove unused arguments and code paths. (#1234),We do not presently use any of the behavior implied by these APIs and should remove it.,fix: Remove unused arguments and code paths. (#1234),We do not presently use any of the behavior implied by these APIs and should remove it.
3486,"Evaluate os.{arch|platform|endianness}, fix rebased file permissions on unix platform",,"Evaluate os.{arch|platform|endianness}, fix rebased file permissions on unix platform",
3487,Compile regexes once (#1228),,Compile regexes once (#1228),
3488,publish 1.2.9 to registry,,publish 1.2.9 to registry,
3489,Don't filter non-existent tasks in dry run (#1225),"Related to #937 and #1135 When executing a dry run, don't short-circuit on tasks with a non-existent command. Instead, set the command to <NONEXISTENT> and include it in the display.",Don't filter non-existent tasks in dry run (#1225),"Related to #937 and #1135 When executing a dry run, don't short-circuit on tasks with a non-existent command. Instead, set the command to  and include it in the display."
3490,publish 1.2.9-canary.1 to registry,,publish 1.2.9-canary.1 to registry,
3491,Apply inputs filter to uncommitted changes (#1223),"When hashing files for inputs calculations, we were also including any uncommitted changes. So, in the event that an irrelevant file had changes, it would cause a cache miss. Apply the filtering properly, and add an e2e test. Fixes #1085",Apply inputs filter to uncommitted changes (#1223),"When hashing files for inputs calculations, we were also including any uncommitted changes. So, in the event that an irrelevant file had changes, it would cause a cache miss. Apply the filtering properly, and add an e2e test. Fixes #1085"
3492,Skip cache fetch for tasks that are marked cache: false (#1224),,Skip cache fetch for tasks that are marked cache: false (#1224),
3493,"Support wslview on linux runtime, don't error on failure to open browser (#1215)",,"Support wslview on linux runtime, don't error on failure to open browser (#1215)",
3494,Refactor PackageManager to return information about the workspace. (#1187),"This change moves all of the information collection about the package manager into the package manager object itself. This is the more-correct solution to #1143, improving upon the already-landed #1145. It does not yet address the issue reported in #998, but lays the groundwork to address it.",Refactor PackageManager to return information about the workspace. (#1187),"This change moves all of the information collection about the package manager into the package manager object itself. This is the more-correct solution to #1143, improving upon the already-landed #1145. It does not yet address the issue reported in #998, but lays the groundwork to address it."
3495,publish 1.2.9-canary.0 to registry,,publish 1.2.9-canary.0 to registry,
3496,"Revert ""docs: better gh-actions example (#1197)"" (#1219)",This reverts commit 5b1afb128ecf310cd03b39538427be4005bf760e.,"Revert ""docs: better gh-actions example (#1197)"" (#1219)",This reverts commit 5b1afb128ecf310cd03b39538427be4005bf760e.
3497,Send proper paths to git cmd for file hashing (#1216),"We were setting the wrong (relative) path for git ls-files. Use fs.AbsolutePath to ensure that we have the right thing, and plumb it through from Config. Fixes #1085 #1198",Send proper paths to git cmd for file hashing (#1216),"We were setting the wrong (relative) path for git ls-files. Use fs.AbsolutePath to ensure that we have the right thing, and plumb it through from Config. Fixes #1085 #1198"
3498,feat: go1.18.2 goreleaser 1.8.3,,feat: go1.18.2 goreleaser 1.8.3,
3499,Merge pull request #1204 from Xenfo/feat/cobra-logout,feat(cobra): port logout command to cobra,Merge pull request #1204 from Xenfo/feat/cobra-logout,feat(cobra): port logout command to cobra
3500,Merge branch 'main' into feat/cobra-logout,,Merge branch 'main' into feat/cobra-logout,
3501,Add self-ref check when build task graph (#1141),Fixed #1117 Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com,Add self-ref check when build task graph (#1141),Fixed #1117 Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com
3502,Merge branch 'main' into feat/cobra-logout,,Merge branch 'main' into feat/cobra-logout,
3503,changes,,changes,
3504,Better logging for failing to upload an artifact (#1201),"As mentioned here https://github.com/vercel/turborepo/issues/487, in some situations I'd prefer to know which artifact is so large so I can track it down (most of our artifacts should not be so large). Also if there's a place up the stacktrace I can insert the package name, that'd be really ideal, but that looks like a bigger lift so want to make sure we want to do that.",Better logging for failing to upload an artifact (#1201),"As mentioned here link, in some situations I'd prefer to know which artifact is so large so I can track it down (most of our artifacts should not be so large). Also if there's a place up the stacktrace I can insert the package name, that'd be really ideal, but that looks like a bigger lift so want to make sure we want to do that."
3505,feat(cobra): port logout command to cobra,,feat(cobra): port logout command to cobra,
3506,feat(cobra): add bin command (#906),What this PR brings: - Adds the Cobra version of the bin command - Everything will be linked up in a final PR (#762),feat(cobra): add bin command (#906),What this PR brings: - Adds the Cobra version of the bin command - Everything will be linked up in a final PR (#762)
3507,docs: better gh-actions example (#1197),"Hello, I updated the GitHub Actions example to maximize caching capabilities.",docs: better gh-actions example (#1197),"Hello, I updated the GitHub Actions example to maximize caching capabilities."
3508,Add better diagnostic errors when we fail to hash files with git (#1195),,Add better diagnostic errors when we fail to hash files with git (#1195),
3509,git integration cleanup (#1194)," Delete a lot of unused git integration code Don't crash in git integration code, return an error instead (remove log.Fatalf instances) Provide a more helpful error message when the user supplies a non-existent commit  Fixes #1157",git integration cleanup (#1194),"Delete a lot of unused git integration code Don't crash in git integration code, return an error instead (remove log.Fatalf instances) Provide a more helpful error message when the user supplies a non-existent commit Fixes #1157"
3510,publish 1.2.8 to registry,,publish 1.2.8 to registry,
3511,fix: don't output usage or errors from cobra in error scenarios (#1193),,fix: don't output usage or errors from cobra in error scenarios (#1193),
3512,Merge pull request #1192 from nathanhammond:globbing-callsite-root,Allow traversal from packages.,Merge pull request #1192 from nathanhammond:globbing-callsite-root,Allow traversal from packages.
3513,Allow traversal from packages.,,Allow traversal from packages.,
3514,publish 1.2.7 to registry,,publish 1.2.7 to registry,
3515,upgrade nextra (#1191),,upgrade nextra (#1191),
3516,Merge pull request #1189 from vercel:jp/fix/changesets-main,examples: Set with-changesets GitHub Action branch to be main,Merge pull request #1189 from vercel:jp/fix/changesets-main,examples: Set with-changesets GitHub Action branch to be main
3517,Set changesets branch to be main,,Set changesets branch to be main,
3518,publish 1.2.7-canary.2 to registry,,publish 1.2.7-canary.2 to registry,
3519,"Add afero to Config, Refactor Config file access (#1156)"," Add afero.Fs to Config Use fs.AbsolutePath and afero.Fs for reading and writing repo-specific config and user-specific config Unwind some parametrization for login, now that we can use afero.Fs for tests Implement a few filesystem manipulation functions in terms of fs.AbsolutePath and afero.Fs  Possible next step: move config_file.go to its own package.","Add afero to Config, Refactor Config file access (#1156)","Add afero.Fs to Config Use fs.AbsolutePath and afero.Fs for reading and writing repo-specific config and user-specific config Unwind some parametrization for login, now that we can use afero.Fs for tests Implement a few filesystem manipulation functions in terms of fs.AbsolutePath and afero.Fs Possible next step: move config_file.go to its own package."
3520,publish 1.2.7-canary.1 to registry,,publish 1.2.7-canary.1 to registry,
3521,Error on no caches (#1169)," Ensure that users not on a team still record a ""teamId"" Return a descriptive error instead of crashing when we cannot create caches  Fixes #1167",Error on no caches (#1169),"Ensure that users not on a team still record a ""teamId"" Return a descriptive error instead of crashing when we cannot create caches Fixes #1167"
3522,Remove unused golint. (#1170),Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,Remove unused golint. (#1170),Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
3523,Address all SSA-dependent lint. (#1181),,Address all SSA-dependent lint. (#1181),
3524,ESLint: one more spot change (#1180),Followup to #1172 (tweak all the ESLint things!) and #1174 (much better name) we have one spot that needs re-linking.,ESLint: one more spot change (#1180),Followup to #1172 (tweak all the ESLint things!) and #1174 (much better name) we have one spot that needs re-linking.
3525,Merge pull request #1177 from vercel/gsoltis/disallow_naked_returns,Disallow naked returns,Merge pull request #1177 from vercel/gsoltis/disallow_naked_returns,Disallow naked returns
3526,Merge branch 'main' into gsoltis/disallow_naked_returns,,Merge branch 'main' into gsoltis/disallow_naked_returns,
3527,Update eslint naming in examples and add lint script to ui package (#1174),,Update eslint naming in examples and add lint script to ui package (#1174),
3528,Merge branch 'main' into gsoltis/disallow_naked_returns,,Merge branch 'main' into gsoltis/disallow_naked_returns,
3529,Disallow naked returns,,Disallow naked returns,
3530,Merge pull request #1175 from vercel:jp/fix/kodiak,Fix kodiak config,Merge pull request #1175 from vercel:jp/fix/kodiak,Fix kodiak config
3531,Fix kodiak config,,Fix kodiak config,
3532,Add fixship workflow (#1171),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add fixship workflow (#1171),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3533,Better ESLint configuration examples (#1172),"Our eslint configurations in examples were not actually relying on the eslint-recommended approach to sharing configurations and were instead directly requiring files. This switches the approach to what ESLint would recommend. Originally detected by @darrylblake in #1151, this corrects all of our examples.",Better ESLint configuration examples (#1172),"Our eslint configurations in examples were not actually relying on the eslint-recommended approach to sharing configurations and were instead directly requiring files. This switches the approach to what ESLint would recommend. Originally detected by @darrylblake in #1151, this corrects all of our examples."
3534,publish 1.2.7-canary.0 to registry,,publish 1.2.7-canary.0 to registry,
3535,Add experimental turbo-ignore package (#1154),This package can be used to automatically cancel irrelevant builds on Vercel via Ignored Build Step Command,Add experimental turbo-ignore package (#1154),This package can be used to automatically cancel irrelevant builds on Vercel via Ignored Build Step Command
3536,Include pipeline definition in global hash (#1166),,Include pipeline definition in global hash (#1166),
3537,docs: pin pnpm versions in ci to 6 (#1165),lets make sure our ci scripts all pin the user to pnpm v6,docs: pin pnpm versions in ci to 6 (#1165),lets make sure our ci scripts all pin the user to pnpm v6
3538,Handle 403s (#1116),"If the Remote Caching server returns a 403 indicating that caching is disabled, stop trying to use the HTTP cache.",Handle 403s (#1116),"If the Remote Caching server returns a 403 indicating that caching is disabled, stop trying to use the HTTP cache."
3539,Implement status check for SSO login (#1139),"Add a check to /artifacts/status to turbo login --sso-team, since it implicitly links the repo to a team.",Implement status check for SSO login (#1139),"Add a check to /artifacts/status to turbo login --sso-team, since it implicitly links the repo to a team."
3540,Remove test directories from workspace ignores. (#1145),These directories aren't excluded by default in any package manager. We should aim to match the behavior of the upstream package managers even if this may result in a quality of life improvement for some users. Co-authored-by: Jared Palmer jared@jaredpalmer.com,Remove test directories from workspace ignores. (#1145),These directories aren't excluded by default in any package manager. We should aim to match the behavior of the upstream package managers even if this may result in a quality of life improvement for some users. Co-authored-by: Jared Palmer jared@jaredpalmer.com
3541,publish 1.2.6 to registry,,publish 1.2.6 to registry,
3542,Refactor turbo_json (#1152),"In preparing to hide some package manager details I discovered this code was unnecessarily coupled to package_json, and in multiple places in the codebase. Split commits to make it easier to follow: 1. Nothing more than splitting the package_json into two pieces. 2. Move code from config.go to its new home. 3. Rename symbols away from turboConfig which has a confusable in TurborepoConfig from the login work. A pretty-obvious bit of followup work is to move both package_json and turbo_json out of the fs package—they could be trivially refactored to never touch the file system (and possibly should be for testability reasons).",Refactor turbo_json (#1152),"In preparing to hide some package manager details I discovered this code was unnecessarily coupled to package_json, and in multiple places in the codebase. Split commits to make it easier to follow: 1. Nothing more than splitting the package_json into two pieces. 2. Move code from config.go to its new home. 3. Rename symbols away from turboConfig which has a confusable in TurborepoConfig from the login work. A pretty-obvious bit of followup work is to move both package_json and turbo_json out of the fs package—they could be trivially refactored to never touch the file system (and possibly should be for testability reasons)."
3543,publish 1.2.6-canary.1 to registry,,publish 1.2.6-canary.1 to registry,
3544,"Bump versions of dependencies. (Go, pnpm, CI, .devcontainer) (#1153)",,"Bump versions of dependencies. (Go, pnpm, CI, .devcontainer) (#1153)",
3545,Merge pull request #58 from vercel/refactor/backend,move memory backend into separate crate to enforce isolation,Merge pull request #58 from vercel/refactor/backend,move memory backend into separate crate to enforce isolation
3546,move task cache to backend,,move task cache to backend,
3547,move memory backend into separate crate to enforce isolation,,move memory backend into separate crate to enforce isolation,
3548,Merge pull request #57 from vercel/refactor/backend,fully get rid of with_task in TurboTasks,Merge pull request #57 from vercel/refactor/backend,fully get rid of with_task in TurboTasks
3549,fully get rid of with_task in TurboTasks,,fully get rid of with_task in TurboTasks,
3550,docs: add package manager tabs to CI (#1147),,docs: add package manager tabs to CI (#1147),
3551,docs: fix capitalization of npm and pnpm (#1150),as titled. the npm and pnpm brands prefer to use all lowercase. yarn seems to alternate between Yarn and yarn so I didn't modify that one,docs: fix capitalization of npm and pnpm (#1150),as titled. the npm and pnpm brands prefer to use all lowercase. yarn seems to alternate between Yarn and yarn so I didn't modify that one
3552,Merge pull request #56 from vercel/refactor/backend,refactor more methods into backend,Merge pull request #56 from vercel/refactor/backend,refactor more methods into backend
3553,refactor more methods into backend,,refactor more methods into backend,
3554,Merge pull request #55 from vercel/bugfix/register_examples_tests,generate register code for examples and tests,Merge pull request #55 from vercel/bugfix/register_examples_tests,generate register code for examples and tests
3555,Plumb through errors in globbing.  (#1129),"This PR is a fast-follow to #1108 to plumb through the error cases. This work is intentionally split to reduce the scope for each change (1. change implementation, 2. change interface). This results in user-facing changes if they have globs or patterns that push them outside of their root directory.",Plumb through errors in globbing.  (#1129),"This PR is a fast-follow to #1108 to plumb through the error cases. This work is intentionally split to reduce the scope for each change (1. change implementation, 2. change interface). This results in user-facing changes if they have globs or patterns that push them outside of their root directory."
3556,generate register code for examples and tests,,generate register code for examples and tests,
3557,Merge pull request #53 from vercel/kdy1/remove-top-list,Remove the list of top-level bindings,Merge pull request #53 from vercel/kdy1/remove-top-list,Remove the list of top-level bindings
3558,Update test refs,,Update test refs,
3559,docs: fix ci sections gitlab and travis (#1138),,docs: fix ci sections gitlab and travis (#1138),
3560,Check Remote Caching status before linking (#1087),"/artifacts/status has shipped, so start checking it in turbo link",Check Remote Caching status before linking (#1087),"/artifacts/status has shipped, so start checking it in turbo link"
3561,hot fix: clean up travis,,hot fix: clean up travis,
3562,hotfix: update ci index page,,hotfix: update ci index page,
3563,hotfix: update meta.json for travis and gitlab,,hotfix: update meta.json for travis and gitlab,
3564,docs: add gitlab and travis recipes (#1137),,docs: add gitlab and travis recipes (#1137),
3565,Rename /features to /core-concepts (#1133),,Rename /features to /core-concepts (#1133),
3566,docs: Refactor to have CI section (#1131),  Refactor ci section   Add redirect for CI page   Rename pages and linkify ,docs: Refactor to have CI section (#1131),Refactor ci section Add redirect for CI page Rename pages and linkify
3567,examples: update clone command (#1132),,examples: update clone command (#1132),
3568,Implement globby.GlobFiles using doublestar.GlobWalk (#1108),"This change aims to improve the performance of our file walking by only walking the portions of the directory that we care about. In this iteration it aims to be 100% backwards compatible with the previous implementation, excepting one obvious bug, resulting in a boolean change to the tests. It also adopts a set instead of a range for storage as doublestar will happily walk a directory multiple times if you feed it a nonsensical glob pattern such as **/**/**.",Implement globby.GlobFiles using doublestar.GlobWalk (#1108),"This change aims to improve the performance of our file walking by only walking the portions of the directory that we care about. In this iteration it aims to be 100% backwards compatible with the previous implementation, excepting one obvious bug, resulting in a boolean change to the tests. It also adopts a set instead of a range for storage as doublestar will happily walk a directory multiple times if you feed it a nonsensical glob pattern such as //**."
3569,Merge pull request #54 from vercel/refactor/backend,refactor to allow to provide a backend to TurboTasks,Merge pull request #54 from vercel/refactor/backend,refactor to allow to provide a backend to TurboTasks
3570,docs: update circleci image (#1128),,docs: update circleci image (#1128),
3571,refactor to allow to provide a backend to TurboTasks,move task storage into the backend enforce turbo_tasks::function on methods in turbo_tasks::value_impl for better visibility,refactor to allow to provide a backend to TurboTasks,move task storage into the backend enforce turbo_tasks::function on methods in turbo_tasks::value_impl for better visibility
3572,Merge pull request #52 from vercel/refactor/register,preparation for serialization (avoid references in tasks),Merge pull request #52 from vercel/refactor/register,preparation for serialization (avoid references in tasks)
3573,docs: Add section on updating turbo-install (#1125),Co-authored-by: Jared Palmer jared@jaredpalmer.com,docs: Add section on updating turbo-install (#1125),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3574,hotfix: Fix circleci image,,hotfix: Fix circleci image,
3575,docs: Add recipe for CircleCI (#1127),,docs: Add recipe for CircleCI (#1127),
3576,docs: circleci continuous integration example (#1124),"Adds a basic circleci example almost equivalent to the github actions one. I've tested the configuration on a personal project and it seems to work fine, but I am not a circleci user so please review thoroughly",docs: circleci continuous integration example (#1124),"Adds a basic circleci example almost equivalent to the github actions one. I've tested the configuration on a personal project and it seems to work fine, but I am not a circleci user so please review thoroughly"
3577,lints,,lints,
3578,Update,,Update,
3579,fixup,,fixup,
3580,fixup,,fixup,
3581,Update swc,,Update swc,
3582,register all the things in test cases too,,register all the things in test cases too,
3583,warnings and safety notes,,warnings and safety notes,
3584,"avoid storing static references to NativeFunction, ValueType and TraitType in Tasks",use global registry to map these to ids and global names,"avoid storing static references to NativeFunction, ValueType and TraitType in Tasks",use global registry to map these to ids and global names
3585,avoid complex contraint,,avoid complex contraint,
3586,publish 1.2.6-canary.0 to registry,,publish 1.2.6-canary.0 to registry,
3587,Merge pull request #1120 from vercel/jp/fix/makefile,Fix makefile for windows-64,Merge pull request #1120 from vercel/jp/fix/makefile,Fix makefile for windows-64
3588,Fix makefile for windows--64,,Fix makefile for windows--64,
3589,Officially support windows/arm64 (#1118),  Attempt supporting Windows/arm64.   Update esbuild. ,Officially support windows/arm64 (#1118),Attempt supporting Windows/arm64. Update esbuild.
3590,remove debug info from release build,,remove debug info from release build,
3591,separate debug info in release builds,,separate debug info in release builds,
3592,"Adopt afero, create tests for globby. (#1090)","This PR does three things: - Adopt afero inside of the globby module. This is a nice isolated test of afero, which we can expand into the rest of the codebase if we remain happy with it. - Writes a bunch of tests of the globby implementation in order to attempt to specify the behavior prior to rewriting the implementation of GlobFiles. - Removes the implicit dependency on os.Getwd in one call to GlobFiles. I've added a review for questions.","Adopt afero, create tests for globby. (#1090)","This PR does three things: - Adopt afero inside of the globby module. This is a nice isolated test of afero, which we can expand into the rest of the codebase if we remain happy with it. - Writes a bunch of tests of the globby implementation in order to attempt to specify the behavior prior to rewriting the implementation of GlobFiles. - Removes the implicit dependency on os.Getwd in one call to GlobFiles. I've added a review for questions."
3593,"Housekeeping on ""link"" before Remote-Caching-Enabled work (#1080)","In this PR:  * Port turbo link to cobra  * Add a helper for use during the transition to cobra to get help text from a command  * Abstract out the survey pieces  * Add some helpers to client.ApiClient (I think we can un-export Token now) Once we have a filesystem abstraction, link should be testable. As it is, it writes to the user's home directory and the repo's directory (technically cwd for the process).","Housekeeping on ""link"" before Remote-Caching-Enabled work (#1080)","In this PR:  * Port turbo link to cobra  * Add a helper for use during the transition to cobra to get help text from a command  * Abstract out the survey pieces  * Add some helpers to client.ApiClient (I think we can un-export Token now) Once we have a filesystem abstraction, link should be testable. As it is, it writes to the user's home directory and the repo's directory (technically cwd for the process)."
3594,Use interface for API Client in HTTP Cache (#1114),Replace direct config dependency in http cache with an interface that can be mocked in tests. Also deletes an unused argument in ApiClient.FetchArtifact.,Use interface for API Client in HTTP Cache (#1114),Replace direct config dependency in http cache with an interface that can be mocked in tests. Also deletes an unused argument in ApiClient.FetchArtifact.
3595,Low hanging lint changes (#1115),,Low hanging lint changes (#1115),
3596,Fix lint error in VS Code settings. (#1113),VS Code was complaining about this error where autoFix is true by default and doesn't need to be specified.,Fix lint error in VS Code settings. (#1113),VS Code was complaining about this error where autoFix is true by default and doesn't need to be specified.
3597,feat: add authorization header in preflight request (#1086),feat: use Access-Control-Allow-Headers to control Authorization header,feat: add authorization header in preflight request (#1086),feat: use Access-Control-Allow-Headers to control Authorization header
3598,Fix typo in comment (#1110),Fix typos in comment.,Fix typo in comment (#1110),Fix typos in comment.
3599,Configure VSCode to use the same lint tool as CI. (#1111),"We adopted golangci-lint to handle linting on CI, this configures VSCode to use that by default.",Configure VSCode to use the same lint tool as CI. (#1111),"We adopted golangci-lint to handle linting on CI, this configures VSCode to use that by default."
3600,Set version range. (#1112),This should fix CI by setting things to a compatible set of versions.,Set version range. (#1112),This should fix CI by setting things to a compatible set of versions.
3601,Merge pull request #51 from vercel/bench/node-file-trace,improve benchmarks,Merge pull request #51 from vercel/bench/node-file-trace,improve benchmarks
3602,improve benchmarks,,improve benchmarks,
3603,Merge pull request #45 from vercel/test/cosmosdb,add test cases,Merge pull request #45 from vercel/test/cosmosdb,add test cases
3604,Merge pull request #50 from vercel/test/nextest,use nextest,Merge pull request #50 from vercel/test/nextest,use nextest
3605,() implements TraceRawVcs,,() implements TraceRawVcs,
3606,add node_file_trace benchmark,,add node_file_trace benchmark,
3607,improve error reporting,,improve error reporting,
3608,add cosmosdb-query test case,,add cosmosdb-query test case,
3609,use nextest,,use nextest,
3610,"Revert ""avoid running tests concurrently to avoid timeouts""",This reverts commit 1aaa3d433dfe98b352d7ebd2e835f5eb9e96d101.,"Revert ""avoid running tests concurrently to avoid timeouts""",This reverts commit 1aaa3d433dfe98b352d7ebd2e835f5eb9e96d101.
3611,Merge pull request #49 from vercel/refactor/task-id,refactor to use TaskIds instead of Arc<Task>,Merge pull request #49 from vercel/refactor/task-id,refactor to use TaskIds instead of Arc
3612,fix memory leak in Invalidator,,fix memory leak in Invalidator,
3613,impl Drop to avoid leaking memory,,impl Drop to avoid leaking memory,
3614,avoid running tests concurrently to avoid timeouts,,avoid running tests concurrently to avoid timeouts,
3615,upgrade flurry,,upgrade flurry,
3616,avoid concurrent allocations by using a lock,,avoid concurrent allocations by using a lock,
3617,allow to specific initial capacity of NoMoveVec and preallocate,,allow to specific initial capacity of NoMoveVec and preallocate,
3618,avoid HashMap for task storage in favor of non-moving Vec,,avoid HashMap for task storage in favor of non-moving Vec,
3619,enable unsafe_op_in_unsafe_fn,,enable unsafe_op_in_unsafe_fn,
3620,keep guard alive to avoid GC load,,keep guard alive to avoid GC load,
3621,skip to notify tasks when list is empty,,skip to notify tasks when list is empty,
3622,batch some memory_tasks access to avoid GC load,,batch some memory_tasks access to avoid GC load,
3623,no longer need .get.await? when Vcs are Copy,,no longer need .get.await? when Vcs are Copy,
3624,get rid of clone() calls by making all Vc Copy,,get rid of clone() calls by making all Vc Copy,
3625,docs: fix Typescript to TypeScript (#1102),,docs: fix Typescript to TypeScript (#1102),
3626,make Vcs Copy,,make Vcs Copy,
3627,remove all Arc,,remove all Arc,
3628,Store TaskIds instead of Arc,,Store TaskIds instead of Arc,
3629,Add example with changesets and publishing (#1098),Co-authored-by: Github Copilot Fallback geovanisouza92@gmail.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com,Add example with changesets and publishing (#1098),Co-authored-by: Github Copilot Fallback geovanisouza92@gmail.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com
3630,publish 1.2.5 to registry,,publish 1.2.5 to registry,
3631,docs: Fix pipelies empty outputs (#1096),,docs: Fix pipelies empty outputs (#1096),
3632,Styling improvements to the docs website (#1072),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Styling improvements to the docs website (#1072),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3633,Refactor backends to be less-leaky. (#1044),At this point the main thing that has changed is naming and organization. Some functionality was moved out of utilities as it has been inlined into the individual places where it is used. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com,Refactor backends to be less-leaky. (#1044),At this point the main thing that has changed is naming and organization. Some functionality was moved out of utilities as it has been inlined into the individual places where it is used. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com
3634,"docs: Add missing ""backend#health-check"" in pipelines example (#1091)",,"docs: Add missing ""backend#health-check"" in pipelines example (#1091)",
3635,Fix launch config (#1092),,Fix launch config (#1092),
3636,fix: lint staged (#1083),lint-staged will no longer fail,fix: lint staged (#1083),lint-staged will no longer fail
3637,publish 1.2.5-canary.1 to registry,,publish 1.2.5-canary.1 to registry,
3638,Unify symlink handling in http cache (#1071)," Symlink-from-tar handling is now in one place storeFile now returns 0 values in all error cases name -> repoRelativePath to be a little clearer for upcoming switch to fs.AbsolutePath  Not included is better sorting of broken symlinks. In pathological cases, symlinks pointing to symlinks can still fail to get properly recreated on windows. OSX and linux allow for creating the link target after the link itself.",Unify symlink handling in http cache (#1071),"Symlink-from-tar handling is now in one place storeFile now returns 0 values in all error cases name -> repoRelativePath to be a little clearer for upcoming switch to fs.AbsolutePath Not included is better sorting of broken symlinks. In pathological cases, symlinks pointing to symlinks can still fail to get properly recreated on windows. OSX and linux allow for creating the link target after the link itself."
3639,Apply global ignore patterns for global deps (#1075),Closes #720 Most of time is walking about node_modules who we should ignore.,Apply global ignore patterns for global deps (#1075),Closes #720 Most of time is walking about node_modules who we should ignore.
3640,publish 1.2.5-canary.0 to registry,,publish 1.2.5-canary.0 to registry,
3641,docs: pnpm install typo (#1073),,docs: pnpm install typo (#1073),
3642,Update getting-started.mdx,,Update getting-started.mdx,
3643,Update getting-started.mdx,,Update getting-started.mdx,
3644,Cache symlinks in filesystem cache (#1068),,Cache symlinks in filesystem cache (#1068),
3645,feat: goreleaser v1.8.2,update cosign to v1.7.2 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: goreleaser v1.8.2,update cosign to v1.7.2 Signed-off-by: Artur Troian troian.ap@gmail.com
3646,Support loading preflight option from env var TURBO_PREFLIGHT (#1063),Follow-up to #1052 per @jaredpalmer's request to reduce CLI args clutter.,Support loading preflight option from env var TURBO_PREFLIGHT (#1063),Follow-up to #1052 per @jaredpalmer's request to reduce CLI args clutter.
3647,Ensure usage of turbo@latest everywhere. (#1051),This addresses a few places where we weren't directing people to the proper tag for turbo. h/t @ThisIsMissEm,Ensure usage of turbo@latest everywhere. (#1051),This addresses a few places where we weren't directing people to the proper tag for turbo. h/t @ThisIsMissEm
3648,Add --preflight for sending preflight requests before artifact uploads and downloads (#1052),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add --preflight for sending preflight requests before artifact uploads and downloads (#1052),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3649,Fix remix example by pinning version (#1061),,Fix remix example by pinning version (#1061),
3650,"Revert ""Upgrade to Remix 1.4.0 in kitchen-sink""",This reverts commit 001d08c00d9c1fb50fb10f458caec3600d52be5c.,"Revert ""Upgrade to Remix 1.4.0 in kitchen-sink""",This reverts commit 001d08c00d9c1fb50fb10f458caec3600d52be5c.
3651,Upgrade to Remix 1.4.0 in kitchen-sink,,Upgrade to Remix 1.4.0 in kitchen-sink,
3652,Delete flaky and bad test (#1060),,Delete flaky and bad test (#1060),
3653,Update continuous-integration.mdx,,Update continuous-integration.mdx,
3654,Update continuous-integration.mdx,,Update continuous-integration.mdx,
3655,Update continuous-integration.mdx,,Update continuous-integration.mdx,
3656,publish 1.2.4 to registry,,publish 1.2.4 to registry,
3657,Don't run log replay asynchronously (#1054),,Don't run log replay asynchronously (#1054),
3658,Merge pull request #48 from vercel/rename/raw_vc,rename SlotVc -> RawVc,Merge pull request #48 from vercel/rename/raw_vc,rename SlotVc -> RawVc
3659,rename SlotVc -> RawVc,,rename SlotVc -> RawVc,
3660,Merge pull request #1049 from vercel/gsoltis/golangci_action,Implement golangci workflow,Merge pull request #1049 from vercel/gsoltis/golangci_action,Implement golangci workflow
3661,Merge pull request #47 from vercel/test/tsconfig,fix tsconfig comments handling and test it,Merge pull request #47 from vercel/test/tsconfig,fix tsconfig comments handling and test it
3662,remove # comments,,remove # comments,
3663,add tsconfig comments test case,,add tsconfig comments test case,
3664,Merge branch 'main' into gsoltis/golangci_action,,Merge branch 'main' into gsoltis/golangci_action,
3665,Handle cycles in package dependency graph (#1050),"Fixes #1002  Instead of hanging during graph traversal, we instead print out the list of packages that form a cycle and exit with exit code 1",Handle cycles in package dependency graph (#1050),"Fixes #1002  Instead of hanging during graph traversal, we instead print out the list of packages that form a cycle and exit with exit code 1"
3666,Merge pull request #46 from vercel/perf/linker,improve performance of linker,Merge pull request #46 from vercel/perf/linker,improve performance of linker
3667,improve performance of linker,,improve performance of linker,
3668,Merge branch 'main' into gsoltis/golangci_action,,Merge branch 'main' into gsoltis/golangci_action,
3669,Implement golangci workflow,,Implement golangci workflow,
3670,"Document 'inputs', fix up some docs consistency issues (#1046)",,"Document 'inputs', fix up some docs consistency issues (#1046)",
3671,feat: go1.18.1,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.18.1,Signed-off-by: Artur Troian troian.ap@gmail.com
3672,publish 1.2.3 to registry,,publish 1.2.3 to registry,
3673,docs: Add info about packages not having the same command (#1014),Co-authored-by: LeSuisse thomas@gerbet.me Co-authored-by: Jared Palmer jared@jaredpalmer.com,docs: Add info about packages not having the same command (#1014),Co-authored-by: LeSuisse thomas@gerbet.me Co-authored-by: Jared Palmer jared@jaredpalmer.com
3674,Handle unknown package in graph traversal (#1043),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Handle unknown package in graph traversal (#1043),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3675,Use correct --since in filters (#1045),,Use correct --since in filters (#1045),
3676,Merge pull request #44 from vercel/perf/limit-linker,limit node sizes and step counts in linker,Merge pull request #44 from vercel/perf/limit-linker,limit node sizes and step counts in linker
3677,Merge pull request #43 from vercel/feat/tsconfig-comments,parse tsconfig with comments,Merge pull request #43 from vercel/feat/tsconfig-comments,parse tsconfig with comments
3678,limit node sizes and step counts in linker,,limit node sizes and step counts in linker,
3679,parse tsconfig with comments,,parse tsconfig with comments,
3680,Proposal for incremental path refactor (#995),"This PR is a proposal for how we can start to get a handle on the various kinds of paths that turbo uses. My goal is the following:  * Eventually ensure that an absolute, platform-dependent path is used any time we interact with the filesystem    * This will allow us to guarantee that we don't break --cwd, which is likely currently broken  * Eventually ensure that we can easily identify relative paths, both with respect to the monorepo root and to a particular package root  * Be incrementally adoptable. There is a huge amount of surface area to this change, so it's important to be able to tackle it a piece at a time  * Be auditable. The goal would be to eventually ban usage of path/filepath and a subset of os.* functions anywhere in the codebase outside path.go. It may even be possible to automate this in CI. Furthermore, entry points and exit points from our custom types (currently just AbsolutePath) are clearly marked, along with the intention of eventually migrating them, if appropriate (e.g. ToStringDuringMigration, UnsafeToAbsolutePath).  * New PRs that interact with the filesystem should use fs.AbsolutePath, even if they need to use one of the migration functions to facilitate that. Hopefully this will force both the submitter and reviewer to focus on ensuring that the new code will work properly with --cwd. I've done a few pieces of the migration to show what it would look like in the code base in a partially migrated state. path.go contains the AbsolutePath type, which ideally would be the sole way to interact with the filesystem. Please let me know what you think about the api and the migration overall.",Proposal for incremental path refactor (#995),"This PR is a proposal for how we can start to get a handle on the various kinds of paths that turbo uses. My goal is the following:  * Eventually ensure that an absolute, platform-dependent path is used any time we interact with the filesystem    * This will allow us to guarantee that we don't break --cwd, which is likely currently broken  * Eventually ensure that we can easily identify relative paths, both with respect to the monorepo root and to a particular package root  * Be incrementally adoptable. There is a huge amount of surface area to this change, so it's important to be able to tackle it a piece at a time  * Be auditable. The goal would be to eventually ban usage of path/filepath and a subset of os.* functions anywhere in the codebase outside path.go. It may even be possible to automate this in CI. Furthermore, entry points and exit points from our custom types (currently just AbsolutePath) are clearly marked, along with the intention of eventually migrating them, if appropriate (e.g. ToStringDuringMigration, UnsafeToAbsolutePath).  * New PRs that interact with the filesystem should use fs.AbsolutePath, even if they need to use one of the migration functions to facilitate that. Hopefully this will force both the submitter and reviewer to focus on ensuring that the new code will work properly with --cwd. I've done a few pieces of the migration to show what it would look like in the code base in a partially migrated state. path.go contains the AbsolutePath type, which ideally would be the sole way to interact with the filesystem. Please let me know what you think about the api and the migration overall."
3681,Improve attr,,Improve attr,
3682,Merge pull request #42 from vercel/feat/tsconfig-paths,add tsconfig paths support,Merge pull request #42 from vercel/feat/tsconfig-paths,add tsconfig paths support
3683,add tsconfig paths support,,add tsconfig paths support,
3684,docs: Fix broken external link (#1041),"Previous link is broken, and this PR fixes it.",docs: Fix broken external link (#1041),"Previous link is broken, and this PR fixes it."
3685,Merge pull request #39 from vercel/feat/tsconfig-extends,handle tsconfig extends,Merge pull request #39 from vercel/feat/tsconfig-extends,handle tsconfig extends
3686,Merge branch 'main' into feat/tsconfig-extends,,Merge branch 'main' into feat/tsconfig-extends,
3687,Merge pull request #40 from vercel/rust/toolchain,update toolchain,Merge pull request #40 from vercel/rust/toolchain,update toolchain
3688,Merge pull request #41 from vercel/cleanup,remove unused code,Merge pull request #41 from vercel/cleanup,remove unused code
3689,update toolchain,,update toolchain,
3690,fix type resolve options,,fix type resolve options,
3691,remove unused code,,remove unused code,
3692,handle tsconfig extends,,handle tsconfig extends,
3693,Merge pull request #38 from vercel/bugfix/glob,"fix glob, don't crash when modules are unparsable",Merge pull request #38 from vercel/bugfix/glob,"fix glob, don't crash when modules are unparsable"
3694,"fix glob, don't crash when modules are unparsable",,"fix glob, don't crash when modules are unparsable",
3695,Merge pull request #37 from vercel/feat/typescript,add typescript support,Merge pull request #37 from vercel/feat/typescript,add typescript support
3696,Merge pull request #36 from vercel/perf/watcher,make watcher faster,Merge pull request #36 from vercel/perf/watcher,make watcher faster
3697,add typescript support,add type to ecmascript module replace AssetReferencesSetVc with Vc> parse comments Option is worse than just Vec add Vc::default(),add typescript support,add type to ecmascript module replace AssetReferencesSetVc with Vc> parse comments Option is worse than just Vec add Vc::default()
3698,Refactor Pipeline parsing (#1038),,Refactor Pipeline parsing (#1038),
3699,publish 1.2.3-canary.0 to registry,,publish 1.2.3-canary.0 to registry,
3700,"Support Inputs in pipeline config, hashes are per task (#951)"," Add support for ""inputs"": [<file glob>] to pipeline config In the case of ""inputs"", use git ls-files to calculate file hashes Remove package-level hash and file hash Hash combinations of package-inputs Hashing of package-tasks is now done inline while walking the graph Update e2e test to highlight new hashing behavior  Because task hashing now only takes into account the hash of task-graph dependencies, tasks that don't have task-graph dependencies won't have new hashes when package-dependencies change. The classic example is lint. If a depends on b, and b changes, that should no longer force a cache miss for a#lint, so long as the lint task has no dependencies.  Remaining work:  - [x] Update fallback for git ls-file to properly handle inputs  - [x] Add tests for inputs  - [x] Update global hash key (not technically necessary, but may be a good idea) Fixes #523","Support Inputs in pipeline config, hashes are per task (#951)","Add support for ""inputs"": [] to pipeline config In the case of ""inputs"", use git ls-files to calculate file hashes Remove package-level hash and file hash Hash combinations of package-inputs Hashing of package-tasks is now done inline while walking the graph Update e2e test to highlight new hashing behavior Because task hashing now only takes into account the hash of task-graph dependencies, tasks that don't have task-graph dependencies won't have new hashes when package-dependencies change. The classic example is lint. If a depends on b, and b changes, that should no longer force a cache miss for a#lint, so long as the lint task has no dependencies.  Remaining work:  - [x] Update fallback for git ls-file to properly handle inputs  - [x] Add tests for inputs  - [x] Update global hash key (not technically necessary, but may be a good idea) Fixes #523"
3701,"Revert ""feat(docs): added Turborepo + Vercel CTA in footer (#1037)""",This reverts commit c7393e5ec8057a40f63087899cd7b29f86354066.,"Revert ""feat(docs): added Turborepo + Vercel CTA in footer (#1037)""",This reverts commit c7393e5ec8057a40f63087899cd7b29f86354066.
3702,feat(docs): added Turborepo + Vercel CTA in footer (#1037),Summary This PR adds a new link to the documentation footer that redirects to the Turborepo contact page on Vercel. Linked Issue Closes https://github.com/vercel/site-pillar/issues/108 Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com,feat(docs): added Turborepo + Vercel CTA in footer (#1037),Summary This PR adds a new link to the documentation footer that redirects to the Turborepo contact page on Vercel. Linked Issue Closes link Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com
3703,Fix 404 link in blog post,,Fix 404 link in blog post,
3704,publish 1.2.2 to registry,,publish 1.2.2 to registry,
3705,Add back support for link:... dependencies (#1030),"This is similar to the work done for file:... dependencies in 32cebb1094bfb572fcdff01c0cb6d09f7538b418. Check if file paths pointed to by link:... are within the monorepo. If so, consider them internal dependencies, and otherwise consider them as external dependencies. This can be useful because pnpm uses the link: protocol when using pnpm install ./package-a/.",Add back support for link:... dependencies (#1030),"This is similar to the work done for file:... dependencies in 32cebb1094bfb572fcdff01c0cb6d09f7538b418. Check if file paths pointed to by link:... are within the monorepo. If so, consider them internal dependencies, and otherwise consider them as external dependencies. This can be useful because pnpm uses the link: protocol when using pnpm install ./package-a/."
3706,docs: update link to filtering page (#1033),,docs: update link to filtering page (#1033),
3707,Debugging configuration for E2E tests (#1024),"Enable debugging of E2E tests from within VS Code. To use open VS Code's debug panel and run ""E2E"".",Debugging configuration for E2E tests (#1024),"Enable debugging of E2E tests from within VS Code. To use open VS Code's debug panel and run ""E2E""."
3708,Configure EditorConfig and apply EditorConfig to all files (#1025),"This mostly applies a lot of line-ending fixes. A few other indentation issues were detected. All ""material"" changes can be seen in git show --ignore-space-at-eol.",Configure EditorConfig and apply EditorConfig to all files (#1025),"This mostly applies a lot of line-ending fixes. A few other indentation issues were detected. All ""material"" changes can be seen in git show --ignore-space-at-eol."
3709,publish 1.2.2-canary.0 to registry,,publish 1.2.2-canary.0 to registry,
3710,Set grid-col-2 on Authors on mobile,,Set grid-col-2 on Authors on mobile,
3711,Small tweak to blog list item,,Small tweak to blog list item,
3712,Add date to blog post,,Add date to blog post,
3713,Update blog stats,,Update blog stats,
3714,Add link to github,,Add link to github,
3715,Merge branch 'main' of https://github.com/vercel/turborepo,,Merge branch 'main' of link,
3716,Fix date,,Fix date,
3717,Add test for filter synthesis bug (#1021),Failed before #1020,Add test for filter synthesis bug (#1021),Failed before #1020
3718,make watcher faster,,make watcher faster,
3719,Configure VS Code Extensions (#1013),The extensions that we use were not consistently recommended. We had some included for the dev container while not including any recommendations for those running without the dev container. This aligns the two configurations and adds the missing EditorConfig.EditorConfig extension.,Configure VS Code Extensions (#1013),The extensions that we use were not consistently recommended. We had some included for the dev container while not including any recommendations for those running without the dev container. This aligns the two configurations and adds the missing EditorConfig.EditorConfig extension.
3720,publish 1.2.1 to registry,,publish 1.2.1 to registry,
3721,only prepend since w/ ... if since is not empty (#1020),Fixes #1019,only prepend since w/ ... if since is not empty (#1020),Fixes #1019
3722,Use  on blog post,,Use  on blog post,
3723,Improve WalkMode usage (#1018)," Provide an error callback so that we can recover from permissions errors (skip the offending item) Change workspace ignore patterns to ignore the directories themselves, rather than directories/files inside the ignored files Document our current symlink behavior in directory walks  Fixes #997",Improve WalkMode usage (#1018),"Provide an error callback so that we can recover from permissions errors (skip the offending item) Change workspace ignore patterns to ignore the directories themselves, rather than directories/files inside the ignored files Document our current symlink behavior in directory walks Fixes #997"
3724,Add contributors to blog post,,Add contributors to blog post,
3725,publish 1.2.0 to registry,,publish 1.2.0 to registry,
3726,Add v1.2 blog post (#1012),Co-authored-by: Nathan Hammond github.com@nathanhammond.com Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Lee Robinson lrobinson2011@gmail.com,Add v1.2 blog post (#1012),Co-authored-by: Nathan Hammond github.com@nathanhammond.com Co-authored-by: Greg Soltis greg.soltis@vercel.com Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Lee Robinson lrobinson2011@gmail.com
3727,Document remote only caching (#967),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Document remote only caching (#967),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3728,Document --filter (#914),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Meg Bird meg@vercel.com Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com,Document --filter (#914),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Meg Bird meg@vercel.com Co-authored-by: Gaspar Garcia Jr gaspar@vercel.com
3729,fix: output line with --output-logs=new-only should reflect actual behavior (#982),Closes #972 ,fix: output line with --output-logs=new-only should reflect actual behavior (#982),Closes #972 
3730,publish 1.2.0-canary.7 to registry,,publish 1.2.0-canary.7 to registry,
3731,Add @nathanhammond to CODEOWNERS (#1011),,Add @nathanhammond to CODEOWNERS (#1011),
3732,chore(force_color): use FORCE_COLOR instead of FORCED_COLOR (#1009),Co-authored-by: Adam J. Hines ahines@factset.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,chore(force_color): use FORCE_COLOR instead of FORCED_COLOR (#1009),Co-authored-by: Adam J. Hines ahines@factset.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
3733,fix benchmark action,,fix benchmark action,
3734,Merge pull request #990 from thebanjomatic/feat/colors,feat(colors): add options for forcing color/no-color,Merge pull request #990 from thebanjomatic/feat/colors,feat(colors): add options for forcing color/no-color
3735,docs(color): add docs for --color/--no-color flags,,docs(color): add docs for --color/--no-color flags,
3736,Merge pull request #35 from vercel/cleanup,Cleanup,Merge pull request #35 from vercel/cleanup,Cleanup
3737,Merge pull request #34 from vercel/perf/batch-watch,batch watch events,Merge pull request #34 from vercel/perf/batch-watch,batch watch events
3738,Merge pull request #33 from vercel/perf/read_matches,fast path read_matches,Merge pull request #33 from vercel/perf/read_matches,fast path read_matches
3739,chore(ci): enable color in github actions for CI,,chore(ci): enable color in github actions for CI,
3740,feat(colors): add options for forcing color/no-color,"This change checks for --color / --no-color as command-line arguments as a mechanism for forcing color in non-TTY situations, or forcing --no-color for TTY. Additionally, this change hooks into the FORCED_COLOR environment variable that is used by the supports-color npm package that is used by a variety of packages in the node ecosystem. The intention of this PR is to alleviate some of the concerns from Issue #897 by allowing users of turborepo to enable color output on CI runners such as Github Actions which support color output (as mentioned in the fatih/color documentation). With github actions and local builds are both running in color, then the cached output should be consistently in color, compared to the current situation where its a mix of color and non-color output with a remote shared between CI and users building interactively. The FORCED_COLOR environment variable is something that I find myself already setting when running turbo so that the streamed output is in color for the build and testing tools that I am running with it, so it seemed like a natural way to provide this argument without needing to modify the CLI parameters being passed to turbo. In the event multiple methods are being used, the precedence is: * isTTY or not (provided by fatih/color) * $NO_COLOR (if set, then color is disabled) * $FORCED_COLOR (""1"", ""2"", ""3"", ""true"" will enable color, ""0"", or ""false"" will disable color) * --color/--no-color (the last argument wins if both exist)",feat(colors): add options for forcing color/no-color,"This change checks for --color / --no-color as command-line arguments as a mechanism for forcing color in non-TTY situations, or forcing --no-color for TTY. Additionally, this change hooks into the FORCED_COLOR environment variable that is used by the supports-color npm package that is used by a variety of packages in the node ecosystem. The intention of this PR is to alleviate some of the concerns from Issue #897 by allowing users of turborepo to enable color output on CI runners such as Github Actions which support color output (as mentioned in the fatih/color documentation). With github actions and local builds are both running in color, then the cached output should be consistently in color, compared to the current situation where its a mix of color and non-color output with a remote shared between CI and users building interactively. The FORCED_COLOR environment variable is something that I find myself already setting when running turbo so that the streamed output is in color for the build and testing tools that I am running with it, so it seemed like a natural way to provide this argument without needing to modify the CLI parameters being passed to turbo. In the event multiple methods are being used, the precedence is: * isTTY or not (provided by fatih/color) * $NO_COLOR (if set, then color is disabled) * $FORCED_COLOR (""1"", ""2"", ""3"", ""true"" will enable color, ""0"", or ""false"" will disable color) * --color/--no-color (the last argument wins if both exist)"
3741,fix some warnings,,fix some warnings,
3742,remove println,,remove println,
3743,fast path read_matches,,fast path read_matches,
3744,batch watch events,,batch watch events,
3745,avoid clean on checkout to keep baseline,,avoid clean on checkout to keep baseline,
3746,Merge pull request #32 from vercel/feat/watch-flag,use --watch flag for all modes watched,Merge pull request #32 from vercel/feat/watch-flag,use --watch flag for all modes watched
3747,use root tasks instead of once,,use root tasks instead of once,
3748,use --watch flag for all modes watched,,use --watch flag for all modes watched,
3749,Merge pull request #31 from vercel/bugfix/double-slash,fix requests containing double slashes,Merge pull request #31 from vercel/bugfix/double-slash,fix requests containing double slashes
3750,make filesystem root more unique,,make filesystem root more unique,
3751,fix requests containing double slashes,add whatwg-url test case,fix requests containing double slashes,add whatwg-url test case
3752,Merge pull request #30 from vercel/bugfix/esbuild,fixes for the esbuild test case,Merge pull request #30 from vercel/bugfix/esbuild,fixes for the esbuild test case
3753,fix workflow,,fix workflow,
3754,compile benchmarks in release mode,,compile benchmarks in release mode,
3755,enable more test cases that work on some OS,,enable more test cases that work on some OS,
3756,enable cowsay test case that works now,,enable cowsay test case that works now,
3757,refactor builtin,reduce object/array to alternatives fixes for esbuild test case,refactor builtin,reduce object/array to alternatives fixes for esbuild test case
3758,improve bench pr workflow,,improve bench pr workflow,
3759,Merge pull request #27 from vercel/actions/bench,add benchmark action,Merge pull request #27 from vercel/actions/bench,add benchmark action
3760,Merge pull request #29 from vercel/feat/analyze-object,analyze objects,Merge pull request #29 from vercel/feat/analyze-object,analyze objects
3761,add benchmark action,,add benchmark action,
3762,add fs operation retry,,add fs operation retry,
3763,parse Program instead of Module only,,parse Program instead of Module only,
3764,avoid using Lit in JsValue as it equals with span,add JsValue::Object add object destructuring,avoid using Lit in JsValue as it equals with span,add JsValue::Object add object destructuring
3765,Merge pull request #28 from vercel/feat/member-call,improve analyzer,Merge pull request #28 from vercel/feat/member-call,improve analyzer
3766,enable pdfkit test case,,enable pdfkit test case,
3767,add JsValue::MemberCall,fix optimizing of nested values include path.joins add support for path.dirname improve path.join,add JsValue::MemberCall,fix optimizing of nested values include path.joins add support for path.dirname improve path.join
3768,Add documentation for passthrough args (#1003),,Add documentation for passthrough args (#1003),
3769,publish 1.2.0-canary.6 to registry,,publish 1.2.0-canary.6 to registry,
3770,Drop behavior that was previously used in tests (#1000),"We used to have some tests that depended on running against all packages if none were specified. Those tests have been refactored, and now we no longer need that specific hook. Fixes #958",Drop behavior that was previously used in tests (#1000),"We used to have some tests that depended on running against all packages if none were specified. Those tests have been refactored, and now we no longer need that specific hook. Fixes #958"
3771,Merge pull request #26 from vercel/bench/analyzer,add analyzer benchmark,Merge pull request #26 from vercel/bench/analyzer,add analyzer benchmark
3772,add analyzer benchmark,,add analyzer benchmark,
3773,docs: Fix hero in Safari (#999),,docs: Fix hero in Safari (#999),
3774,"Revert ""fix(docs): update css order to fix docs hero (#992)""",This reverts commit 5ba1947d18a7cde24d0eca7db846d047d39acf9c.,"Revert ""fix(docs): update css order to fix docs hero (#992)""",This reverts commit 5ba1947d18a7cde24d0eca7db846d047d39acf9c.
3775,fix(docs): update css order to fix docs hero (#992),,fix(docs): update css order to fix docs hero (#992),
3776,Merge pull request #23 from vercel/bugfix/node-modules-tests,disallow node_modules or __tests__ in dynamic patterns,Merge pull request #23 from vercel/bugfix/node-modules-tests,disallow node_modules or tests in dynamic patterns
3777,disallow node_modules or __tests__ in dynamic patterns,,disallow node_modules or tests in dynamic patterns,
3778,Merge pull request #22 from vercel/bugfix/exclude-self,exclude own file in .nfs.json,Merge pull request #22 from vercel/bugfix/exclude-self,exclude own file in .nfs.json
3779,exclude own file in .nfs.json,,exclude own file in .nfs.json,
3780,Merge pull request #21 from vercel/bugfix/d-ts-map,avoid matching dynamic patterns to .d.ts or .map,Merge pull request #21 from vercel/bugfix/d-ts-map,avoid matching dynamic patterns to .d.ts or .map
3781,avoid matching dynamic patterns to .d.ts or .map,,avoid matching dynamic patterns to .d.ts or .map,
3782,Merge pull request #19 from vercel/rename/ref-vc,rename Ref -> Vc,Merge pull request #19 from vercel/rename/ref-vc,rename Ref -> Vc
3783,Merge pull request #20 from vercel/dx/explain-with-multiple-lines,explain variables using multiple lines when needed,Merge pull request #20 from vercel/dx/explain-with-multiple-lines,explain variables using multiple lines when needed
3784,rename Ref -> Vc,,rename Ref -> Vc,
3785,explain variables using multiple lines when needed,,explain variables using multiple lines when needed,
3786,upload correct file,,upload correct file,
3787,install correct target,update toolchain,install correct target,update toolchain
3788,really target musl,,really target musl,
3789,fix(docs): use exact version (#989),"Since it's an alpha build, it should be exact version, otherwise managers do weird things",fix(docs): use exact version (#989),"Since it's an alpha build, it should be exact version, otherwise managers do weird things"
3790,publish 1.2.0-canary.5 to registry,,publish 1.2.0-canary.5 to registry,
3791,Cosmetic change,,Cosmetic change,
3792,publish 1.2.0-canary.4 to registry,,publish 1.2.0-canary.4 to registry,
3793,Use CGO on macOS M1 darwin-arm64 (#985),,Use CGO on macOS M1 darwin-arm64 (#985),
3794,hotfix: fix merge,,hotfix: fix merge,
3795,Add support for TURBO_FORCE env var (#921),Co-authored-by: Greg Soltis greg.soltis@vercel.com,Add support for TURBO_FORCE env var (#921),Co-authored-by: Greg Soltis greg.soltis@vercel.com
3796,Implement  --remote-only (#969),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Implement  --remote-only (#969),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3797,target musl,,target musl,
3798,use different key for release builds,,use different key for release builds,
3799,add release workflow,,add release workflow,
3800,Merge pull request #18 from vercel/webpack/avoid-runtime,avoid parsing the runtime as ecmascript,Merge pull request #18 from vercel/webpack/avoid-runtime,avoid parsing the runtime as ecmascript
3801,Merge branch 'main' into webpack/avoid-runtime,,Merge branch 'main' into webpack/avoid-runtime,
3802,Merge pull request #17 from vercel/test/enable,detect working cases and enable them,Merge pull request #17 from vercel/test/enable,detect working cases and enable them
3803,avoid parsing the runtime as ecmascript,,avoid parsing the runtime as ecmascript,
3804,detect working cases and enable them,,detect working cases and enable them,
3805,Merge pull request #16 from vercel/bugfix/resolve-abs,avoid resolving dynamic patterns as absolute path pattern,Merge pull request #16 from vercel/bugfix/resolve-abs,avoid resolving dynamic patterns as absolute path pattern
3806,only handle .[cm]js files as ecmascript,,only handle .[cm]js files as ecmascript,
3807,Merge pull request #15 from vercel/errors/resolving,print better resolving errors,Merge pull request #15 from vercel/errors/resolving,print better resolving errors
3808,avoid resolving dynamic patterns as absolute path pattern,,avoid resolving dynamic patterns as absolute path pattern,
3809,print better resolving errors,,print better resolving errors,
3810,Merge pull request #14 from vercel/analyzer/arrow,more analyzer improvements,Merge pull request #14 from vercel/analyzer/arrow,more analyzer improvements
3811,fix esbuild test case,,fix esbuild test case,
3812,cache even with replaced references,reduce more expressions to unknown remove very large snapshots,cache even with replaced references,reduce more expressions to unknown remove very large snapshots
3813,add support for arrow functions and function expressions,,add support for arrow functions and function expressions,
3814,Merge pull request #12 from vercel/bugfixes/analyzer,Bugfixes for the analyzer,Merge pull request #12 from vercel/bugfixes/analyzer,Bugfixes for the analyzer
3815,Merge pull request #13 from vercel/test/examples,check/build examples and tests too,Merge pull request #13 from vercel/test/examples,check/build examples and tests too
3816,larger test timeout,,larger test timeout,
3817,check/build examples and tests too,,check/build examples and tests too,
3818,larger test timeout,,larger test timeout,
3819,Argument() -> arguments[],,Argument() -> arguments[],
3820,improve explain(),,improve explain(),
3821,put inner JsValue in JsValue::Unknown into an Arc,merge similar alternatives in JsValue::Alternatives,put inner JsValue in JsValue::Unknown into an Arc,merge similar alternatives in JsValue::Alternatives
3822,detect hanging tests,update snapshots,detect hanging tests,update snapshots
3823,add slow test case,,add slow test case,
3824,snapshot explanations,,snapshot explanations,
3825,Merge pull request #11 from vercel/test/action,add CI caching,Merge pull request #11 from vercel/test/action,add CI caching
3826,add CI caching,,add CI caching,
3827,Merge pull request #10 from vercel/test/action,add test to CI,Merge pull request #10 from vercel/test/action,add test to CI
3828,detect hanging node process,disable hanging tests for now,detect hanging node process,disable hanging tests for now
3829,add test to CI,fix clippy,add test to CI,fix clippy
3830,add basic build github action,,add basic build github action,
3831,add new visualizer,,add new visualizer,
3832,Only check for yarn berry if it is installed (#976),"Fix https://github.com/vercel/turborepo/issues/962 In a follow up, we ideally should not need to make an exec call to start yarn which is written in node.js just to determine it's version. All we need to know is if it is greater than 2. We Also don't need to be parsing full semver. As soon as we know the first character is a >= 2 we know it is berry",Only check for yarn berry if it is installed (#976),"Fix link In a follow up, we ideally should not need to make an exec call to start yarn which is written in node.js just to determine it's version. All we need to know is if it is greater than 2. We Also don't need to be parsing full semver. As soon as we know the first character is a >= 2 we know it is berry"
3833,Update run command's --help (#971),,Update run command's --help (#971),
3834,Add function analyzer to the ESM analyzer (#9), Add JsValue::Function. Track function from graph creator. Fix visit_pat. Remove empty strings from JsValue::Concat. Add JsValue::visit_mut_recursive. Add linker logic for evaluating calls. Use JsValue::Arguments.,Add function analyzer to the ESM analyzer (#9),Add JsValue::Function. Track function from graph creator. Fix visit_pat. Remove empty strings from JsValue::Concat. Add JsValue::visit_mut_recursive. Add linker logic for evaluating calls. Use JsValue::Arguments.
3835,allow to index arrays,,allow to index arrays,
3836,signature secrety key missing: Update error message (#970),,signature secrety key missing: Update error message (#970),
3837,BYOK signature uses TURBO_REMOTE_CACHE_SIGNATURE_KEY env variable by default (#963),Remote support for turbo.json's plaintext key and configurable environment keyEnv name Update docs.,BYOK signature uses TURBO_REMOTE_CACHE_SIGNATURE_KEY env variable by default (#963),Remote support for turbo.json's plaintext key and configurable environment keyEnv name Update docs.
3838,integrate child_process.spawn into ecmascript parsing,normalize values during linking evaluate member expressions destructure array as member expression,integrate child_process.spawn into ecmascript parsing,normalize values during linking evaluate member expressions destructure array as member expression
3839,formating,update test cases allow to resolve patterns add Promise to wrap simple types,formating,update test cases allow to resolve patterns add Promise to wrap simple types
3840,Add JsValue::Array and child_process.spawn (#8),,Add JsValue::Array and child_process.spawn (#8),
3841,Add documentation for percentage concurrency setting (#954),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add documentation for percentage concurrency setting (#954),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3842,Improve and document login --sso-team (#953), update getting started guide add command-line reference,Improve and document login --sso-team (#953),update getting started guide add command-line reference
3843,Remove outdated npmClient reference in docs (#955),,Remove outdated npmClient reference in docs (#955),
3844,upgrade nextra (#960),,upgrade nextra (#960),
3845,track reasons for unknown values and show explainers in warnings,,track reasons for unknown values and show explainers in warnings,
3846,publish 1.2.0-canary.3 to registry,,publish 1.2.0-canary.3 to registry,
3847,Support HMAC signing on artifact uploads (#892),Introduce RemoteCacheOptions field to turbo.json Adds initial test scaffolding for turbo json config parsing. Implement HMAC Signature sent  on uploads to the remote cache via x-artifact-tag header. Implement Signature Stream Validator on artifact downloads. Download full response body and verify before untar when the signature/verification is enabled. In followup:    - Restrict uploads to teamId specified in remoteCacheOptions,Support HMAC signing on artifact uploads (#892),Introduce RemoteCacheOptions field to turbo.json Adds initial test scaffolding for turbo json config parsing. Implement HMAC Signature sent  on uploads to the remote cache via x-artifact-tag header. Implement Signature Stream Validator on artifact downloads. Download full response body and verify before untar when the signature/verification is enabled. In followup:    - Restrict uploads to teamId specified in remoteCacheOptions
3848,Fix: Change the strict flag true for shared tsconfig (#907),,Fix: Change the strict flag true for shared tsconfig (#907),
3849,publish 1.2.0-canary.2 to registry,,publish 1.2.0-canary.2 to registry,
3850,fix: Enable chrome tracing if --profile is specified (#949),During refactoring of context it seems that --profile flag was no longer working. This turns on chrometracing if --profile has a value,fix: Enable chrome tracing if --profile is specified (#949),During refactoring of context it seems that --profile flag was no longer working. This turns on chrometracing if --profile has a value
3851,"Include entry packages, not just dependencies when checking changed packages. (#950)","When we're matching dependencies, make sure to check if the named package is the one that changed","Include entry packages, not just dependencies when checking changed packages. (#950)","When we're matching dependencies, make sure to check if the named package is the one that changed"
3852,hotfix: update docs projectLink,,hotfix: update docs projectLink,
3853,Upgrade docs theme (#893),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Upgrade docs theme (#893),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3854,docs: Add GitHub Actions recipe (#930),,docs: Add GitHub Actions recipe (#930),
3855,Work on e2e (#940),"e2e changes:  * Add lint tests. These are helpful because they don't have dependencies, so can illustrate future improvements  * Specify a dependency on ""^build"" for test. This required changing some matching to .includes rather than exact line matches, as now potentially-cached build tasks are mixed into the output, and they output in a non-deterministic order. We're still matching the same hits and misses though.  * Start exercising --dry=json a little for testing purposes.",Work on e2e (#940),"e2e changes:  * Add lint tests. These are helpful because they don't have dependencies, so can illustrate future improvements  * Specify a dependency on ""^build"" for test. This required changing some matching to .includes rather than exact line matches, as now potentially-cached build tasks are mixed into the output, and they output in a non-deterministic order. We're still matching the same hits and misses though.  * Start exercising --dry=json a little for testing purposes."
3856,Improve pipelines documentation (#933), Include outputs to make more copy and paste friendly,Improve pipelines documentation (#933),Include outputs to make more copy and paste friendly
3857,publish 1.2.0-canary.1 to registry,,publish 1.2.0-canary.1 to registry,
3858,Don't squash tasks with package tasks (#932),"Fixes #905  Due to non-deterministic map iteration, we would squash one or the other of task definitions if we truncate package tasks to just their task name. Instead, use the full task name, with package qualifier if present, and properly pull them from the list of tasks inside the scheduler.",Don't squash tasks with package tasks (#932),"Fixes #905  Due to non-deterministic map iteration, we would squash one or the other of task definitions if we truncate package tasks to just their task name. Instead, use the full task name, with package qualifier if present, and properly pull them from the list of tasks inside the scheduler."
3859,handle .node and .json extensions,,handle .node and .json extensions,
3860,process absolute paths correctly for SourceAssetReferecnes correctly,,process absolute paths correctly for SourceAssetReferecnes correctly,
3861,find __webpack_require__.e in children of calls too,,find webpack_require.e in children of calls too,
3862,improve variable display,,improve variable display,
3863,improve exports condition knowledge,,improve exports condition knowledge,
3864,Merge remote-tracking branch 'origin/main',,Merge remote-tracking branch 'origin/main',
3865,remove debug info from release build,,remove debug info from release build,
3866,start watching only when needed,,start watching only when needed,
3867,Implement more parts of the ESM analyzer (#7),,Implement more parts of the ESM analyzer (#7),
3868,publish 1.2.0-canary.0 to registry,,publish 1.2.0-canary.0 to registry,
3869,Stop removing unreferenced packages before task graph construction (#918),"Fixes #912  In this PR:  * Stop removing unreferenced packages from the package dependency graph before building the task graph.  * Remove the implied --include-dependencies if --scope and --since are both set. It should no longer be necessary.  * Remove the test for --scope and --since implying --include-dependencies  * Add a new scheduler test that mimics the way run now behaves.  * Add a debugging profile for doing a dry run against the kitchen sink example. Future work includes being able to write a test in run_test.go to get the whole end-to-end graph build, but we don't quite have the infrastructure for that yet (also required for follow-on work to #911)  Note that this is technically a breaking change. Previously, if a depends on b, and the ""test"" task depends on ""^build"" the following would be true:  * turbo run test --scope=a would test a but not build b  * turbo run test --scope=a --include-dependencies would build b and test a AND b. With this change, turbo run test --scope=a will now build b and test a. The addition of tasks running for unselected packages is new. While this seems like more work being done, in practice I expect users to be able to move from the second example above to the first, ultimately resulting in less work being done: b#test will no longer need to run to get a#test to run.",Stop removing unreferenced packages before task graph construction (#918),"Fixes #912  In this PR:  * Stop removing unreferenced packages from the package dependency graph before building the task graph.  * Remove the implied --include-dependencies if --scope and --since are both set. It should no longer be necessary.  * Remove the test for --scope and --since implying --include-dependencies  * Add a new scheduler test that mimics the way run now behaves.  * Add a debugging profile for doing a dry run against the kitchen sink example. Future work includes being able to write a test in run_test.go to get the whole end-to-end graph build, but we don't quite have the infrastructure for that yet (also required for follow-on work to #911)  Note that this is technically a breaking change. Previously, if a depends on b, and the ""test"" task depends on ""^build"" the following would be true:  * turbo run test --scope=a would test a but not build b  * turbo run test --scope=a --include-dependencies would build b and test a AND b. With this change, turbo run test --scope=a will now build b and test a. The addition of tasks running for unselected packages is new. While this seems like more work being done, in practice I expect users to be able to move from the second example above to the first, ultimately resulting in less work being done: b#test will no longer need to run to get a#test to run."
3870,Implement --filter RFC (#887),Implement #105,Implement --filter RFC (#887),Implement #105
3871,publish 1.1.10 to registry,,publish 1.1.10 to registry,
3872,publish 1.1.10-canary.0 to registry,,publish 1.1.10-canary.0 to registry,
3873,fix: Reset ansi after >>> FULL TURBO (#926),Fix ansi reset after >>> FULL TURBO,fix: Reset ansi after >>> FULL TURBO (#926),Fix ansi reset after >>> FULL TURBO
3874,Merge pull request #923 from vercel/gaspar/refactor-turboJSON-config,[refactor] Move TurboConfigJSON and RootPackageJSON reading to config.go,Merge pull request #923 from vercel/gaspar/refactor-turboJSON-config,[refactor] Move TurboConfigJSON and RootPackageJSON reading to config.go
3875,touch,,touch,
3876,make link async,move well known functions and objects into separate module use special well known value,make link async,move well known functions and objects into separate module use special well known value
3877,Address feedback:, - slices are reference views not copies  - Re-add PackageInfos TODO Add test for selectCwd used in config.go,Address feedback:, - slices are reference views not copies  - Re-add PackageInfos TODO Add test for selectCwd used in config.go
3878,Add cwd back into PruneOptions,,Add cwd back into PruneOptions,
3879,Replace cwd into the RunOptions to lessen the diff,,Replace cwd into the RunOptions to lessen the diff,
3880,[refactor] Move TurboConfigJSON and RootPackageJSON reading to config.go,Centralize access to TurboConfigJSON via the global Config struct. Centralize access to RootPackageJSON via the global Config struct. Centralize access to the CWD via the global config struct,[refactor] Move TurboConfigJSON and RootPackageJSON reading to config.go,Centralize access to TurboConfigJSON via the global Config struct. Centralize access to RootPackageJSON via the global Config struct. Centralize access to the CWD via the global config struct
3881,Do not show >>> FULL TURBO on 0 attempt runs (#922),"Close https://github.com/vercel/turborepo/issues/859 With this change, >> FULL TURBO will only ever show if more than 1 attempted task is run.",Do not show >>> FULL TURBO on 0 attempt runs (#922),"Close link With this change, >> FULL TURBO will only ever show if more than 1 attempted task is run."
3882,feat: goreleaser v1.7.1,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: goreleaser v1.7.1,Signed-off-by: Artur Troian troian.ap@gmail.com
3883,migrate fs.readFileSync handling to new analyzer,,migrate fs.readFileSync handling to new analyzer,
3884,refactor,integrate Analyzer into workflow more test cases handle free vars correctly handle bindings by class and function,refactor,integrate Analyzer into workflow more test cases handle free vars correctly handle bindings by class and function
3885,Implement more logic for the ESM analyzer (#6),,Implement more logic for the ESM analyzer (#6),
3886,add annotate mode that emits .nft.json files,,add annotate mode that emits .nft.json files,
3887,fix read_dir invalidation,,fix read_dir invalidation,
3888,add hash_glob example,,add hash_glob example,
3889,fix caching with bool,,fix caching with bool,
3890,Allow concurrency to be set with percentage values (#873),"Closes #761 This is modeled after the way that jest allows to set workers by providing a percent with --maxWorkers=50%. I've updated Turbo's CLI parsing to accept --concurrency=50%. It also supports percentages over 100%, so  --concurrency=500% is valid. It uses runtime.NumCPU() to get the number of available logical processors, and calculates from there. Setting the percentage to zero or less is an error. Setting percentage very low, to eg 1% results in always at least 1 as the value for concurrency.",Allow concurrency to be set with percentage values (#873),"Closes #761 This is modeled after the way that jest allows to set workers by providing a percent with --maxWorkers=50%. I've updated Turbo's CLI parsing to accept --concurrency=50%. It also supports percentages over 100%, so  --concurrency=500% is valid. It uses runtime.NumCPU() to get the number of available logical processors, and calculates from there. Setting the percentage to zero or less is an error. Setting percentage very low, to eg 1% results in always at least 1 as the value for concurrency."
3891,Bump versions to match patches and fix tests,,Bump versions to match patches and fix tests,
3892,Revert trailer md5 (#916),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Revert trailer md5 (#916),Co-authored-by: Jared Palmer jared@jaredpalmer.com
3893,fix windows path separator bug,,fix windows path separator bug,
3894,fix: Update inline snapshot of create-turbo (#915),,fix: Update inline snapshot of create-turbo (#915),
3895,improve glob matching parallism by making it eager,,improve glob matching parallism by making it eager,
3896,Fix main version,,Fix main version,
3897,add glob support,add mapping for resolved resolvings,add glob support,add mapping for resolved resolvings
3898,publish 1.1.8 to registry,,publish 1.1.8 to registry,
3899,fix: #909 - turbo run exit code always 0 (#911),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,fix: #909 - turbo run exit code always 0 (#911),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
3900,Explicitly read the artifact into memory before uploading to the remote cache api (#898),Read the tar artifact into memory so that we can compute the content-md5  This read was already happening implicitly via the retryableHttp module.,Explicitly read the artifact into memory before uploading to the remote cache api (#898),Read the tar artifact into memory so that we can compute the content-md5  This read was already happening implicitly via the retryableHttp module.
3901,publish 1.1.7 to registry,,publish 1.1.7 to registry,
3902,show timing for print command,,show timing for print command,
3903,fix webpack resolution bug,,fix webpack resolution bug,
3904,allow import map in resolve options,provide node.js builtin modules are externals remove data uri enum value,allow import map in resolve options,provide node.js builtin modules are externals remove data uri enum value
3905,improve TraceSlotRefs macro,,improve TraceSlotRefs macro,
3906,feat: use user customized npm registry in create-turbo (#885),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com,feat: use user customized npm registry in create-turbo (#885),Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: kodiakhq[bot] 49736102+kodiakhq[bot]@users.noreply.github.com
3907,add special case for tracing webpack bundles,,add special case for tracing webpack bundles,
3908,"copy package.json for each ecmascript module as it could contain ""type"": ""module""",,"copy package.json for each ecmascript module as it could contain ""type"": ""module""",
3909,Apply suggested improvements for the ESM analyzer (#5),,Apply suggested improvements for the ESM analyzer (#5),
3910,add --output-logs= option to turbo CLI (#822)," Adds --output-logs option with a few mode options to control output logs of tasks run by turbo run build full is default and shows all tasks' process output hash-only only outputs the hash line which has cache <miss|hit>, <executing|replaying output> <hash> new-only shows all process output for tasks that have not been cached and only the hash line for cached tasks none hides all tasks' process output  Usage: turbo run build --output-logs=new-only Without --output-logs or --output-logs=full  With --output-logs=hash-only  With --output-logs=new-only  With --output-logs=none  Closes #364",add --output-logs= option to turbo CLI (#822),"Adds --output-logs option with a few mode options to control output logs of tasks run by turbo run build full is default and shows all tasks' process output hash-only only outputs the hash line which has cache ,   new-only shows all process output for tasks that have not been cached and only the hash line for cached tasks none hides all tasks' process output Usage: turbo run build --output-logs=new-only Without --output-logs or --output-logs=full With --output-logs=hash-only With --output-logs=new-only With --output-logs=none Closes #364"
3911,publish 1.1.7-canary.5 to registry,,publish 1.1.7-canary.5 to registry,
3912,fix: make --dry=json jq and JSON.parse-friendly (#894),"Allow --dry=json's stdout can be easily jq or JSON.parse'd. Before ``` import { exec } from ""child_process""; exec(   ""turbo run build --scope=app --since=HEAD^ --dry=json"",   (error, stdout, stderr) => {     if (error) {       console.error(exec error: ${error});       return;     } const { packages } = JSON.parse(stdout); // JSON.parse error ""• Packages changed since x in scope app"" invalid json  } ); ``` After ``` import { exec } from ""child_process""; exec(   ""~/dev/vercel/turbo/cli/turbo run build --scope=storefront --since=HEAD^ --dry=json"",   (error, stdout, stderr) => {     if (error) {       console.error(exec error: ${error});       return;     } const stuff = JSON.parse(stdout); // no error  } ); ```",fix: make --dry=json jq and JSON.parse-friendly (#894),"Allow --dry=json's stdout can be easily jq or JSON.parse'd. Before ``` import { exec } from ""child_process""; exec(   ""turbo run build --scope=app --since=HEAD^ --dry=json"",   (error, stdout, stderr) => {     if (error) {       console.error(exec error: ${error});       return;     } const { packages } = JSON.parse(stdout); // JSON.parse error ""• Packages changed since x in scope app"" invalid json } ); module import { exec } from ""child_process""; exec(   ""~/dev/vercel/turbo/cli/turbo run build --scope=storefront --since=HEAD^ --dry=json"",   (error, stdout, stderr) => {     if (error) {       console.error(exec error: ${error});       return;     } const stuff = JSON.parse(stdout); // no error } ); ```"
3913,fix(remote-cache): use posix paths for tar archives (#895),"This should ensure that archives generated for remote caching have the directory structure preserved in a consistant manner to what is generated on linux/mac Fixes: #801 PR #891 I believe fixes the hash calculation so that a remote-cache generated on linux or mac can be consumed on windows and no longer results in a cache miss, but I still have concerns about consuming archives generated on windows from the linux environment. In particular, these paths are coming from globby and don't pass through the normalization from the linked PR, so they are still os-dependent. I have encountered some problems with builds failing in GH Actions because dependencies that should have been built already were not found when I had previously built those projects on my windows machine. I believe this PR should fix the problem but I haven't had the chance to try reproducing the existing issue to verify that this fixes it. I might be able to get that done later today, but I wanted to get a PR up sooner rather than later",fix(remote-cache): use posix paths for tar archives (#895),"This should ensure that archives generated for remote caching have the directory structure preserved in a consistant manner to what is generated on linux/mac Fixes: #801 PR #891 I believe fixes the hash calculation so that a remote-cache generated on linux or mac can be consumed on windows and no longer results in a cache miss, but I still have concerns about consuming archives generated on windows from the linux environment. In particular, these paths are coming from globby and don't pass through the normalization from the linked PR, so they are still os-dependent. I have encountered some problems with builds failing in GH Actions because dependencies that should have been built already were not found when I had previously built those projects on my windows machine. I believe this PR should fix the problem but I haven't had the chance to try reproducing the existing issue to verify that this fixes it. I might be able to get that done later today, but I wanted to get a PR up sooner rather than later"
3914,spacing,,spacing,
3915,compare test output in test case and make test fail,add run_once helper ensure that once task don't become dirty,compare test output in test case and make test fail,add run_once helper ensure that once task don't become dirty
3916,analyzer nitpicks,,analyzer nitpicks,
3917,add support for Vec as task input,fix bug in exports field resolving add support for resolving to multiple alternatives,add support for Vec as task input,fix bug in exports field resolving add support for resolving to multiple alternatives
3918,Prepare module analyzer (#3),,Prepare module analyzer (#3),
3919,Start docs for --dry (#890),,Start docs for --dry (#890),
3920,Hash correct file paths for global dependencies (#888),Fixes #886  GitHashForFiles now takes absolute paths for all files. It was previously receiving a mix of absolute and relative paths. Also clean up execution of git hash-objects a little.,Hash correct file paths for global dependencies (#888),Fixes #886  GitHashForFiles now takes absolute paths for all files. It was previously receiving a mix of absolute and relative paths. Also clean up execution of git hash-objects a little.
3921,[Fix] Update CONTRIBUTING.md for pnpm. Use pnpm to run line-staged (#889),Was hitting lint-staged command not found.  I think the pre-commit linting was misconfigured based on https://github.com/toplenboren/simple-git-hooks,[Fix] Update CONTRIBUTING.md for pnpm. Use pnpm to run line-staged (#889),Was hitting lint-staged command not found.  I think the pre-commit linting was misconfigured based on link
3922,fix some resolving and parsing edge cases,upgrade swc,fix some resolving and parsing edge cases,upgrade swc
3923,print files sorted,,print files sorted,
3924,add all passing test cases,,add all passing test cases,
3925,add all passing test cases,,add all passing test cases,
3926,copy file that affect resolving too e. g. package.json,,copy file that affect resolving too e. g. package.json,
3927,Update README.md,,Update README.md,
3928,Update README.md,,Update README.md,
3929,publish 1.1.7-canary.3 to registry,,publish 1.1.7-canary.3 to registry,
3930,remove empty file,,remove empty file,
3931,add documentation to slot method,,add documentation to slot method,
3932,default slot mode to shared,allow to configurate slot mode fix hash_directory example,default slot mode to shared,allow to configurate slot mode fix hash_directory example
3933,split Slot into Output and Slot,task output is no longer a Slot but an Output,split Slot into Output and Slot,task output is no longer a Slot but an Output
3934,Merge pull request #2 from vercel/kdy1/test-node,Test turbopack,Merge pull request #2 from vercel/kdy1/test-node,Test turbopack
3935,allow to await completion of emit,It's a bit inefficent solution but fine until we have a better one,allow to await completion of emit,It's a bit inefficent solution but fine until we have a better one
3936,Strange,,Strange,
3937,Add exec_node,,Add exec_node,
3938,Enable features of async-std for tests,,Enable features of async-std for tests,
3939,Remove tabs from run help text (#879),No functional changes.,Remove tabs from run help text (#879),No functional changes.
3940,fix: dump all contents of Outputs instead of all but the first one (#877),Small change to the output of --dryn-run command for when the outputs-array is empty instead of outputting all but the first one we display all entries,fix: dump all contents of Outputs instead of all but the first one (#877),Small change to the output of --dryn-run command for when the outputs-array is empty instead of outputting all but the first one we display all entries
3941,Change input type to hash_content,,Change input type to hash_content,
3942,Make hash_content a turbo-task function,,Make hash_content a turbo-task function,
3943,Cleanup examples,,Cleanup examples,
3944,Switch task graph edges to direct dependencies (#869),"The main change in this PR switches the task graph construction to add edges only between direct dependencies, rather than the entire ancestor subtree.  As an example, say a depends on b, b depends on c. If b#build depends on c#some-task, and a#builddepends on^build`.  Currently, running a#build will do c#some-task, c#build, b#build, and a#build. But, we don't need c#build. We just need c#some-task, since that's what b#build depends on, and a doesn't really know anything about c directly, just via b. So, we instead just draw an edge to direct dependencies, and then let them sort out their own dependencies. For a large example, here are before and after graphs for running turbo run build in examples/kitchen-sink: Before:  After:  Also get rid of an unused field, taskDeps, on Scheduler.",Switch task graph edges to direct dependencies (#869),"The main change in this PR switches the task graph construction to add edges only between direct dependencies, rather than the entire ancestor subtree.  As an example, say a depends on b, b depends on c. If b#build depends on c#some-task, and a#builddepends on^build`.  Currently, running a#build will do c#some-task, c#build, b#build, and a#build. But, we don't need c#build. We just need c#some-task, since that's what b#build depends on, and a doesn't really know anything about c directly, just via b. So, we instead just draw an edge to direct dependencies, and then let them sort out their own dependencies. For a large example, here are before and after graphs for running turbo run build in examples/kitchen-sink: Before: After: Also get rid of an unused field, taskDeps, on Scheduler."
3945,"Implement --dry-run, formerly --plan (#862)","Close #380  Split up different run modes in run.go Update the scheduler to move the task-to-be-run to Execute rather than AddTask. This lets us construct the graph before deciding what to do with it, as well as leaving open the option of multiple passes. Implement --dry-run[=json]. Outputs packages in scope, as well as tasks to be run.  Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com","Implement --dry-run, formerly --plan (#862)","Close #380 Split up different run modes in run.go Update the scheduler to move the task-to-be-run to Execute rather than AddTask. This lets us construct the graph before deciding what to do with it, as well as leaving open the option of multiple passes. Implement --dry-run[=json]. Outputs packages in scope, as well as tasks to be run. Co-authored-by: Jared Palmer 4060187+jaredpalmer@users.noreply.github.com"
3946,publish 1.1.7-canary.2 to registry,,publish 1.1.7-canary.2 to registry,
3947,docs: make remote caching evergreen (#868),,docs: make remote caching evergreen (#868),
3948,refactor to allow to return different reference types,,refactor to allow to return different reference types,
3949,documentation,,documentation,
3950,rename packages -> crates,,rename packages -> crates,
3951,rename packages -> crates,,rename packages -> crates,
3952,cleanup,,cleanup,
3953,documentation,feature flags,documentation,feature flags
3954,cleanup,add comments rename methods remove unused stuff,cleanup,add comments rename methods remove unused stuff
3955,remove WeakSlotRefs as it's actually not needed,,remove WeakSlotRefs as it's actually not needed,
3956,remove demo files,,remove demo files,
3957,publish 1.1.7-canary.1 to registry,,publish 1.1.7-canary.1 to registry,
3958,Update footer form (#857),Update the footer email subscription form to submit to a Tray.io endpoint instead of ConvertKit,Update footer form (#857),Update the footer email subscription form to submit to a Tray.io endpoint instead of ConvertKit
3959,Allow specifying cache outputs outside of package folder (#861),"This allows people to specify outputs outside of the package folder from which the command originated, which is especially useful for code-generation tools and polyglot repos. To enable this, we store artifacts in the cache relative to the root of the monorepo (see screenshot) below for before (top) and after (bottom).  Since we are changing how cache is structured, I updated the global cache key in turbo in order to prevent prior old artifacts from ever ever being cache hits with after this change The only downside to this change, which might not be a downside at all, I guess, is possibility that artifacts are now tied to the directory structure of outputs relative to the root of the monorepo.",Allow specifying cache outputs outside of package folder (#861),"This allows people to specify outputs outside of the package folder from which the command originated, which is especially useful for code-generation tools and polyglot repos. To enable this, we store artifacts in the cache relative to the root of the monorepo (see screenshot) below for before (top) and after (bottom). Since we are changing how cache is structured, I updated the global cache key in turbo in order to prevent prior old artifacts from ever ever being cache hits with after this change The only downside to this change, which might not be a downside at all, I guess, is possibility that artifacts are now tied to the directory structure of outputs relative to the root of the monorepo."
3960,Remove packageManager warning (#858),Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com,Remove packageManager warning (#858),Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com
3961,add node-file-trace watch for the demo,,add node-file-trace watch for the demo,
3962,doc: tidy up readme,Signed-off-by: Artur Troian troian.ap@gmail.com,doc: tidy up readme,Signed-off-by: Artur Troian troian.ap@gmail.com
3963,Update awesome monorepo tools,,Update awesome monorepo tools,
3964,add node-file-trace CLI,,add node-file-trace CLI,
3965,publish 1.1.7-canary.0 to registry,,publish 1.1.7-canary.0 to registry,
3966,add support for the exports field,handle errors during analysing the module,add support for the exports field,handle errors during analysing the module
3967,Update configuration.mdx (#856),"change ""dependsOn"" syntax  to use array",Update configuration.mdx (#856),"change ""dependsOn"" syntax  to use array"
3968,"depending on ""*"" should match everything (#855)","This technically doesn't conform to semver. yarn, berry, pnpm, and npm use includePrerelease in their matching, which goes a bit beyond this, so there may be more work required. However, this change unblocks usage of tools like semantic release","depending on ""*"" should match everything (#855)","This technically doesn't conform to semver. yarn, berry, pnpm, and npm use includePrerelease in their matching, which goes a bit beyond this, so there may be more work required. However, this change unblocks usage of tools like semantic release"
3969,publish 1.1.6 to registry,,publish 1.1.6 to registry,
3970,Force runtime w/pnpm support on vc,,Force runtime w/pnpm support on vc,
3971,Add back support for file:... dependencies (#854),"Check if file paths pointed to by file:... are within the monorepo. If so, consider them internal dependencies, and otherwise consider them as external dependencies. Fixes #847",Add back support for file:... dependencies (#854),"Check if file paths pointed to by file:... are within the monorepo. If so, consider them internal dependencies, and otherwise consider them as external dependencies. Fixes #847"
3972,feat(yarn-pnp): adding support for turbo run w/ yarn pnp (#797),"Regarding https://github.com/vercel/turborepo/issues/693#issuecomment-1055497641 I believe this at least partially addresses Issue: #693, but the scope of the issue is unclear. More specifically this removes the general check for yarn pnp and moves it into the prune command instead as this is the part that likely has remaining issues with pnp since nothing else that I'm aware of needs to know about node_modules. This PR builds off of #795, as otherwise you can't even run turbo to be able to hit the previous nodeLinker checks. Let me know if you would like me to change things around so that it is more explicitly enabling for the run task as opposed to enabling for all but prune.",feat(yarn-pnp): adding support for turbo run w/ yarn pnp (#797),"Regarding link I believe this at least partially addresses Issue: #693, but the scope of the issue is unclear. More specifically this removes the general check for yarn pnp and moves it into the prune command instead as this is the part that likely has remaining issues with pnp since nothing else that I'm aware of needs to know about node_modules. This PR builds off of #795, as otherwise you can't even run turbo to be able to hit the previous nodeLinker checks. Let me know if you would like me to change things around so that it is more explicitly enabling for the run task as opposed to enabling for all but prune."
3973,Extract ResolvePackages (#830)," Move package resolution logic to scope package Remove unused functionality from SCM interface to make it easier to mock in tests Start adding tests for scope resolution  Review Note: scope_test.go provides examples of parsed flags and how they translate to packages considered in-scope. I've done my best to infer what packages should be built in each scenario, but please verify. Also very happy to accept additions to that test. Possibly controversial change: To maintain backwards compatibility, specifying --since and --scope to turbo run will imply --include-dependencies. This means that using scope will generally cause all dependencies of the specified scopes to be built, although the cache will still be used so this may potentially be cheap.  Previously, this behavior was triggered when --scope and --since constraints produced packages to be built. In cases where they were both specified but one or both did not produce packages to be built, dependencies were not included.  With this change, the behavior will be consistent based on commandline flags and default to building dependencies. With an upcoming switch over to cobra for commandline parsing, we should be able to flag off building dependencies if the user requests it.",Extract ResolvePackages (#830),"Move package resolution logic to scope package Remove unused functionality from SCM interface to make it easier to mock in tests Start adding tests for scope resolution Review Note: scope_test.go provides examples of parsed flags and how they translate to packages considered in-scope. I've done my best to infer what packages should be built in each scenario, but please verify. Also very happy to accept additions to that test. Possibly controversial change: To maintain backwards compatibility, specifying --since and --scope to turbo run will imply --include-dependencies. This means that using scope will generally cause all dependencies of the specified scopes to be built, although the cache will still be used so this may potentially be cheap.  Previously, this behavior was triggered when --scope and --since constraints produced packages to be built. In cases where they were both specified but one or both did not produce packages to be built, dependencies were not included.  With this change, the behavior will be consistent based on commandline flags and default to building dependencies. With an upcoming switch over to cobra for commandline parsing, we should be able to flag off building dependencies if the user requests it."
3974,nitpick,,nitpick,
3975,improve resolve error reporting,,improve resolve error reporting,
3976,convert a few unwraps into Errs,,convert a few unwraps into Errs,
3977,refactoring,remove interning in constructors (use cached functions instead) allow non-value-ref inputs in functions handle errors from functions awaiting a value ref might lead to an error,refactoring,remove interning in constructors (use cached functions instead) allow non-value-ref inputs in functions handle errors from functions awaiting a value ref might lead to an error
3978,Merge pull request #1 from sokra/kdy1/arc-tasks,Use Arc instead of &'static for TurboTasks,Merge pull request #1 from sokra/kdy1/arc-tasks,Use Arc instead of &'static for TurboTasks
3979,Update link.go for more inclusive language. (#837),"Even if the former is technically more accurate (control + c), let's err on the side of more inclusive language.",Update link.go for more inclusive language. (#837),"Even if the former is technically more accurate (control + c), let's err on the side of more inclusive language."
3980,fix(peer-deps): don't consider peer deps when constructing graph (#813),"Splitting this out of #802. I tried this first when attempting to fix my own build issues in that PR after discovering Issue #407 which suggested peerDependencies might be the problem. It wasn't enough to solve the build hangs with my project, but seems to have its own merits. If a package has a peer dependency but there is no corresponding devDependency, then it should be presumed that there are no build-time dependency on that package. For example, if there was code that would be executed by one of the scripts that tried to import from the peer package, this would generally speaking fail to run, because node would be unable to resolve the dependency unless another package was pulling it in and it got hoisted, etc. Workspace dependencies are kind of a special case in that they won't be hoisted and can be resolved by node, but if you were to ever move that package out of the monorepo then that same situation as above would fail to build. As a result, my impression is that for any use-case where peerDependencies need to be explicitly part of the dependency graph is actually just a missing dependency declaration bug where that package should actually be part of the dev deps. I have also changed the order in which dependencies, optionalDependencies, and devDependencies are selected to match the order that lerna uses for cases where the package shows up in multiple places. See: https://github.com/lerna/lerna/blob/a47fc294393a3e9507a8207a5a2f07648a524722/core/package-graph/index.js#L53-L58 The attached issues mentions making a flag to control this behavior, but given the reasoning above, I'm not sure if there is ever a situation where you would want to have a peer-dependency impact the dependency graph if its not also a regular or dev (or optional) dependency. Fixes: #407",fix(peer-deps): don't consider peer deps when constructing graph (#813),"Splitting this out of #802. I tried this first when attempting to fix my own build issues in that PR after discovering Issue #407 which suggested peerDependencies might be the problem. It wasn't enough to solve the build hangs with my project, but seems to have its own merits. If a package has a peer dependency but there is no corresponding devDependency, then it should be presumed that there are no build-time dependency on that package. For example, if there was code that would be executed by one of the scripts that tried to import from the peer package, this would generally speaking fail to run, because node would be unable to resolve the dependency unless another package was pulling it in and it got hoisted, etc. Workspace dependencies are kind of a special case in that they won't be hoisted and can be resolved by node, but if you were to ever move that package out of the monorepo then that same situation as above would fail to build. As a result, my impression is that for any use-case where peerDependencies need to be explicitly part of the dependency graph is actually just a missing dependency declaration bug where that package should actually be part of the dev deps. I have also changed the order in which dependencies, optionalDependencies, and devDependencies are selected to match the order that lerna uses for cases where the package shows up in multiple places. See: link The attached issues mentions making a flag to control this behavior, but given the reasoning above, I'm not sure if there is ever a situation where you would want to have a peer-dependency impact the dependency graph if its not also a regular or dev (or optional) dependency. Fixes: #407"
3981,Bump timeout on create-turbo CLI test (#834),AFAICT this test is just slow. Bumping the timeout.,Bump timeout on create-turbo CLI test (#834),AFAICT this test is just slow. Bumping the timeout.
3982,docs: Add note about Fast Refresh to the FAQ docs (#832),,docs: Add note about Fast Refresh to the FAQ docs (#832),
3983,docs: Complimentary Tools -> Complementary Tools (#831),,docs: Complimentary Tools -> Complementary Tools (#831),
3984,Merge pull request #826 from m-shaka/validate-prune-scope,fix: #703,Merge pull request #826 from m-shaka/validate-prune-scope,fix: #703
3985,Make public api consistent,,Make public api consistent,
3986,Fix tests,,Fix tests,
3987,Fix errors,,Fix errors,
3988,Fix types,,Fix types,
3989,Replace,,Replace,
3990,fix: #703,log an error detail and exit 1 if an invalid scope is provided,fix: #703,log an error detail and exit 1 if an invalid scope is provided
3991,[login sso] Ensure that the RepoConfig Directory and file exists before writting team ID and API url (#823),Edge case on new repo when .turbo/config.json doesn't exist. Normally the .turbo/config.json would be written on yarn turbo link. yarn turbo link is not applicable after logging in to an --sso-team,[login sso] Ensure that the RepoConfig Directory and file exists before writting team ID and API url (#823),Edge case on new repo when .turbo/config.json doesn't exist. Normally the .turbo/config.json would be written on yarn turbo link. yarn turbo link is not applicable after logging in to an --sso-team
3992,feat: go1.17.8,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.17.8,Signed-off-by: Artur Troian troian.ap@gmail.com
3993,separate concerns,add json support,separate concerns,add json support
3994,publish 1.1.5 to registry,,publish 1.1.5 to registry,
3995,fix(dep-graph): allow mix of internal and external deps with same name (#802),"This is my first time coding with golang, so please let me know if there is anything non-idiomatic or where things can be written better.  When turbo currently tries to build the dependency graph, it doesn't consider the specified version/range of the dependency, it just assumes that if that package name exists in the workspace it must be an internal dependency. Because of this, cycles are detected and the process hangs. This PR adds some additional logic to ensure that dependencies are only considered internal if the local/workspace package's version matches the semver range specified for the dependency. Fixes: #796",fix(dep-graph): allow mix of internal and external deps with same name (#802),"This is my first time coding with golang, so please let me know if there is anything non-idiomatic or where things can be written better.  When turbo currently tries to build the dependency graph, it doesn't consider the specified version/range of the dependency, it just assumes that if that package name exists in the workspace it must be an internal dependency. Because of this, cycles are detected and the process hangs. This PR adds some additional logic to ensure that dependencies are only considered internal if the local/workspace package's version matches the semver range specified for the dependency. Fixes: #796"
3996,Remove dependencies on context methods / functions (#821),"Continuing to remove code dependencies on the internal/context package so that we can possibly calculate the values remotely / asynchronously.  Move getTargetsFromArguments from context to run, the only place where it is called. prune reuses the work done resolving global dependencies during context creation. This both reduces the dependency on a method on context as well as avoids doing duplicate work. mark context methods private so that we don't accidentally rely on them elsewhere.",Remove dependencies on context methods / functions (#821),"Continuing to remove code dependencies on the internal/context package so that we can possibly calculate the values remotely / asynchronously. Move getTargetsFromArguments from context to run, the only place where it is called. prune reuses the work done resolving global dependencies during context creation. This both reduces the dependency on a method on context as well as avoids doing duplicate work. mark context methods private so that we don't accidentally rely on them elsewhere."
3997,Update FAQ wording (#818),"Replace ""and"" with ""any"" in ""Does Turborepo collect any personally identifiable information?"". I don't believe that the sentence makes sense with ""and"", so I'm assuming it's a typo and is meant to be ""any""",Update FAQ wording (#818),"Replace ""and"" with ""any"" in ""Does Turborepo collect any personally identifiable information?"". I don't believe that the sentence makes sense with ""and"", so I'm assuming it's a typo and is meant to be ""any"""
3998,publish 1.1.5-canary.1 to registry,,publish 1.1.5-canary.1 to registry,
3999,Merge pull request #441 from jsoref/spelling,Spelling,Merge pull request #441 from jsoref/spelling,Spelling
4000,Merge branch 'main' into spelling,,Merge branch 'main' into spelling,
4001,add global information demo,,add global information demo,
4002,fix: bounded parallelization when saving cache (#723),Fix for #711 (discussion #709). Bounded cache saving parallelization to runtime.NumCPU() which now gives us the maximum number of effective threads while staying under the OS limit of max processes count. Cheers 🎉,fix: bounded parallelization when saving cache (#723),Fix for #711 (discussion #709). Bounded cache saving parallelization to runtime.NumCPU() which now gives us the maximum number of effective threads while staying under the OS limit of max processes count. Cheers 🎉
4003,Bump jest timeout,,Bump jest timeout,
4004,publish 1.1.5-canary.0 to registry,,publish 1.1.5-canary.0 to registry,
4005,fix: add @turbo/codemod to publish command,,fix: add @turbo/codemod to publish command,
4006,Bump version of @turbo/codemod,,Bump version of @turbo/codemod,
4007,fix: globby dependency in @turbo/codemod,,fix: globby dependency in @turbo/codemod,
4008,Implement SSO login with combined link step (#811),Roughly mirrors how vercel CLI obtains SSO tokens. Also included:  * utility oneShotServer for running a local server and receiving a single hit  * lock down config writing a little bit to separate writing user- and repo-specific config files.,Implement SSO login with combined link step (#811),Roughly mirrors how vercel CLI obtains SSO tokens. Also included:  * utility oneShotServer for running a local server and receiving a single hit  * lock down config writing a little bit to separate writing user- and repo-specific config files.
4009,Merge branch 'main' into spelling,,Merge branch 'main' into spelling,
4010,Prep before SSO login flow work (#798), Starts using cobra for the login command. This can serve as a model for an eventual migration to cobra for everything turbo login should now respect Ctrl+C Make golint (mostly) happy for login.go Pass dependencies into run function to make it a bit more testable Add a test for the happy path of logging in Provides a default cli.ColoredUi util OpenBrowser now returns an error rather than fatally exiting.,Prep before SSO login flow work (#798),Starts using cobra for the login command. This can serve as a model for an eventual migration to cobra for everything turbo login should now respect Ctrl+C Make golint (mostly) happy for login.go Pass dependencies into run function to make it a bit more testable Add a test for the happy path of logging in Provides a default cli.ColoredUi util OpenBrowser now returns an error rather than fatally exiting.
4011,avoid keeping outdated children and schedule them directly,,avoid keeping outdated children and schedule them directly,
4012,Move to core monorepo to pnpm (#810),,Move to core monorepo to pnpm (#810),
4013,reduce memory usage,,reduce memory usage,
4014,clean up,,clean up,
4015,use active_parents count instead of parents list,,use active_parents count instead of parents list,
4016,chore: Add cancel workflow GH Action (#808),,chore: Add cancel workflow GH Action (#808),
4017,feat: go1.17.7 goreleaser 1.5.0,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.17.7 goreleaser 1.5.0,Signed-off-by: Artur Troian troian.ap@gmail.com
4018,Continue evolving Context towards a data structure that can be sent over the wire (#788)," Args doesn't need to hang off of Context TraceFilePath isn't used, tracing is done via RunState instead. global hash calculations and root package.json calculations can use local variables TaskGraph is unused.",Continue evolving Context towards a data structure that can be sent over the wire (#788),"Args doesn't need to hang off of Context TraceFilePath isn't used, tracing is done via RunState instead. global hash calculations and root package.json calculations can use local variables TaskGraph is unused."
4019,Merge pull request #795 from thebanjomatic/fix/yarn-pnp/node-platform,fix(yarn-pnp): fixing generateBinPath when yarn pnp is enabled,Merge pull request #795 from thebanjomatic/fix/yarn-pnp/node-platform,fix(yarn-pnp): fixing generateBinPath when yarn pnp is enabled
4020,fix(yarn-pnp): fixing generateBinPath when yarn pnp is enabled,"The call to require.resolve(turbo) was failing because the package does not have a main export defined in the package.json, nor is there an index.js. Since we are just looking for the directory the package is unplugged into, we can resolve the path to the package.json and get the dirname of that.",fix(yarn-pnp): fixing generateBinPath when yarn pnp is enabled,"The call to require.resolve(turbo) was failing because the package does not have a main export defined in the package.json, nor is there an index.js. Since we are just looking for the directory the package is unplugged into, we can resolve the path to the package.json and get the dirname of that."
4021,refactoring to active flag,,refactoring to active flag,
4022,Running build with --cwd works (#783),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Running build with --cwd works (#783),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4023,Merge branch 'main' into spelling,,Merge branch 'main' into spelling,
4024,some fixes to aggregation and profiling,,some fixes to aggregation and profiling,
4025,document fixes for the cache section (#782),,document fixes for the cache section (#782),
4026,spelling: workspaces,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: workspaces,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4027,spelling: wait group,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: wait group,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4028,spelling: useful,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: useful,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4029,spelling: temporary,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: temporary,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4030,spelling: precedence,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: precedence,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4031,spelling: meta framework,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: meta framework,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4032,spelling: marshall,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: marshall,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4033,spelling: marshal,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: marshal,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4034,spelling: manager,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: manager,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4035,spelling: hashable,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: hashable,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4036,spelling: execution,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: execution,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4037,spelling: exclude,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: exclude,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4038,spelling: escaped,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: escaped,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4039,spelling: delimiter,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: delimiter,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4040,spelling: backend,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: backend,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4041,spelling: accordingly,Signed-off-by: Josh Soref jsoref@users.noreply.github.com,spelling: accordingly,Signed-off-by: Josh Soref jsoref@users.noreply.github.com
4042,"Change ""Bootstrapping"" to ""Creating"" in create-turbo (#780)",,"Change ""Bootstrapping"" to ""Creating"" in create-turbo (#780)",
4043,publish 1.1.4 to registry,,publish 1.1.4 to registry,
4044,feat: throw when --scope returns an empty set (#735),Fix https://github.com/vercel/turborepo/issues/716 Fix https://github.com/vercel/turborepo/issues/653 This PR: - Makes turbo throw an error when no packages found matching the provided scope pattern - The default behaviour before was to run all packages.,feat: throw when --scope returns an empty set (#735),Fix link Fix link This PR: - Makes turbo throw an error when no packages found matching the provided scope pattern - The default behaviour before was to run all packages.
4045,publish 1.1.4-canary.2 to registry,,publish 1.1.4-canary.2 to registry,
4046,fix(cli): Fix install on node 16 on ubuntu (#778),,fix(cli): Fix install on node 16 on ubuntu (#778),
4047,Calculate local and remote time saved (#754),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Calculate local and remote time saved (#754),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4048,fix: upstream eslint-plugin-react issue causing next build and lint to fail (#779),,fix: upstream eslint-plugin-react issue causing next build and lint to fail (#779),
4049,Switch default api url to https://vercel.com/api by default (#776),,Switch default api url to link by default (#776),
4050,improvements,experiment with alternative way of visiting the graph,improvements,experiment with alternative way of visiting the graph
4051,add node-file-trace integration test,refactor into() method for creating ValueRefs improve resolving,add node-file-trace integration test,refactor into() method for creating ValueRefs improve resolving
4052,make Module an Asset,,make Module an Asset,
4053,cleanup warnings,,cleanup warnings,
4054,improve concurrently and caching,allow waiting on root task dirty,improve concurrently and caching,allow waiting on root task dirty
4055,fix race condition,put asserts behind a feature flag,fix race condition,put asserts behind a feature flag
4056,Upgrade Nextra (#760),,Upgrade Nextra (#760),
4057,publish 1.1.4-canary.1 to registry,,publish 1.1.4-canary.1 to registry,
4058,fix(run): no-cache flag (#699),Fixed the —no-cache flag.,fix(run): no-cache flag (#699),Fixed the —no-cache flag.
4059,feat: add support for JSON with comments turbo.json file (#745),Allow the turbo.json file to contain comments Makes it easier to explain the pipeline when they are quite large :) So that future @weyert and his colleagues know what's going on! Fixes #644 Co-authored-by: tapico-weyert 70971917+tapico-weyert@users.noreply.github.com,feat: add support for JSON with comments turbo.json file (#745),Allow the turbo.json file to contain comments Makes it easier to explain the pipeline when they are quite large :) So that future @weyert and his colleagues know what's going on! Fixes #644 Co-authored-by: tapico-weyert 70971917+tapico-weyert@users.noreply.github.com
4060,publish 1.1.4-canary.0 to registry,,publish 1.1.4-canary.0 to registry,
4061,Stop hitting remote cache after a few failures (#545),"Close #541  When the remote cache fails or timesout more than n times (twice at the moment), turbo will cease trying to hit the remote cache. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com",Stop hitting remote cache after a few failures (#545),"Close #541  When the remote cache fails or timesout more than n times (twice at the moment), turbo will cease trying to hit the remote cache. Co-authored-by: Greg Soltis 418301+gsoltis@users.noreply.github.com"
4062,Fix troubleshooting links,,Fix troubleshooting links,
4063,performance,,performance,
4064,Add new tweet to homepage,,Add new tweet to homepage,
4065,bugfixes and performance,,bugfixes and performance,
4066,Start splitting the Run command up (#752),"This PR makes a few changes to Run. The intention is to separate out a few distinct pieces:  * The complete graph, inferred from the the filesystem and pipeline configuration. This should be reusable across multiple runs on the same filesystem / pipeline  * Run specific configuration: what tasks to run, whether to include dependencies, etc.  * The mechanics of how to execute the run. In parallel? Cache the output? etc. Review note: it may be easier to go commit by commit.",Start splitting the Run command up (#752),"This PR makes a few changes to Run. The intention is to separate out a few distinct pieces:  * The complete graph, inferred from the the filesystem and pipeline configuration. This should be reusable across multiple runs on the same filesystem / pipeline  * Run specific configuration: what tasks to run, whether to include dependencies, etc.  * The mechanics of how to execute the run. In parallel? Cache the output? etc. Review note: it may be easier to go commit by commit."
4067,add basic resolver,,add basic resolver,
4068,Add troubleshooting docs. (#734),,Add troubleshooting docs. (#734),
4069,schedule key needs to point to an array of crons (#753),Fixing a yaml type error.,schedule key needs to point to an array of crons (#753),Fixing a yaml type error.
4070,publish 1.1.3 to registry,,publish 1.1.3 to registry,
4071,analyse import() and require(),,analyse import() and require(),
4072,allow ValueRef impl to have trubo functions,,allow ValueRef impl to have trubo functions,
4073,fix: only passthrough args to primary tasks (#739),closes #733,fix: only passthrough args to primary tasks (#739),closes #733
4074,make functions sync,get rid of async-trait,make functions sync,get rid of async-trait
4075,Second try with benchmarking (#751)," Runs on cron (midnight UTC), not on PRs Does not comment anywhere. Data is accumulated on gh-pages branch",Second try with benchmarking (#751),"Runs on cron (midnight UTC), not on PRs Does not comment anywhere. Data is accumulated on gh-pages branch"
4076,Fix turbo.json schema generation,,Fix turbo.json schema generation,
4077,Minify generated schema.json (#726),I added --minify option to ts-json-schema-generator because some of my schemas have gotten bigger. I've just enabled it here too :),Minify generated schema.json (#726),I added --minify option to ts-json-schema-generator because some of my schemas have gotten bigger. I've just enabled it here too :)
4078,Update ci-go.yml,,Update ci-go.yml,
4079,Disable Benchmark workflow (#748),,Disable Benchmark workflow (#748),
4080,Fix alt tag,,Fix alt tag,
4081,Update showcase,,Update showcase,
4082,Don't run build & test on changes to the docs (#737),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Don't run build & test on changes to the docs (#737),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4083,"start turbo-pack, integrate SWC, add demo",,"start turbo-pack, integrate SWC, add demo",
4084,refactoring cleanup,,refactoring cleanup,
4085,refactoring part 5,,refactoring part 5,
4086,Large Monorepo Benchmark (#740),"Runs a set of benchmarks against a large monorepo example.  Benchmarks include:  * A clean, zero-state build* of the monorepo  * Building the unchanged monorepo with a full cache  * Building the monorepo with a source code edit on top of a previously-built cache  * Building the monorepo with a dependency graph edit on top of a previously-build cache *: Note that we only do this once, and with concurrency set to 1. A full concurrent build currently OOMs",Large Monorepo Benchmark (#740),"Runs a set of benchmarks against a large monorepo example.  Benchmarks include:  * A clean, zero-state build of the monorepo  * Building the unchanged monorepo with a full cache  * Building the monorepo with a source code edit on top of a previously-built cache  * Building the monorepo with a dependency graph edit on top of a previously-build cache : Note that we only do this once, and with concurrency set to 1. A full concurrent build currently OOMs"
4087,refactoring part 4,,refactoring part 4,
4088,Fix doubling of command name in failed child process error (#744),"Fixes #729  We don't need to separately include the command in the label for a child process, exec.Command includes the command in the list of arguments.",Fix doubling of command name in failed child process error (#744),"Fixes #729  We don't need to separately include the command in the label for a child process, exec.Command includes the command in the list of arguments."
4089,docs: fix example in caching.mdx (#743),,docs: fix example in caching.mdx (#743),
4090,refactoring part 3,,refactoring part 3,
4091,refactoring part 2,,refactoring part 2,
4092,refactoring step 1,,refactoring step 1,
4093,Increased contrast on the sidebar text in darkmode (#730),Currently the sidebar text in darmode is text-gray-500 which does not contrast well against the background compared to lightmode and other text in darkmode.,Increased contrast on the sidebar text in darkmode (#730),Currently the sidebar text in darmode is text-gray-500 which does not contrast well against the background compared to lightmode and other text in darkmode.
4094,Add descriptions to MDX frontmatter (#614),Co-authored-by: Lee Robinson me@leerob.io Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add descriptions to MDX frontmatter (#614),Co-authored-by: Lee Robinson me@leerob.io Co-authored-by: Jared Palmer jared@jaredpalmer.com
4095,publish 1.1.3-canary.2 to registry,,publish 1.1.3-canary.2 to registry,
4096,feat: basic exclude for scope (#696),Add basic excluding while the --filter flag is being developed.,feat: basic exclude for scope (#696),Add basic excluding while the --filter flag is being developed.
4097,fix: typo (#724),from: you're don't often to: you don't often,fix: typo (#724),from: you're don't often to: you don't often
4098,Fix existing benchmarks (#718),"  Light tweaks to make existing benchmarks run   Only bench/turbo needs to depend on turbo. Remove bench/turbo-new, it does not work   Add back bench/turbo-new ",Fix existing benchmarks (#718),"Light tweaks to make existing benchmarks run Only bench/turbo needs to depend on turbo. Remove bench/turbo-new, it does not work Add back bench/turbo-new"
4099,Add schema.json to have a better IDE intellisense (#634),"This PR adds an schema.d.ts file with all (documented ones) properties in the turbo.json file. This way, and combining with the new npm run jsonschema script, it's possible to generate an Json schema file. I configured to the generated file be placed at docs/public/schema.json , so it can be requested from the url https://turborepo.org/schema.json. You can test how powerfull it is with in IDE autocompletion, intellisense and inline documentation. Try it out in your IDE by adding ""$schema"": ""./docs/public/schema.json""  It also updated all (that i saw :P) documentation examples to include the $schema property, this way, it will go by default for all Ctrl C/V users out there. But i still need to point out some things:  As the jsonschema (Is that even a good name?) script is going to be ran a lot, may we add ts-json-schema-generator to the devDependencies group? In the root turbo.json file, i saw an env property, but it is not documented, should i add it or it just shouldn't be there? I am not a native english speaker, even that i mostly copy pasted the tsdocs in the schema.d.ts file, it is not perfect and it probably has some typos.  That's it for now. Thanks for this amazing package!",Add schema.json to have a better IDE intellisense (#634),"This PR adds an schema.d.ts file with all (documented ones) properties in the turbo.json file. This way, and combining with the new npm run jsonschema script, it's possible to generate an Json schema file. I configured to the generated file be placed at docs/public/schema.json , so it can be requested from the url link. You can test how powerfull it is with in IDE autocompletion, intellisense and inline documentation. Try it out in your IDE by adding ""$schema"": ""./docs/public/schema.json"" It also updated all (that i saw :P) documentation examples to include the $schema property, this way, it will go by default for all Ctrl C/V users out there. But i still need to point out some things: As the jsonschema (Is that even a good name?) script is going to be ran a lot, may we add ts-json-schema-generator to the devDependencies group? In the root turbo.json file, i saw an env property, but it is not documented, should i add it or it just shouldn't be there? I am not a native english speaker, even that i mostly copy pasted the tsdocs in the schema.d.ts file, it is not perfect and it probably has some typos. That's it for now. Thanks for this amazing package!"
4100,publish 1.1.3-canary.1 to registry,,publish 1.1.3-canary.1 to registry,
4101,Fix typo in CounterButton in kitchen-sink example (#710),,Fix typo in CounterButton in kitchen-sink example (#710),
4102,Move to a packages directory (#708),Move create-turbo and turbo-codemod into a packages directory to make room for other packages that are coming. Keeping cli where it is for the time being,Move to a packages directory (#708),Move create-turbo and turbo-codemod into a packages directory to make room for other packages that are coming. Keeping cli where it is for the time being
4103,fix: stop targeting all packages with --since if no changes (#637),"Current Behavior If no changes are made to any package, --since will target all packages.  Expected Behavior If no changes are made to any package, running --since should target no packages. To Reproduce Branch off of main and attempt a build with turbo run build --since=main. Implementation Detail This PR removes the loop which populates all packages if git diff turns up empty. @jaredpalmer - let me know if this is currently intended behavior, it's unclear what the original intent of this loop was.",fix: stop targeting all packages with --since if no changes (#637),"Current Behavior If no changes are made to any package, --since will target all packages.  Expected Behavior If no changes are made to any package, running --since should target no packages. To Reproduce Branch off of main and attempt a build with turbo run build --since=main. Implementation Detail This PR removes the loop which populates all packages if git diff turns up empty. @jaredpalmer - let me know if this is currently intended behavior, it's unclear what the original intent of this loop was."
4104,Fix cache index being missing after incremental builds (#704),,Fix cache index being missing after incremental builds (#704),
4105,Rename go module to allow command line installs (#327),"The go install command doesn't like it when the go.mod file declares a different path to the module, to the actual path. e.g. $ go install github.com/vercel/turborepo/cli/cmd/turbo@latest go install: github.com/vercel/turborepo/cli/cmd/turbo@latest: github.com/vercel/turborepo/cli@v0.0.0-20211216165811-9163f2518d55: parsing go.mod:     module declares its path as: turbo             but was required as: github.com/vercel/turborepo/cli This PR renames the go module to match the path name, as go expects. This allows the turborepo CLI to be installed via go install",Rename go module to allow command line installs (#327),"The go install command doesn't like it when the go.mod file declares a different path to the module, to the actual path. e.g. $ go install github.com/vercel/turborepo/cli/cmd/turbo@latest go install: github.com/vercel/turborepo/cli/cmd/turbo@latest: github.com/vercel/turborepo/cli@v0.0.0-20211216165811-9163f2518d55: parsing go.mod:     module declares its path as: turbo             but was required as: github.com/vercel/turborepo/cli This PR renames the go module to match the path name, as go expects. This allows the turborepo CLI to be installed via go install"
4106,Fixed crash and added error message if packageManager field is invalid. (#680),"Hi. I fixed a small issue: if there is no version specified in packageManager (or just if a value is invalid), the CLI goes into panic. I have also added a friendly error message. I hope it'll make CLI a bit friendlier 🙂",Fixed crash and added error message if packageManager field is invalid. (#680),"Hi. I fixed a small issue: if there is no version specified in packageManager (or just if a value is invalid), the CLI goes into panic. I have also added a friendly error message. I hope it'll make CLI a bit friendlier 🙂"
4107,Continue de-flaking tests (#698),Bump timeout to make windows tests more likely to pass while still ensuring we are not running in sequence,Continue de-flaking tests (#698),Bump timeout to make windows tests more likely to pass while still ensuring we are not running in sequence
4108,Track child exit codes and propagate them (#697),"Track if we saw any child exit with a non-zero exit code, and use the highest one. Fixes #694",Track child exit codes and propagate them (#697),"Track if we saw any child exit with a non-zero exit code, and use the highest one. Fixes #694"
4109,make value_ref.get() async for future refactorings,,make value_ref.get() async for future refactorings,
4110,path separator normalization,,path separator normalization,
4111,invalidators for read_dir,,invalidators for read_dir,
4112,finish file watching,,finish file watching,
4113,Merge branch 'watch-mode',,Merge branch 'watch-mode',
4114,fix compile error,,fix compile error,
4115,feat: turbo bin (#561),  feat: turbo bin   fix: executable -> binary & edit description   docs: update docs   Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Greg Soltis greg.soltis@vercel.com,feat: turbo bin (#561),feat: turbo bin fix: executable -> binary & edit description docs: update docs Co-authored-by: Jared Palmer jared@jaredpalmer.com Co-authored-by: Greg Soltis greg.soltis@vercel.com
4116,chore(deps): Bump go version (#570),,chore(deps): Bump go version (#570),
4117,Make logging threadsafe (#677),"When executing over the graph, we log to stdout and stderr from multiple goroutines at once, which is technically not safe. This leads to missing newline characters, which contributes to e2e test flakiness.",Make logging threadsafe (#677),"When executing over the graph, we log to stdout and stderr from multiple goroutines at once, which is technically not safe. This leads to missing newline characters, which contributes to e2e test flakiness."
4118,wip,,wip,
4119,chore(deps-dev): bump typescript from 4.5.3 to 4.5.5 (#655),"Bumps typescript from 4.5.3 to 4.5.5. e notes Sourced from typescript's releases.  TypeScript 4.5.5 This patch release includes a number of fixes to language service crashes and assertion violations, along with improvements to JSX attribute snippets. For the complete list of fixed issues, check out the  fixed issues query for Typescript 4.5.0 (Beta). fixed issues query for Typescript 4.5.1 (RC). fixed issues query for Typescript 4.5.2 (Stable). fixed issues query for Typescript 4.5.3 (Stable). fixed issues query for Typescript 4.5.4 (Stable). fixed issues query for Typescript 4.5.5 (Stable).  Downloads are available on:  npm   raw HTML omitted  TypeScript 4.5.4 This patch release includes a fix for incorrectly offering up JSX attribute snippet completions at the beginning of a tag name. For the complete list of fixed issues, check out the  fixed issues query for Typescript 4.5.0 (Beta). fixed issues query for Typescript 4.5.1 (RC). fixed issues query for Typescript 4.5.2 (Stable). fixed issues query for Typescript 4.5.3 (Stable).   fixed issues query for Typescript 4.5.4 (Stable).    Downloads are available on:  npm NuGet package     Commits  55e13e9 Bump version to 4.5.5 and LKG c5ce170 Cherry-pick PR #47500 into release-4.5 (#47514) 8450901 Cherry-pick PR #47433 into release-4.5 (#47515) 8a8048f Rewrite logic for JSX attribute completion detection [4.5 cherry pick] (#47413) 14016a7 Cherry-pick PR #47395 into release-4.5 (#47421) 0854a93 Cherry-pick PR #47136 into release-4.5 (#47379) a5ebd53 Cherry-pick PR #47348 into release-4.5 (#47349) 1bc124e Bump version to 4.5.4 and LKG 1d4ec40 Cherry-pick PR #47096 into release-4.5 (#47105) See full diff in compare view     Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.   Dependabot commands and options   You can trigger Dependabot actions by commenting on this PR: - `@dependabot rebase` will rebase this PR - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it - `@dependabot merge` will merge this PR after your CI passes on it - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it - `@dependabot cancel merge` will cancel a previously requested merge and block automerging - `@dependabot reopen` will reopen this PR if it is closed - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)  ",chore(deps-dev): bump typescript from 4.5.3 to 4.5.5 (#655),"Bumps typescript from 4.5.3 to 4.5.5. e notes Sourced from typescript's releases. TypeScript 4.5.5 This patch release includes a number of fixes to language service crashes and assertion violations, along with improvements to JSX attribute snippets. For the complete list of fixed issues, check out the fixed issues query for Typescript 4.5.0 (Beta). fixed issues query for Typescript 4.5.1 (RC). fixed issues query for Typescript 4.5.2 (Stable). fixed issues query for Typescript 4.5.3 (Stable). fixed issues query for Typescript 4.5.4 (Stable). fixed issues query for Typescript 4.5.5 (Stable). Downloads are available on: npm raw HTML omitted  TypeScript 4.5.4 This patch release includes a fix for incorrectly offering up JSX attribute snippet completions at the beginning of a tag name. For the complete list of fixed issues, check out the fixed issues query for Typescript 4.5.0 (Beta). fixed issues query for Typescript 4.5.1 (RC). fixed issues query for Typescript 4.5.2 (Stable). fixed issues query for Typescript 4.5.3 (Stable). fixed issues query for Typescript 4.5.4 (Stable). Downloads are available on: npm NuGet package Commits 55e13e9 Bump version to 4.5.5 and LKG c5ce170 Cherry-pick PR #47500 into release-4.5 (#47514) 8450901 Cherry-pick PR #47433 into release-4.5 (#47515) 8a8048f Rewrite logic for JSX attribute completion detection [4.5 cherry pick] (#47413) 14016a7 Cherry-pick PR #47395 into release-4.5 (#47421) 0854a93 Cherry-pick PR #47136 into release-4.5 (#47379) a5ebd53 Cherry-pick PR #47348 into release-4.5 (#47349) 1bc124e Bump version to 4.5.4 and LKG 1d4ec40 Cherry-pick PR #47096 into release-4.5 (#47105) See full diff in compare view Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR: - module will rebase this PR - module will recreate this PR, overwriting any edits that have been made to it - module will merge this PR after your CI passes on it - module will squash and merge this PR after your CI passes on it - module will cancel a previously requested merge and block automerging - module will reopen this PR if it is closed - module will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually - module will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself) - module will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)"
4120,Update CODEOWNERS,,Update CODEOWNERS,
4121,wip,,wip,
4122,fix trait function name,,fix trait function name,
4123,fix warnings,,fix warnings,
4124,refactor to build a module graph first and copy as second step,,refactor to build a module graph first and copy as second step,
4125,wip,,wip,
4126,wip,,wip,
4127,wip,,wip,
4128,very simple tracing demo,,very simple tracing demo,
4129,publish 1.1.3-canary.0 to registry,,publish 1.1.3-canary.0 to registry,
4130,Improve child process management (#663),,Improve child process management (#663),
4131,chore(deps): bump @headlessui/react from 1.4.2 to 1.4.3 (#656),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,chore(deps): bump @headlessui/react from 1.4.2 to 1.4.3 (#656),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
4132,chore(deps): bump next from 12.0.8 to 12.0.9 (#668),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump next from 12.0.8 to 12.0.9 (#668),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com
4133,chore(deps-dev): bump eslint-config-next from 12.0.4 to 12.0.10 (#657),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com,chore(deps-dev): bump eslint-config-next from 12.0.4 to 12.0.10 (#657),Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com
4134,cleanup,,cleanup,
4135,trace and visualize nested node refs,,trace and visualize nested node refs,
4136,refactoring for previous node reuse,,refactoring for previous node reuse,
4137,visualize executions,,visualize executions,
4138,Fix meta.json,,Fix meta.json,
4139,Fix indent,,Fix indent,
4140,more visualization and demo improvements,,more visualization and demo improvements,
4141,Add blog post for v1.1 (#635),Co-authored-by: Lee Robinson me@leerob.io,Add blog post for v1.1 (#635),Co-authored-by: Lee Robinson me@leerob.io
4142,publish 1.1.2 to registry,,publish 1.1.2 to registry,
4143,improve visualization,,improve visualization,
4144,basic visualization,,basic visualization,
4145,fix: copy turbo.json when running turbo prune (#633),,fix: copy turbo.json when running turbo prune (#633),
4146,"fixes, add fs demo",,"fixes, add fs demo",
4147,warning cleanup,,warning cleanup,
4148,add initial trait support,not fully working yet...,add initial trait support,not fully working yet...
4149,fix missing PartialEq,,fix missing PartialEq,
4150,Newer versions of OSX use port 5000 by default for Airplay (#627),See this StackOverflow question for details. Moving to a new port will make running yarn dev work for the kitchen-sink example.,Newer versions of OSX use port 5000 by default for Airplay (#627),See this StackOverflow question for details. Moving to a new port will make running yarn dev work for the kitchen-sink example.
4151,add turbo-tasks-fs,,add turbo-tasks-fs,
4152,generalize,,generalize,
4153,publish 1.1.1 to registry,,publish 1.1.1 to registry,
4154,Add back npm to run-exampes.sh (#626),,Add back npm to run-exampes.sh (#626),
4155,remove verbose output,,remove verbose output,
4156,handle edge case in interning,,handle edge case in interning,
4157,implement rescheduling of dirty requested task,extend example with another struct,implement rescheduling of dirty requested task,extend example with another struct
4158,Fix @turbo/codemod help text (#625),,Fix @turbo/codemod help text (#625),
4159,publish 1.1.0 to registry,,publish 1.1.0 to registry,
4160,Support --print in turbo/codemod turbo-json,,Support --print in turbo/codemod turbo-json,
4161,Clean up turbo-codemod creat-turbo-config,,Clean up turbo-codemod creat-turbo-config,
4162,Move kodiak out of root,,Move kodiak out of root,
4163,Finish docs move to turbo.json (#622),,Finish docs move to turbo.json (#622),
4164,Set packageManager in create-turbo before install (#621),,Set packageManager in create-turbo before install (#621),
4165,Add @types/node to examples and template (#623),,Add @types/node to examples and template (#623),
4166,Bump next.js to 12.0.8,,Bump next.js to 12.0.8,
4167,Set correct version for @turbo/codemod,,Set correct version for @turbo/codemod,
4168,refactor to use NodeRef smart pointer,which has Eq and Hash for caching,refactor to use NodeRef smart pointer,which has Eq and Hash for caching
4169,add code generation for functions,,add code generation for functions,
4170,ci: move tags binding to the script,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: move tags binding to the script,Signed-off-by: Artur Troian troian.ap@gmail.com
4171,complete code generation for values,,complete code generation for values,
4172,publish 1.1.0-canary.3 to registry,,publish 1.1.0-canary.3 to registry,
4173,Update makefile for @turbo/codemod,,Update makefile for @turbo/codemod,
4174,Migrate root turbo config from package.json to turbo.json (#606),,Migrate root turbo config from package.json to turbo.json (#606),
4175,ci: fix reference of wrong login credentials to dockerhub,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: fix reference of wrong login credentials to dockerhub,Signed-off-by: Artur Troian troian.ap@gmail.com
4176,ci: fix copy-paste in GITHUB_TOKEN,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: fix copy-paste in GITHUB_TOKEN,Signed-off-by: Artur Troian troian.ap@gmail.com
4177,ci: pull username from repository_owner,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: pull username from repository_owner,Signed-off-by: Artur Troian troian.ap@gmail.com
4178,refactor: migrate repo to goreleaser/goreleaser-cross,Signed-off-by: Artur Troian troian.ap@gmail.com,refactor: migrate repo to goreleaser/goreleaser-cross,Signed-off-by: Artur Troian troian.ap@gmail.com
4179,docs: Bump nextra to fix search (#616),Co-authored-by: Shu Ding g@shud.in,docs: Bump nextra to fix search (#616),Co-authored-by: Shu Ding g@shud.in
4180,Add more actionable e2e assertions (#551),,Add more actionable e2e assertions (#551),
4181,Revert nextra patch,,Revert nextra patch,
4182,See if dot is preventing caching on vercel,,See if dot is preventing caching on vercel,
4183,Cosmetic change,,Cosmetic change,
4184,Cosmetic change,,Cosmetic change,
4185,docs: Incorporate some upstream features of nextra-theme-docs (#613),,docs: Incorporate some upstream features of nextra-theme-docs (#613),
4186,add demo code,,add demo code,
4187,initial macro work,,initial macro work,
4188,Upgrade docs with better search (#599),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Upgrade docs with better search (#599),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4189,code organization,,code organization,
4190,code organization,,code organization,
4191,Start on some contributing notes and tools (#605), Added a bare-bones CONTRIBUTING.md (will update as I come across more). Added a launch.json to get a basic debugging setup in VS Code,Start on some contributing notes and tools (#605),Added a bare-bones CONTRIBUTING.md (will update as I come across more). Added a launch.json to get a basic debugging setup in VS Code
4192,docs: consolidate install commands (#604),"This PR aims to consolidate install commands across package manager examples to use the shorthand syntax. While pnpm's docs are confusing for workspace root installs, it accepts a capital W as the workspace-root flag ```  pnpm add -h  ... -w, --workspace-root                Run the command on the root workspace project ```",docs: consolidate install commands (#604),"This PR aims to consolidate install commands across package manager examples to use the shorthand syntax. While pnpm's docs are confusing for workspace root installs, it accepts a capital W as the workspace-root flag ``` pnpm add -h ... -w, --workspace-root                Run the command on the root workspace project ```"
4193,publish 1.1.0-canary.2 to registry,,publish 1.1.0-canary.2 to registry,
4194,Initial commit,,Initial commit,
4195,fix: cached symlinks causing cache misses (#491),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: cached symlinks causing cache misses (#491),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4196,fix: goreleaser update v1.3.1,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: goreleaser update v1.3.1,Signed-off-by: Artur Troian troian.ap@gmail.com
4197,fix: run examples (#583),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: run examples (#583),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4198,fix: conditionally set arch when installing hyperfine (#584),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: conditionally set arch when installing hyperfine (#584),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4199,"docs(typo): corrects ""sepecify"" (#585)",,"docs(typo): corrects ""sepecify"" (#585)",
4200,fix: stop ignoring package.json (#581),,fix: stop ignoring package.json (#581),
4201,Fix e2e example check (#580),,Fix e2e example check (#580),
4202,fix: warn when no packageManager (#579),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: warn when no packageManager (#579),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4203,Add @turbo/codemod package (#556),,Add @turbo/codemod package (#556),
4204,chore: fixed typo on ancestralHash (#578),,chore: fixed typo on ancestralHash (#578),
4205,fix: handle dead symlinks in walk (#569),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: handle dead symlinks in walk (#569),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4206,publish 1.1.0-canary.1 to registry,,publish 1.1.0-canary.1 to registry,
4207,Fix syml/yaml lockfile indentation in turbo prune (#574),,Fix syml/yaml lockfile indentation in turbo prune (#574),
4208,publish 1.1.0-canary.0 to registry,,publish 1.1.0-canary.0 to registry,
4209,docs(configuration): fix commas in JSON (#568),,docs(configuration): fix commas in JSON (#568),
4210,Remove yarn v2/v3 from docs until released,,Remove yarn v2/v3 from docs until released,
4211,Mirror latest version,,Mirror latest version,
4212,Update next-env.d.ts in templates,,Update next-env.d.ts in templates,
4213,Fix channel closing on errors (#557),,Fix channel closing on errors (#557),
4214,"Add yarn berry node_modules linker, CRLF/LF, and update prune (#544)",Co-authored-by: Jared Palmer jared@jaredpalmer.com,"Add yarn berry node_modules linker, CRLF/LF, and update prune (#544)",Co-authored-by: Jared Palmer jared@jaredpalmer.com
4215,Add LICENSE file to create-turbo,,Add LICENSE file to create-turbo,
4216,Fix env var name,,Fix env var name,
4217,publish 1.0.26 to registry,,publish 1.0.26 to registry,
4218,fix a typo in hashable env pairs array name (#547),,fix a typo in hashable env pairs array name (#547),
4219,feat: build base image into own package,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: build base image into own package,Signed-off-by: Artur Troian troian.ap@gmail.com
4220,publish 1.0.25 to registry,,publish 1.0.25 to registry,
4221,publish 1.0.25-canary.1 to registry,,publish 1.0.25-canary.1 to registry,
4222,fix: error when workspaces are not defined (#472),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: error when workspaces are not defined (#472),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4223,Hash env vars (#495),,Hash env vars (#495),
4224,Enabled root path in vercel.json,,Enabled root path in vercel.json,
4225,QoL changes for using examples (#518),Co-authored-by: Jared Palmer jared@jaredpalmer.com,QoL changes for using examples (#518),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4226,Merge branch 'main' of https://github.com/vercel/turborepo,,Merge branch 'main' of link,
4227,Move kodiak to root?,,Move kodiak to root?,
4228,fix: Move runOptions stream checks before the for loop to prevent cpu load (#529),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: Move runOptions stream checks before the for loop to prevent cpu load (#529),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4229,Update .kodiak.toml,,Update .kodiak.toml,
4230,fix: treat symlink directory as directory (#532),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: treat symlink directory as directory (#532),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4231,fix: pnpx command is deprecated in version 6.x (#486),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: pnpx command is deprecated in version 6.x (#486),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4232,feat: go1.17.6,goreleaser v1.2.5 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.17.6,goreleaser v1.2.5 Signed-off-by: Artur Troian troian.ap@gmail.com
4233,Add rush to docs,,Add rush to docs,
4234,docs: add privacy / security questions to faq (#522),,docs: add privacy / security questions to faq (#522),
4235,docs: add missing flag for pnpm install command (#520),,docs: add missing flag for pnpm install command (#520),
4236,Add screenshot,,Add screenshot,
4237,Add .store to .gitignore,,Add .store to .gitignore,
4238,docs: Papercuts (#513),,docs: Papercuts (#513),
4239,Fix discord link in footer,,Fix discord link in footer,
4240,docs: Fix gap on open mobile nav with banner (#507),,docs: Fix gap on open mobile nav with banner (#507),
4241,Update discord link,,Update discord link,
4242,Bump @types/jest from 27.0.3 to 27.4.0 (#476),"Bumps @types/jest from 27.0.3 to 27.4.0. - Release notes - Commits  updated-dependencies: - dependency-name: ""@types/jest""   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com",Bump @types/jest from 27.0.3 to 27.4.0 (#476),"Bumps @types/jest from 27.0.3 to 27.4.0. - Release notes - Commits updated-dependencies: - dependency-name: ""@types/jest""   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com"
4243,fix: kitchen-sink test (#473),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: kitchen-sink test (#473),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4244,Bump @babel/core from 7.16.0 to 7.16.7 (#477),"Bumps @babel/core from 7.16.0 to 7.16.7. - Release notes - Changelog - Commits  updated-dependencies: - dependency-name: ""@babel/core""   dependency-type: direct:development   update-type: version-update:semver-patch ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com",Bump @babel/core from 7.16.0 to 7.16.7 (#477),"Bumps @babel/core from 7.16.0 to 7.16.7. - Release notes - Changelog - Commits updated-dependencies: - dependency-name: ""@babel/core""   dependency-type: direct:development   update-type: version-update:semver-patch ... Signed-off-by: dependabot[bot] support@github.com Co-authored-by: dependabot[bot] 49699333+dependabot[bot]@users.noreply.github.com"
4245,Remove unused PendingTaskNodes,,Remove unused PendingTaskNodes,
4246,publish 1.0.24 to registry,,publish 1.0.24 to registry,
4247,docs: monroepo to monorepo typo (#469),,docs: monroepo to monorepo typo (#469),
4248,hotfix: upgrade guide,,hotfix: upgrade guide,
4249,publish 1.0.24-canary.2 to registry,,publish 1.0.24-canary.2 to registry,
4250,Fix long-running log output,,Fix long-running log output,
4251,publish 1.0.24-canary.1 to registry,,publish 1.0.24-canary.1 to registry,
4252,Refactor log streaming (#462),,Refactor log streaming (#462),
4253,docs: Fix dag diagram (#459),,docs: Fix dag diagram (#459),
4254,publish 1.0.24-canary.0 to registry,,publish 1.0.24-canary.0 to registry,
4255,docs: fix typo in migrate-from-lerna.mdx (#457),,docs: fix typo in migrate-from-lerna.mdx (#457),
4256,docs: Prefer --include-dependencies (#450),Fixes the warning:  [WARNING] The --includeDependencies flag has renamed to --include-dependencies for consistency. Please use --include-dependencies instead,docs: Prefer --include-dependencies (#450),Fixes the warning: [WARNING] The --includeDependencies flag has renamed to --include-dependencies for consistency. Please use --include-dependencies instead
4257,Merge stderr before stdout (#296),,Merge stderr before stdout (#296),
4258,drain body to prevent potential connection thrashing (#433),Co-authored-by: Jared Palmer jared@jaredpalmer.com,drain body to prevent potential connection thrashing (#433),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4259,chore: sync the versions of eslint to the same 7.32.0 version (#435),Co-authored-by: Weyert de Boer weyert@innerfuse.biz,chore: sync the versions of eslint to the same 7.32.0 version (#435),Co-authored-by: Weyert de Boer weyert@innerfuse.biz
4260,Fix yarn lockfile parsing on Windows (#434),  Add cross-env script for building on windows with CGO   Fix windows yarn lockfile parsing!!   Fix slipped key . ,Fix yarn lockfile parsing on Windows (#434),Add cross-env script for building on windows with CGO Fix windows yarn lockfile parsing!! Fix slipped key .
4261,Add bash scripts to test all examples (#432),,Add bash scripts to test all examples (#432),
4262,chore: Update devcontainer (#431),,chore: Update devcontainer (#431),
4263,examples: bump next package version (#424),,examples: bump next package version (#424),
4264,Enable pnpm starter (#423),,Enable pnpm starter (#423),
4265,publish 1.0.23 to registry,,publish 1.0.23 to registry,
4266,Add new string filter abstraction and more e2e tests (#421),,Add new string filter abstraction and more e2e tests (#421),
4267,Set env on the whole job,,Set env on the whole job,
4268,publish 1.0.22 to registry,,publish 1.0.22 to registry,
4269,Fix regression in internal dep hashing (#420),,Fix regression in internal dep hashing (#420),
4270,Turn off no-html-link-for-pages eslint rule causing false warning (#419),,Turn off no-html-link-for-pages eslint rule causing false warning (#419),
4271,"Use ""node"" module resolution by default for all tsconfigs (#416)",Co-authored-by: Jared Palmer jared@jaredpalmer.com,"Use ""node"" module resolution by default for all tsconfigs (#416)",Co-authored-by: Jared Palmer jared@jaredpalmer.com
4272,Update -bug_report.yml,,Update -bug_report.yml,
4273,Update -bug_report.yml,,Update -bug_report.yml,
4274,Clean up examples usage of react,,Clean up examples usage of react,
4275,examples: Inject react runtime for ui package (#371),Co-authored-by: Jared Palmer jared@jaredpalmer.com,examples: Inject react runtime for ui package (#371),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4276,Merge pull request #412 from vercel:feat/more-platforms,Add more platforms,Merge pull request #412 from vercel:feat/more-platforms,Add more platforms
4277,Update getting started,,Update getting started,
4278,Add more platforms,,Add more platforms,
4279,Add support for Android arm64 architecture (#391),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add support for Android arm64 architecture (#391),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4280,publish 1.0.21 to registry,,publish 1.0.21 to registry,
4281,publish 1.0.21-canary.2 to registry,,publish 1.0.21-canary.2 to registry,
4282,Set preferUnplugged in all optionalDependencies (#410),,Set preferUnplugged in all optionalDependencies (#410),
4283,publish 1.0.21-canary.1 to registry,,publish 1.0.21-canary.1 to registry,
4284,Cosmetic change,,Cosmetic change,
4285,publish 1.0.21-canary.0 to registry,,publish 1.0.21-canary.0 to registry,
4286,Export downloadedBinPath in turbo postinstall (#409),,Export downloadedBinPath in turbo postinstall (#409),
4287,publish 1.0.20 to registry,,publish 1.0.20 to registry,
4288,publish 1.0.20-canary.2 to registry,,publish 1.0.20-canary.2 to registry,
4289,Update postinstall script to use optionalDependencies (#405),,Update postinstall script to use optionalDependencies (#405),
4290,"Revert ""fix: preserve file permission (#362)""",This reverts commit 67e64ab78a02325c9c6b9cadfe43a4cf569f723e.,"Revert ""fix: preserve file permission (#362)""",This reverts commit 67e64ab78a02325c9c6b9cadfe43a4cf569f723e.
4291,publish 1.0.20-canary.1 to registry,,publish 1.0.20-canary.1 to registry,
4292,fix: preserve file permission (#362),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix: preserve file permission (#362),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4293,docs: Update npmClient with pnpm option in documentation (#393),,docs: Update npmClient with pnpm option in documentation (#393),
4294,docs: fix turborepo name (#382),Fix type of the product name :),docs: fix turborepo name (#382),Fix type of the product name :)
4295,docs: fix eric's last name,,docs: fix eric's last name,
4296,Add acknowledgements and callouts to docs (#373),,Add acknowledgements and callouts to docs (#373),
4297,docs(guides): give appropriate attribution to Microsoft Lage (#370),,docs(guides): give appropriate attribution to Microsoft Lage (#370),
4298,publish 1.0.20-canary.0 to registry,,publish 1.0.20-canary.0 to registry,
4299,Fix internal dep hashing (#358),,Fix internal dep hashing (#358),
4300,Papercuts in context.go (#354),,Papercuts in context.go (#354),
4301,Fix flaky getTargetsFromArgs tests (#356),,Fix flaky getTargetsFromArgs tests (#356),
4302,publish 1.0.19 to registry,,publish 1.0.19 to registry,
4303,Fix pass thru arguments from becoming targets (#351),,Fix pass thru arguments from becoming targets (#351),
4304,publish 1.0.18 to registry,,publish 1.0.18 to registry,
4305,"docs(language): removes ""simply"" to be more inclusive (#342)",Co-authored-by: Jared Palmer jared@jaredpalmer.com,"docs(language): removes ""simply"" to be more inclusive (#342)",Co-authored-by: Jared Palmer jared@jaredpalmer.com
4306,Add support for --graph=file.html (#329),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add support for --graph=file.html (#329),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4307,Fix empty outputs behavior (#347),,Fix empty outputs behavior (#347),
4308,publish 1.0.17 to registry,,publish 1.0.17 to registry,
4309,Correctly hash empty outputs first (#341),,Correctly hash empty outputs first (#341),
4310,publish 1.0.16 to registry,,publish 1.0.16 to registry,
4311,Faster globbing (#335),,Faster globbing (#335),
4312,Set user agent on GET (#332),,Set user agent on GET (#332),
4313,publish 1.0.15 to registry,,publish 1.0.15 to registry,
4314,Fix doublestar workspace bug (#310),,Fix doublestar workspace bug (#310),
4315,fix(docs): fix title indent (#323),Co-authored-by: Jared Palmer jared@jaredpalmer.com,fix(docs): fix title indent (#323),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4316,Switch up discord link,,Switch up discord link,
4317,Docs debug flags #229 (#319),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Docs debug flags #229 (#319),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4318,publish 1.0.14 to registry,,publish 1.0.14 to registry,
4319,Merge pull request #324 from vercel:fix/examples-ui-ts,Fix create-turbo ui typescript to support dynamic imports,Merge pull request #324 from vercel:fix/examples-ui-ts,Fix create-turbo ui typescript to support dynamic imports
4320,Add lint step to create-turbo,,Add lint step to create-turbo,
4321,Internal fix eslint vscode settings,,Internal fix eslint vscode settings,
4322,Clean up examples,,Clean up examples,
4323,Fix eslint-preset,,Fix eslint-preset,
4324,Fix ui tsconfig,,Fix ui tsconfig,
4325,Fix pnpm example,,Fix pnpm example,
4326,Fix more examples,,Fix more examples,
4327,Fix pnpm example,,Fix pnpm example,
4328,Add nodemon to api in kitchen sink (#316),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add nodemon to api in kitchen sink (#316),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4329,Update README.md (#312),Fix typo,Update README.md (#312),Fix typo
4330,publish 1.0.13 to registry,,publish 1.0.13 to registry,
4331,Remove unused zlib dependency (#308),,Remove unused zlib dependency (#308),
4332,Allow barrel files in ui starter packages (#305),,Allow barrel files in ui starter packages (#305),
4333,publish 1.0.12 to registry,,publish 1.0.12 to registry,
4334,chore: removes dup base.json file from package files export (#297),Co-authored-by: Jared Palmer jared@jaredpalmer.com,chore: removes dup base.json file from package files export (#297),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4335,Improve create-turbo instructions (#276),,Improve create-turbo instructions (#276),
4336,fix(docs): update playwright link (#294),,fix(docs): update playwright link (#294),
4337,Add clean to turbo pipeline in design system example (#291),,Add clean to turbo pipeline in design system example (#291),
4338,Update README.md,,Update README.md,
4339,Update README.md,,Update README.md,
4340,publish 1.0.11 to registry,,publish 1.0.11 to registry,
4341,Fix link when user has no name (#280),,Fix link when user has no name (#280),
4342,publish 1.0.10 to registry,,publish 1.0.10 to registry,
4343,CLI papercuts (#277),,CLI papercuts (#277),
4344,Add design system example (#269),,Add design system example (#269),
4345,Support yarn not installed in create-turbo (#255),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Support yarn not installed in create-turbo (#255),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4346,docs: Fix docs' typos (#273),Co-authored-by: Jared Palmer jared@jaredpalmer.com,docs: Fix docs' typos (#273),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4347,docs: Set timeout before closing search (#274),,docs: Set timeout before closing search (#274),
4348,Fix licensing in kitchen sink example,,Fix licensing in kitchen sink example,
4349,Fix eslint-preset in basic example,,Fix eslint-preset in basic example,
4350,feat(go): upgrade to v1.17.5,Signed-off-by: Artur Troian troian.ap@gmail.com,feat(go): upgrade to v1.17.5,Signed-off-by: Artur Troian troian.ap@gmail.com
4351,Add more customer testimonials from Twitter. (#254),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Add more customer testimonials from Twitter. (#254),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4352,publish 1.0.9 to registry,,publish 1.0.9 to registry,
4353,Upgrade actions/setup-node to 2.5.x (#250),,Upgrade actions/setup-node to 2.5.x (#250),
4354,Remove pnpm from engines template for now,,Remove pnpm from engines template for now,
4355,publish 1.0.8 to registry,,publish 1.0.8 to registry,
4356,Remove fmt.Println in ReadLockfile,,Remove fmt.Println in ReadLockfile,
4357,Setup remote caching on our own GH Actions (#249),,Setup remote caching on our own GH Actions (#249),
4358,Fix remote cache config detection to support just slug (#248),,Fix remote cache config detection to support just slug (#248),
4359,Increase timeout,,Increase timeout,
4360,Refactor examples folder layout to match starters (#246),,Refactor examples folder layout to match starters (#246),
4361,Add root turbo commands to basic example (#245),,Add root turbo commands to basic example (#245),
4362,Docs papercuts (#240),,Docs papercuts (#240),
4363,Fix homepage images (#238),,Fix homepage images (#238),
4364,"chore: bump TS, Next, and fix warnings and peer deps (#231)",,"chore: bump TS, Next, and fix warnings and peer deps (#231)",
4365,Merge pull request #234 from vercel:chore/auto-merge-label,Better Kodiak settings,Merge pull request #234 from vercel:chore/auto-merge-label,Better Kodiak settings
4366,Better Kodiak settings,,Better Kodiak settings,
4367,publish 1.0.7 to registry,,publish 1.0.7 to registry,
4368,Add codeowners (#232),,Add codeowners (#232),
4369,"Fix error when passing --api, --url, --heap, --cpuprofile, --trace, --no-gc flags (#233)",,"Fix error when passing --api, --url, --heap, --cpuprofile, --trace, --no-gc flags (#233)",
4370,chore: add kodiak for automation,,chore: add kodiak for automation,
4371,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4372,Remove yarn.lock,,Remove yarn.lock,
4373,Added explanation for where to acquire a turbo token (#228),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Added explanation for where to acquire a turbo token (#228),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4374,Remove WriteFile and move it into CopyFile (#204),Co-authored-by: Jared Palmer jared@jaredpalmer.com,Remove WriteFile and move it into CopyFile (#204),Co-authored-by: Jared Palmer jared@jaredpalmer.com
4375,"add engine requirements to create-turbo/package.json, fix examples/with-pnpm (#199)","  update docs about engine versions, create npmrc   revert docs   add pnpm engine version in create-turbo   fix with-turbo example package.json ","add engine requirements to create-turbo/package.json, fix examples/with-pnpm (#199)","update docs about engine versions, create npmrc revert docs add pnpm engine version in create-turbo fix with-turbo example package.json"
4376,Improved success output for create-turbo (#222),  improve success output for create-turbo within current directory   update docs link in create-turbo success output   check projectDirIsCurrentDir for success output log ,Improved success output for create-turbo (#222),improve success output for create-turbo within current directory update docs link in create-turbo success output check projectDirIsCurrentDir for success output log
4377,Update readme to point to GitHub Discussions,,Update readme to point to GitHub Discussions,
4378,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4379,Remove unused gh-packages workflow,,Remove unused gh-packages workflow,
4380,Redirect /docs/changelog to GitHub releases (#220),,Redirect /docs/changelog to GitHub releases (#220),
4381,Make examples plural,,Make examples plural,
4382,Make sure test runs after build now,,Make sure test runs after build now,
4383,Clean up package.jsons,,Clean up package.jsons,
4384,Setup yarn cache by hand,,Setup yarn cache by hand,
4385,Re-arrange order of ci.yaml,,Re-arrange order of ci.yaml,
4386,Install and cache node_modules in github actions,,Install and cache node_modules in github actions,
4387,Merge pull request #216 from seanyusa/create-turbo-tests,,Merge pull request #216 from seanyusa/create-turbo-tests,
4388,Update ci-go.yml,,Update ci-go.yml,
4389,Update ci-go.yml,,Update ci-go.yml,
4390,fix guides the user through the process async test,,fix guides the user through the process async test,
4391,ability to successfully run create-turbo tests,,ability to successfully run create-turbo tests,
4392,Update package.json,,Update package.json,
4393,Update package.json,,Update package.json,
4394,Update package.json,,Update package.json,
4395,Merge pull request #212 from seanyusa/seanyusa/current-dir-fix,Fix initiating a project within the current directory,Merge pull request #212 from seanyusa/seanyusa/current-dir-fix,Fix initiating a project within the current directory
4396,fix: use full projectDir for chdir,,fix: use full projectDir for chdir,
4397,Merge pull request #207 from coreylight/patch-1,"Kitchen sink: Update cache to boolean, not string",Merge pull request #207 from coreylight/patch-1,"Kitchen sink: Update cache to boolean, not string"
4398,"Kitchen sink: Update cache to boolean, not string",,"Kitchen sink: Update cache to boolean, not string",
4399,chore(deps): bump sigstore/cosign-installer from 1.3.1 to 1.4.1,,chore(deps): bump sigstore/cosign-installer from 1.3.1 to 1.4.1,
4400,Merge pull request #198 from vercel/kitchen-sink,,Merge pull request #198 from vercel/kitchen-sink,
4401,Update remix for vercel,,Update remix for vercel,
4402,Merge pull request #161 from 01walid/fix-parsing-keywords-in-package-json,Fix parsing weird formats of the keywords field of some package.json files,Merge pull request #161 from 01walid/fix-parsing-keywords-in-package-json,Fix parsing weird formats of the keywords field of some package.json files
4403,Remove PackageJSON struct fields we do not use,,Remove PackageJSON struct fields we do not use,
4404,"Revert ""Fix parsing weird formats of the keywords field of some package.json files""",This reverts commit 1e9af57cb5547885dfddcdec32924eeca86d837b.,"Revert ""Fix parsing weird formats of the keywords field of some package.json files""",This reverts commit 1e9af57cb5547885dfddcdec32924eeca86d837b.
4405,Merge pull request #200 from ashfaqnisar/main,Fixed the swagger repo link in the docs,Merge pull request #200 from ashfaqnisar/main,Fixed the swagger repo link in the docs
4406,Merge pull request #202 from yangshun/yangshun/prettier-windows,Use double quotes for prettier file glob in yarn format,Merge pull request #202 from yangshun/yangshun/prettier-windows,Use double quotes for prettier file glob in yarn format
4407,Merge pull request #201 from yangshun/yangshun/spellcheck,Fix typos in docs,Merge pull request #201 from yangshun/yangshun/spellcheck,Fix typos in docs
4408,Fix typos in docs,,Fix typos in docs,
4409,Use double quotes for yarn format command,,Use double quotes for yarn format command,
4410,Updated Swagger Link,,Updated Swagger Link,
4411,Add kitchen sink example,,Add kitchen sink example,
4412,Merge pull request #196 from charkour/main,update create-turbo template gitignore pnpm,Merge pull request #196 from charkour/main,update create-turbo template gitignore pnpm
4413,update create-turbo template gitignore pnpm,,update create-turbo template gitignore pnpm,
4414,Merge pull request #193 from KarelVerschraegen/fix-wild-card-wildcard-typo,Fix wildcard typo in scopes docs,Merge pull request #193 from KarelVerschraegen/fix-wild-card-wildcard-typo,Fix wildcard typo in scopes docs
4415,Merge pull request #191 from KarelVerschraegen/fix-typo-in-forseeable,Fix forseeable typo in complimentary-tools,Merge pull request #191 from KarelVerschraegen/fix-typo-in-forseeable,Fix forseeable typo in complimentary-tools
4416,Merge pull request #192 from KarelVerschraegen/fix-setup-set-up-typo,Use the verb set up instead of the noun setup,Merge pull request #192 from KarelVerschraegen/fix-setup-set-up-typo,Use the verb set up instead of the noun setup
4417,Fix wildcard typo in scopes docs,,Fix wildcard typo in scopes docs,
4418,Use the verb set up instead of the noun setup,,Use the verb set up instead of the noun setup,
4419,Fix forseeable typo in complimentary-tools,,Fix forseeable typo in complimentary-tools,
4420,Merge pull request #189 from KarelVerschraegen/fix-overstate-typo,Fix overstate typo in command-line-reference,Merge pull request #189 from KarelVerschraegen/fix-overstate-typo,Fix overstate typo in command-line-reference
4421,Fix overstate typo in command-line-reference,,Fix overstate typo in command-line-reference,
4422,Merge pull request #188 from KarelVerschraegen/fix-typescript-casing,Use correct casing for TypeScript,Merge pull request #188 from KarelVerschraegen/fix-typescript-casing,Use correct casing for TypeScript
4423,Use correct casing for TypeScript,,Use correct casing for TypeScript,
4424,Merge pull request #186 from lidqqq/remove-not-needed-comma,"fix: remove ., which is not needed",Merge pull request #186 from lidqqq/remove-not-needed-comma,"fix: remove ., which is not needed"
4425,"fix: remove ., which is not needed",,"fix: remove ., which is not needed",
4426,Replace all caps yarn,,Replace all caps yarn,
4427,publish 1.0.6 to registry,,publish 1.0.6 to registry,
4428,Tabs and spaces lol,,Tabs and spaces lol,
4429,Add additional cluster to scheduler test,,Add additional cluster to scheduler test,
4430,Merge pull request #174 from vercel/feat/only-flag,,Merge pull request #174 from vercel/feat/only-flag,
4431,chore(deps): bump sigstore/cosign-installer from 1.3.1 to 1.4.1,Bumps sigstore/cosign-installer from 1.3.1 to 1.4.1. - Release notes - Commits  updated-dependencies: - dependency-name: sigstore/cosign-installer   dependency-type: direct:production   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com,chore(deps): bump sigstore/cosign-installer from 1.3.1 to 1.4.1,Bumps sigstore/cosign-installer from 1.3.1 to 1.4.1. - Release notes - Commits updated-dependencies: - dependency-name: sigstore/cosign-installer   dependency-type: direct:production   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com
4432,Pass runOptions.only,,Pass runOptions.only,
4433,Add support for --only flag to ease migration from lerna,,Add support for --only flag to ease migration from lerna,
4434,publish 1.0.5 to registry,,publish 1.0.5 to registry,
4435,Merge pull request #173 from vercel/fix/ui-in-templates-and-examples,,Merge pull request #173 from vercel/fix/ui-in-templates-and-examples,
4436,Fix ui dep in examples,,Fix ui dep in examples,
4437,feat: push images to dockerhub,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: push images to dockerhub,Signed-off-by: Artur Troian troian.ap@gmail.com
4438,Merge pull request #171 from mnismt/fix-docs-pipelines,"Fix: broken ""topologically"" link in pipelines docs",Merge pull request #171 from mnismt/fix-docs-pipelines,"Fix: broken ""topologically"" link in pipelines docs"
4439,fix(docs): broken topologically link,,fix(docs): broken topologically link,
4440,Merge pull request #168 from williamtetlow/patch-1,Add comma to package.json code snippet in migrate from lerna doc,Merge pull request #168 from williamtetlow/patch-1,Add comma to package.json code snippet in migrate from lerna doc
4441,Fix parsing weird formats of the keywords field of some package.json files,,Fix parsing weird formats of the keywords field of some package.json files,
4442,Add comma to package.json code snippet,,Add comma to package.json code snippet,
4443,Merge pull request #166 from ezradiniz/bugfix/internal-deps,Fix internal deps,Merge pull request #166 from ezradiniz/bugfix/internal-deps,Fix internal deps
4444,Fix internal deps,,Fix internal deps,
4445,Merge pull request #165 from mnismt/fix-with-pnpm-example,Fix: add ui package & types library in with-pnpm example,Merge pull request #165 from mnismt/fix-with-pnpm-example,Fix: add ui package & types library in with-pnpm example
4446,Merge pull request #163 from Jastor11/patch-2,[DOCS] Friendly spellcheck,Merge pull request #163 from Jastor11/patch-2,[DOCS] Friendly spellcheck
4447,Merge pull request #162 from weyert/patch-1,ci: Fix typo in issue template,Merge pull request #162 from weyert/patch-1,ci: Fix typo in issue template
4448,Merge pull request #164 from debopamgupta/patch-1,Fix Spelling Errors in create-turbo readme,Merge pull request #164 from debopamgupta/patch-1,Fix Spelling Errors in create-turbo readme
4449,Merge pull request #160 from Jastor11/patch-1,Fix typos in comments,Merge pull request #160 from Jastor11/patch-1,Fix typos in comments
4450,fix: add ui package & types lib for next.js,,fix: add ui package & types lib for next.js,
4451,Fix Spelling Errors in create-turbo readme,,Fix Spelling Errors in create-turbo readme,
4452,[DOCS] Friendly spellcheck,,[DOCS] Friendly spellcheck,
4453,ci: Fix typo in issue template,Fix the typo in the product name Turbrepo -> Turborepo,ci: Fix typo in issue template,Fix the typo in the product name Turbrepo -> Turborepo
4454,Fix typos in comments,,Fix typos in comments,
4455,Merge pull request #155 from vercel:fix/unmarshal-package,Fix packageJson struct,Merge pull request #155 from vercel:fix/unmarshal-package,Fix packageJson struct
4456,Fix packageJson struct,,Fix packageJson struct,
4457,Increase banner font size,,Increase banner font size,
4458,Put back makefile,,Put back makefile,
4459,publish 1.0.4 to registry,,publish 1.0.4 to registry,
4460,Merge pull request #151 from vercel/bump-next,,Merge pull request #151 from vercel/bump-next,
4461,Merge pull request #152 from vercel/fix/yarn-in-base-template,,Merge pull request #152 from vercel/fix/yarn-in-base-template,
4462,hotfix: fix footer cta,,hotfix: fix footer cta,
4463,hotfix: banner,,hotfix: banner,
4464,Hotfix banner,,Hotfix banner,
4465,Stop running yarn in base template,,Stop running yarn in base template,
4466,Bump next.js,,Bump next.js,
4467,publish 1.0.3 to registry,,publish 1.0.3 to registry,
4468,Merge pull request #147 from vercel/gaspar/update-login-instruction-on-link,,Merge pull request #147 from vercel/gaspar/update-login-instruction-on-link,
4469,Update login instruction on failed link to run npx turbo login,,Update login instruction on failed link to run npx turbo login,
4470,Nicer language in blog post,,Nicer language in blog post,
4471,Merge pull request #142 from vercel/update-og-image,Updated OG image,Merge pull request #142 from vercel/update-og-image,Updated OG image
4472,Updated OG image,,Updated OG image,
4473,Merge pull request #141 from vercel/fix/backticks-in-markdown,,Merge pull request #141 from vercel/fix/backticks-in-markdown,
4474,Fix templates backticks,,Fix templates backticks,
4475,Merge pull request #139 from vercel/link-to-get-started,,Merge pull request #139 from vercel/link-to-get-started,
4476,Merge pull request #140 from vercel/add-running-pipeline-example,,Merge pull request #140 from vercel/add-running-pipeline-example,
4477,Update pipelines.mdx,,Update pipelines.mdx,
4478,Add a codeblock explaining how to run a pipeline,,Add a codeblock explaining how to run a pipeline,
4479,Link directly to getting started,,Link directly to getting started,
4480,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4481,Add feature request template,,Add feature request template,
4482,Merge pull request #136 from emersonlaurentino/patch-2,,Merge pull request #136 from emersonlaurentino/patch-2,
4483,Merge pull request #138 from ThangHuuVu/main,,Merge pull request #138 from ThangHuuVu/main,
4484,Merge pull request #137 from vercel/set-user-name-fallback,,Merge pull request #137 from vercel/set-user-name-fallback,
4485,Fix Github link,,Fix Github link,
4486,Set a fallback for the user's name,,Set a fallback for the user's name,
4487,fix: remote caching link,,fix: remote caching link,
4488,publish 1.0.2 to registry,,publish 1.0.2 to registry,
4489,Merge pull request #133 from vercel/remove-yarn-from-npm-template,,Merge pull request #133 from vercel/remove-yarn-from-npm-template,
4490,Merge pull request #134 from furkandmrblk/main,,Merge pull request #134 from furkandmrblk/main,
4491,Fixed Typo,,Fixed Typo,
4492,Remove yarn from npm template scripts,,Remove yarn from npm template scripts,
4493,Merge pull request #132 from Andarist/docs/fix-changesets-references,,Merge pull request #132 from Andarist/docs/fix-changesets-references,
4494,Fix Changesets references in the docs,,Fix Changesets references in the docs,
4495,Merge pull request #130 from dokeet/patch-1,,Merge pull request #130 from dokeet/patch-1,
4496,Merge pull request #131 from cbourgois/cbourgois/fix/code-of-conduct-link,,Merge pull request #131 from cbourgois/cbourgois/fix/code-of-conduct-link,
4497,Fix typo in getting started section.,,Fix typo in getting started section.,
4498,Fix faulty CODE_OF_CONDUCT.md link,,Fix faulty CODE_OF_CONDUCT.md link,
4499,Merge pull request #129 from KATT/patch-1,,Merge pull request #129 from KATT/patch-1,
4500,Fix faulty microsoft/beachball-link,,Fix faulty microsoft/beachball-link,
4501,Docs run on port 3001 now,,Docs run on port 3001 now,
4502,Fix templates,,Fix templates,
4503,Make sure next runs on different ports in dev,,Make sure next runs on different ports in dev,
4504,Merge pull request #128 from vercel/use-latest,Use @latest everywhere npx is used,Merge pull request #128 from vercel/use-latest,Use @latest everywhere npx is used
4505,Merge pull request #127 from vercel/leerob-patch-1,,Merge pull request #127 from vercel/leerob-patch-1,
4506,Use @latest everywhere npx is used,,Use @latest everywhere npx is used,
4507,Update explanation of remote caching in Turbo CLI output,,Update explanation of remote caching in Turbo CLI output,
4508,Merge pull request #126 from dylanklohr/docs-typo,,Merge pull request #126 from dylanklohr/docs-typo,
4509,Typo: it's chaching –> its caching,,Typo: it's chaching –> its caching,
4510,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4511,publish 1.0.1 to registry,,publish 1.0.1 to registry,
4512,Merge pull request #125 from vercel/broken-links,Fixed broekn links,Merge pull request #125 from vercel/broken-links,Fixed broekn links
4513,Fixed broekn links,,Fixed broekn links,
4514,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4515,Update link in readme,,Update link in readme,
4516,Merge pull request #124 from vercel/shuding-patch-1,,Merge pull request #124 from vercel/shuding-patch-1,
4517,Update pipelines.mdx,,Update pipelines.mdx,
4518,Update og,,Update og,
4519,Tweak og:title,,Tweak og:title,
4520,Tweak title,,Tweak title,
4521,Fix docs title,,Fix docs title,
4522,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4523,Docs,,Docs,
4524,Merge pull request #123 from vercel/update-blog,,Merge pull request #123 from vercel/update-blog,
4525,Update joining blog post,,Update joining blog post,
4526,Merge pull request #122 from vercel/update-examples-readmes,,Merge pull request #122 from vercel/update-examples-readmes,
4527,Fix buttons,,Fix buttons,
4528,Added readmes to create-turbo templates,,Added readmes to create-turbo templates,
4529,Fix theme,,Fix theme,
4530,Merge pull request #121 from vercel/homepage,,Merge pull request #121 from vercel/homepage,
4531,Fix up homepage,,Fix up homepage,
4532,Updated example readmes,,Updated example readmes,
4533,More tweaks,,More tweaks,
4534,Sandbox energy,,Sandbox energy,
4535,Merge branch 'main' into homepage,,Merge branch 'main' into homepage,
4536,publish 1.0.0 to registry,,publish 1.0.0 to registry,
4537,Redirect references to turborepo/turbo,,Redirect references to turborepo/turbo,
4538,publish 0.9.0-next.22 to registry,,publish 0.9.0-next.22 to registry,
4539,Updated homepage,,Updated homepage,
4540,Update readme,,Update readme,
4541,Fix sidebar,,Fix sidebar,
4542,Update remote caching documentation,,Update remote caching documentation,
4543,New auth (#120),,New auth (#120),
4544,Close #34. Add ToS and Privacy Policy,,Close #34. Add ToS and Privacy Policy,
4545,Merge pull request #119 from vercel/leerob-patch-2,,Merge pull request #119 from vercel/leerob-patch-2,
4546,Update remote caching docs,,Update remote caching docs,
4547,publish 0.9.0-next.15 to registry,,publish 0.9.0-next.15 to registry,
4548,Rename create-turborepo to create-turbo,,Rename create-turborepo to create-turbo,
4549,Fix makefile,,Fix makefile,
4550,Make create-turbo not terrible,,Make create-turbo not terrible,
4551,Merge pull request #117 from vercel/issue-templates,,Merge pull request #117 from vercel/issue-templates,
4552,Create -bug_report.yml,,Create -bug_report.yml,
4553,issue templates +,,issue templates +,
4554,Move to create-turbo,,Move to create-turbo,
4555,publish 0.9.0-next.10 to registry,,publish 0.9.0-next.10 to registry,
4556,Fix create-turborepo script,,Fix create-turborepo script,
4557,Fix readme and makefile,,Fix readme and makefile,
4558,Merge pull request #116 from vercel/create-turbo,,Merge pull request #116 from vercel/create-turbo,
4559,Add create-turborepo package,,Add create-turborepo package,
4560,publish 0.9.0-next.4 to registry,,publish 0.9.0-next.4 to registry,
4561,Merge pull request #114 from vercel/self-compile-2,,Merge pull request #114 from vercel/self-compile-2,
4562,Remove print statement,,Remove print statement,
4563,Self-compile in CI on linux and mac,,Self-compile in CI on linux and mac,
4564,Switch go to 1.17.2,,Switch go to 1.17.2,
4565,Merge branch 'main' into self-compile-2,,Merge branch 'main' into self-compile-2,
4566,hack/workaround for now,,hack/workaround for now,
4567,Merge pull request #115 from vercel/blog,,Merge pull request #115 from vercel/blog,
4568,Specify bash as shell,,Specify bash as shell,
4569,Fix reporting logic of cached tasks,,Fix reporting logic of cached tasks,
4570,Tweak,,Tweak,
4571,Check windows in tests,,Check windows in tests,
4572,Tweak turbo.sh,,Tweak turbo.sh,
4573,Rename to .sh,,Rename to .sh,
4574,Fix blog in sidebar,,Fix blog in sidebar,
4575,Fix highlighting in blog posts,,Fix highlighting in blog posts,
4576,Add og images,,Add og images,
4577,Add missing cmd in makefile,,Add missing cmd in makefile,
4578,Fix typo,,Fix typo,
4579,Scope GitHub Actions to just cli,,Scope GitHub Actions to just cli,
4580,Run e2e test prior to smoke tests,,Run e2e test prior to smoke tests,
4581,Fix github actions,,Fix github actions,
4582,Fix gopls for go1.17.2,,Fix gopls for go1.17.2,
4583,Add  back cache,,Add  back cache,
4584,Tweak package.json,,Tweak package.json,
4585,Tweak root package.json,,Tweak root package.json,
4586,Update workflows,,Update workflows,
4587,Move go code int cli directory,,Move go code int cli directory,
4588,Add blog to nextra (hacky),,Add blog to nextra (hacky),
4589,Merge pull request #113 from vercel/comb-for-typos,Grammar and link fixes,Merge pull request #113 from vercel/comb-for-typos,Grammar and link fixes
4590,Grammar and link fixes,,Grammar and link fixes,
4591,publish 0.9.0-next.3 to registry,,publish 0.9.0-next.3 to registry,
4592,Merge pull request #109 from vercel/user-agent,,Merge pull request #109 from vercel/user-agent,
4593,More closely mirror vercel cli ua,,More closely mirror vercel cli ua,
4594,Add user-agent header with turbo version and os info,,Add user-agent header with turbo version and os info,
4595,Merge pull request #107 from vercel/utm-codes,,Merge pull request #107 from vercel/utm-codes,
4596,Update utm codes on example next.js apps,,Update utm codes on example next.js apps,
4597,Merge pull request #108 from vercel:update-env-var,Update for zero-config remote caching,Merge pull request #108 from vercel:update-env-var,Update for zero-config remote caching
4598,Update for zero-config remote caching,,Update for zero-config remote caching,
4599,Merge pull request #106 from vercel/license,,Merge pull request #106 from vercel/license,
4600,Merge branch 'main' into utm-codes,,Merge branch 'main' into utm-codes,
4601,hotfix: use sprintf in PUT header duration,,hotfix: use sprintf in PUT header duration,
4602,Add utm codes,,Add utm codes,
4603,Merge pull request #101 from vercel/fleshout-pipelines-docs,,Merge pull request #101 from vercel/fleshout-pipelines-docs,
4604,Merge pull request #99 from vercel/jp/duration-header,,Merge pull request #99 from vercel/jp/duration-header,
4605,Fixed typos,,Fixed typos,
4606,Add MPL v2.0 license,,Add MPL v2.0 license,
4607,Update getting-started.mdx,,Update getting-started.mdx,
4608,More info about outputs array,,More info about outputs array,
4609,Small copy addition,,Small copy addition,
4610,Added copy to create pipelines section of getting started guide + some small copy changes,,Added copy to create pipelines section of getting started guide + some small copy changes,
4611,Fix tsconfig in and eslint in basic,,Fix tsconfig in and eslint in basic,
4612,Merge pull request #97 from vercel/gaspar/remove-unreferenced-files-examples-basic,,Merge pull request #97 from vercel/gaspar/remove-unreferenced-files-examples-basic,
4613,Merge pull request #98 from vercel/gaspar/update-docs-typos,,Merge pull request #98 from vercel/gaspar/update-docs-typos,
4614,Fix some typos,,Fix some typos,
4615,Remove unreferenced files examples/basic,Followup to https://github.com/vercel/turborepo/commit/c78156fc9ab8c635dbea3da5d91e7dbb1f791c45,Remove unreferenced files examples/basic,Followup to link
4616,Add x-artifact-duration header to PUT,,Add x-artifact-duration header to PUT,
4617,Add back customized search bar,,Add back customized search bar,
4618,Merge pull request #95 from vercel/new-onboarding,,Merge pull request #95 from vercel/new-onboarding,
4619,Update examples,,Update examples,
4620,Merge branch 'main' into new-onboarding,,Merge branch 'main' into new-onboarding,
4621,Merge pull request #96 from vercel/new-examples-2,,Merge pull request #96 from vercel/new-examples-2,
4622,Add Yarn and PNPM examples/starter turborepos,,Add Yarn and PNPM examples/starter turborepos,
4623,feat: go v1.17.4,update goreleaser to v1.1.0 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go v1.17.4,update goreleaser to v1.1.0 Signed-off-by: Artur Troian troian.ap@gmail.com
4624,Add migration guide,,Add migration guide,
4625,Tweak get started,,Tweak get started,
4626,Moar docs,,Moar docs,
4627,Move nginx,,Move nginx,
4628,publish 0.9.0-next.2 to registry,,publish 0.9.0-next.2 to registry,
4629,Fix postinstall script,,Fix postinstall script,
4630,publish 0.9.0-next.1 to registry,,publish 0.9.0-next.1 to registry,
4631,Merge pull request #93 from vercel/fix-windows,,Merge pull request #93 from vercel/fix-windows,
4632,Fix git.ChangedFiles on windows,,Fix git.ChangedFiles on windows,
4633,Dont run term test on windows since AWS doesn't,,Dont run term test on windows since AWS doesn't,
4634,Fix cache folder on windows,,Fix cache folder on windows,
4635,Merge branch 'main' into hack-fix-windows,,Merge branch 'main' into hack-fix-windows,
4636,publish 0.9.0-next.0 to registry,,publish 0.9.0-next.0 to registry,
4637,Merge pull request #92 from vercel/publish-to-npm,,Merge pull request #92 from vercel/publish-to-npm,
4638,Update docs for public release,,Update docs for public release,
4639,Fix annotation,,Fix annotation,
4640,Add proper +build annotations,,Add proper +build annotations,
4641,Update ci,,Update ci,
4642,Fix widnows (partially),,Fix widnows (partially),
4643,Stop publishing to github registry,,Stop publishing to github registry,
4644,Remove npm proxy,,Remove npm proxy,
4645,Remove unused packages for now,,Remove unused packages for now,
4646,Merge pull request #88 from vercel/next,,Merge pull request #88 from vercel/next,
4647,Update nextra,,Update nextra,
4648,Merge pull request #85 from vercel/prep-repo-oss,,Merge pull request #85 from vercel/prep-repo-oss,
4649,Update readme and symlink it to turbo-install package,,Update readme and symlink it to turbo-install package,
4650,Add turborepo.org/discord redirect,,Add turborepo.org/discord redirect,
4651,Add security,,Add security,
4652,Add code of conduct,,Add code of conduct,
4653,Add .vscode/settings.json,,Add .vscode/settings.json,
4654,Merge pull request #84 from vercel/chore/dev-container,,Merge pull request #84 from vercel/chore/dev-container,
4655,Add devcontainer for development / codespaces,,Add devcontainer for development / codespaces,
4656,Add v0.8.5 to changelog,,Add v0.8.5 to changelog,
4657,docs(readme): add description to multiarch images,Signed-off-by: Artur Troian troian.ap@gmail.com,docs(readme): add description to multiarch images,Signed-off-by: Artur Troian troian.ap@gmail.com
4658,publish 0.8.5 to registry,,publish 0.8.5 to registry,
4659,Merge pull request #79 from vercel/last-release-before-switch,,Merge pull request #79 from vercel/last-release-before-switch,
4660,Merge branch 'next' of https://github.com/vercel/titan into next,,Merge branch 'next' of link into next,
4661,Tweak nginx config,,Tweak nginx config,
4662,Add remote caching with Vercel,,Add remote caching with Vercel,
4663,Remove --project flag,,Remove --project flag,
4664,Add error state for when the user isn't logged into Vercel,,Add error state for when the user isn't logged into Vercel,
4665,Fix error message of turbo me,,Fix error message of turbo me,
4666,Deprecate old commands,,Deprecate old commands,
4667,Basic turbo link,,Basic turbo link,
4668,Getting Started Docs update (#70),Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com,Getting Started Docs update (#70),Co-authored-by: Becca Z 23545426+becca@users.noreply.github.com Co-authored-by: Jared Palmer jared@jaredpalmer.com
4669,Merge branch 'next' into jp/vercel-cli-login,,Merge branch 'next' into jp/vercel-cli-login,
4670,Newsletter (#72),,Newsletter (#72),
4671,Get rid of husky,,Get rid of husky,
4672,Merge pull request #71 from vercel/new-footer,,Merge pull request #71 from vercel/new-footer,
4673,Add new footer on homepage,,Add new footer on homepage,
4674,Merge branch 'next' into jp/vercel-cli-login,,Merge branch 'next' into jp/vercel-cli-login,
4675,Merge pull request #53 from vercel/new-docs,,Merge pull request #53 from vercel/new-docs,
4676,Default to dark theme,,Default to dark theme,
4677,Remove stork,,Remove stork,
4678,Fix imports,,Fix imports,
4679,Update nextra,,Update nextra,
4680,Merge branch 'next' into new-docs,,Merge branch 'next' into new-docs,
4681,publish 0.8.5-next.4 to registry,,publish 0.8.5-next.4 to registry,
4682,Merge pull request #63 from vercel/fix/color-output,,Merge pull request #63 from vercel/fix/color-output,
4683,Fix printf and rainbow,,Fix printf and rainbow,
4684,feat: multiarch images,build go 1.17.3 goreleaser v0.184.0 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: multiarch images,build go 1.17.3 goreleaser v0.184.0 Signed-off-by: Artur Troian troian.ap@gmail.com
4685,publish 0.8.5-next.3 to registry,,publish 0.8.5-next.3 to registry,
4686,Fix pass thru args,,Fix pass thru args,
4687,Merge pull request #54 from vercel:pass-through-args,Allow and hash pass through CLI args,Merge pull request #54 from vercel:pass-through-args,Allow and hash pass through CLI args
4688,Hash and pass through extra cli args,,Hash and pass through extra cli args,
4689,Merge branch 'next' into pass-through-args,,Merge branch 'next' into pass-through-args,
4690,Remove pnpm filter,,Remove pnpm filter,
4691,More changes,,More changes,
4692,Fix glossary,,Fix glossary,
4693,Fix typo,,Fix typo,
4694,Homepage,,Homepage,
4695,Allow pass through args,,Allow pass through args,
4696,More tweaks,,More tweaks,
4697,Tweak docs,,Tweak docs,
4698,Run name-default-component codemod,,Run name-default-component codemod,
4699,Back to workspace,,Back to workspace,
4700,New docs,,New docs,
4701,Read from vercel's global config,,Read from vercel's global config,
4702,Change the build env,,Change the build env,
4703,Tryout the latest filesystem api,,Tryout the latest filesystem api,
4704,Update README.md,,Update README.md,
4705,Merge pull request #44 from vercel/dependabot/npm_and_yarn/next-12.0.3,,Merge pull request #44 from vercel/dependabot/npm_and_yarn/next-12.0.3,
4706,Bump next from 12.0.2 to 12.0.3,Bumps next from 12.0.2 to 12.0.3. - Release notes - Changelog - Commits  updated-dependencies: - dependency-name: next   dependency-type: direct:production   update-type: version-update:semver-patch ... Signed-off-by: dependabot[bot] support@github.com,Bump next from 12.0.2 to 12.0.3,Bumps next from 12.0.2 to 12.0.3. - Release notes - Changelog - Commits updated-dependencies: - dependency-name: next   dependency-type: direct:production   update-type: version-update:semver-patch ... Signed-off-by: dependabot[bot] support@github.com
4707,Update docs for new repo location,,Update docs for new repo location,
4708,publish 0.8.5-next.2 to registry,,publish 0.8.5-next.2 to registry,
4709,Split scheduler into Prepare and Execute,,Split scheduler into Prepare and Execute,
4710,Convert PNPM's ParseTargetSelector to Go,,Convert PNPM's ParseTargetSelector to Go,
4711,Remove parse target selector from this PR,,Remove parse target selector from this PR,
4712,Merge branch 'main' into refactor-to-pipeline,,Merge branch 'main' into refactor-to-pipeline,
4713,Merge pull request #29 from vercel/upgrade-next,,Merge pull request #29 from vercel/upgrade-next,
4714,Remove jit dependency for tailwind,,Remove jit dependency for tailwind,
4715,Upgrade next.js in docs,,Upgrade next.js in docs,
4716,publish 0.8.5-next.1 to registry,,publish 0.8.5-next.1 to registry,
4717,Merge branch 'main' into refactor-to-pipeline,,Merge branch 'main' into refactor-to-pipeline,
4718,Go back to old docs since nextra is borked,,Go back to old docs since nextra is borked,
4719,Fix race condition,,Fix race condition,
4720,Merge branch 'main' into refactor-to-pipeline,,Merge branch 'main' into refactor-to-pipeline,
4721,Add back pnpm,,Add back pnpm,
4722,Tweak default branch .git config,,Tweak default branch .git config,
4723,Tweak CI,,Tweak CI,
4724,Remove install,,Remove install,
4725,Merge pull request #25 from vercel/dependabot/npm_and_yarn/lint-staged-11.2.6,,Merge pull request #25 from vercel/dependabot/npm_and_yarn/lint-staged-11.2.6,
4726,Merge pull request #24 from vercel/dependabot/npm_and_yarn/autoprefixer-10.4.0,,Merge pull request #24 from vercel/dependabot/npm_and_yarn/autoprefixer-10.4.0,
4727,Bump lint-staged from 11.0.0 to 11.2.6,Bumps lint-staged from 11.0.0 to 11.2.6. - Release notes - Commits  updated-dependencies: - dependency-name: lint-staged   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com,Bump lint-staged from 11.0.0 to 11.2.6,Bumps lint-staged from 11.0.0 to 11.2.6. - Release notes - Commits updated-dependencies: - dependency-name: lint-staged   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com
4728,Bump autoprefixer from 10.3.7 to 10.4.0,Bumps autoprefixer from 10.3.7 to 10.4.0. - Release notes - Changelog - Commits  updated-dependencies: - dependency-name: autoprefixer   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com,Bump autoprefixer from 10.3.7 to 10.4.0,Bumps autoprefixer from 10.3.7 to 10.4.0. - Release notes - Changelog - Commits updated-dependencies: - dependency-name: autoprefixer   dependency-type: direct:development   update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] support@github.com
4729,Refactor run stream merging,,Refactor run stream merging,
4730,Rename pipeline to scheduler,,Rename pipeline to scheduler,
4731,Fix tests,,Fix tests,
4732,Remove pnpm from e2e for now,,Remove pnpm from e2e for now,
4733,Generate smaller benchmark set,,Generate smaller benchmark set,
4734,Remove log from engine,,Remove log from engine,
4735,Get task running back together,,Get task running back together,
4736,Fix run now that we are off of terraform graph,,Fix run now that we are off of terraform graph,
4737,Fix generate.mjs,,Fix generate.mjs,
4738,Refactor core into pipeline,,Refactor core into pipeline,
4739,Fix links,,Fix links,
4740,Merge pull request #18 from vercel/upgrade-nextra,,Merge pull request #18 from vercel/upgrade-nextra,
4741,Fix nextra,,Fix nextra,
4742,Tweak gitignore,,Tweak gitignore,
4743,Upgrade nextra,,Upgrade nextra,
4744,docs(readme): tidy up,Signed-off-by: Artur Troian troian.ap@gmail.com,docs(readme): tidy up,Signed-off-by: Artur Troian troian.ap@gmail.com
4745,feat: go v1.17.2,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go v1.17.2,Signed-off-by: Artur Troian troian.ap@gmail.com
4746,Add site,,Add site,
4747,Merge branch 'main' of https://github.com/vercel/titan,,Merge branch 'main' of link,
4748,Tweak nginx endpoint,,Tweak nginx endpoint,
4749,Update README.md,,Update README.md,
4750,Copy from turbo,,Copy from turbo,
4751,feat: go1.17.1,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.17.1,Signed-off-by: Artur Troian troian.ap@gmail.com
4752,feat: update go to v1.17.0,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: update go to v1.17.0,Signed-off-by: Artur Troian troian.ap@gmail.com
4753,fix: add tini ad pid 1,run goreleaser via exec to catch signals Signed-off-by: Artur Troian troian.ap@gmail.com,fix: add tini ad pid 1,run goreleaser via exec to catch signals Signed-off-by: Artur Troian troian.ap@gmail.com
4754,feat: update go1.16.7,update goreleaser to 0.174.2 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: update go1.16.7,update goreleaser to 0.174.2 Signed-off-by: Artur Troian troian.ap@gmail.com
4755,feat: bump go to v1.16.6,bump goreleaser to v0.173.2 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: bump go to v1.16.6,bump goreleaser to v0.173.2 Signed-off-by: Artur Troian troian.ap@gmail.com
4756,feat: go1.16.5,update goreleaser to 0.169.0 Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.16.5,update goreleaser to 0.169.0 Signed-off-by: Artur Troian troian.ap@gmail.com
4757,feat: go1.16.4,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.16.4,Signed-off-by: Artur Troian troian.ap@gmail.com
4758,fix: gpg import (#3),,fix: gpg import (#3),
4759,feat: go1.16.3,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.16.3,Signed-off-by: Artur Troian troian.ap@gmail.com
4760,fix(ci): login url to ghcr,Signed-off-by: Artur Troian troian.ap@gmail.com,fix(ci): login url to ghcr,Signed-off-by: Artur Troian troian.ap@gmail.com
4761,fix: include tars,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: include tars,Signed-off-by: Artur Troian troian.ap@gmail.com
4762,feat: update go1.16.2,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: update go1.16.2,Signed-off-by: Artur Troian troian.ap@gmail.com
4763,docs(readme): mention M1 support,Signed-off-by: Artur Troian troian.ap@gmail.com,docs(readme): mention M1 support,Signed-off-by: Artur Troian troian.ap@gmail.com
4764,feat: go1.16.1,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go1.16.1,Signed-off-by: Artur Troian troian.ap@gmail.com
4765,feat: go 1.16,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: go 1.16,Signed-off-by: Artur Troian troian.ap@gmail.com
4766,feat: update go to 1.15.7,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: update go to 1.15.7,Signed-off-by: Artur Troian troian.ap@gmail.com
4767,fix: update goreleaser,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: update goreleaser,Signed-off-by: Artur Troian troian.ap@gmail.com
4768,fix: build golang v1.15.6,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: build golang v1.15.6,Signed-off-by: Artur Troian troian.ap@gmail.com
4769,ci: create releases via github actions,Signed-off-by: Artur Troian troian.ap@gmail.com,ci: create releases via github actions,Signed-off-by: Artur Troian troian.ap@gmail.com
4770,refactor: build process,split dockerfiles to allow build smaller images for specific arch Signed-off-by: Artur Troian troian.ap@gmail.com,refactor: build process,split dockerfiles to allow build smaller images for specific arch Signed-off-by: Artur Troian troian.ap@gmail.com
4771,fix: remove test creds,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: remove test creds,Signed-off-by: Artur Troian troian.ap@gmail.com
4772,refactor: remove main.go,Signed-off-by: Artur Troian troian.ap@gmail.com,refactor: remove main.go,Signed-off-by: Artur Troian troian.ap@gmail.com
4773,chore: remove sysroot,Signed-off-by: Artur Troian troian.ap@gmail.com,chore: remove sysroot,Signed-off-by: Artur Troian troian.ap@gmail.com
4774,docs: add link to docker image,Signed-off-by: Artur Troian troian.ap@gmail.com,docs: add link to docker image,Signed-off-by: Artur Troian troian.ap@gmail.com
4775,docs: update readme with sysroot cookbook,Signed-off-by: Artur Troian troian.ap@gmail.com,docs: update readme with sysroot cookbook,Signed-off-by: Artur Troian troian.ap@gmail.com
4776,docs: cleanup tip section,Signed-off-by: Artur Troian troian.ap@gmail.com,docs: cleanup tip section,Signed-off-by: Artur Troian troian.ap@gmail.com
4777,feat: improve doc. provide examples,Signed-off-by: Artur Troian troian.ap@gmail.com,feat: improve doc. provide examples,Signed-off-by: Artur Troian troian.ap@gmail.com
4778,fix: start improoving doc,Signed-off-by: Artur Troian troian.ap@gmail.com,fix: start improoving doc,Signed-off-by: Artur Troian troian.ap@gmail.com
4779,feat: install docker (#1),,feat: install docker (#1),
4780,feat: support golang v1.15.2,,feat: support golang v1.15.2,
4781,feat: add osx-cross builder with supporting macOS SDK 10.15 (#3),,feat: add osx-cross builder with supporting macOS SDK 10.15 (#3),
4782,feat: support golang v1.15,,feat: support golang v1.15,
4783,feat: update go to v1.14.7 and goreleaser to v0.141.0,,feat: update go to v1.14.7 and goreleaser to v0.141.0,
4784,feat: update golang and goreleaser, update golang to v1.14.4 update goreleaser to v0.138.0,feat: update golang and goreleaser,update golang to v1.14.4 update goreleaser to v0.138.0
4785,feat: update golang to v1.14.3,,feat: update golang to v1.14.3,
4786,feat: update go to v1.14.2 and goreleaser to v0.131.1,,feat: update go to v1.14.2 and goreleaser to v0.131.1,
4787,feat: update go to v1.14.1 and goreleaser to v0.130.2,,feat: update go to v1.14.1 and goreleaser to v0.130.2,
4788,feat: support golang v1.14 and goreleaser v0.127.0,,feat: support golang v1.14 and goreleaser v0.127.0,
4789,docs: update import gpg private key,,docs: update import gpg private key,
4790,feat: support import gpg private key to sign artifacts,,feat: support import gpg private key to sign artifacts,
4791,feat: bump golang version to v1.13.5,,feat: bump golang version to v1.13.5,
4792,feat: update golang and goreleaser,,feat: update golang and goreleaser,
4793,refactor: disable apt upgrade,,refactor: disable apt upgrade,
4794,feat: add git-chglog,,feat: add git-chglog,
4795,Update README.md,,Update README.md,
4796,refactor: simplify publish docker images,,refactor: simplify publish docker images,
4797,Update README.md,,Update README.md,
4798,refactor: remove ublish-Docker-Github-Action,,refactor: remove ublish-Docker-Github-Action,
4799,refactor: restore push docker image to github,,refactor: restore push docker image to github,
4800,"Revert ""refactor: tmp disable update golang""",This reverts commit fcf4eedf87f68394840f0b63052d5a525d23b3f4.,"Revert ""refactor: tmp disable update golang""",This reverts commit fcf4eedf87f68394840f0b63052d5a525d23b3f4.
4801,refactor: tmp disable update golang,,refactor: tmp disable update golang,
4802,fix: arm gcc,,fix: arm gcc,
4803,feat: update golang version,,feat: update golang version,
4804,refactor:remove mips gcc,,refactor:remove mips gcc,
4805,fix: add missing multilib,,fix: add missing multilib,
4806,fix: add arm gcc and g++,,fix: add arm gcc and g++,
4807,refactor: rename github packages name,,refactor: rename github packages name,
4808,fix: release tag,,fix: release tag,
4809,fix: github.ref,,fix: github.ref,
4810,test github packages,,test github packages,
4811,feat: support arm build,,feat: support arm build,
4812,update README,,update README,
4813,fix: goreleaser sha256 sum,,fix: goreleaser sha256 sum,
4814,Update dockerimage.yml,,Update dockerimage.yml,
4815,init,,init,
4816,Initial commit,,Initial commit,
