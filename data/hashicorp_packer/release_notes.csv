Index,Release Note
1,"Nightly releases are snapshots of the development activity on the Packer project that may include new features and bug fixes scheduled for upcoming link. These releases are made available to make it easier for users to test their existing build configurations against the latest Packer code base for potential issues or to experiment with new features, with a chance to provide feedback on ways to improve the changes before being released.
As these releases are snapshots of the latest code, you may encounter an issue compared to the latest stable release. Users are encouraged to run nightly releases in a non production environment. If you encounter an issue, please check our link to see if the issue has already been reported; if a report hasn't been made, please report it so we can review the issue and make any needed fixes.
Note: Nightly releases are only available via GitHub Releases, and artifacts are not codesigned or notarized. Distribution via other link such as the Releases Site or Homebrew is not yet supported."
2,"1.8.7 (May 4, 2023)

Warning
The version/version.go file tagged in this release refers to 1.8.6. If you are building Packer from source
please make sure to set the version information using ldflags at build time. 
module

NOTES:


Vendored plugins within Packer have not been updated. Plugin releases occur on
     a regular basis to address issues and feature requests. Users are encouraged
     to use module for HCL2 templates or module with
     legacy JSON templates for installing external plugins. 


packer-plugin-digitalocean: The Digital Ocean Packer plugin has been handed
     over to the Digital Ocean team. New releases for this plugin are available
     at https://github.com/digitalocean/packer-plugin-digitalocean.
    module

packer-plugin-linode: The Linode plugin has been handed over to the Linode
     team. New releases for this plugin are available at
     https://github.com/linode/packer-plugin-linode. This plugin is is no longer
     being bundled in the Packer binary release. Existing references to the
     plugin will continue to work but users are advised to update the
     module block to use the new plugin source address.
     link
module
packer-plugin-ucloud: The UCloud plugin has been handed over to the UCloud
     team. New releases for this plugin are available at
     https://github.com/ucloud/packer-plugin-ucloud. This plugin is is no longer
     being bundled in the Packer binary release. Existing references to the
     plugin will continue to work but users are advised to update the
     module block to use the new plugin source address.
     link
module
packer-plugin-profitbricks: The Profitbricks plugin has been removed as a
     bundled plugin in Packer. New releases for this plugin are available at
     https://github.com/hashicorp/packer-plugin-profitbricks. This plugin is is
     no longer being bundled in the Packer binary release. Existing references
     to the plugin will continue to work but users are advised to update the
     module block to use the new plugin source address.
     link
module

PLUGINS

core: Migrate external Linode plugin to linode/packer-plugin-linode.
     link
core: Migrate external UCloud plugin to ucloud/packer-plugin-ucloud.
     link
core: Remove external plugin for Digital Ocean as a vendored plugin.
     link
core: Remove external plugins for Profitbricks and 1&1 as vendored plugins.
     link
docs: Add HCP Ready label to Oracle builder components.
     link

IMPROVEMENTS

cmd/console: Add config-type flag to command help.
     link
core: Add enhanced support to Packer telemetry for HCL2.
     link
Enhance zsh completion for the Packer command.
     link,
     link

BUG FIXES

cmd/hcl2_upgrade: Fix a crash when running the hcl2_upgrade command against a
     legacy JSON template containing user variables with an undefined variables
     block. link
core: Bump github.com/hashicorp/hcp-sdk-go to 0.36.0.
     link
core: Bump github.com/hashicorp/packer-plugin-sdk to 0.4.0 to address
     CVE-2023-0475, CVE-2022-41723.
     link
core: Bump Go module version to 1.20
     link
core: Fix regression introduced in 1.8.6, where legacy JSON templates with
     custom builder names are outputted to STDOUT as uninterpolated user
     variables. link
"
3,"1.8.6 (February 15, 2023)
NOTES:

core: Users will see some changes in how names are displayed during a Packer
     build for JSON templates. Previously only the builder type or the builder
     name, if it was set, would be displayed. Now for named builders
     (module) the builder's type and name will be displayed (i.e
     "".mybuilder"". This does not impact the behavior of options such as
     only or except, they will continue to work as they did before.)

IMPROVEMENTS:

Bump bundled plugins to latest available version.
     link
bump github.com/hashicorp/hcp-sdk-go from 0.28.0 to 0.29.0
     link
Bump github.com/hashicorp/hcp-sdk-go from 0.33.0 to 0.34.0 
     link
core/hcl2: Packer will no longer warn on excluded post-processors when using
     module filters for running select builds.
     link

BUG FIXES:

cmd/hcl2_upgrade: Fix crash when variables block is undefined.
     link
core/hcl2: Templates with build blocks referencing an unknown source block
     would display an empty string for the template filename at line 0, which
     made it difficult to identify the broken build block. Packer has been
     updated to display the proper filename and line number where the unknown
     reference resides.
     link
core: Linux packages now have vendor label and set the default label to
     HashiCorp. This fix is implemented for any future releases, but will not be
     updated for historical releases.
"
4,
5,"1.8.5 (December 12, 2022)
NOTES:

data/packer-image-iteration has been removed. This was an undocumented and
     unusable data source that was built for experimentation but not released. It
     should not affect users in any way but is being mentioned for visibility
     purposes.
     link

FEATURES:

core: Metadata for capturing template types such as JSON or HCL2 has been added to the
     HCP Packer registry metadata. Upon running a module the type of
     template used during execution will be sent along to the registry as
     additional build metadata.link

PLUGINS:
The following external plugins have been updated and pinned to address open
    issues. Please see their respective changelogs for details on plugin
    specific bug fixes and improvements.

alicloud@v1.0.5 - link
amazon@v1.1.6 - link
proxmox@v1.1.0 - link
vsphere@v1.1.1 - link
qemu@v1.0.8 - link

IMPROVEMENTS:

cmd/hcl2_upgrade: Generate variable block for all referenced user input
     variables. link
cmd/validate: Add support for the module flag to evaluate
     the data sources from a template during validation time.
     link
link
core/hcl2: Variable definition files containing undeclared variables within
     an HCL2 template will no longer warn during build execution. Warnings will
     be displayed to a user during template validation, which can be disabled by
     passing the module flag to the validate command.
     link
link
core: Docker images have been updated to include the module package for
     supporting the creation of ISO files.link
core: Split HCP Packer publishing components into a separate internal-only
     module. link
link

BUG FIXES:

cmd/init: The init command will try to fallback to the next available version
     for a plugin, if the most recent version is not available or has a missing
     checksum file. This should prevent Packer from trying to install versions
     that have a GitHub tag but no actual assets.
     link
cmd/plugins: The module sub-command will try to fallback to the
     next available version for a plugin, if the most recent version is not
     available or has a missing checksum file. This should prevent Packer from
     trying to install versions that have a GitHub tag but no actual assets.
     link
core: Bump Go version to 1.18.9 to address vulnerability GO-2022-1144, which
     concerns the net/http and golang.org/x/net
     packages.link
link
core: Fix the registration of deleted input artifacts in HCP Packer when
     setting module to
     false.link
core: Using different template types when building a HCP Packer
     image iteration will now trigger a runtime build error due to the 
     mixing of template types.
     link
"
6,"1.8.4 (October 28 2022)
NOTES:


Packer user documentation has been moved to the new HashiCorp developer
     documentation portal. The main Packer site (https://www.packer.io) will
     continue to be the home for Packer but all requests for general
     documentation and binary downloads will be redirected to
     https://developer.hashicorp.com/packer. Users are encouraged to visit the
     developer documentation portal for access to all Packer related
     documentation; including integrations with HCP Packer.


The Oracle builder and post-processor are no longer vendored with Packer
     core. Users of the Oracle plugin should use module to install the
     latest version of the plugin. See the link for more
     information. link


HCP Packer environment variables: The behaviour of some HCP Packer-specific
     environment variables has changed slightly. Refer to link
     in the Packer documentation for a full list of HCP Packer environment variables. link

For JSON templates, the module environment variable was
 previously required to enable the HCP Packer integration. In this release,
 the environment variable is now optional, and can be used for disabling the
 publishing of metadata for any HCP Packer enabled configuration template.
For HCL2 templates, the module environment variable can be used
 to disable publishing to a HCP Packer registry even if the template defines a
 module block. This can be useful for testing that a template
 works as intended prior to pushing metadata to HCP Packer.
The module environment variable is now the only
 requirement to push metadata to a HCP Packer registry, in both JSON 
 and HCL2 templates without a module block.



FEATURES:

provisioner/powershell: Add module configuration argument to support pwsh
     in powershell provisioner. link

PLUGINS:

builder/oracle: Remove Oracle plugin from the list of vendored
     plugins. link

IMPROVEMENTS:

command/hcl2_upgrade: Has been updated to persist all possible template
     engine options that were supported by the legacy JSON templates. While the
     upgrade command copies the template engine options as is support for the
     template options may not actually work with HCL2 templates; indicated by an
     error similar to module. Before executing a
     build with the upgraded template you are encouraged to run module
     against the template and fix any invalid module references.
     link
core/hcl2: Packer will now report an error when executing a build with no
     sources selected for execution.
     link
core/hcp: Configuration errors for HCP Packer enabled builds have been
     consolidated into a single report to help users address all potential
     issues before retrying their build.
     link
core/hcp: Named builds within a legacy JSON template are now published to a
     HCP Packer registry using its full build name (e.g module, 
     as opposed to just the build name field (e.g module). 
     Builders with no defined name will continue to publish build
     metadate using the builder type as the build name (e.g module).
     link
core:hcl2: When a variable is set in a variables definitions file (i.e
     *.pkrvars.hcl), but isn't defined with the template files (i.e
     *.pkr.hcl), the outputted error message will now include an example of
     variable block that can be added to the build template to remedy the issue.
     link
core: Add ppc64le to binary releases for Linux.
     link
core: Bump github.com/hashicorp/packer-plugin-sdk from 0.3.1 to 0.3.2.
     link
core: Bump supported Go version to 1.18.
     link

BUG FIXES:

command/hcl2_upgrade: special case: Azure module fix.
     link
core: Bump golang.org/x/sys to address CVE-2022-29526.
     link
core: Bump golang.org/x/text to v0.3.8.
     link
core: Update dependency to resolve GO-2022-0969.
     link
"
7,"1.8.3 (August 2, 2022)
NOTES:


There's been a change in the way the module and the
    module configuration arguments work together. The
    behaviour is unchanged if both or none are specified. However, if only one
    of the two is set the other won't have a default value anymore and will be
    ignored. See link for details


packer-plugin-digitalocean: The Digital Ocean Packer plugin has been handed over
    to the Digital Ocean team. New releases for this plugin are available at
    https://github.com/digitalocean/packer-plugin-digitalocean. This plugin is
    still being bundled in the Packer binary but will be removed in a future
    release. Existing references to the plugin will continue to work but
    users are advised to update the required_plugins block to use the new
    plugin source address.
    link
module


packer-plugin-outscale:  The Outscale Packer plugin managed by the Outscale
    team, since Packer 1.7.9, has been removed from the Packer binary. Users are
    advised to install the latest version of the plugin by running
    module. link


packer-plugin-outscale:  The Scaleway Packer plugin managed by the Scaleway
    team, since Packer 1.7.7, has been removed from the Packer binary. Users are
    advised to install the latest version of the plugin by running
    module. link


FEATURES:

Future Scaffolding: This release contains additional changes that allow
    Packer core to validate that a newly built image is a direct child of a HCP
    Packer registry source image. This feature is only available for HCP Packer
    enabled builds using the module and module data
    source for setting a builder's source image.
    link

PLUGINS:
The following external plugins have been updated and pinned to address open
    issues. Please see their respective changelogs for details on plugin
    specific bug fixes and improvements.

amazon@v1.1.2 - link
ansible@v1.0.3 - link
azure@v1.3.0 - link
docker@v1.0.7 - link
googlecompute@v1.0.14 - link
lxc@v1.0.2 - link
triton@v1.0.2 - link
vsphere@v1.0.7 - link
yandex@v1.1.2 - link

IMPROVEMENTS:

Bump packer-plugin-sdk to v0.3.1 to fix inconsistencies between module
    and module configuration arguments in the SSH
    communicator. link
core: During long running builds the HCP Packer registry will mark a build as
    timed out if it has not posted an update after a certain number of minutes. For HCP
    Packer enabled builds a status update will now be sent every 2 minutes to
    the registry to prevent long builds from being marked as timed
    out. link
data/hcp_packer_image: Add module configuration argument to
    support specifying an exact build image when multiple images exist in the
    same provider and region for a given HCP Packer bucket iteration.
    link
data/hcp_packer_image: Add support for module as input argument to
    retrieve an image from the associated iteration. If
    using several images from a single iteration, you may prefer sourcing an
    iteration first, and referencing it for subsequent uses, as every
    module with the channel set will generate a potentially
    billable HCP Packer request, but if several modules use a
    shared module that will only generate one potentially
    billable request.
    link

BUG FIXES

core/hcl2: Fix crash when parsing malformed provisioner override blocks.
    link
core/hcl2: Fix crash when running module on templates containing
    one or more  HCP Packer data sources.
    link
"
8,"1.8.2 (June 21, 2022)
NOTES:
The Packer plugin SDK includes the latest version of the go-getter library, which has been updated to address the vulnerabilities listed in link. 
The updated SDK contains changes that can be breaking for some plugins as the updated go-getter settings in the SDK  prevent reading/writing through symlinks and to sub-directories that require upward path traversal (e.g /tmp/.../etc/hosts). The updates also includes a 30 minute maximum timeout for file downloading, which can be an issue for very large or slow downloads if they exceed more than 30 minutes to complete.
SECURITY:

Bump packer-plugin-sdk to v0.3.0 to address reported vulnerabilities within
    the go-getter library.
    link
Bump plugins relying on go-getter for downloading remote files to address
    reported vulnerabilities within the go-getter library. See link for details.
    link

FEATURES:

Future Scaffolding: This release contains changes that allow Packer core to
    validate that a newly built image is a direct child of a HCP Packer
    registry source image. This feature is only available for HCP Packer
    enabled builds using the module data source for setting a
    builder's source image.
    link

PLUGINS:
External plugins have been pinned to the following versions. Please see their
    respective changelogs for details on plugin specific bug fixes and
    improvements.

azure@v1.1.0 - link
hyperv@v1.0.4 - link
parallels@v1.0.3 - link
proxmox@v1.0.8 - link
qemu@v1.0.5 - link
vagrant@v1.0.3 - link
virtualbox@v1.0.4 - link
vmware@v1.0.7 - link
vsphere@v1.0.5 - link

IMPROVEMENTS:

Add module configuration argument to Powershell provisioner.
    link
HCP Packer data sources will now fail for revoked iterations to prevent building non-compliant images.
    link

BUG FIXES:

Add missing support for the module configuration argument in remote shell
    provisioners. link
The preinst and postrm user scripts, including the service configuration
    directives, have been removed from the Packer rpm installations packages,
    as Packer does not require a service user in order to run.
    link
"
9,"1.8.1 (May 27, 2022)
NOTES:

All bundled plugins have been updated to their latest release to address any
    open issues pertaining to the legacy SSH key algorithm fix made to the
    Packer plugin SDK.
    link
link
This release contains the latest golang.org/x/crypto/ssh module which
    implements client authentication support for signature algorithms based on
    SHA-2 for use with existing RSA keys. Previously, a client would fail to
    authenticate with RSA keys to servers that reject signature algorithms
    based on SHA-1.

FEATURES:

New Datasource HTTP datasource retrieves information from a HTTP
    endpoint to be used during Packer builds.
    link

PLUGINS:
External plugins have been pinned to the following versions. Please see their
    respective changelogs for details on plugin specific bug fixes and
    improvements.

alicloud@v1.0.2 - link
amazon@v1.1.0 - link
ansible@v1.0.2 - link
azure@v1.0.8 - link
chef@v1.0.2 - link
cloudstack@v1.0.1 - link
converge@v1.0.1 - link
digitalocean@v1.0.3 - link
docker@v1.0.5 - link
googlecompute@v1.0.13 - link
hcloud@v1.0.4 - link
hyperone@v1.0.1 - link
hyperv@v1.0.3 - link
inspec@v1.0.0 - link
jdcloud@v1.0.1 - link
linode@v1.0.3 - link
lxc@v1.0.1 - link
lxd@v1.0.1 - link
ncloud@v1.0.3 - link
oneandone@v1.0.1 - link
openstack@v1.0.1 - link
oracle@v1.0.2 - link
parallels@v1.0.2 - link
profitbricks@v1.0.2 - link
proxmox@v1.0.7 - link
puppet@v1.0.1 - link
qemu@v1.0.4 - link
salt@v1.0.0 - link
tencentcloud@v1.0.5 - link
triton@v1.0.1 - link
ucloud@v1.0.1 - link
vagrant@v1.0.2 - link
virtualbox@v1.0.3 - link
vmware@v1.0.5 - link
vsphere@v1.0.4 - link
yandex@v1.1.1 - link

IMPROVEMENTS:

Bump hcp-sdk-go to latest version.
    link
Plugins installed via the module command will now
    automatically load for builds using HCL2 templates without a
    required_plugins block.
    link
Plugins installed via the module command will now
    automatically load for builds using JSON templates.
    link

BUG FIXES:

Bump github.com/hashicorp/go-getter to fix the untarring of OVA files
    regression. link
Bump github.com/hashicorp/packer-plugin-sdk to address legacy SSH key
    algorithms in SSH communicator.
    link
link
"
10,"1.8.0 (March 4, 2022)
NOTES:

Breaking Change: The module(github.com/hashicorp/packer/cmd/packer-plugins-check) has been replaced by the link. Plugin maintainers who may be using the packer-plugin-check as part of their release pipeline are encouraged to move to the packer-sdc command. As an alternative, maintainers can continue to use the packer-plugin-check by pinning the command to Packer 1.7.10.  link

FEATURES

New Command module command and subcommands to manage external
    plugins. link
link

IMPROVEMENTS

core: Add a module argument to provisioner blocks that allow for setting a
    map of key/value pairs to inject prior to the execute_command. The env argument 
    is an alternative to using environment_vars for setting environment variables, 
    which has the added ability to read from Packer datasources. link
core: Bump version of go-getter to allow for downloading ISOs with PGP signed
    checksums. link
core: Docker images are now available for all supported architectures that
    the linux binaries are built for including arm, arm64, 386, and amd64
    link
link
link
core: Packer's linux package service configs and pre/post install scripts are
    now available under .release/linux.
    link
link
core: Packer's linux packages are now available for all supported linux
    architectures including arm, arm64, 386, and amd64
    link
link
link
core: The dockerfile that is used to build the packer docker image available
    at hashicorp/packer now lives in the root of this repo. The README that
    describes how to build the docker targets defined in the Dockerfile are
    available under ./release/docker/README.md.
    link
link
link
core: The packer-plugin-check command has been removed. Plugin maintainers
    should update their release configuration to use the module command.  link

BUG FIXES

core/hcl2: Fixes an issue preventing builds from pausing between provisioners when
    the module argument has been passed.
    link
core/hcl2: Fixes a data loss issue when merging an empty-object map to a non-
    empty map variable.
    link
core/hcl2: Fixes a regression where references to locals via the lookup
    function were failing to find defined keys.
    link
core/hcl2: Fixes an issue where HCP Packer build labels from the first
    completed build image were being copied to all images within the same
    build. link
link
core: HCP Packer datasources will no longer fail for iterations with
    scheduled revocations.
    link
core: Packer darwin builds now use macOS system DNS resolver for resolving
    hostnames.link
link
"
11,Packer patch release version 1.7.10
12,Packer patch release version 1.7.9
13,Packer patch release version 1.7.8
14,Packer release version 1.7.7 with improved HCP Packer registry support
15,Packer patch release version 1.7.6
16,Packer patch release version 1.7.5
17,Packer patch release version 1.7.4
18,Packer patch release version 1.7.3
19,Packer patch release version 1.7.2
20,Packer patch release version 1.7.1
21,"Packer release version 1.7.0, introducing to Packer init and datasources !"
22,Packer patch release version 1.6.6
23,Packer patch release version 1.6.5
24,fast-follow release 1.6.4 fixes some regressions in 1.6.3
25,release 1.6.3
26,1.6.2 patch release
27,1.6.1 patch release
28,
29,Version 1.5.6
30,
31,Version 1.5.4
32,
33,
34,
35,
36,This is the 1.4.5 release of Packer. 
37,Version 1.4.4 of Packer
38,Version 1.4.3 of Packer
