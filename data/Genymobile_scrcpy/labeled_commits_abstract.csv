Commit Message,Score,Correspond Changelog Sentence,Commit Description,Label
Add missing shortcut in documentation,0.57485443,New shortcuts,MOD+Backspace also triggers BACK.,0
Document installation via winget on Windows,0.2795977," - Fix ""push file"" with spaces on Windows (#288)",PR #4005 link Refs #1444 link Refs #3932 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Clarify API versions that support Audio Forwarding,0.60392034," - Add Audio forwarding (#14, #3757)",Reword the supported API versions for audio forwarding sentence to clarify that it supports API >= 30 PR #3949 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Specify in README that OTG does not require adb,0.5176879,OTG mode,,0
Fix documentation link in FAQ,0.28960478,Hotfix for v1.15:,,0
Fix typo in FAQ,0.3518123,Bugfixes,,0
Mention necessary reboot,0.38662952, - Keep the console open on error on Windows (#261),"After setting ""USB debugging (security settings)"", a reboot is necessary.",0
Reference FAQ from HID/OTG documentation,0.6699921,HID/OTG on all platforms,"Reference the FAQ section about ""HID/OTG issues on Windows"" from the HID/OTG documentation.",0
"Replace ""bit-rate"" with ""bit rate""",0.50199854,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,,0
Fix typo in doc/audio.md,0.43073553," - Fix mp4 headers produced by recording (#351, #416)","The documentation is about audio bit rate, not video bit rate. PR #3839 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Clarify V4L2 feature in README,0.567531,"It also simplifies V4L2 usage, which does not support video dimension changes.",The previous formulation could suggest that the device camera could be used as a webcam. This is not the case (yet?).,0
Document missing Opus encoder error,0.4602548, - Retry on spurious encoder error (#3693),And how to solve it.,0
Update Gentoo instructions,0.33207336,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"scrcpy is available directly in the distro, drop link to the overlay (which only contains older versions). PR #3816 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Update broken link in documentation,0.42341253,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,The Android documentation has been updated.,0
Replace link to enable USB debugging in README,0.4839861,DEBUG:           (usb)  fedcba09                        device  GM1913,Link to a more relevant page in the official documentation to enable USB debugging.,0
Add references to prerequisites,0.29290774, - Add manpage,"Users sometimes only read the OS-specific instructions, they must be aware of the prerequisites.",0
Add blogpost link about scrcpy 2.0,0.7013148,scrcpy v1.5,,1
Fix v4l2 sink,0.4411571,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"The codec id to write as codec parameters is the one from the v4l2 encoder, not from the decoder. Regression introduced by be985b8242e0626288674b84c5039725170f8f0c. Fixes #3795 link",0
Fix build issue on FFmpeg < 5.1,0.70806, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,An include was missing. Fixes #3783 link,1
Fix comparison warning,0.5241256, - Improve some error messages,An int was compared with an unsigned: ../app/src/audio_player.c:290:27: warning: comparison of integers of different signs: 'int' and 'unsigned int' [-Wsign-compare]             if (abs(diff) < ap->sample_rate / 1000) {                 ~~~~~~~~~ ^ ~~~~~~~~~~~~~~~~~~~~~~,0
"Fix an ""expected expression"" error",0.3777961, - Improve some error messages,"In C, a label can only be followed by a statement, not a declaration. An error in app/src/screen.c violated this, and led to a build error with an error message similar to the one below: ../app/src/screen.c:821:13: error: expected expression             bool ok = sc_screen_init_size(screen);             ^ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/13.0.0/include/stdbool.h:15:14: note: expanded from macro 'bool' define bool _Bool module ../app/src/screen.c:822:18: error: use of undeclared identifier 'ok'             if (!ok) {                  ^ 2 errors generated. This could be fixed by introducing a new block (or compound statement; as is already being done in the next case). That is a statement. Fixes #3785 link PR #3787 link Signed-off-by: Ruoyu Zhong zhongruoyu@outlook.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix broken link in Windows download page,0.35515803, - Workaround Windows issue with non-ASCII path (#2619),,0
Fix broken link in shortcuts documentation,0.46581477, - Make shortcut modifiers customizable (#1598),,0
Update links to v2.0,0.42946458,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Bump version to 2.0,0.4536338, - Upgrade SDL to 2.0.22 in Windows releases,,0
Merge branch 'master' into dev,0.28119382,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Rework README and documentation,0.43074337, - Various technical refactors and fixes,The README.md page is HUGE. Split it up. Also document audio forwarding and improve installation instructions for each platform and user documentation. PR #3774 link,0
Happy new year 2023!,0.2806421,   (#224),,0
Document audio player,0.3615569," - Add Audio forwarding (#14, #3757)",Add some high-level documentation on the audio player implementation.,0
Apply new compensation only if it changed,0.2841827, - Apply workarounds only on error (#994),"If the compensation is the same (typically when it is 0), do not reapply it.",0
Disable clock drift compensation for tiny values,0.3707797,High-precision scrolling,"For less than 1ms, the estimated drift is just noise.",0
Fail on deprecated options,0.667643,Remove deprecated short options,Suggest the video and audio specific options instead.,0
Remove dead code about the deprecated -F option,0.6783865, - Remove deprecated short options -T and -c,The -F option was already removed.,0
Remove deprecated option --render-expired-frames,0.8795459, - Remove option --render-expired-frames (#2268),This option did nothing since it was deprecated. Totally remove it.,1
Upgrade platform-tools (34.0.1) for Windows,0.86982095, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Upgrade SDL (2.26.4) for Windows,0.9530482, - Upgrade SDL to 2.26.4 in Windows releases,Include the latest version of SDL in Windows releases.,1
Remove unused IOException,0.4071808, - Fix segfault on empty file recorded (#918),IOException may not be thrown from this method.,0
Compute buffering and compensation without lock,0.530627,Buffering,"Once underflow has been read with a lock, the buffering and compensation may be performed without shared variables.",0
Do not read avg_buffering from the player thread,0.44526923, - Implement (optional) buffering (#2464),"On buffer underflow, the average buffering must be updated, but it is intended to be accessed only from the receiver thread. Make the player and the receiver thread communicate the underflow via a new field (ap->underflow).",0
Simplify bytebuf naming,0.34600237," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",Rename read_available to can_read and write_available to can_write. This is more readable.,0
Add audio sample ring-buffer,0.46894068," - Add Audio forwarding (#14, #3757)","Add a thin wrapper around bytebuf to handle samples instead of bytes. This simplifies the audio player, which mostly handles samples.",0
Define the audio output buffer in milliseconds,0.42446703, - Implement (optional) buffering (#2464),"In theory, this buffer must be dimensioned for a target duration, so its size in bytes should depend on the sample rate.",0
Pass video size as codec metadata,0.5972152, - Add --codec-options to pass MediaFormat options directly (#1325),"On initial connection, scrcpy sent some device metadata:  - the device name (to be used as window title)  - the initial video size (before any frame or even SPS/PPS) But it is better to provide the initial video size as part as the video stream, so that it can be demuxed and exposed via AVCodecContext to sinks. This avoids to pass an explicit ""initial frame size"" for the screen, the recorder and the v4l2 sink.",0
Report errors on screen event error,0.50021034," - Correctly handle mouse events outside device screen (#353, #357)",Make scrcpy fail if an important screen event (like frame update) fails.,0
Rename sendCodecId to sendCodecMeta,0.31836534," - Add --encoder option (#1810, #1827)",This will allow the codec header to contain more than the codec id.,0
Copy codec parameters from context,0.56273425,Advanced codec options,"Now that the recorder have access to the codec context, it may automatically initialize the stream codec parameters. The V4L2 sink could do the same.",0
Simplify recorder,0.5680212," - Add screen recording (#21, #292)","After the refactor performed by the previous commit, the functions to wait the video stream and the audio stream could be inlined.",0
Create recorder streams from packet sinks ops,0.47442442,Asynchronous recording,"Previously, the packet sink push() implementation just set the codec and notified a wait condition. Then the recorder thread read the codec and created the AVStream. But this was racy: an AVFrame could be pushed before the creation of the AVStream, causing its video_stream_index or audio_stream_index to be initialized to -1. Also, in the future, the AVStream initialization might need data provided by the packet sink open(), so initialize it there (with a mutex).",0
Pass AVCodecContext to packet sinks,0.45573753,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Create the codec context from the demuxer, so that it can fill context data for the decoder and recorder.",0
Enable log signaling buffering threshold exceeded,0.4710353, - Add --verbosity to configure log level at runtime,It is as important as underflow logs.,0
Stop and join sc_file_pusher only if initialized,0.39948177, - Refuse to push server if it points to a directory (#956),"The sc_file_pusher is lazy-initialized, but it was stopped and joined in all cases (accessing uninitialized values). Detected by poisoning the struct scrcpy instance with ASAN enabled.",0
Initialize interrupted field explicitly,0.3649814, - Fix quick interruption on Ctrl+c during server starting,The field sc_fps_counter.interrupted was never initialized explicitly. Signed-off-by: Romain Vimont rom@rom1v.com,0
Decrease recorder thread priority,0.75853544,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","Recording is background task, writing the packets to a file is not urgent.",1
Increase audio thread priority,0.5521475,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",The audio demuxer thread is the one filling the audio buffer read by the SDL audio thread. It is time critical to avoid buffer underflow.,0
Add thread priority API,0.38476816,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Expose an API to change the priority of the current thread.,0
Print info logs to stdout,0.59280074, - Print help to stdout (instead of stderr),"All server logs were printed to stdout, while all client logs were printed to stderr. Instead, use stderr for warnings and errors, stdout for the others:  - stdout: verbose, debug, info  - stderr: warn, error",0
Print server logs and newline in one call,0.40450245, - Print correct error messages on Windows socket errors (#2624),"System.out.println() first prints the message, then the new line. Between these two calls, the client might print a message, breaking formatting. Instead, call System.out.print() with '\n' appended to the message.",0
Warn on ignored audio options,0.39935216," - Add Audio forwarding (#14, #3757)","For raw audio codec, some audio options are ignored. PR #3757 link",0
Add --audio-codec=raw option,0.71796095, - Add --codec-options to pass MediaFormat options directly (#1325),Add support for raw (PCM S16 LE) audio codec (a raw decoder is included in FFmpeg). PR #3757 link,1
Add raw audio recorder,0.5662098," - Add screen recording (#21, #292)",Add an alternative AudioRecorder to stream raw packets without encoding. PR #3757 link,0
Extract async processor interface,0.33389613, - Consider emulators as TCP/IP devices (-e) (#3137),"On the server side, several components are started, stopped and joined. Extract an interface to handle them generically. This will help to support both encoded and raw audio stream, because they will be two different concrete components, but implementing the same interface. PR #3757 link",0
Extract audio capture,0.43753994,Asynchronous recording,"The audio capture was implemented in AudioEncoder. In order to reuse it without encoding, extract it to a separate class. PR #3757 link",0
Stop on decoder frame push error,0.61954653, - Retry on spurious encoder error (#3693),"On push, frame sinks report downstream errors to stop upstream components. Do not ignore the error.",0
Add --audio-buffer,0.5898153," - Add Audio forwarding (#14, #3757)",Expose an option to add a buffering delay (in milliseconds) before playing audio. This is similar to the options --display-buffer and --v4l2-buffer for video frames. PR #3757 link,0
Add compat support for FFmpeg < 5.1,0.7495856, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,The new chlayout API has been introduced in FFmpeg 5.1. Use the old channel_layout API on older versions. PR #3757 link,1
Add audio player,0.5795018," - Add Audio forwarding (#14, #3757)","Play the decoded audio using SDL. The audio player frame sink receives the audio frames, resample them and write them to a byte buffer (introduced by this commit). On SDL audio callback (from an internal SDL thread), copy samples from this byte buffer to the SDL audio buffer. The byte buffer is protected by the SDL_AudioDeviceLock(), but it has been designed so that the producer and the consumer may write and read in parallel, provided that they don't access the same slices of the ring-buffer buffer. PR #3757 link Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com",0
Optionally do not delay the first frame,0.5997907, - Reduce latency by 1 frame (#646),"A delay buffer delayed all the frames except the first one, to open the scrcpy window immediately and get a picture. Make this feature optional, so that the delay buffer might also be used for audio (especially for simulating a high delay for debugging). PR #3757 link",0
Accept clock estimation with a single point,0.32218903, - Improve framerate counting,"If there is only one point, assume the slope is 1. PR #3757 link",0
Remove anonymous struct in delay buffer,0.43110755, - Implement (optional) buffering (#2464),"For clarity, the fields used only when a delay was set were wrapped in an anonymous structure. Now that the delay buffer has been extracted to a separate component, the delay is necessarily set (it may not be 0), so the fields are always used. PR #3757 link",0
Use delay buffer as a frame source/sink,0.5709813, - Reduce latency by 1 frame (#646),"The components needing delayed frames (sc_screen and sc_v4l2_sink) managed a sc_video_buffer instance, which itself embedded a sc_frame_buffer instance (to keep only the most recent frame). In theory, these components should not be aware of delaying: they should just receive AVFrames later, and only handle a sc_frame_buffer. Therefore, refactor sc_delay_buffer as a frame source (it consumes) frames) and a frame sink (it produces frames, after some delay), and plug an instance in the pipeline only when a delay is requested. This also removes the need for a specific sc_video_buffer. PR #3757 link",0
Use frame source trait in decoder,0.482446,A new option --encoder allows to select another available H.264 encoder.,,0
Introduce frame source trait,0.37565076,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","There was a frame sink trait, implemented by components able to receive AVFrames, but each frame source had to manually send frame to sinks. In order to mutualise sink management, add a frame sink trait.",0
Use packet source trait in demuxer,0.35447276,"For convenience, this version introduces a new option to configure TCP/IP connections automatically, with two variants.",,0
Introduce packet source trait,0.43992546,"For convenience, this version introduces a new option to configure TCP/IP connections automatically, with two variants.","There was a packet sink trait, implemented by components able to receive AVPackets, but each packet source had to manually send packets to sinks. In order to mutualise sink management, add a packet source trait.",0
Extract sc_delay_buffer,0.52499473,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"A video buffer had 2 responsibilities:  - handle the frame delaying mechanism (queuing packets and pushing them    after the expected delay);  - keep only the most recent frame (using a sc_frame_buffer). In order to be able to reuse only the frame delaying mechanism, extract it to a separate component, sc_delay_buffer.",0
Fix buffering pts conversion,0.49238247,Buffering,"The mistake had no effect, because tick is also internally expressed in microseconds.",0
Report video buffer downstream errors,0.50502425, - Fix recorded video to avoid crashes in Adobe Premiere (#702),Make the video buffer stop if its consumer could not receive a frame.,0
Stop the video buffer on error,0.52089876, - Automatically retry with a lower definition on MediaCodec error (#2947),"If an error occurs from the video buffer thread (typically an out-of-memory error), then stop.",0
Fix possible race condition on video_buffer end,0.54636544, - Fix recorded video to avoid crashes in Adobe Premiere (#702),"The video_buffer thread clears the queue once it is stopped, but new frames might still be pushed asynchronously. To avoid the problem, do not push any frame once the video_buffer is stopped.",0
Remove sc_queue,0.3637941,scrcpy -Sw  # turn sceen off and stay awake,All uses have been replaced by VecDeque.,0
Remove cbuf,0.2910944, - Remove option --render-expired-frames (#2268),All uses have been replaced by VecDeque.,0
Use VecDeque in aoa_hid,0.4331376, - Add OTG mode (HID only) (#2974),Replace cbuf by VecDeque in aoa_hid,0
Use VecDeque in file_pusher,0.4102069, - Add feature to push file to /sdcard/ via drag & drop (#226),"Replace cbuf by VecDeque in file_pusher. As a side-effect, the new implementation does not limit the queue to an arbitrary value.",0
Use VecDeque in controller,0.22452304, - Inject mouse events with a virtual device id (fix crashes on some,Replace cbuf by VecDeque in controller.,0
Use VecDeque in video_buffer,0.4799264,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,"The packets queued for buffering were wrapped in a dynamically allocated structure with a ""next"" field. To avoid this additional layer of allocation and indirection, use a VecDeque.",0
Use VecDeque in recorder,0.51525617,Asynchronous recording,"The packets queued for recording were wrapped in a dynamically allocated structure with a ""next"" field. To avoid this additional layer of allocation and indirection, use a VecDeque.",0
Introduce VecDeque,0.27394122,MOD+o).,Introduce a double-ended queue implemented with a growable ring buffer. Inspired from the Rust VecDeque type: link,0
Add sc_allocarray() util,0.44452375,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,"Add a function to allocate an array, which fails safely in the case where the multiplication would overflow.",0
Use reallocarray() in sc_vector,0.35592628,scrcpy --render-driver=opengl,This fails safely in case of overflow.,0
Add compat for reallocarray(),0.28000382," - Add support for high-precision scrolling (#3363, #3369)",This function fails safely in the case where the multiplication would overflow.,0
Call avcodec_receive_frame() in a loop,0.5236163,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.","Since in scrcpy a video packet passed to avcodec_send_packet() is always a complete video frame, it is sufficient to call avcodec_receive_frame() exactly once. In practice, it also works for audio packets: the decoder produces exactly 1 frame for 1 input packet. In theory, it is an implementation detail though, so avcodec_receive_frame() should be called in a loop.",0
Add --require-audio,0.5863872," - Add Audio forwarding (#14, #3757)","By default, scrcpy mirrors only the video when audio capture fails on the device. Add an option to force scrcpy to fail if audio is enabled but does not work. PR #3757 link",0
Add workaround to capture audio on Android 11,0.53544736," - Add Audio forwarding (#14, #3757)","On Android 11, it is possible to start the capture only when the running app is in foreground. But scrcpy is not an app, it's a Java application started from shell. As a workaround, start an existing Android shell existing activity just to start the capture, then close it immediately. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Add two-step write feature to bytebuf,0.44369534, - Workaround for Os.write() bug on Android 5.0.x (#291),"If there is exactly one producer, then it can assume that the remaining space in the buffer will only increase until it writes something. This assumption may allow the producer to write to the buffer (up to a known safe size) without any synchronization mechanism, thus allowing to read and write different parts of the buffer in parallel. The producer can then commit the write with a lock held, and update its knowledge of the safe empty remaining space. PR #3757 link",0
Introduce bytebuf util,0.3538725, - Implement (optional) buffering (#2464),Add a ring-buffer for bytes. It will be useful for audio buffering. PR #3757 link,0
Pass AVCodecContext to frame sinks,0.43301916,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.",Frame consumers may need details about the frame format. PR #3757 link,0
Add an audio decoder,0.5669067,Advanced codec options,PR #3757 link,0
Give a name to decoder instances,0.4128229,Encoder selection,This will be useful in logs. PR #3757 link,0
Rename decoder to video_decoder,0.5864338,A new option --encoder allows to select another available H.264 encoder.,This prepares the introduction of audio_decoder. PR #3757 link,0
Log display sizes in display list,0.5318122," - Add fallback to get display information on some devices (#3416, #3573)",This is more convenient than just the display id alone.,0
Add --list-displays,0.8181884, - Add --list-displays and --list-encoders,Add an option to list the device displays properly.,1
Move log message helpers to LogUtils,0.56355685, - Add --verbosity to configure log level at runtime,This class will also contain other log helpers.,0
Quit on audio configuration failure,0.44358176," - Add Audio forwarding (#14, #3757)","When audio capture fails on the device, scrcpy continues mirroring the video stream. This allows to enable audio by default only when supported. However, if an audio configuration occurs (for example the user explicitly selected an unknown audio encoder), this must be treated as an error and scrcpy must exit. PR #3757 link",0
Add --list-encoders,0.76506424," - Add --encoder option (#1810, #1827)",Add an option to list the device encoders properly. PR #3757 link,1
Move await_for_server() logs,0.38833198, - Add --verbosity to configure log level at runtime,Print the logs on the caller side. This will allow to call the function in another context without printing the logs. PR #3757 link,0
Add --audio-encoder,0.6923416," - Add --encoder option (#1810, #1827)","Similar to --video-encoder, but for audio. PR #3757 link",0
Extract unknown encoder error message,0.7043363, - Retry on spurious encoder error (#3693),This will allow to reuse the same code for audio encoder selection. PR #3757 link,1
Add --audio-codec-options,0.74556506, - Add --codec-options to pass MediaFormat options directly (#1325),"Similar to --video-codec-options, but for audio. PR #3757 link",1
Extract application of codec options,0.65201235,Advanced codec options,This will allow to reuse the same code for audio codec options. PR #3757 link,0
Add support for AAC audio codec,0.66874516,Advanced codec options,Add option --audio-codec=aac. PR #3757 link,0
Add --audio-codec,0.6840912, - Add --codec-options to pass MediaFormat options directly (#1325),Introduce the selection mechanism. Alternative codecs will be added later. PR #3757 link,0
Add --audio-bit-rate,0.5862435,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,Add an option to configure the audio bit-rate. PR #3757 link,0
Disable MethodLength checkstyle on createOptions(),0.33990663,Optionally disable seamless copy-paste,This method will grow as needed to initialize options. PR #3757 link,0
Rename --encoder to --video-encoder,0.68800825," - Add --encoder option (#1810, #1827)",This prepares the introduction of --audio-encoder. PR #3757 link,0
Rename --codec-options to --video-codec-options,0.70346117, - Add --codec-options to pass MediaFormat options directly (#1325),This prepares the introduction of --audio-codec-options. PR #3757 link,1
Rename --bit-rate to --video-bit-rate,0.54895574, - Add --codec-options to pass MediaFormat options directly (#1325),This prepares the introduction of --audio-bit-rate. PR #3757 link,0
Rename --codec to --video-codec,0.68680376, - Add --codec-options to pass MediaFormat options directly (#1325),This prepares the introduction of --audio-codec. PR #3757 link,0
Remove default bit-rate on client side,0.57168084,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"If no bit-rate is passed, let the server use the default value (8Mbps). This avoids to define a default value on both sides, and to pass the default bit-rate as an argument when starting the server. PR #3757 link",0
Record at least video packets on stop,0.5199387,Asynchronous recording,"If the recorder is stopped while it has not received any audio packet yet, make sure the video stream is correctly recorded. PR #3757 link",0
Disable audio before Android 11,0.46404457," - Add Audio forwarding (#14, #3757)","The permission ""android.permission.RECORD_AUDIO"" has been added for shell in Android 11. Moreover, on lower versions, it may make the server segfault on the device (happened on a Nexus 5 with Android 6.0.1). Refs link/ PR #3757 link",0
Disable audio on initialization error,0.45231578, - Automatically retry with a lower definition on MediaCodec error (#2947),"By default, audio is enabled (--no-audio must be explicitly passed to disable it). However, some devices may not support audio capture (typically devices below Android 11, or Android 11 when the shell application is not foreground on start). In that case, make the server notify the client to dynamically disable audio forwarding so that it does not wait indefinitely for an audio stream. Also disable audio on unknown codec or missing decoder on the client-side, for the same reasons. PR #3757 link",0
Add audio recording support,0.6157704, - Support recording to MKV,"Make the recorder accept two input sources (video and audio), and mux them into a single file. PR #3757 link",0
Rename video-specific variables in recorder,0.46004206," - Fix mp4 headers produced by recording (#351, #416)",This paves the way to add audio-specific variables. PR #3757 link,0
Do not merge config audio packets,0.49524814," - Add Audio forwarding (#14, #3757)","For video streams (at least H.264 and H.265), the config packet containing SPS/PPS must be prepended to the next packet (the following keyframe). For audio streams (at least OPUS), they must not be merged. PR #3757 link",0
Add an audio demuxer,0.60999227," - Add Audio forwarding (#14, #3757)",Add a demuxer which will read the stream from the audio socket. PR #3757 link,0
Force --no-audio if no display and no recording,0.5903714, - Add option --no-display to record without mirroring (#418),"The client does not use the audio stream if there is no display and no recording (i.e. only V4L2), so disable audio so that the device does not attempt to capture it. PR #3757 link",0
Give a name to demuxer instances,0.27518964,Fix hanging on multiple instances on Windows,This will be useful in logs. PR #3757 link,0
Rename demuxer to video_demuxer,0.41570044," - Add --encoder option (#1810, #1827)",There will be another demuxer instance for audio. PR #3757 link,0
Extract OPUS extradata,0.20201677," - Add --encoder option (#1810, #1827)","For OPUS codec, FFmpeg expects the raw extradata, but MediaCodec wraps it in some structure. Fix the config packet to send only the raw extradata. PR #3757 link",0
Use a streamer to send the audio stream,0.6120031," - Add Audio forwarding (#14, #3757)",Send each encoded audio packet using a streamer. PR #3757 link,0
Encode recorded audio on the device,0.56260556,"Some devices provide several encoders, and some of them may not work well.","For now, the encoded packets are just logged into the console. PR #3757 link",0
Make streamer more generic,0.41645688,This release brings a new feature to buffer the video stream for a given delay. This is especially useful for removing a source of stuttering for live-streaming.,Expose a method to write a packet from raw metadata (without BufferInfo).,0
Capture device audio,0.524524,Asynchronous recording,"Create an AudioRecorder to capture the audio source REMOTE_SUBMIX. For now, the captured packets are just logged into the console. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Add a new socket for audio stream,0.6059101," - Add Audio forwarding (#14, #3757)","When audio is enabled, open a new socket to send the audio stream from the device to the client. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Add --no-audio option,0.54781854, - Add --codec-options to pass MediaFormat options directly (#1325),Audio will be enabled by default (when supported). Add an option to disable it. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Use FakeContext for Application instance,0.32088184, - Initialize Application object (fix crashes on some devices) (#940),This will expose the correct package name and UID to the application context. PR #3757 link,0
Use shell package name for workarounds,0.38943517,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",For consistency. PR #3757 link,0
Use ROOT_UID from FakeContext,0.25167567, - Inject mouse events with a virtual device id (fix crashes on some,"Remove USER_ID from ServiceManager, and replace it by a constant in FakeContext. This is the same as android.os.Process.ROOT_UID, but this constant has been introduced in API 29. PR #3757 link",0
Use PACKAGE_NAME from FakeContext,0.24994339, - Inject mouse events with a virtual device id (fix crashes on some,Remove duplicated constant. PR #3757 link,0
Use AttributionSource from FakeContext,0.24131532, - Disable X11 compositor bypass (#522),FakeContext already provides an AttributeSource instance. PR #3757 link Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com,0
Add a fake Android Context,0.41149116," - Adapt input injection for Android 13 (#3186, #3190)","Since scrcpy-server is not an Android application (it's a java executable), it has no Context. Some features will require a Context instance to get the package name and the UID. Add a FakeContext for this purpose. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Improve error message for unknown encoder,0.753375, - Retry on spurious encoder error (#3693),The provided encoder name depends on the selected codec. Improve the error message and the suggestions. PR #3757 link,1
"Rename ""codec"" variable to ""mediaCodec""",0.67141956, - Add --codec-options to pass MediaFormat options directly (#1325),"This will allow to use ""codec"" for the Codec type. PR #3757 link",0
Make streamer independent of codec type,0.64097524,Advanced codec options,"Rename VideoStreamer to Streamer, and extract a Codec interface which will also support audio codecs. PR #3757 link",0
Pass all args to ScreenEncoder constructor,0.42716885,Encoder selection,There is no good reason to pass some of them in the constructor and some others as parameters of the streamScreen() method.,0
Move screen encoder initialization,0.6027411,Encoder selection,This prepares further refactors.,0
Write streamer header from ScreenEncoder,0.4675535," - Fix mp4 headers produced by recording (#351, #416)",The screen encoder is responsible for writing data to the video streamer.,0
Use VideoStreamer directly from ScreenEncoder,0.45235884,A new option --encoder allows to select another available H.264 encoder.,"The Callbacks interface notifies new packets. But in addition, the screen encoder will need to write headers on start. We could add a function onStart(), but for simplicity, just remove the interface, which brings no value, and call the streamer directly. Refs 87972e2022686b1176bfaf0c678e703856c2b027",0
Simplify error handling on socket creation,0.66224533, - Print correct error messages on Windows socket errors (#2624),"On any error, all previously opened sockets must be closed. Handle these errors in a single catch-block. Currently, there are only 2 sockets, but this will simplify even more with more sockets. Note: this commit is better displayed with --ignore-space-change (-b).",0
Reorder initialization,0.4067061, - Fix missing initialization that leaded to kill the whole process,"Initialize components in the pipeline order: demuxer first, decoder and recorder second.",0
Refactor recorder logic,0.58180666,Asynchronous recording,Process the initial config packet (necessary to write the header) separately.,0
Move last packet recording,0.44861805,Asynchronous recording,Write the last packet at the end.,0
Add start() function for recorder,0.5205404," - Add screen recording (#21, #292)","For consistency with the other components, do not start the internal thread from an init() function.",0
Open recording file from the recorder thread,0.61499923,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The recorder opened the target file from the packet sink open() callback, called by the demuxer. Only then the recorder thread was started. One golden rule for the recorder is to never block the demuxer for I/O, because it would impact mirroring. This rule is respected on recording packets, but not for the initial recorder opening. Therefore, start the recorder thread from sc_recorder_init(), open the file immediately from the recorder thread, then make it wait for the stream to start (on packet sink open()). Now that the recorder can report errors directly (rather than making the demuxer call fail), it is possible to report file opening error even before the packet sink is open.",0
Inline packet_sink impl in recorder,0.38425383,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Remove useless wrappers.,0
Initialize recorder fields from init(),0.4256856," - Add screen recording (#21, #292)","The recorder has two initialization phases: one to initialize the concrete recorder object, and one to open its packet_sink trait. Initialize mutex and condvar as part of the object initialization. If there were several packet_sink traits (spoiler: one for video, one for audio), then the mutex and condvar would still be initialized only once.",0
Report recorder errors,0.42215705," - Add screen recording (#21, #292)","Stop scrcpy on recorder errors. It was previously indirectly stopped by the demuxer, which failed to push packets to a recorder in error. Report it directly instead:  - it avoids to wait for the next demuxer call;  - it will allow to open the target file from a separate thread and stop    immediately on any I/O error.",0
Move previous packet to a local variable,0.41022813,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",It is only used from run_recorder().,0
Move pts_origin to a local variable,0.18495432,$ scrcpy,It is only used from run_recorder().,0
Change PTS origin type from uint64_t to int64_t,0.31290352,An alternative implementation (#2802) fixes the issue.,"It is initialized from AVPacket.pts, which is an int64_t.",0
Fix --encoder documentation,0.727914," - Add --encoder option (#1810, #1827)",Mention that it depends on the codec provided by --codec (which is not necessarily H264 anymore).,1
Do not print stacktraces when unnecessary,0.3982904, - ~Do not print irrelevant workarounds errors (#994)~,"User-friendly error messages are printed on specific configuration exceptions. In that case, do not print the stacktrace. Also handle the user-friendly error message directly where the error occurs, and print multiline messages in a single log call, to avoid confusing interleaving.",0
Fix --no-clipboard-autosync bash completion,0.62283266," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)",Fix typo.,0
Split server stop() and join(),0.6184322, - Terminate server properly without killing it on close (#1992),"For consistency with the other components, call stop() and join() separately. This allows to stop all components, then join them all.",0
Print FFmpeg logs,0.45603585, - Fix segfault on recording with old FFmpeg versions (#707),FFmpeg logs are redirected to a specific SDL log category. Initialize the log level for this category to print them as expected.,0
Move FFmpeg callback initialization,0.43201023, - Add --codec-options to pass MediaFormat options directly (#1325),Configure FFmpeg log redirection on start from a log helper.,0
Upgrade FFmpeg custom builds for Windows,0.7742469, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"Use a build which includes the pcm_s16le decoder, to support RAW audio. Refs link",1
Upgrade FFmpeg (6.0) for Windows,0.8989568, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),Use the latest version (specifically built for scrcpy). Refs link,1
Use minimal prebuilt FFmpeg for Windows,0.74145913, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"On the scrcpy-deps repo, I built FFmpeg 5.1.2 binaries for Windows with only the features used by scrcpy. For comparison, here are the sizes of the dll for FFmpeg 5.1.2:  - before: 89M  - after: 4.7M It also allows to upgrade the old FFmpeg version (4.3.1) used for win32. Refs link Refs link",1
Simplify libusb prebuilt scripts,0.5123894, - Upgrade libusb to 1.0.26 in Windows releases (#3206),"In theory, include/ might be slightly different for win32 and win64 builds. Use each one separately to simplify.",0
Silence lint warning about constant in API 29,0.40769798, - ~Do not print irrelevant workarounds errors (#994)~,"MediaFormat.MIMETYPE_VIDEO_AV1 has been added in API 29, but it is not a problem to inline the constant in older versions.",0
Remove manifest package name,0.2874453,Remove deprecated short options,"As reported by gradle: Setting the namespace via a source AndroidManifest.xml's package attribute is deprecated. Please instead set the namespace (or testNamespace) in the module's build.gradle file, as described here: link",0
Upgrade gradle build tools to 7.4.0,0.39573735, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,Plugin version 7.4.0. Gradle version 7.5. Refs link,0
Fix useless garbage initialization,0.59856546, - Fix missing initialization that leaded to kill the whole process,"The variable p was initialized with a garbage value (a const char ** casted to char *). Fortunately, it was never read. Refs link",0
Fix MIN/MAX macros,0.2993306, - Add options to set an initial window size and position (#762),"Expressions like ""x < MAX(y, z)"" were broken.",0
Initialize server->serial in all cases,0.5171912, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"Running scrcpy --tcpip on a device already connected via TCP/IP did not initialize server->serial. As a consequence, in debug mode, an assertion failed: scrcpy: ../app/src/server.c:770: run_server: Assertion `server->serial' failed. In release mode, scrcpy failed with this error: adb: -s requires an argument",0
Fix error message on icon loading failure,0.43842757, - Improve some error messages,,0
Do not use avformat network,0.46824872, - Add H265 and AV1 video codec support (#3713),Scrcpy does not use FFmpeg network features. Initialize network locally instead (useful only for Windows). The include block has been moved to fix the following warning: Please include winsock2.h before windows.h,0
Accept Windows Sockets from version 1.1,0.5779172, - Print correct error messages on Windows socket errors (#2624),Version 2.2 is probably not necessary (1.1 is the version required by FFmpeg when network is enabled). Refs link Refs link,0
Fix WSAStartup() error check on Windows,0.47562402, - Keep the console open on error on Windows (#261),,0
Fix --bit-rate option in bash completion script,0.6171465," - Add Bash completion script (#2930, #3048)","The option is --bit-rate, not --bitrate.",0
Add auto-completion for --codec option,0.65857166, - Add --codec-options to pass MediaFormat options directly (#1325),Add missing command to bash and zsh completion scripts.,0
Use enum for long options constants,0.29593816,Encoder selection,This avoids to manually assign values.,0
Initialize mouse_input_mode explicitly,0.4904894,Add HID mouse support,The explicit initialization was missing. It had no consequences because SC_MOUSE_INPUT_MODE_INJECT == 0. Fixes #3749 link,0
Accept muxing AV1 into MP4 container,0.5275428,"For simplicity, this muxing was done by the thread receiving the stream and feeding the decoder. In practice, it worked well enough, but whenever writing the file took too much time (during a blocking I/O call), this delayed the decoding of the following frames.",MP4 supports AV1. Refs d2dce5103832d6a9fc29f56a9795c22e44ceafa1,0
Fix inconsistent quotes,0.35552815, - Fix clipboard paste (#1658),The encoder name started with a simple quote but ended with a double quote. Use a single quote for both.,0
Suggest commands with an explicit '=',0.35272014," - Add bash and zsh autocompletion for -s/--serial (#3522, #3523)",,0
Move finally-block to fix deadlock on stop,0.32942444, - Fix process hanging on Ctrl+C during initialization,"DesktopConnection implements Closeable, so it is implicitly closed after its try-with-resources block. Closing the DesktopConnection shutdowns the sockets, so it is necessary in particular to wake up blocking read() calls from the controller. But the controller thread was joined before the DesktopConnection was closed, causing a deadlock. To fix the problem, join the controller thread only after the DesktopConnection is closed. Refs 400a1c69b198103feff9682895529529890c1acc",0
Remove unnecessary error logs,0.49289864, - Improve some error messages,"When a call to a packet or frame sink fails, do not log the error on the caller side: either the ""failure"" is expected (explicitly stopped) or it must be logged by the packet or frame sink implementation.",0
Document default video codec,0.6064754,Advanced codec options,"Mention the default option value, like for other commands.",0
Fix command-line help typo,0.52076685, - Adapt --help output to terminal size,,0
Prefix receiver by sc_,0.39479226,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Like all other components in scrcpy.,0
Fix demuxer error message,0.51824206," - Improve error message on missing adb (#236, #254)","Now that there are several possible codecs, do not hardcode H.264 in the error message. Refs 3e517cd40eb50f8afb5137f39b0676fead58902a",0
Log non-EPIPE I/O exceptions,0.49365297, - Log input events in verbose mode (#2371),"On close, the client closes the socket. This wakes up socket blocking calls on the server-side, by throwing an exception. Since this exception is expected, it was not logged. However, other IOExceptions might occur, which must not be ignored. For that purpose, log only IOException when they are not caused by an EPIPE error.",0
Rename 'uid' to 'scid',0.29173672, - Increase possible display id range (#2009),A random identifier is generated to differentiate multiple running scrcpy instances. Rename it from 'uid' to 'scid' (scrcpy id) not to confuse it with Linux UID. Fixes #3729 link Refs 4315be164823d2c8fc44b475b52af79bfee98ff1,0
Extract packet merging,0.36489716,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Config packets must be prepended to the next media packet. Extract the logic to a new sc_packet_merger helper to simplify the demuxer code.,0
Remove unused parser,0.35417777, - Remove deprecated short options -T and -c,"Since 1c02b58412db2646ba6e57a7e305d26482b9bc0d, the parser is not used anymore.",0
Log component stopped in finally clause,0.38392395, - Keep the console open on error on Windows (#261),The message must be logged even when no exception occurs.,0
Join all threads before end of main,0.32762545, - Terminate server properly without killing it on close (#1992),Some calls from separate threads may throw exceptions once the main() method has returned.,0
Properly report demuxer errors,0.46754968," - Improve error message on missing adb (#236, #254)","All demuxer errors were reported as ""device disconnected"", even if the failure was not related to device socket read.",0
Prefix UI events constants by SC_,0.40196556, - Inject mouse events with a virtual device id (fix crashes on some,,0
Split codec_id reading,0.4853688,Advanced codec options,Receive codec id and convert it to AVCodecID separately. This will allow the caller to distinguish between EOS and unknown codec id.,0
Fix error return value,0.49805862, - Improve some error messages,"The function returns an enum AVCodecID, not a bool.",0
Remove unused codec context,0.5480218,"To solve this problem, the previous release (v1.22) added a mechanism to catch MediaCodec errors on start and automatically retry with a lower definition (scrcpy -m1024).",The demuxer does not need any codec context.,0
Remove unused constant,0.33030772, - ~Do not print irrelevant workarounds errors (#994)~,This line was committed by error. Refs 3e517cd40eb50f8afb5137f39b0676fead58902a,0
Add Fedora instructions in README,0.33612868, - Add manpage,Add the command to install the scrcpy package for Fedora directly. PR #3715 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Set power mode on all physical displays,0.6320917, - Make --turn-screen-off work on all displays (#3716),Android 10 and above support multiple physical displays. Apply power mode to all of them. Fixes #3716 link,0
Add support for AV1,0.63708436, - Add H265 and AV1 video codec support (#3713),Add option --codec=av1. PR #3713 link,0
Add support for H265,0.70386374, - Add H265 and AV1 video codec support (#3713),Add option --codec=h265. PR #3713 link Fixes #3092 link,1
Add option to select video codec,0.70997345,Advanced codec options,Introduce the selection mechanism. Alternative codecs will be added in further commits. PR #3713 link,1
Simplify server info initialization,0.45745778, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,Use sc_read16be() to read 16-bit integer fields.,0
Extract video streaming to a separate class,0.4005381,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,ScreenEncoder handled both capture/encoding and sending over the network. Move the streaming part to a separate VideoStreamer.,0
Move variable assignment,0.25903592,Copy-paste in both directions,Computing eof flag is not necessary if rotation changed.,0
Compute relative PTS on the client-side,0.25318882, - Make it work over tcpip (#5),"The PTS received from MediaCodec are expressed relative to an arbitrary clock origin. We consider the PTS of the first frame to be 0, and the PTS of every other frame is relative to this first PTS (note that the PTS is only used for recording, it is ignored for mirroring). For simplicity, this relative PTS was computed on the server-side. To prepare support for multiple stream (video and audio), send the packet with its original PTS, and handle the PTS offset on the client-side (by the recorder). Since we can't know in advance which stream will produce the first packet with the lowest PTS (a packet received later on one stream may have a PTS lower than a packet received earlier on another stream), computing the PTS on the server-side would require unnecessary waiting.",0
Improve workarounds call comments,0.39085722, - Improve some error messages,,0
Move Workarounds call,0.42458868, - Apply workarounds only on error (#994),Workarounds are not specific to the screen encoder. Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com,0
Do not expose controller threads,0.33446223,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",The way the controller executes its events asynchronously is an implementation detail.,0
Fix manpage formatting,0.66647923, - Add manpage,Only the option arguments must be underlined.,0
Inject additional ACTION_BUTTON_* events for mouse,0.65766644, - Inject mouse events with a virtual device id (fix crashes on some,"On mouse click events:  - the first button pressed must first generate ACTION_DOWN;  - all button pressed (including the first one) must generate    ACTION_BUTTON_PRESS;  - all button released (including the last one) must generate    ACTION_BUTTON_RELEASE;  - the last button released must in addition generate ACTION_UP. Otherwise, Chrome does not work properly. Fixes #3635 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix mouse pointer state update,0.5410221, - Fix mouse focus clickthrough,"If the pointer is a mouse, the pointer is UP only when no buttons are pressed (not when a button is released, because there might be other buttons still pressed). Refs #3635 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Forward action button to device,0.5902457,A new option --forward-all-clicks has been added to forward these clicks to the device instead.,"On click event, only the whole buttons state was passed to the device. In addition, on ACTION_DOWN and ACTION_UP, pass the button associated to the action. Refs #3635 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Retry on spurious error,0.5941565, - Retry on spurious encoder error (#3693),"MediaCodec may fail spuriously, typically when stopping an encoding and starting a new one immediately (for example on device rotation). In that case, retry a few times, in many cases it should work. Refs #3693 link",0
Extract retry handling,0.34540552, - Retry on spurious encoder error (#3693),Move the code to downscale and retry on error out of the catch-block. Refs 26b4104844fb9516be13ff1f2be34e2945090e79,0
Move local variables declarations,0.25600576,Windows PATH simplification,This makes it clear that these local variables are only passed to setDisplaySurface().,0
Remove useless setSize() method,0.42920393," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)",Inline its content. It makes the logic of internalStreamScreen() more readable (it reduces the number of indirections).,0
Remove useless configure() method,0.36694393, - Remove deprecated short options -T and -c,Inline its single call.,0
Keep the same MediaCodec instance across sessions,0.55671155,"To solve this problem, the previous release (v1.22) added a mechanism to catch MediaCodec errors on start and automatically retry with a lower definition (scrcpy -m1024).",Calling codec.reset() is sufficient.,0
Remove useless destroyDisplay() method,0.44788417, - Fix getDisplayIds() crash on some versions of Android 13 beta (#3446),The method made exactly one simple call. Just make the call directly.,0
Keep the same display binder across sessions,0.4418102,Multi-display,Do not destroy/recreate the display when starting a new encoding session (on device rotation for example).,0
Terminate loop explicitly on interrupted,0.4056557, - scrcpy-console.bat is a simple wrapper script to pause on error,Make explicit that the loop terminates when the current thread is interrupted.,0
Use Java lambdas where possible,0.1706069,"However, some real-time use cases may benefit from compensating for jitter, by adding a small latency. For example, few tens of seconds of latency for live-streaming are not important, but jitter is noticeable. The may also improve the mirroring of a video playback.",,0
Support Java lambdas in build_without_gradle.sh,0.24525815,Improve Android 12 support,Building Java source code using lambdas requires core-lambda-stubs.jar. Refs #3657 link,0
Add missing final modifiers,0.317467,MOD+o).,,0
Use try-with-resources,0.38549563, - Apply workarounds only on error (#994),Replace an explicit try-finally by a try-with-resources block.,0
Use random name for device socket,0.43327534, - Consider emulators as TCP/IP devices (-e) (#3137),"For the initial connection between the device and the computer, an adb tunnel is established (with ""adb reverse"" or ""adb forward""). The device-side of the tunnel is a local socket having the hard-coded name ""scrcpy"". This may cause issues when several scrcpy instances are started in a few seconds for the same device, since they will try to bind the same name. To avoid conflicts, make the client generate a random UID, and append this UID to the local socket name (""scrcpy_01234567"").",0
Add random util,0.30132204," - Add Bash completion script (#2930, #3048)",Add a user-friendly tool to generate random numbers.,0
Add jrand48()/nrand48() compat functions,0.31454778," - Add support for Android 12 (#2129, #2402)",These functions are not available on all platforms.,0
Use separate gen dir to build without gradle,0.4317037, - Change the Windows build (cross-compile from Linux),The generated source files were written to the classes dir. Use a separate gen dir instead.,0
"Remove ""on Linux"" in FAQ",0.3734518,| Linux          | :heavy_check_mark: | :heavy_check_mark:,HID now works on all platforms.,0
Add FAQ section about HID/OTG on Windows,0.7384461," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)",Refs #3654 link,1
Avoid unnecessary copy on config packets demuxing,0.46104312, - Avoid additional buffer copy in userspace on the server,"Use av_packet_ref() to reference the packet without copy. This also simplifies the logic, by making the ""offset"" variable and the memcpy() call local to the if-block.",0
"Revert ""Remove continuous resizing workaround for Windows""",0.6882552, - Restore resizing workaround for Windows (#3640),"This reverts commit 18082f60697ae8edad2db950637638c8bb6bf0d2. I can't reproduce, but it seems the workaround improves the behavior on some Windows versions. Fixes #3640 link Refs #3458 link",0
"Use ""meson setup"" from install_release.sh",0.32702613, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,Refs 64821466a1ddcdf7f0a50fa39067f066284ef9ca,0
Update links to v1.25,0.46752357,Hotfix for v1.15:,,0
Bump version to 1.25,0.49329215,Hotfix for v1.15:,,0
Upgrade FFmpeg (5.1.2) for Windows 64-bit,0.97755814, - Upgrade FFmpeg to 5.1.2 in Windows 64-bit releases,Use the latest version of FFmpeg in Windows 64-bit releases.,1
Upgrade SDL (2.26.1) for Windows,0.951784, - Upgrade SDL to 2.26.1 in Windows releases,Include the latest version of SDL in Windows releases.,1
Upgrade platform-tools (33.0.3) for Windows,0.87173843, - Upgrade platform-tools to 33.0.3 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Force mouse source when --forward-all-clicks,0.7410605," - Fix click behavior when --forward-all-clicks is set (#3568, #3579)","Right click and middle click require the source device to be a mouse, not a touchscreen. Therefore, the source device was changed only when a button other than the primary button was pressed (see adc547fa6e8e6167cd9633a97d98de6665b8c23a). However, this led to inconsistencies between the ACTION_DOWN when a secondary button is pressed (with a mouse as source device) and the matching ACTION_UP when the secondary button is released (with a touchscreen as source device, because then there is no button pressed). To avoid the problem in all cases, force a mouse as source device when --forward-all-clicks is set. Concretely, for mouse events in --forward-all-clicks mode:  - device source is set to InputDevice.SOURCE_MOUSE;  - motion event toolType is set to MotionEvent.TOOL_TYPE_MOUSE; Otherwise (when --forward-all-clicks is unset, or for real touch events), finger events are injected:  - device source is set to InputDevice.SOURCE_TOUCHSCREEN;  - motion event toolType is set to MotionEvent.TOOL_TYPE_FINGER. Fixes #3568 link PR #3579 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",1
Remove continuous resizing workaround for Windows,0.708865, - Restore resizing workaround for Windows (#3640),It turns out that the workaround only worked for MacOS. Refs #3458 link Refs SDL/#1059 link,1
Add parent directory in release zipfile,0.36119726,Push to /sdcard/Download/,This avoids to mistakenly extract all the files in the current directory.,0
"Use ""meson setup""",0.26052472,"To pass command line arguments, it must still be started from a terminal or a script though.",This fixes the following warning: WARNING: Running the setup command as meson [options] instead of meson setup [options] is ambiguous and deprecated.,0
Adapt ClipboardManager for Android 13,0.7856993, - Adapt copy-paste internals for Android 13 (#3497),"A new ""attributionTag"" parameter has been added to the methods getPrimaryClip(), setPrimaryClip() and addPrimaryClipChangedListener() of IClipboard.aidl. Refs link/ Fixes #3497 link",1
Upgrade junit to 4.13.2,0.3159194, - Upgrade FFmpeg to 4.3.1 in Windows releases,,0
Use current adb port (if any) for --tcpip,0.94126195," - Use current adb port (if any) for --tcpip (#3591, #3592)","If the current adb port is not 5555 (typically 0 because it is not in TCP/IP mode), --tcpip automatically executes (among other commands): adb tcpip 5555 In case adb was already listening on another port, this command forced to listen on 5555, and the connection should still succeed. But this reconfiguration might be inconvenient for the user. If adb is already in TCP/IP mode, use the current enabled port without reconfiguration. Fixes #3591 link",1
Fix CommandParserTest code style,0.330002," - Generate both console and noconsole versions (fix ""no output"" issue)",Make checkstyle happy.,0
Always use --key=value in README,0.416522,"This version introduces a new option (--raw-key-events, #2831), which always injects key events and ignores all text events.","Mandatory arguments may be passed in either of these two forms:  1. --key value  2. --key=value Optional argument may only be passed in the second form. For consistency, always document using --key=value. Refs f76fe2c0d4847d0e40d8708f97591abf3fa22ea5",0
Fix DisplayInfo parsing for Android Q,0.45527357," - Make --turn-screen-off work for Android Q devices (#586, #587)",The DisplayInfo dump format has slightly changed in AOSP: link PR #3573 link Ref #3416 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Support wchar_t in argv for Windows,0.46663696,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",PR #3547 link Fixes #2932 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Avoid string concatenation in crossfiles,0.285481, - Workaround Windows issue with non-ASCII path (#2619),This feature is not supported on older meson versions: ERROR: Malformed value in cross file variable prebuilt_libusb. Refs link PR #3546 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Build log.c for test_cli,0.51594025, - Add --verbosity to configure log level at runtime,"On Windows, sc_log_windows_error() is called from net.c, so log.c must also be compiled. Fixes #3542 link",0
Add missing include  for strlen(),0.39935786, - ~Do not print irrelevant workarounds errors (#994)~,,0
Add missing include  for memmove(),0.32955542," - Fix ""Could not find v4l2 muxer"" (#2718)",,0
Add -s auto-completion for zsh,0.81519806, - Add ZSH completion script (#3012),Fixes #3522 link PR #3523 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Add -s auto-completion for bash,0.7617612," - Add Bash completion script (#2930, #3048)",Fixes #3522 link PR #3523 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Make ServiceManager and Settings methods static,0.24432933," - Restore power mode to ""normal"" on disconnection (#1572, #1576)","There were exactly one instance of ServiceManager and Settings, stored in Device. Since a Device instance is not created by the CleanUp executable, it was not straightforward to call wrapper methods on cleanup. Remove this artificial restriction and expose them publicly via static methods (this is equivalent to expose a singleton, but less verbose).",0
Fix typo in logs,0.44867676, - Improve some error messages,,0
Add fallback to get DisplayInfo,0.6883695," - Add fallback to get display information on some devices (#3416, #3573)",PR #3416 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Use /dev/null instead of closing fds,0.4008015, - Terminate server properly without killing it on close (#1992),"Some adb commands do not like when stdin, stdout or stderr are closed (they hang forever). Open /dev/null for each.",0
Extract $BUILD_TOOLS_DIR,0.35555512, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"In the script to build without gradle, the build-tools full path is used at several places. Use a separate variable for readability.",0
Add scrcpy-console.desktop,0.68964195, - Add icon to scrcpy.exe (#2815),"Add a launcher which opens a terminal, and keep it open in case of errors (so that the user has time to read error messages). The behavior is the same as scrcpy-console.bat on Windows. PR #3351 link",0
Use shell environment to execute launcher,0.40873098,"To pass command line arguments, it must still be started from a terminal or a script though.",Make Exec= compatible with $PATH configured in .bashrc or .zshrc PR #3351 link Refs #296 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add desktop entry file for Linux app launchers,0.7477341," - Add desktop entry files for Linux (#295, #296, #748, #1636, #3351)",Refs link PR #3351 link Replaces PR #296 link Fixes #295 link Fixes #748 link Fixes #1636 link Co-authored-by: Chih-Hsuan Yen yan12125@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
Replace hardcoded 'share/' by datadir variable,0.40159833,Windows PATH simplification,Meson defines a variable for the data directory. PR #3351 link,0
Upgrade Android SDK to 33,0.50239027, - Upgrade platform-tools to 33.0.1 (adb) in Windows releases (#3206),,0
Upgrade gradle build tools to 7.2.2,0.38006282, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,Plugin version 7.2.2. Gradle version 7.3.3. Refs: link,0
Move from jcenter() to mavenCentral(),0.2384543, - Restore the .jar extension on the device (fix crashes on some,Refs link Refs link/,0
Use precise scrolling values,0.7457131,High-precision scrolling,"Since SDL 2.0.18, the amount scrolled horizontally or vertically is exposed as a float (between 0 and 1). Forward a precise value to the Android device when possible. Refs link Fixes #3363 link PR #3369 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Add conversion from float to fixed-point i16,0.33349317," - Add --printf-fps (#468, #3030)",To encode float values between -1 and 1. PR #3369 link,0
Add unit test for float encoding,0.35346562," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",PR #3369 link,0
Extract conversion from float to u16 fixed-point,0.3285858," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",PR #3369 link,0
Rename buffer_util.h to binary.h,0.4703474, - Implement (optional) buffering (#2464),It will allow to expose more binary util functions not related to buffers. PR #3369 link,0
Add unit test for float decoding,0.32821023," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",PR #3369 link,0
Extract conversion from u16 fixed-point to float,0.30190605," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",PR #3369 link,0
Move toUnsigned() to a Binary util class,0.30630583," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",PR #3369 link,0
Remove deprecated meson.source_root(),0.37509704,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"This method is deprecated since Meson 0.56.0: link We could replace it with meson.project_source_root(), but this would make Meson 0.56 or above mandatory. Since the path in always computed from the server/ directory, just add '..' to reference the root project directory. Refs c456e3826470753bdaefcffc93e9ae1bf25b12f7",0
Move README and FAQ translations to the wiki,0.21887098, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"This lowers the barrier to contribute to translations, and frees up my maintenance time used to review and merge translations and their updates in many languages.",0
Fix FAQ formatting,0.4023481," - Fix rendering issues (#1408, #787)",,0
Use DisplayManagerGlobal instance,0.4747089," - Add fallback to get display information on some devices (#3416, #3573)",Use the client instance to communicate with the DisplayManager server. Fixes #3446 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Rename net_listen() parameter,0.5142781," - Use current adb port (if any) for --tcpip (#3591, #3592)","For consistency with net_accept(), which necessarily uses a server socket, name the net_listen() parameter ""server_socket"".",0
Replace '%g' by '%f' as printf format,0.3717848," - Add --printf-fps (#468, #3030)","For some reason, '%g' does not work correctly with MinGW. Refs #3369 link PR #3399 link",0
Detect Windows using _WIN32 in network util,0.37208647, - Print correct error messages on Windows socket errors (#2624),"For consistency, always use _WIN32 instead of a mix of WINDOWS and _WIN32.",0
Fix protocol documentation in comments,0.3461857, - Improve some error messages,"Flags were in the correct order in the schema, but their description were reversed.",0
Add missing allocation failure check,0.42273408, - Improve some error messages,,0
Add missing LOG_OOM() on malloc failure,0.42755482, - Add --verbosity to configure log level at runtime,,0
Remove useless dependencies reference,0.35361403,Remove deprecated short options,There is no libs/ directory with local jar files.,0
Document envvars for all platforms,0.3706656,"On Windows, setting an environment variable is slightly different:","Document how to set environment variables from the terminal for bash, cmd and PowerShell.",0
Fix environment variable configuration in FAQ,0.55731463,"On Windows, setting an environment variable is slightly different:","In bash, the variable is set using ""export"".",0
Remove unused stream.h,0.39935607," - Add --no-cleanup option (#1764, #3020)",The file was not removed by 7dec225cebbf208cf1d607bd45fb49e3a9fa1167.,0
Rename function to simplify,0.30470952,Windows PATH simplification,"For consistency with sc_adb_parse_device(), do not include ""from_output"" in the function name.",0
Add missing return 0 in tests,0.45278865, - Return non-zero value on connection loss (#204),,0
Fix function declarations,0.34124905, - Improve some error messages,Add missing void in function parameters list.,0
Reduce SHA-256 size in README and BUILD,0.34180993,"The solution is simple: reduce the resolution (scrcpy -m1024 for example), as explained in the FAQ (did I mention that nobody reads the FAQ?).",This avoids breaking the page layout on GitHub.,0
Update links to v1.24,0.44062716,Hotfix for v1.15:,,0
Bump version to 1.24,0.4811055, - Fix support for expand notification feature on some devices (#2551),,0
"Revert ""Make OTG window resizable""",0.6843201," - Apply requested window size in OTG mode (#3099, #3219)","On Windows and macOS, resizing blocks the event loop. Handling it properly would require the same workaround as done in screen.c. This reverts commit 436b368f9df4469274502f29626586b48db44a0c.",0
Fix inverted check,0.38290945, - Accept negative window position (#1242),SDL_RenderSetLogicalSize() returns 0 on success. Refs fc8942aa03dd18b20d6b2e450b13ba56d2c3489e,0
Fix release script for platform-tools 33.0.1,0.666162, - Upgrade platform-tools to 33.0.1 (adb) in Windows releases (#3206),These paths were not updated by commit b8d78743f7fbe7aefed957f41e68efc4791573ba.,0
Use quotes for commands in documentation,0.35789892,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",,0
Update installed files list in BUILD documentation,0.37923458, - Change the Windows build (cross-compile from Linux),,0
Upgrade FFmpeg (5.0.1) for Windows 64-bit,0.9765911, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,Use the latest version of FFmpeg in Windows 64-bit releases.,1
Upgrade SDL (2.0.22) for Windows,0.9539631, - Upgrade SDL to 2.0.22 in Windows releases,Include the latest version of SDL in Windows releases.,1
Enable linear filtering in OTG mode,0.60238403,OTG mode,This improves the icon quality with non-standard window size. PR #3219 link,0
Make OTG window resizable,0.8331381," - Apply requested window size in OTG mode (#3099, #3219)",PR #3219 link,1
Apply requested window size in OTG mode,0.95545524," - Apply requested window size in OTG mode (#3099, #3219)",Fixes #3099 link PR #3219 link,1
Create OTG window with HIGHDPI flag,0.58215666," - Apply requested window size in OTG mode (#3099, #3219)",This will avoid poor quality with HiDPI displays. PR #3219 link,0
Add option to not power on on start,0.6269453, - Do not power on the device if --no-control is set,"By default, on start, the device is powered on. To prevent this behavior, add a new option --no-power-on. Fixes #3148 link PR #3210 link",0
Add missing mouse shortcuts in --help,0.5495476, - List available shortcut keys on error (#1681),Document 4th-click and 5th-click shortcuts. Fixes #3122 link,0
Fix GitHub case in BUILD,0.5204828,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,"Replace ""Github"" with ""GitHub"". PR #3218 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix typo in German README,0.35733017,Bugfixes,"Replace ""Wifi"" with ""Wi-Fi"", as in English and other translations. PR #3217 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix typos in Indonesian README,0.3856243,Bugfixes,Fix code blocks. PR #3216 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Upgrade libusb (1.0.26) for Windows,0.96462893, - Upgrade libusb to 1.0.26 in Windows releases (#3206),Upgrade and enable libusb support for Windows 32-bit builds. Refs #3011 link Fixes #3204 link PR #3206 link,1
Upgrade platform-tools (33.0.1) for Windows,0.8691705, - Upgrade platform-tools to 33.0.3 (adb) in Windows releases,PR #3206 link,1
Remove obsolete alternative injection method,0.46694073,Remove deprecated short options,"The previous commit replaced the IInterface instance (the ""input"" service) by the InputManager instance (retrieved by InputManager.getInstance()). Both define an ""injectInputEvent"" method, but the alternate version (probably) does not concern the InputManager. This reverts commit b7a06278fee0dbfbb18b651ad563d9fb0797c8bc. PR #3190 link",0
Adapt event injection to Android 13,0.7524889," - Adapt input injection for Android 13 (#3186, #3190)","Using the ""input"" service results in a permission error in Android 13. Use the InputManager instance (retrieved by InputManager.getInstance()) instead. Fixes #3186 link PR #3190 link",1
Improve README,0.3967204, - Various technical refactors and fixes,"Improve clarity, grammar, consistency, punctuation, and formatting. PR #3177 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix typos/grammar issues in README,0.45314392, - Various technical refactors and fixes,PR #3174 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update README.it.md to v1.23,0.49451828,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #3151 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add missing SC_ prefix to header guards,0.35426605," - Fix mp4 headers produced by recording (#351, #416)",,0
Add missing include,0.37937734," - Add Bash completion script (#2930, #3048)",Refs c3d45c8397b7886d9071ccd69f04e2c9245fb8e7,0
Fix reference to FAQ in README,0.35042533,Hotfix for v1.15:,PR #3065 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix icon path in ./run,0.4437689, - Add icon to scrcpy.exe (#2815),The data/ directory has been moved to app/data/. Refs 36c75e15b8e9eeb01bd287a42fa3f1513a728ebb,0
Fix OpenGL ES prefix skip,0.42361256,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.",,0
Improve README.zh-Hans.md,0.3518097, - Add ZSH completion script (#3012),"Fix misleading zoom instruction, which gave opposite action steps. PR #3126 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Consider emulators as TCP/IP devices,0.8868165, - Consider emulators as TCP/IP devices (-e) (#3137),"Emulators were wrongly considered as USB devices, so they were selected using -d instead of -e (which was inconsistent with the adb behavior). Refs #3005 link Refs #3137 link",1
Log an error on unexpected device state,0.4756183, - Do not power on the device if --no-control is set,Refs #3129 link,0
Use $ANDROID_SERIAL if no selector is specified,0.87266946," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Like adb, read the ANDROID_SERIAL environment variable to select a device by serial if no explicit selection (-s, -d, -e or --tcpip=) is provided via the command line. Fixes #3111 link PR #3113 link",1
Document exit status in --help,0.44774336, - Print help to stdout (instead of stderr),Refs #3085 link,0
Add specific exit code for device disconnection,0.9297428," - Add specific exit code for device disconnection (#3083, #3085)","Modify the return logic such that exit code 1 is used when the initial connection fails, but if a session is established, and then the device disconnects, exit code 2 is emitted. Fixes #3083 link PR #3085 link Signed-off-by: martin f. krafft madduck@madduck.net Signed-off-by: Romain Vimont rom@rom1v.com",1
Report server connection state,0.47949904, - Return non-zero value on connection loss (#204),"We must distinguish 3 cases for await_for_server():  - an error occurred  - no error occurred, the device is connected  - no error occurred, the device is not connected (user requested to    quit) For this purpose, use an additional output parameter to indicate if the device is connected (only set when no error occurs). Refs #3085 link",0
Improve HID event push error message,0.5170565, - Improve some error messages,"On HID event push failure, add the event type in the error message.",0
Fix typo in error message,0.6979118, - Improve some error messages,,0
Add libusb error log,0.5817791, - Upgrade libusb to 1.0.26 in Windows releases (#3206),Log libusb_get_string_descriptor_ascii() errors. Refs #3050 link,0
Fix icon path in README,0.43282318," - Add official high-resolution icon (#1497, #1987)",The data/ directory was moved to app/data/. Refs 36c75e15b8e9eeb01bd287a42fa3f1513a728ebb,0
Update links to v1.23,0.4544477,Hotfix for v1.15:,,0
Bump version to 1.23,0.4806245,Hotfix for v1.15:,,0
Add missing include for vector,0.2924929," - Fix ""Could not find v4l2 muxer"" (#2718)",Include stdlib.h for realloc().,0
Add contact links to the README,0.47321412,Contact,Add Reddit and Twitter links (and an additional link to the GitHub issues).,0
Add Bash completion script,0.90021497," - Add Bash completion script (#2930, #3048)",Fixes #2930 link Refs #3012 link,1
Add ZSH completion script,0.9404787, - Add ZSH completion script (#3012),PR #3012 link Signed-off-by: Romain Vimont rom@rom1v.com,1
"Move ""Device unauthorized"" in FAQ",0.42130235,ERROR:     -->   (usb)  01234567890abcdef         unauthorized,"Put ""Device not detected"" first.",0
Update FAQ to match the latest version,0.4045372, - Various technical refactors and fixes,,0
Remove spurious empty line,0.36553127, - Fix segfault on empty file recorded (#918),,0
Mention adb wireless option for Android 11+,0.506235,Android 11,Add a paragraph about toggling an option to bypass having to physically connect the device to the user's computer. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Make step more explicit in wireless section,0.46247786,Simplify TCP/IP (wireless) configuration,PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add troubleshooting in wireless section,0.31090608, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),"Add a small troubleshooting section since wireless might add some complexity, and to lessen incoming relevant issue posts. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Improve phrasing in wireless section,0.43509826,Simplify TCP/IP (wireless) configuration,PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Renumber steps in wireless section,0.3983811," - Forward Ctrl and Shift to the device (#1598, #555, #942)","The actual numbers are ignored by markdown, but start at 1 for consistency. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Add an explicit first step in wireless section,0.44729793,Simplify TCP/IP (wireless) configuration,"Mention that the device must be plugged via USB before configuring TCP/IP connections. It wasn't obvious that the device should be first plugged before running scrcpy wirelessly, especially to those who aren't very familiar with adb. Note from committer: add this new step with index 0 to make the diff readable, the next commit will renumber all the steps. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Update HID/OTG features in README,0.74272966," - Add HID/OTG support for macOS (#2774, #3031)",HID/OTG features are not limited to Linux anymore. Refs 82a99f69ec464a0637a16bdccfe5ff806777e942,1
Reorder --tcpip option in cli,0.5538201, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),To keep options in alphabetic order.,0
Also retry on IllegalArgumentException,0.41261637, - Automatically retry with a lower definition on MediaCodec error (#2947),MediaCodec.configure() may throw an IllegalArgumentException if it does not support the requested size. Also retry on this exception. Fixes #2993 link Refs #2947 link Refs #2990 link PR #3043 link,0
Increase adb devices -l max output size,0.4838121,DEBUG: ADB device found:,"For simplicity, the parsing of adb devices -l output is performed in a single pass on the whole output. This output was limited to 4096 bytes. Since there are about 100 chars per device line, this limited the number of connected devices to ~40. Increase to 65536 bytes to avoid a limitation in practice. PR #3035 link",0
Use vector for listing ADB devices,0.50014955,DEBUG: ADB device found:,This avoids the hardcoded maximum number of ADB devices detected (16). Refs #3029 link PR #3035 link Co-authored-by: Daniel Ansorregui d.ansorregui@samsung.com,0
Use vector for listing USB devices,0.6140675,"In OTG mode, the USB devices are also listed for convenience:",This avoids the hardcoded maximum number of USB devices detected (16). Refs #3029 link PR #3035 link,0
Add sc_vector,0.4241212,scrcpy v1.24,"Adapt vlc_vector 1, that I initially wrote while implementing the VLC playlist 2. Change the implementation to use ""statement expressions"" 3, which are forbidden in VLC because ""non-standard"", but:  - they are supported by gcc and clang;  - they are already used in the scrcpy codebase;  - they avoid implementation hacks (VLC_VECTOR_FAILFLAG_);  - they allow a better API (sc_vector_index_of() may return the result    without an output parameter). PR #3035 link",0
Move data/ to app/,0.4122499,Push to /sdcard/Download/,The files in data/ are specific to the client app (not the server). This also avoids to reference the parent directory (../) from app/meson.build. Refs 8d583d36e259ba7f5f21d7a703cca73184200aa9,0
Disable USB features for win32,0.54595596,EDIT: And there are still issues on Windows when USB debugging is disabled: #3050 :disappointed: ,"Currently, there is an issue with the libusb prebuilt dll. Refs libusb/#1049 link PR #3011 link",0
Forbid HID input without OTG on Windows,0.66839474," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)","On Windows, if the adb daemon is running, opening the USB device will necessarily fail, so HID input is not possible. Refs #2773 link PR #3011 link",0
Kill adb daemon in OTG mode on Windows,0.49708182,"If the adb TCP/IP mode is disabled (or if you don't know the IP address), connect the device over USB, then run:","On Windows, it is not possible to open a USB device from several process, so HID events may only work if no adb daemon is running. PR #3011 link",0
Make intr optional for adb commands,0.56187737,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"All adb commands are executed with an ""interruptor"", so that they can be interrupted on Ctrl+C. Make this interruptor optional, so that we could call ""adb kill-server"" in OTG mode. This command always returns almost immediately anyway. Ideally, we should make all blocking calls interruptible (including libusb calls, by using the asynchronous API), but it's a lot of work, and in practice it works well enough. PR #3011 link",0
Remove obsolete text in error message,0.6534624, - Improve some error messages,The HID/OTG features are now available on all platforms. PR #3011 link,0
Build for Windows with libusb support,0.7744635," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",Fixes #2773 link PR #3011 link,1
Fix libusb callback for Windows,0.7493381,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).",Add LIBUSB_CALL so that the callback has the correct signature on Windows (including attribute((stdcall))). PR #3011 link,1
Avoid PRIx16 printf format on Windows,0.37730566,| Windows 32-bit |        :x:         |        :x:,"Convert uint16_t to unsigned to avoid using PRIx16, which may not exist on Windows. PR #3011 link",0
Remove USB hotplug callback error log,0.52111644,ERROR: Multiple (2) USB devices:,"If it fails, the error is already logged by sc_usb_register_callback(). PR #3011 link",0
Report USB device disconnection when detected,0.5456257," - Add specific exit code for device disconnection (#3083, #3085)","USB device disconnection is detected via a hotplug callback when it is supported. In addition, report disconnection on libusb calls returning LIBUSB_ERROR_NO_DEVICE or LIBUSB_ERROR_NOT_FOUND. This allows to detect disconnection after a libusb call when hotplug is not available. PR #3011 link",0
Work around mouse capture SDL bug on macOS,0.6586471,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).","On macOS, SDL relative mouse mode does not work correctly when the cursor is outside the window. As a workaround, move the cursor inside the window before setting the relative mouse mode. Refs SDL/#5340 link PR #3031 link",0
Pass screen instance to mouse capture functions,0.60525894," - Correctly handle mouse events outside device screen (#353, #357)",Using the screen instance or not in these functions is an implementation detail. Further changes will require the screen instance. Refs 7848a387c8281cb156f0e0da6bbbb05cda31db22 PR #3031 link,0
"Remove ""linux-only"" mentions for HID/OTG features",0.6569646," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)",HID/OTG features are not limited to Linux anymore. PR #3031 link,0
Build on macOS with libusb support,0.5696836," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",Fixes #2774 link PR #3031 link,0
Fix typo,0.3724982, - Improve some error messages,,0
Remove useless '\n' in log,0.46961015, - Log input events in verbose mode (#2371),,0
Remove fprintf() in tests,0.43073893, - ~Do not print irrelevant workarounds errors (#994)~,It was committed by mistake.,0
Add --print-fps to enable FPS counter on start,0.865504,This release adds a new option --print-fps to start the FPS counter immediately.,The FPS counter could be enabled/disabled via MOD+i. Add a command line option to enable it on start. This is consistent with other features like --turn-screen-off or --fullscreen. Fixes #468 link PR #3030 link,1
Move FPS counter start/stop logs,0.5860997,FPS counter,This will allow to print the same logs for every start/stop call. PR #3030 link,0
Update FAQ about Windows scaling behavior,0.552349,"The FAQ explained how to force correct HiDPI scaling by the application to fix the issue, but it was not convenient (and nobody reads the FAQ anyway).",Recommend to update to v1.22 before suggesting manual configuration. Fixes #3028 link PR #3032 link,0
Use sc_prefix for fps counter,0.6822577,FPS counter,,0
Fix links in German README,0.29829773, - Fix issues when directory contains non-ASCII chars on Windows (#1002),There were three links that weren't displayed correctly due to incorrect references:  - the Windows release link to README.md#windows  - 2 links that expected a German reference but got an English reference PR #3026 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Enforce deadline reached on timeout,0.3539967, - Add runtime option to render expired frames (i.e. not skip frames),"The value of sc_tick_now() has microsecond precision, but sc_cond_timedwait() has only millisecond precision. To guarantee that sc_tick_now() >= deadline when sc_cond_timedwait() returns due to timeout, round up to the next millisecond. This avoids to call a non-blocking sc_cond_timedwait() in a loop for no reason until a target deadline during up to 1 millisecond. Refs 682a6911735cb8f6dccd9653ce30b72f267235c6",0
Fix fps_counter tick type,0.7347984, - Fix FPS counter (broken in v1.22),"The type uint32_t is not sufficient to store the result of sc_tick_now(). As a consequence, the FPS counter entered a live loop and caused a lock starvation (deadlock in practice). Refs ec871dd3f596a8183e37982821645ac5a5791fe0 Refs 682a6911735cb8f6dccd9653ce30b72f267235c6",1
Add German translation of README.md,0.32254696," - Add --encoder option (#1810, #1827)",PR #3023 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add --no-cleanup option,0.8974025," - Add --no-cleanup option (#1764, #3020)","It might be useful not to cleanup on exit, for example to leave the screen turned off, or keep the server binary on the device (via the server option ""cleanup=false""). Fixes #1764 link PR #3020 link",1
Fix order of options,0.39692807, - Add --prefer-text option (#650),"In alphabetic order, ""no-clipboard-autosync"" is before ""no-downsize-on-error"".",0
Add compilation flag for USB features,0.48438793,"In OTG mode, the USB devices are also listed for convenience:",This allows to disable HID/OTG features on Linux to build without libusb.,0
Add compilation flag for V4L2 feature,0.48274475," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)",This allows to disable V4L2 support on Linux to build without libavdevice.,0
Fix double adb tunnel closing,0.5635841," - Fix adb server hang due to signal masking (#2870, #2873)","On error, close the adb tunnel only if it has not already been closed beforehand.",0
Rename buffer util functions with sc_ prefix,0.375072,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,,0
Rename HEADER_SIZE to SC_PACKET_HEADER_SIZE,0.42265168,scrcpy --tcpip    # without arguments,Prefix the constant for consistency.,0
Remove unused BUFSIZE,0.30646455," - Add --no-cleanup option (#1764, #3020)",,0
Remove sc_demuxer_parse(),0.34451246, - ~Do not print irrelevant workarounds errors (#994)~,"Now that the key frame flag is known, parsing the packet is useless.",0
Pass key frame flag from the device,0.47429785,Ctrl and Shift keys are now forwarded to the device.,MediaCodec indicates when a packet is a key frame. Transmit it to the client.,0
Store packet flags in PTS most significant bits,0.3937164,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","A special PTS value was used to encode a config packet. To prepare for adding more flags, use the most significant bits of the PTS field to store flags.",0
Indent ifdef for clarity,0.23972452, - Improve some error messages,Make it explicit that the ifdef is an inner block.,0
Improve error message for unsupported usb hotplug,0.47534224,ERROR:     -->   (usb)  fedcba09                        device  GM1913,,0
Do not duplicate relative mouse mode state,0.5698121, - Fix mouse focus clickthrough,"The relative mouse mode is tracked by SDL, and accessible via SDL_GetRelativeMouseMode(). This is more robust in case SDL changes the relative mouse mode on its own.",0
Fix USB device leak on connection error,0.61702555,ERROR: Multiple (2) USB devices:,"If sc_usb_connect() failed, then the sc_usb_device was never destroyed. The assignment was mistakenly removed by commit 61969aeb80093d0777c7716a61698cbdaf9ddd71.",0
Move prebuilt-deps/ to app/,0.32061195, - Add feature to install APK files via drag & drop (#133),The prebuilt dependencies are specific to the client app (not the server). This also avoids to reference the parent directory (../) from app/meson.build.,0
Reorder release.mk recipes,0.3212747,It can still be changed by --push-target.,Group prepare-deps for win32 and win64.,0
Pass --buildtype=release as a single meson arg,0.3386875, - Print both compiled and linked version of libs on --version,For consistency with the other arguments,0
Print libusb version on --version,0.6652076, - Print both compiled and linked version of libs on --version,,0
Print both compiled and linked versions of libs,0.92462814, - Print both compiled and linked version of libs on --version,"On --version, print both the version scrcpy had been compiled against, and the version linked at runtime.",1
Move version handling to a separate file,0.32675612, - Print both compiled and linked version of libs on --version,This will avoid to include all dependencies headers from main.c.,0
Log device opening errors during listing,0.45562077," - Improve device selection (list devices, -d, -e) (#3005)","Without this log, the user would have no way to know that a USB device is rejected because it could not be opened (typically due to insufficient permissions).",0
Mention --select-usb and --select-tcpip in README,0.6580581,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:",PR #3005 link,0
Add option to select USB or TCP/IP devices,0.8231246,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","If several devices are connected (as listed by adb devices), it was necessary to provide the explicit serial via -s/--serial. If only one device is connected via USB (respectively, via TCP/IP), it might be convenient to select it automatically. For this purpose, two new options are introduced:  - -d/--select-usb: select the single device connected over USB  - -e/--select-tcpip: select the single device connected over TCP/IP PR #3005 link",1
Introduce adb device selector,0.60047626,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:","Currently, a device is selected either from a specific serial, or if it is the only one connected. In order to support selecting the only device connected via USB or via TCP/IP separately, introduce a new selection structure. PR #3005 link",0
Execute adb start-server,0.5911398,"If the adb TCP/IP mode is disabled (or if you don't know the IP address), connect the device over USB, then run:","This does nothing if the adb daemon is already started, but allows to print any output/errors to the console. Otherwise, the daemon starting would occur during adb devices, which does not output to the console because the result is parsed. PR #3005 link",0
Remove sc_adb_get_serialno(),0.63501483,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"The device serial is now retrieved from adb devices -l, adb get-serialno is not called anymore. PR #3005 link",0
Allow selecting a device from IP without port,0.5335771,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","Since the previous commit, if a serial is given via -s/--serial (either a real USB serial or an IP:port), a device is selected if its serial matches exactly. In addition, if the user pass an IP without a port, then select any device with this IP, regardless of the port (so that ""192.168.1.1"" matches any ""192.168.1.1:port""). This is also the default behavior of adb. PR #3005 link",0
Expose simple API to select a single adb device,0.595472,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:",Select an adb device from the output of adb device -l. PR #3005 link,0
Expose function to test if a serial is TCP/IP,0.4278439, - Consider emulators as TCP/IP devices (-e) (#3137),"In practice, it just tests if the serial contains a ':', which is sufficient to distinguish ip:port from a real USB serial. PR #3005 link",0
Add adb devices parser,0.64229214,DEBUG: ADB device found:,"Add a parser of adb device -l output, to extract a list of devices with their serial, state and model. PR #3005 link",0
Refactor device configuration,0.60039395,Improve device selection,"Depending on the parameters passed to scrcpy, either the initial device serial is necessary or not. Reorganize to simplify the logic. PR #3005 link",0
List and select USB devices separately,0.63285905,"In OTG mode, the USB devices are also listed for convenience:","List all USB devices in a first step, then select the matching one(s). This allows to report a user-friendly log message containing the list of devices, with the matching one(s) highlighted. PR #3005 link",0
Expose simple API to select a single USB device,0.54556227,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:",The caller just wants a single device. Handle all cases and error messages internally. PR #3005 link,0
Add move-function for sc_usb_device,0.53266937,scrcpy 1.22    (usb)  fedcba09                        device  GM1913,"Add a function to ""move"" a sc_usb_device into another instance. This will avoid unnecessary copies. PR #3005 link",0
Move SC_PRIsizet to compat.h,0.3984254,"The solution is simple: reduce the resolution (scrcpy -m1024 for example), as explained in the FAQ (did I mention that nobody reads the FAQ?).",Define the printf format macro for size_t in compat.h so that it can be used from anywhere. PR #3005 link,0
Rename function to destroy a list of USB devices,0.43645376,ERROR: Multiple (2) USB devices:,"Rename from ""usb_device_"" to ""usb_devices_"". PR #3005 link",0
Add generic LOG() macro with level parameter,0.624975, - Add --verbosity to configure log level at runtime,"One log macro was provided for each log level (LOGV(), LOGD(), LOGI(), LOGW(), LOGE()). Add a generic macro LOG(LEVEL, ...) accepting a log level as parameter, so that it is possible to write logging wrappers. PR #3005 link",0
Remove LOGC(),0.4572134, - Add --verbosity to configure log level at runtime,"It is not clear when to use LOGC() rather than LOGE(). Always use LOGE(). Moreover, enum sc_log_level has no ""critical"" log level.",0
Improve USB device open log,0.46646845,"In OTG mode, the USB devices are also listed for convenience:","For consistency with ""List USB devices"", log ""Open USB device"".",0
Inline USB device opening,0.49474776,"In OTG mode, the USB devices are also listed for convenience:",Such a separate function was useless.,0
Remove log_libusb_error(),0.5901497, - Upgrade libusb to 1.0.26 in Windows releases (#3206),"This helper did not help a lot, and prevented the client to choose the log level and the prefix error message.",0
Remove confusing sc_str_truncate(),0.39278933,scrcpy -w  # short option,"This util function was error-prone:  - it accepted a buffer as parameter (not necessarily a NUL-terminated    string) and its length (including the NUL char, if any);  - it wrote '\0' over the last character of the buffer, so the last    character was lost if the buffer was not a NUL-terminated string, and    even worse, it caused undefined behavior if the length was empty;  - it returned the length of the resulting NUL-terminated string,    which was inconsistent with the input buffer length. In addition, it was not necessarily optimal:  - it wrote '\0' twice;  - it required to know the buffer length, that is the input string    length + 1, in advance. Remove this function, and let the client use strcspn() manually.",0
Fix adb connect parsing,0.6269109,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,"The function assumed that the raw output of ""adb connect"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
Fix adb get-serialno parsing,0.6218685,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"The function assumed that the raw output of ""adb get-serialno"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
Fix adb getprop parsing,0.5651475," - Improve error message on missing adb (#236, #254)","The function assumed that the raw output of ""adb getprop"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
Fix adb device ip parsing,0.6019972,"If the adb TCP/IP mode is disabled (or if you don't know the IP address), connect the device over USB, then run:","The parser assumed that its input was a NUL-terminated string, but it was not the case: it is just the raw output of ""adb devices ip route"". In practice, it was harmless, since the output always ended with '\n' (which was replaced by '\0' on truncation), but it was incorrect nonetheless. Always write a '\0' at the end of the buffer, and explicitly parse as a NUL-terminated string. For that purpose, avoid the error-prone sc_str_truncate() util function.",0
Store actual serial in sc_server,0.44947612,$ANDROID_SERIAL,"Before starting the server, the actual device serial (possibly its ip:port if it's over TCP/IP) must be known. A serial might be requested via -s/--serial (stored in the sc_server_params), but the actual serial may change afterwards:  - if none is provided, then it is retrieved with ""adb get-serialno"";  - if --tcpip is requested, then the final serial will be the target    ip:port. The requested serial was overwritten by the actual serial in the sc_server_params struct, which was a bit hacky. Instead, store a separate serial field in sc_server (and rename the one from sc_server_params to ""req_serial"" to avoid confusion).",0
Simplify switch to TCPIP function,0.50472647,Simplify TCP/IP (wireless) configuration,"Do not use an output parameter to return the value. Instead, return the actual ip:port string on success or NULL on error.",0
Build adb argv statically,0.48634595, - Add --force-adb-forward,"Now that providing a serial is mandatory for adb commands where it is relevant, the whole argv array may be built statically, without allocations at runtime.",0
Expose adb executable path publicly,0.48046994,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.",This will allow the caller to build the argv array directly.,0
Rename adb_command to adb_executable,0.52530754,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"Semantically, a ""command"" refers to the whole command line argv (adb and its arguments).",0
Assert non-NULL serial,0.44032598," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","If no serial is passed, then the command would work if there is exactly one device connected, but will fail with multiple devices. To avoid such cases, ensure that a serial is always provided.",0
"Assert ""adb disconnect"" is called with an argument",0.4733261," - Add specific exit code for device disconnection (#3083, #3085)","Calling ""adb disconnect"" without argument would disconnect every TCP/IP device. We must make sure scrcpy never does that.",0
Remove useless undef,0.3585199, - ~Do not print irrelevant workarounds errors (#994)~,The #define was removed in 1c71bd16bec1db0788e72a7c6b02f80ed40f1601.,0
Remove screensaver log,0.5324073," - Add option to disable screensaver (#1370, #1502)","If --disable-screensaver is passed, then screensaver is disabled, otherwise it is enabled. No need for a log.",0
Remove platform-tools installation suggestion,0.4988351, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"On Windows, adb is provided in the release archive. Most missing adb issues come from users setting the ADB environment variable to an incorrect value (on all platforms). Suggesting to install platform-tools to solve the problem will just make things worse (there will be one more adb in yet another location).",0
Use sc_ prefix for adb,0.6222217,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
Move ADB code to adb/,0.54241216, - Add --force-adb-forward,,0
Simplify demuxer,0.32340837,Windows PATH simplification,"Call the same push_packet_to_sinks() in all cases, and make sc_demuxer_parse() return void.",0
Rename stream to sc_demuxer,0.38764971,scrcpy --v4l2-sink=/dev/video1 --no-display,"For consistency with recorder and decoder, name the component which demuxes a ""demuxer"". And add the missing sc_ prefix.",0
Use sc_ prefix for recorder,0.48104432,Asynchronous recording,,0
Use sc_ prefix for decoder,0.48204428,"scrcpy --codec-options profile=1,level=4096",,0
Add missing spaces in help,0.45834118, - Adapt --help output to terminal size,PR #2994 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Downscale and retry also on early MediaCodec error,0.9457078," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","The new retry mechanism with a lower definition only worked if the error occurred during encode(). For example: java.lang.IllegalStateException     at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)     at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:3452)     at com.genymobile.scrcpy.ScreenEncoder.encode(ScreenEncoder.java:114)     at com.genymobile.scrcpy.ScreenEncoder.internalStreamScreen(ScreenEncoder.java:95)     at com.genymobile.scrcpy.ScreenEncoder.streamScreen(ScreenEncoder.java:61)     at com.genymobile.scrcpy.Server.scrcpy(Server.java:80)     at com.genymobile.scrcpy.Server.main(Server.java:255) However, MediaCodec may also fail before encoding, during configure() or start(). For example: android.media.MediaCodec$CodecException: Error 0xfffffc0e     at android.media.MediaCodec.native_configure(Native Method)     at android.media.MediaCodec.configure(MediaCodec.java:1956)     at android.media.MediaCodec.configure(MediaCodec.java:1885)     at com.genymobile.scrcpy.ScreenEncoder.configure(ScreenEncoder.java:158)     at com.genymobile.scrcpy.ScreenEncoder.streamScreen(ScreenEncoder.java:68)     at com.genymobile.scrcpy.Server.scrcpy(Server.java:28)     at com.genymobile.scrcpy.Server.main(Server.java:110) Also downscale and retry in these cases. Refs #2947 link Refs #2988 link PR #2990 link",1
Fix include for standard library header,0.3525014," - Fix mp4 headers produced by recording (#351, #416)",,0
Add warning in function documentation,0.48473954, - Improve some error messages,"The function parsing ""ip route"" output modifies the input buffer to tokenize in place. This must be mentioned in the function documentation.",0
Fix sc_str_truncate() documentation,0.45798397,scrcpy -w  # short option,"The function was initially implemented to truncate lines, but was later generalized to accept custom delimiters. The whole documentation has not been updated accordingly. Refs 9619ade706824a92ea387bdc9d0d27816bf79da5",0
Fix comment typo,0.33821416, - Improve some error messages,,0
Update FAQ.zh-Hans.md to v1.22,0.44742438,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2989 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update README.zh-Hans.md to v1.22,0.49535087,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2989 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.22,0.45167845,Hotfix for v1.15:,,0
Bump version to 1.22,0.5064109,Hotfix for v1.15:,,0
Update README.zh-Hans.md to v1.21,0.48956802,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2978 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Improve prebuilt system,0.39830032,Reduced latency,"This aims to fix two issues with the previous implementation:  1. the whole content of downloaded archives were extracted, while only     few files are necessary;  2. the archives were extracted in the prebuild-deps/ directory as is. As a consequence of (2), the actual directory name relied on the root directory of the archive. For adb, this root directory was always ""platform-tools"", so when bumping the adb version, the target directory already existed and the dependency was not upgraded (the old one had to be removed manually). Expose common function to download a file and check its checksum, but let the custom script for each dependency extract only the needed files and reorganize the content if necessary.",0
"Revert ""Upgrade platform-tools (32.0.0) for Windows""",0.63541424, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),This reverts commit c0de365f672110959cec8fca936bd6aeaa01b59d. The new adb.exe crashes. Refs #2981 comment link,0
Fix SC_EXIT_CODE_NONE value,0.48836523, - Fix scrcpy-noconsole.exe (#691),"The exit code on windows is stored in a DWORD, an unsigned long: link Use the max value of this type for SC_EXIT_CODE_NONE.",0
Add helper to log Windows system errors,0.5617193, - Keep the console open on error on Windows (#261),It will help to log errors returned by GetLastError() or WSAGetLastError():  - link  - link  - link Always log the errors in English to be able to read them in bug reports.,0
Enable mouse focus clickthrough in OTG mode,0.75958824,Mouse focus clickthrough,A single click on the window must both give focus and capture the mouse. PR #2974 link,1
Make HID keyboard and mouse optional in OTG mode,0.69252694, - Add OTG mode (HID only) (#2974),Allow to only enable HID keyboard or HID mouse: scrcpy --otg -K   # keyboard only scrcpy --otg -M   # mouse only scrcpy --otg -KM  # keyboard and mouse scrcpy --otg      # keyboard and mouse PR #2974 link,0
Document OTG mode in README,0.6546064,OTG mode,PR #2974 link,0
Add OTG mode,0.8858737,OTG mode,"Add an option --otg to run scrcpy with only physical keyboard and mouse simulation (HID over AOA), without mirroring and without requiring adb. To avoid adding complexity into the scrcpy initialization and screen implementation, OTG mode is implemented totally separately, with a separate window. PR #2974 link",1
Move input event helpers,0.44134003,Log input events,"Input events helpers to convert from SDL events to scrcpy events were implemented in input_manager. To reuse them for OTG mode, move them to input_events.h. PR #2974 link",0
Detect USB device disconnection,0.5791761," - Add specific exit code for device disconnection (#3083, #3085)","The device disconnection is detected when the video socket closes. In order to introduce an OTG mode (HID events) without mirroring (and without server), we must be able to detect USB device disconnection. This feature will only be used in OTG mode. PR #2974 link",0
Make acksync optional for AOA initialization,0.31870532,"To handle it properly, this new version implements an acknowledgment mechanism, so that Ctrl+v is injected over AOA only after the clipboard synchronization request has been performed and acknowledged by the server (#2814).","Acksync is used to delay HID events until some request (in practice, device clipboard synchronization) is acknowledged by the device. This mechanism will not be necessary for OTG mode. PR #2974 link",0
Make serial optional to find USB devices,0.545837,"In OTG mode, the USB devices are also listed for convenience:","If no serial is provided, then list all available USB devices (which can be open and having a serial). PR #2974 link",0
Find a list of devices instead of a single one,0.6031695," - Improve device selection (list devices, -d, -e) (#3005)","Several devices may match the requested serial, but above all, this paves the way to list all devices (when no serial is provided). PR #2974 link",0
Wrap libusb_device,0.5618148,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).",Introduce a structure to wrap a libusb_device and expose its descriptor data read during discovery. PR #2974 link,0
Expose function to find a USB device,0.5416858,"In OTG mode, the USB devices are also listed for convenience:","The device was automatically found by sc_usb_connect(). Instead, expose a function to find a device from a serial, and let the caller connect to the device found (if any). This will allow to list all devices first, then select one device to connect to. PR #2974 link",0
Add util function to read USB descriptor string,0.42741385, - -d (or --select-usb) uses a USB device (like adb -d),"Use it from accept_device() to simplify (at the cost an additional allocation for each serial, but it is not important). It will also be useful in other functions in further commits. PR #2974 link",0
Split USB initialization and connection,0.46919575,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:",This will allow to execute other USB calls (retrieving the device list for example) before connecting to the selected device. PR #2974 link,0
Find device with USB context,0.582233,"In OTG mode, the USB devices are also listed for convenience:",An explicit context was used everywhere except for listing the devices. PR #2974 link,0
Remove libusb_device field,0.50824046, - Upgrade libusb to 1.0.26 in Windows releases (#3206),"It is possible to retrieve the device instance from the handle via libusb_get_device(), so we don't need to reference the device one more time. PR #2974 link",0
Move sc_usb out of sc_aoa,0.50029504,scrcpy 1.22    (usb)  fedcba09                        device  GM1913,This will allow to initialize a USB device separately and pass it to sc_aoa. PR #2974 link,0
Make serial mandatory for sc_usb,0.51458484,To run scrcpy with a single USB device:,"In practice, it is already mandatory. PR #2974 link",0
Extract USB handling from AOA,0.5000782,"In OTG mode, the USB devices are also listed for convenience:",The AOA code handled both USB initialization and AOA commands/events. Extract USB-related code to a separate file and structure. PR #2974 link,0
Rename HAVE_AOA_HID to HAVE_USB,0.6204834," - Add HID/OTG support for macOS (#2774, #3031)",The condition actually determines whether scrcpy can use libusb or not. PR #2974 link,0
Move AOA/HID code to usb/,0.5415205,HID/OTG on all platforms,PR #2974 link,0
Fix socket close race condition,0.5618016, - Terminate server properly without killing it on close (#1992),"The server needs to interrupt the sockets on stop, but it must not close them while other threads may attempt to read from or write to them. In particular, the video_socket is read by the stream thread, and the control_socket is written by the controller and read by receiver. Therefore, close the socket only on sc_server_destroy(), which is called after all other threads are joined. Reported by TSAN on close: WARNING: ThreadSanitizer: data race (pid=3287612)   Write of size 8 at 0x7ba000000080 by thread T1:     #0 close ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:1690 (libtsan.so.0+0x359d8)     #1 net_close ../app/src/util/net.c:280 (scrcpy+0x23643)     #2 run_server ../app/src/server.c:772 (scrcpy+0x20047)     #3   (libSDL2-2.0.so.0+0x905a0) Previous read of size 8 at 0x7ba000000080 by thread T16:     #0 recv ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:6603 (libtsan.so.0+0x4f4a6)     #1 net_recv_all ../app/src/util/net.c:228 (scrcpy+0x234a9)     #2 stream_recv_packet ../app/src/stream.c:33 (scrcpy+0x2045c)     #3 run_stream ../app/src/stream.c:228 (scrcpy+0x21169)     #4   (libSDL2-2.0.so.0+0x905a0) Refs ddb9396743072f97628fab168ef7fcd45a597b03",0
Print version on stdout,0.5633769, - Print help to stdout (instead of stderr),Refs b25404ee4b6f2cbdd41992fa3e087dd8a73412c9,0
Do not print scrcpy version twice on --version,0.7709894, - Bump version to 1.5 (as shown by scrcpy --version) (#332),Refs 6da6d905c2aeac17255347037d44c32a62c4c504,1
Update README.sp.md to v1.21,0.4836585,Hotfix for v1.15:,PR #2962 link Signed-off-by: Romain Vimont rom@rom1v.com,0
"Mention ""screen copy"" in README",0.50835854, - Add computer-to-device clipboard copy (#413),Help users make sense of the app name :),0
Upgrade platform-tools (32.0.0) for Windows,0.83243835, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Upgrade SDL (2.0.20) for Windows,0.9549404, - Upgrade SDL to 2.0.20 in Windows releases,Include the latest version of SDL in Windows releases.,1
Fix code style,0.3400402," - Fix rendering issues (#1408, #787)",Align function parameters.,0
Slightly reduce lock usage,0.3781722,Reduced latency,Locking the frame_buffer mutex to reference the input frame into the tmp_frame is unnecessary. This also fixes the missing unlock on error.,0
Fix return value on adb commands error,0.68483734," - Improve error message on missing adb (#236, #254)",,0
"Add a shorcut ""open a terminal here"" on Windows",0.86679304," - Add a shortcut ""open a terminal here"" on Windows (#2970)","On Windows, the file explorer does not provide any ""open a terminal here"" shortcut. Add a bat file which just runs cmd to easily open a terminal directly in the scrcpy directory (so there is no need to cd C:\path\). PR #2970 link",1
Do not restore power mode if --no-control,0.7212875, - Do not power on the device if --no-control is set,This totally disables deferred cleanup when --no-control is passed. Refs f289d206ea0e10cc052137781c39da862ebe2f73,1
Use sc_ prefix for control_msg enums,0.3174279,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,Refs afa4a1b728d6f130acff23c0e3fb4609bcb8a6b2,0
Add server option raw_video_stream,0.8415563, - Add server options to send raw H.264 video stream (#2971),"For convenience, this new option forces the 3 following options:  - send_device_meta=false  - send_frame_meta=false  - send_dummy_byte=false This allows to send a raw H.264 stream on the video socket. Concretely: adb push scrcpy-server /data/local/tmp/scrcpy-server.jar adb forward tcp:1234 localabstract:scrcpy adb shell CLASSPATH=/data/local/tmp/scrcpy-server.jar \     app_process / com.genymobile.scrcpy.Server 1.21 \     raw_video_stream=true tunnel_forward=true control=false As soon as a client connects via TCP to localhost:1234, it will receive the raw H.264 stream. Refs #1419 comment link PR #2971 link",1
Add server option send_dummy_byte,0.6234309, - Add server options to send raw H.264 video stream (#2971),"If set to false, no dummy byte is written to detect a connection error. PR #2971 link",0
Add server option send_device_meta,0.5504185, - Add server options to send raw H.264 video stream (#2971),"Similar to send_device_frame, this option allows to disable sending the device name and size on start. This is only useful when using the scrcpy-server alone to get a raw H.264 stream, without using the scrcpy client. PR #2971 link",0
Reorder scrcpy-server options,0.69642794,"For this purpose, scrcpy v1.19 introduces two new options:",Move the options unused by the scrcpy client at the end. These options may be useful to use scrcpy-server directly (to get a raw H.264 stream for example). PR #2971 link,0
Move call to send device name and size,0.40249145," - Forward Ctrl and Shift to the device (#1598, #555, #942)",This will allow to optionally disable it. PR #2971 link,0
Disable more actions if --no-control,0.5016916, - Do not power on the device if --no-control is set,"If control is disabled, then do not enable ""show touches"" or automatically power off the device on close.",0
Refactor if-block in cli,0.33090475, - Apply workarounds only on error (#994),Several tests must be performed if opts->control is false.,0
Move misplaced break statements,0.3635062, - Fix (huge) memory leak (#26),"With ifdefs, the resulting code could contain both a return statement and a break.",0
Fix header guard prefix,0.4526599," - Fix mp4 headers produced by recording (#351, #416)",,0
Improve FAQ explanations,0.33874506, - Improve some error messages,,0
Update error messages in FAQ,0.63023156, - Improve some error messages,"With the recent versions, scrcpy first executes ""adb get-serialno"", so the adb error messages are not exactly the same.",0
Fix downsize on error before first frame,0.6222476," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","Retry with a lower definition if MediaCodec fails before the first frame, not the first packet. In practice, the first packet is a config packet without any frame, and MediaCodec might fail just after. Refs 2eb6fe7d81c15912a2252f229d317ae03f618a33 Refs #2963 link",0
Capture mouse on start for --hid-mouse,0.6450588,Add HID mouse support,"If relative mode is enabled, capture the mouse immediately.",0
Extract relative mode check to an inline function,0.2986186," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)",This will allow to reuse the condition in another function.,0
Never forward capture keys,0.47170085,"These capture keys do not conflict with shortcuts, since a shortcut is always a combination of the MOD key and some other key, while the capture key triggers an action only if it is pressed and released alone.","In relative mode, Alt and Super are ""capture keys"". Never forward them to the input manager, to avoid inconsistencies between UP and DOWN events.",0
Fix warning message,0.6709091, - Improve some error messages,Make the message consistent for HID keyboard and HID mouse.,0
Add missing break statement,0.38976184, - Improve some error messages,"This was harmless because this is the last ""case"" of the switch, but for consistency, add the missing break.",0
Remove inline hint,0.34431985, - Add option to disable window decorations (#762),There is no reason to request inlining here.,0
Handle libusb_get_device_descriptor() error,0.5434533, - Upgrade libusb to 1.0.26 in Windows releases (#3206),The function libusb_get_device_descriptor() might return an error. Handle it.,0
Simplify error handling in sc_aoa_init(),0.4098239, - Apply workarounds only on error (#994),Use goto to avoid many repetitions.,0
Fix missing HID mouse destructor call,0.633048,Add HID mouse support,"The destructor unregisters the HID mouse, so it was not reported as a leak, but it must still be called.",0
Refactor if-blocks,0.30542046, - Improve some error messages,Group all conditions requiring a controller in a single if-block.,0
Remove redundant control boolean,0.3760072," - Add option to ignore repeated key events (#1013, #1623)","The controller is NULL if and only if control is disabled, so an additional control boolean is redundant.",0
Pass NULL controller if control is disabled,0.54832435, - Do not power on the device if --no-control is set,"If --no-control is requested, then the controller instance is not initialized. However, its reference was still passed to screen and input_manager. Instead, pass NULL if no controller is available.",0
Do not process finger events if no control,0.4989745," - Correctly handle mouse events outside device screen (#353, #357)","If --no-control is passed, then im->mp is NULL, so processing touches would crash.",0
Fix crash on --no-control,0.49516374,Device crashes fixes,"Relative mouse mode assumed that a mouse processor was always available, but this is not the case if --no-control is passed.",0
Simplify event loop,0.5364342,Repeating key events,Merge single event handling with the event loop function.,0
Handle file drop from input_manager,0.46046075, - Add feature to push file to /sdcard/ via drag & drop (#226),A file is pushed (or an apk is installed) to the device on file drop. This behavior is specific to the screen and its input_manager.,0
Do not return status for event handling,0.42949563, - Return non-zero value on connection loss (#204),It is never read. Simplify.,0
Fix leak on file pusher error,0.52155554," - Fix ""push file"" with spaces on Windows (#288)","If a file_push request fails, the allocated filename must be freed.",0
Rename file_handler to sc_file_pusher,0.4951888, - Add feature to push file to /sdcard/ via drag & drop (#226),"Rename handler to pusher (""handler"" is too generic), and add sc_ prefix.",0
Limit retry-on-error to IllegalStateException,0.46641248, - Automatically retry with a lower definition on MediaCodec error (#2947),"MediaCodec errors always trigger IllegalStateException or a subtype (like MediaCodec.CodecException). In practice, this avoids to retry if the error is caused by an IOException when writing the video packet to the socket.",0
Downsize on error only before the first frame,0.6042584," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","The purpose of automatic downscaling on error is to make mirroring work by just starting scrcpy without an explicit -m value, even if the encoder could not encode at the screen definition. It is only useful when we detect an encoding failure before the first frame. Downsizing later could be surprising, so disable it. PR #2947 link",0
Disable downsizing on error if V4L2 is enabled,0.45974532," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","V4L2 device is created with the initial device size, it does not support resizing. PR #2947 link",0
Position and size the window on first frame,0.6831219, - Add options to set an initial window size and position (#762),"The optimal initial size was computed from the expected dimensions, sent immediately by the server before encoding any video frame. However, the actual frame size may be different, for example when the device encoder does not support the requested size. To always handle this case properly, position and size the window only once the first frame size is known. PR #2947 link",0
"Move ""show window"" call on first frame",0.5232432, - Add options to set an initial window size and position (#762),Show the window only after the actual frame size is known (and if no error has occurred). This will allow to properly position and size the window when the size of the first frame is different from the size initially announced by the server. PR #2947 link,0
Fix screen comments,0.47358894," - Fix rendering issues (#1408, #787)","The position fields accept SC_WINDOW_POSITION_UNDEFINED, not the size fields. PR #2947 link",0
Mention auto-downsize feature in FAQ,0.3834935," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)",PR #2947 link,0
Remove MediaCodec error suggestion fix,0.67405266,"However, MediaCodec may fail in different ways (#2990, #3043), and some of them were not catched. Now they are.","Now that scrcpy attempts with a lower definition on any MediaCodec error (or the user explicitly requests to disable auto-downsizing), the suggestion is unnecessary. PR #2947 link",0
Make auto-downsize on error optional,0.4955147,Auto-downscale on MediaCodec error,Add --no-downsize-on-error option to disable attempts to use a lower definition on MediaCodec error. PR #2947 link,0
Downsize on error,0.5271983," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","Some devices are not able to encode at the device screen definition. Instead of just failing, try with a lower definition on any MediaCodec error. PR #2947 link",0
Remember Device parameters,0.51044995,Improve device selection,This will allow to reuse them to recreate a ScreenInfo instance in order to change the maxSize value on MediaCodec error. PR #2947 link,0
Compute screen size without DisplayInfo instance,0.5284493," - Add fallback to get display information on some devices (#3416, #3573)",Use the actual rotation and size values directly. This will allow to automatically change the maxSize value on MediaCodec error. PR #2947 link,0
Fix visibility modifier,0.4210643," - Fix rendering issues (#1408, #787)",Refs b7a06278fee0dbfbb18b651ad563d9fb0797c8bc,0
Fix NoSuchMethodException for injectInputEvent(),0.55217594," - Adapt input injection for Android 13 (#3186, #3190)",Some devices with modified ROMs expose a different signature for injectInputEvent(). Fixes #2250 link PR #2946 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Upgrade FFmpeg (5.0) for Windows 64-bit,0.96167326, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,Use FFmpeg win64 binaries from gyan.dev (referenced from ffmpeg.org): link/ link Keep the old FFmpeg prebuilt binaries (4.3.1) for win32 builds. Fixes #1753 link Refs #1838 link Refs #2583 link PR #2952 link Co-authored-by: Yu-Chen Lin npes87184@gmail.com Co-authored-by: nkh0472 nkh0472@hotmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
Use symlink to simplify Windows ffmpeg dependency,0.5672182, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"The FFmpeg dependency is downloaded from two separate zipfiles. Symlink include/ to expose everything from a single directory, to simplify the meson script. PR #2952 link",0
Simplify ffmpeg dependencies Makefile,0.5117701, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),The fact that the current prebuilt FFmpeg is split into two separate zipfiles is an implementation detail. Use a single Makefile recipe for both files. PR #2952 link,0
Reference Windows USB driver for Google devices,0.49739608,HID/OTG support for Windows 32-bit,PR #2945 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix build with ffmpeg 5.0,0.6907163," - Upgrade FFmpeg to 5.0 in Windows 64-bit releases (#1753, #2952)",PR #2948 link Signed-off-by: Bernhard Rosenkrnzer bero@lindev.ch Signed-off-by: Romain Vimont rom@rom1v.com,0
Add final modifier to ScreenEncoder fields,0.40824622," - Add --encoder option (#1810, #1827)",These fields are only set from the constructor.,0
Use constant string for known booleans,0.2081359,Serial auto-completion,Boolean options explicitly passed to the server are statically known.,0
Use sc_ prefix for control_msg,0.34424555,"For example, to run scrcpy with the single TCP/IP device:",,0
Use sc_ prefix for controller,0.24312599,$ scrcpy,,0
Use sc_ prefix for input_manager,0.42182523,scrcpy --hid-keyboard,,0
Use sc_ prefix for screen,0.51429373,scrcpy --turn-screen-off,,0
Do not pass scrcpy_options to keyboard inject,0.72390276,scrcpy --hid-keyboard,"The components should be configurable independently of the global scrcpy_options instance: their configuration could be provided separately, like it is the case for example for some screen parameters. For consistency, keyboard injection should not depend on scrcpy_options.",1
Document HID mouse in README,0.6284399, - Add HID mouse support (#2916),,0
Add support for HID mouse,0.98837245,Add HID mouse support,,1
Refactor AOA/HID keyboard initialization,0.57344145,HID keyboard,This paves the way to add support for HID mouse initialization.,0
Add CLAMP() macro,0.29065275, - Increase clipboard size from 4k to 256k (#1117),,0
Add UI/UX support for relative mouse mode,0.6117703," - Correctly handle mouse events outside device screen (#353, #357)","In relative mouse mode, the mouse pointer must be ""captured"" from the computer. Toggle (disable/enable) relative mouse mode using any of the hardcoded capture keys:  - left-Alt  - left-Super  - right-Super These capture keys do not conflict with shortcuts, since a shortcut is always a combination of the MOD key and some other key, while the capture key triggers an action only if it is pressed and released alone. The relative mouse mode is also automatically enabled on any click in the window, and automatically disabled on focus lost (it is possible to lose focus even without the mouse).",0
Forward all motion events to mouse processors,0.5957566, - Inject mouse events with a virtual device id (fix crashes on some,The decision to not send motion events when no click is pressed is specific to Android mouse injection. Other mouse processors (e.g. for HID mouse) will need to receive all events.,0
Provide relative mouse motion vector in event,0.59871054, - Inject mouse events with a virtual device id (fix crashes on some,This will allow the mouse processor to handle relative motion easily.,0
Add relative mode flag to mouse processors,0.53236866, - Add HID mouse support (#2916),"The default mouse injection works in absolute mode: it forwards clicks at a specific position on screen. To support HID mouse, add a flag to indicate that the mouse processor works in relative mode: it forwards mouse motion vectors, without any absolute reference to the screen.",0
Pass buttons state in scroll events,0.4048393, - Bind 4th mouse button to APP_SWITCH (#2258),"A scroll event might be produced when a mouse button is pressed (for example when scrolling while selecting a text). For consistency, pass the actual buttons state (instead of 0). In practice, it seems that this use case does not work properly with Android event injection, but it will work with HID mouse.",0
Destroy acksync immediately on error,0.31269616,"On Windows, Ctrl+C in the terminal just killed the program, without any cleanup. This was particularly annoying while recording, because in that case the resulting file was corrupted (#818).","If AOA or HID keyboard may not be initialized for some reason, acksync is useless.",0
Remove duplicate boolean,0.37765324," - Add option to ignore repeated key events (#1013, #1623)",The AOA initialization state is already tracked by aoa_hid_initialized.,0
Reorder controller and HID initialization,0.43342638, - Add OTG mode (HID only) (#2974),"This allows to merge two ""#ifdef HAVE_AOA_HID"" blocks to simplify.",0
Move input_manager into screen,0.35156378," - Correctly handle mouse events outside device screen (#353, #357)","The input_manager is strongly tied to the screen, it could not work independently of the specific screen implementation. To implement a user-friendly HID mouse behavior, some SDL events will need to be handled both by the screen and by the input manager. For example, a click must typically be handled by the input_manager so that it is forwarded to the device, but in HID mouse mode, the first click should be handled by the screen to capture the mouse (enable relative mouse mode). Make the input_manager a descendant of the screen, so that the screen decides what to do on SDL events. Concretely, replace this structure hierarchy:  +- struct scrcpy     +- struct input_manager     +- struct screen by this one:  +- struct scrcpy     +- struct screen        +- struct input_manager",0
Use separate struct for input manager params,0.2896436,"This option is only meaningful for the default injection method: with HID keyboard (--hid-keyboard), all keys are sent as scancodes.","This avoids to directly pass the options instance (which contains more data than strictly necessary), and limit the number of parameters for the init function.",0
Remove unused enum value requiring SDL 2.0.18,0.42745516, - Downgrade SDL to 2.0.8 in Windows releases (#425),Refs b8fed50639fe3bf8e02a8cc2409494cd6bf30fb7 Fixes #2924 link,0
Enable virtual finger only on left click,0.5541962,Forward right-click and middle-click,The pinch-to-zoom feature must only be enabled with Ctrl+left_click.,0
Make some mouse processors ops optional,0.48749512, - Inject mouse events with a virtual device id (fix crashes on some,Do not force all mouse processors to implement scroll events or touch events.,0
Make process_text() optional,0.45312688, - Add --prefer-text option (#650),"Not all key processors support text injection (HID keyboard does not support it). Instead of providing a dummy op function, set it to NULL and check on the caller side before calling it.",0
Apply buttons mask if not --forward-all-clicks,0.63652295," - Fix click behavior when --forward-all-clicks is set (#3568, #3579)","If --forward-all-clicks is not set, then only left clicks are forwarded. For consistency, also mask the buttons state in other events.",0
Reorder mouse processor ops,0.46581382," - Correctly handle mouse events outside device screen (#353, #357)",Group the mouse events callbacks before the touch event callback.,0
Simplify mouse injection implementation,0.6199465, - Inject mouse events with a virtual device id (fix crashes on some,The static functions are now so simple that they become unnecessary: the control message may be initialized directly instead.,0
Make some event conversions infallible,0.39112037,Repeating key events,"When the implementation handles all possible input values, it may never fail.",0
Use scrcpy input events for mouse processors,0.7085894,"Similar to the --hid-keyboard (or -K) added in scrcpy v1.20 (#2632), this release introduces a new option --hid-mouse (or -M) (#2916):","Pass scrcpy input events instead of SDL input events to mouse processors. These events represent exactly what mouse processors need, abstracted from any visual orientation and scaling applied on the SDL window. This makes the mouse processors independent of the ""screen"" instance, and the implementation source code independent of the SDL API.",1
Use scrcpy input events for key processors,0.6649041,scrcpy -K    # HID keyboard,Pass scrcpy input events instead of SDL input events to key processors. This makes the source code of key processors independent of the SDL API.,0
Use common sc_action in input manager,0.4404801,scrcpy -K    # HID keyboard,"Now that the scrcpy input events API exposes a sc_action enum, use the same from the input manager.",0
Add intermediate input events layer,0.57867384,Log input events,"This aims to make the key/mouse processors independent of the ""screen"", by processing scrcpy-specific input events instead of SDL events. In particular, these scrcpy events are not impacted by any UI window scaling or rotation (contrary to SDL events).",0
Rename SC_MOD_ to SC_SHORTCUT_MOD_,0.6200986, - Make shortcut modifiers customizable (#1598),This will avoid conflicts with new SC_MOD_* constants.,0
Remove actions bitset,0.36600137,Remove deprecated short options,"The input manager exposed functions taking an ""actions"" parameter, containing a bitmask-OR of ACTION_UP and ACTION_DOWN. But they are never called with both actions simultaneously anymore, so simplify. Refs 964b6d2243fa1921543e48810f3064b9bd2d50d1 Refs d0739911a3e413b70275ded3eef839f9dc57ba7a",0
Expose V4L2 option on all platforms,0.52274525," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)",This allows to report a meaningful error message if an unsupported feature is used on an incompatible platform. This is consistent with the behavior of -K/--hid-keyboard.,0
Fail on unsupported HID option,0.62760246," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)","If the feature is not supported on the platform, fail during command line parsing instead of using a fallback.",0
Avoid unused function warning,0.41519517, - ~Do not print irrelevant workarounds errors (#994)~,"If HAVE_SOCK_CLOEXEC is not defined, then sc_raw_socket_close() is never used. Add an #ifndef block to remove the warning.",0
Happy new year 2022!,0.2908271,   (#224),,0
Fix memory leaks in tests,0.7058468, - Fix (huge) memory leak (#26),Tests were failing when run with ASAN enabled.,1
Document HID keyboard events,0.65304726,HID keyboard,,0
Ignore display bounds on resize-to-fit,0.61493295,Resize to fit,"The ""resize to fit"" feature (MOD+w or double-click on black borders) computed the ""optimal size"" using the same function computing the initial window size on start. However, on ""resize to fit"", only the black borders must be removed (the content size must be preserved), so the display bounds must not be considered.",0
Simplify sc_size assignment,0.454848,"In this new version, if the encoder fails before the first video frame, then scrcpy automatically retries with a lower definition (#2947), so in most cases it should work without explicitly passing a size argument.",Assign the whole struct instead of each field separately.,0
Upgrade SDL (2.0.18) for Windows,0.90851116, - Upgrade SDL to 2.0.20 in Windows releases,Include the latest version of SDL in Windows releases.,1
Set DPI awareness for Windows,0.93398356,DPI awareness on Windows,Add a windows manifest to set the DPI awareness by default: link Refs #40 link Fixes #2865 link,1
Mention react-native menu shortcut in README,0.43783107, - Add shortcut (Ctrl+m) for MENU key (#85),PR #2879 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix typos reported by codespell,0.4145477,Bugfixes,,0
Fix adb server hang,0.7965508," - Fix adb server hang due to signal masking (#2870, #2873)","Since commit 04267085441d6fcd05eff7df0118708f7622e237, the server is run in a dedicated thread. For SDL, many signals, including SIGINT and SIGTERM, are masked for new threads. As a result, if the adb server is not already running, adb commands invoked by scrcpy will start an adb server that ignores those signals and cannot be terminated at system shutdown. Fixes #2873 link PR #2870 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Improve crossbuild configuration,0.5255937, - Change the Windows build (cross-compile from Linux),"Use meson native features to detect crossbuild, and remove the user-provided option crossbuild_windows.",0
Add script to bump version,0.42470315, - Add option to change the push target (#659),The version must now be bumped at 4 different places. Add a script to bump automatically: ./bump_version 1.23.4,0
Add metadata to scrcpy.exe for Windows,0.70207036, - Add icon to scrcpy.exe (#2815),Refs link,1
Add icon to scrcpy.exe,0.96898896, - Add icon to scrcpy.exe (#2815),The icon will be associated to scrcpy.exe in the Windows explorer. The .ico was created using imagemagick: convert icon.png icon.ico It is included as a binary for simplicity. Refs #2815 link,1
Update copyright date to 2021 in manpage,0.3889258, - Add manpage,"December, it's time to update to 2021!",0
Update environment variables section in manpage,0.5953891,"On Windows, setting an environment variable is slightly different:",Use the same content as the section printed with --help.,0
Add environment variables in help,0.5159661,"On Windows, setting an environment variable is slightly different:",Print the list of environment variables used by scrcpy in --help.,0
Move newline generation in help,0.46279562, - Adapt --help output to terminal size,"If we removed the shortcuts intro, we would not need the additional '\n' of the section title, so it should be printed along with the shortcuts intro.",0
Rename scrcpy threads,0.6090054,scrcpy v1.18,"Prefix the name of threads by ""scrcpy-"". This improves readability in the output of top -H for example. Limit the thread names to 16 bytes, because it is limited on some platforms.",0
"Set ""low delay"" decoder flag",0.53162646, - Reduce latency by 1 frame (#646),"I don't really know the concrete benefits, but scrcpy definitely wants low delay decoding. Suggested-by: Franois Cartegnie fcvlcdev@free.fr",0
Use timers with microsecond precision,0.405722,"However, some real-time use cases may benefit from compensating for jitter, by adding a small latency. For example, few tens of seconds of latency for live-streaming are not important, but jitter is noticeable. The may also improve the mirroring of a video playback.",SDL only provides millisecond precision. Use system timers to get a better precision.,0
Interrupt and close sockets on server stop,0.67765534, - Terminate server properly without killing it on close (#1992),"The sockets were never interrupted or closed by the client since recent changes to run the server from a dedicated thread (see commit 04267085441d6fcd05eff7df0118708f7622e237). As a side effect, the server could never terminate properly (it was waiting on socket blocking calls), so it was always killed by the client after the WATCHDOG_DELAY. Interrupt the sockets on stop to give the servera chance to terminate property, then close them.",0
Do not create control socket if no control,0.55040014, - Do not power on the device if --no-control is set,"If --no-control is enabled, then it is not necessary to create a second communication socket between the client and the server. This also facilitates the use of the server alone (without the client) to receive only the raw video stream.",0
Require libavcodec >= 57.37,0.5647817, - Add H265 and AV1 video codec support (#3713),"In ffmpeg/doc/APIchanges: 2016-04-21 - 7fc329e - lavc 57.37.100 - avcodec.h   Add a new audio/video encoding and decoding API with decoupled input   and output -- avcodec_send_packet(), avcodec_receive_frame(),   avcodec_send_frame() and avcodec_receive_packet(). Refs de9b79ec2dd73e5442c6bf0161669bcd8ca7d5be Refs #2862 link",0
Require libavformat >= 57.33,0.5513419, - Add H265 and AV1 video codec support (#3713),"In ffmpeg/doc/APIchanges: 2016-04-11 - 6f69f7a / 9200514 - lavf 57.33.100 / 57.5.0 - avformat.h   Add AVStream.codecpar, deprecate AVStream.codec. Refs 5d9e96dc4eaa41b185c41e8a6df6191762764b1c Refs #2862 link",0
Require SDL >= 2.0.5,0.6681162, - Update SDL to 2.0.9 included in Windows releases,"Icon loading uses SDL_CreateRGBSurfaceWithFormatFrom(), available since SDL 2.0.5 (in 2016). Refs #2862 link",0
Remove spurious ';',0.28816742, - Continue text injection on failed character (#509),,0
Add missing comma,0.277704, - Improve some error messages,"Thank you clang: ../app/src/control_msg.c:45:5: warning: suspicious concatenation of string literals in an array initialization; did you mean to separate the elements with a comma? [-Wstring-concatenation]     ""hover-exit"",     ^",0
Add a unit test for clipboard text length,0.51062477, - Increase clipboard size from 4k to 256k (#1117),This would have catched the possible memcpy() overflow fixed by the previous commit. Refs #2859 link,0
Fix overflow in memcpy,0.49128374, - Fix possible overflow on copy-paste (#2859),"In function memcpy,     inlined from control_msg_serialize.constprop at ../app/src/control_msg.c:77:5,     inlined from run_controller at ../app/src/controller.c:69:12:         /usr/include/x86_64-linux-gnu/bits/string_fortified.h:34:10:         warning: __builtinmemcpychk writing 262138 bytes into a region         of size 262130 overflows the destination [-Wstringop-overflow=]    return builtinmemcpychk (dest, __src, __len, __bos0 (__dest)); Refs 901d8371655582b432d5d92430177a59df8058b9 PR #2859 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix comment in control message serialization,0.45212942, - Fix mouse events deserialization (comment in #350),Refs 245999aec4a4a1454212b38a988aa96fa701bb04 Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix memset() size in tests,0.33742788,"The solution is simple: reduce the resolution (scrcpy -m1024 for example), as explained in the FAQ (did I mention that nobody reads the FAQ?).",The memset() size was 1 byte too long. It was harmless because the last 'a' was overwritten by '\0`.,0
Mention SCRCPY_ICON_PATH env var in manpage,0.63969433, - Add icon to scrcpy.exe (#2815),,0
Remove useless intermediate variable,0.28485796,Windows PATH simplification,"Now that PLATFORM is correctly used in the if-condition, PLATFORM_VERSION is useless. PR #2850 link",0
Fix script to build without gradle,0.33998364," - Add Bash completion script (#2930, #3048)","The PLATFORM variable is assigned either from $ANDROID_PLATFORM or gets a default value (currently $PLATFORM_VERSION). The check to use either dx (SDK < 31) or d8 (SDK >= 31) must be based on the actual $PLATFORM, not the default $PLATFORM_VERSION. Refs 52138fd9213216a21fbdcda4d430394d7c8f0979 Refs link PR #2850 link Signed-off-by: Romain Vimont rom@rom1v.com",0
AUR to official Arch Repository,0.26558256, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,PR #2844 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix process execution on Windows 7,0.8964764," - Fix process execution (mainly) on Windows 7 (#2838, #2840)","According to this bug report on Firefox: link CreateProcess fails with ERROR_NO_SYSTEM_RESOURCES on Windows 7. It looks like the reason why is because PROC_THREAD_ATTRIBUTE_HANDLE_LIST doesn't like console handles. To avoid the problem, do not pass console handles to PROC_THREAD_ATTRIBUTE_HANDLE_LIST. Refs #2783 link Refs f801d8b3128cf5aae3725c981f32abfd4b6c307e Fixes #2838 link PR #2840 link",1
Log CreateProcessW() error code on Windows,0.5369556, - Keep the console open on error on Windows (#261),Refs #2838 link,0
Update links to v1.21,0.45174894,Hotfix for v1.15:,,0
Bump version to 1.21,0.48817983,Hotfix for v1.15:,,0
Clarify TCP/IP mode in README,0.5133364,"For convenience, this version introduces a new option to configure TCP/IP connections automatically, with two variants.",,0
Always synchronize clipboard on explicit COPY/CUT,0.71644056,A new option --no-clipboard-autosync disables this automatic synchronization. This also disables the acknowledgment mechanism described above.,"If --no-clipboard-autosync is enabled, the automatic clipboard synchronization performed whenever the device clipboard changes is disabled. But on explicit COPY and CUT scrcpy shortcuts (MOD+c and MOD+x), the clipboard should still be synchronized, so that it remains possible to copy-paste from the device to the computer. This is consistent with the behavior of MOD+v, which pastes the computer clipboard to the device. Refs #2228 link Refs #2817 link PR #2834 link",1
Expose sync mode for injecting events,0.4368882,"This version introduces a new option (--raw-key-events, #2831), which always injects key events and ignores all text events.","Expose the inject input event mode so that it is possible to wait for the events to be ""finished"". This will be necessary to read the clipboard content only after the COPY or CUT key event is handled. PR #2834 link",0
Move acknowledgment handling,0.3537037,A new option --no-clipboard-autosync disables this automatic synchronization. This also disables the acknowledgment mechanism described above.,Handle all actions related to SET_CLIPBOARD from the dedicated method. PR #2834 link,0
Fix set_clipboard message log,0.6002061," - Do not crash on missing clipboard manager (#1440, #1556)","If paste is disabled on set_clipboard, then the PASTE key is not injected, but COPY is unrelated. PR #2834 link",0
Upgrade gradle build tools to 7.0.3,0.39497072, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),,0
Add --raw-key-events,0.8125889,"Add ""raw key events"" mode","This option allows to inject all input keys as key events, and ignore text events. Fixes #2816 link PR #2831 link",1
Use enum for key injection mode,0.46614158,"This option is only meaningful for the default injection method: with HID keyboard (--hid-keyboard), all keys are sent as scancodes.","There was only two key injection modes:  - the default one  - the mode with --prefer-text enabled To prepare the addition of another mode (--raw-key-events), use an enum instead of a bool. PR #2831 link",0
Use static maps to convert input events,0.50534487, - Send raw key events for letters to use keyboard in games (#87),This improves readability (hopefully). PR #2831 link,0
Fix code style in keyboard_inject,0.6078448," - Correctly inject repeating keycodes (#1013, #1519)",,0
Improve HID keyboard documentation,0.62495196,HID keyboard,Explain how to configure the keyboard layout.,0
Document --tcpip in README,0.5093435, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),PR #2827 link,0
Add --tcpip feature,0.71832556, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),"Expose an option to automatically configure and reconnect the device over TCP/IP, to simplify wireless connection without using adb explicitly. There are two variants:  - If a destination address is provided, then scrcpy connects to this    address before starting. The device must listen on the given TCP port    (default is 5555).  - If no destination address is provided, then scrcpy attempts to find    the IP address of the current device (typically connected over USB),    enables TCP/IP mode, then connects to this address before starting. PR #2827 link",1
Extract interruptible sleep for server,0.44743365,scrcpy --stay-awake,"This improves readability, and makes the function reusable. PR #2827 link",0
Add function to read an adb property,0.47441474,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:","This will allow to read the property ""service.adb.tcp.port"" to know if the TCP/IP mode is enabled on the device, and which listening port is used. PR #2827 link",0
Add function to switch device to TCP/IP mode,0.55170053,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","Expose a function to execute ""adb tcpip "". PR #2827 link",0
Add function to find the device IP address,0.48148537,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:","Parse the result of ""adb shell ip route"" to find the device IP address. PR #2827 link",0
Add util function to remove trailing '\r',0.32567838, - Remove deprecated short options -T and -c,"Depending on the platform and adb versions, the lines output by adb could end with ""\r\r\n"". This util function helps to remove all trailing '\r'. PR #2827 link",0
Add util function to locate a column in a string,0.19769542, - Continue text injection on failed character (#509),"This will help to parse the result of ""adb shell ip route"" to find the device IP address. PR #2827 link",0
"Workaround ""adb connect"" error detection",0.6880015," - Improve error message on missing adb (#236, #254)","""adb connect"" always returns successfully (with exit code 0), even in case of failure. As a workaround, capture its output and check if it starts with ""connected"". PR #2827 link",0
Add adb connect and disconnect,0.62292314,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:",PR #2827 link,0
Add adb flag to disable execution error logs,0.5742631," - Improve error message on missing adb (#236, #254)","In addition to disable stdout and stderr of the child process, add a flag to disable the error log printed by scrcpy if the command failed. This will we useful for commands which are expected to fail in some cases (like ""adb disconnect"" if the device is not connected). PR #2827 link",0
Use flags for adb commands,0.514301,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"Explicitly indicate, for each adb call, if stdout and stderr must be inherited. PR #2827 link",0
Expose flags for process execution,0.40419596," - Fix process execution (mainly) on Windows 7 (#2838, #2840)","Let the caller decide if stdout and stderr must be inherited on process creation, i.e. if stdout and stderr of the child process should be printed in the scrcpy console. This allows to get output and errors for specific adb commands depending on the context. PR #2827 link",0
Remove obsolete precision in README,0.49958846," - Add support for high-precision scrolling (#3363, #3369)","Scrcpy is available in Debian stable packages, and several Ubuntu versions.",0
Simplify Windows process inheritance configuration,0.4491891," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",Merge if-blocks together.,0
Remove intermediate static functions from adb.c,0.442066," - Improve error message on missing adb (#236, #254)",They can easily be inlined into the public functions.,0
Set CLOEXEC flag on sockets,0.39582136, - -e (or --select-tcpip) uses a TCP/IP device (like adb -e),"If SOCK_CLOEXEC exists, then set the flag on socket creation. Otherwise, use fcntl() (or SetHandleInformation() on Windows) to set the flag afterwards. This avoids the sockets to be inherited in child processes. Refs #2783 link",0
Check process success locally for adb commands,0.46094546,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.","Remove sc_process_check_success() from the process API, it is too specific.",0
Extract command argv building,0.30930853, - Adapt --help output to terminal size,This simplifies adb_execute_p().,0
Use unsigned for connection attempts count,0.40143788, - Return non-zero value on connection loss (#204),There is no reason to use an explicit uint32_t.,0
Reorder cli sanity checks,0.32155347, - scrcpy-console.bat is a simple wrapper script to pause on error,Check unexpected additional arguments before other sanity checks.,0
Fix adb get-serialno error handling,0.6545274," - Improve error message on missing adb (#236, #254)","If pipe read fails, return.",0
Add OutOfMemory log helper,0.54506356, - Add --verbosity to configure log level at runtime,Add a special LOG_OOM() function to log all OutOfMemory errors (i.e. allocations returning NULL).,0
Remove unreachable return statements,0.46338838, - Return non-zero value on connection loss (#204),,0
Add missing return on file_handler failure,0.41457707, - Return non-zero value on connection loss (#204),Mistake introduced by 84334cf7db68732eb92caf6cf9682c7ef2c426f6.,0
Add missing includes,0.36748043," - Add Bash completion script (#2930, #3048)",Include these headers explicitly instead of relying on transitivity.,0
Make lockVideoOrientation option name uniform,0.7717312," - Add option to lock video orientation (#218, #1151)","On the server, the option was named lockedVideoOrientation.",1
Do not pass default values to the server,0.36629283, - Avoid additional buffer copy in userspace on the server,"By default, only pass the version and the bit rate (the default bitrate is a client compilation option).",0
Pass server parameters as key=value pairs,0.24413699, - Add server options to send raw H.264 video stream (#2971),"The options values to configure the server were identified by their command-line argument index. Now that there are a lot of arguments, many of them being booleans, it became unreadable and error-prone. Identify the arguments by a key string instead, and make them optional. This will also simplify running the server manually for debugging.",0
Allocate and format server command args,0.38310552,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",This simplifies formatting.,0
Parse codec options early,0.6705449,Advanced codec options,"For consistency with other options, parse the codec options on the server before storing them in the Options instance.",0
"Remove local ""serial"" variable",0.5546264,$ANDROID_SERIAL,"In execute_server(), the serial is used only once. Moreover, it can be retrieved from the params argument directly.",0
Add (v)asprintf compatibility functions,0.41672426," - Add --printf-fps (#468, #3030)",In case they are not available on the platform.,0
Move check_functions in meson script,0.2353004," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)",Move the variable to the place it is actually used.,0
Add missing includes in compat implementation,0.31938338," - Add Bash completion script (#2930, #3048)",These includes are necessary for the strdup() compat implementation.,0
Define common feature test macros for all systems,0.2821913,"scrcpy -s   # auto-complete by the devices listed by ""adb devices""","_POSIX_C_SOURCE, _XOPEN_SOURCE and _GNU_SOURCE are also used on Windows. Fix regression introduced by ba547e3895397e3710e7eb14faafbabbd7e3a077.",0
Add option to disable clipboard autosync,0.81424797,A new option --no-clipboard-autosync disables this automatic synchronization. This also disables the acknowledgment mechanism described above.,"By default, scrcpy automatically synchronizes the computer clipboard to the device clipboard before injecting Ctrl+v, and the device clipboard to the computer clipboard whenever it changes. This new option --no-clipboard-autosync disables this automatic synchronization. Fixes #2228 link PR #2817 link",1
Wait SET_CLIPBOARD ack before Ctrl+v via HID,0.8091043, - Ensure clipboard synchronization is performed before injecting Ctrl+v via HID keyboard (#2814),"To allow seamless copy-paste, on Ctrl+v, a SET_CLIPBOARD request is performed before injecting Ctrl+v. But when HID keyboard is enabled, the Ctrl+v injection is not sent on the same channel as the clipboard request, so they are not serialized, and may occur in any order. If Ctrl+v happens to be injected before the new clipboard content is set, then the old content is pasted instead, which is incorrect. To minimize the probability of occurrence of the wrong order, a delay of 2 milliseconds was added before injecting Ctrl+v. Then 5ms. But even with 5ms, the wrong behavior sometimes happens. To handle it properly, add an acknowledgement mechanism, so that Ctrl+v is injected over AOA only after the SET_CLIPBOARD request has been performed and acknowledged by the server. Refs e4163321f00bb3830c6049bdb6c1515e7cc668a0 Refs 45b0f8123a52f5c73a5860d616f4ceba2766ca6a PR #2814 link",1
Move PRIu64 Windows workaround to compat.h,0.5221073, - Change the Windows build (cross-compile from Linux),So that we can use it from several files. PR #2814 link,0
Make the device acknowledge device clipboard,0.73232037, - Add computer-to-device clipboard copy (#413),"If the client provided a sequence number on SET_CLIPBOARD request, make the device send back an acknowledgement once the clipboard is set. PR #2814 link",1
Add device clipboard set acknowledgement,0.7435034, - Add computer-to-device clipboard copy (#413),Add a device message type so that the device could send acknowledgements for SET_CLIPBOARD requests. PR #2814 link,1
Add sequence number to set_clipboard request,0.53440785, - Increase clipboard size from 4k to 256k (#1117),This will allow the client to request an acknowledgement. PR #2814 link,0
Add acksync helper to wait for acks,0.31629184," - Increase ""adb forward"" connections attempts to 10 seconds (#213)",This will allow to send requests with sequence numbers to the server and wait for acknowledgements. PR #2814 link,0
Explicitly indicate when device clipboard is set,0.734545,"However, setting the device clipboard programmatically does not work properly on some devices, causing confusing behavior (injecting PASTE does not paste the content set programmatically).","Pass the information that device clipboard has been set to the key processor. This avoids the keyprocessor to ""guess"", and paves the way to implement a proper acknowledgement mechanism. PR #2814 link",1
Do not inject Ctrl+v if clipboard sync failed,0.7965208, - Ensure clipboard synchronization is performed before injecting Ctrl+v via HID keyboard (#2814),"This prevents to paste the current Android clipboard, which would be unexpected. PR #2814 link",1
Synchronize computer-to-device empty clipboard,0.71840495, - Add computer-to-device clipboard copy (#413),"Set the device clipboard to empty string if necessary. Otherwise, the current device clipboard will be pasted on Ctrl+v. PR #2814 link",1
Use UINT64_C macro for uint64_t constant in tests,0.33779943," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",A long constant might not be sufficient.,0
Document remote ADB server in README,0.62597233,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.",Refs #2807 link,0
Force adb forward if tunnel host/port is provided,0.62382597,Two new options --tunnel-host and --tunnel-port (implemented by @RipleyTom) allow to connect to a remote ADB server. This allows for example to mirror a device plugged on another computer easily.,"Tunnel host and port are only meaningful in ""adb forward"" mode. They indicate where the client must connect to communicate with the server. In ""adb reverse"" mode, the client listens, it does not connect. Refs #2807 link",0
Add options to configure tunnel host and port,0.8481195," - Add --tunnel-host and --tunnel-port options (#2801, #2807)","In ""adb forward"" mode, by default, scrcpy connects to localhost:PORT, where PORT is the local port passed to ""adb forward"". This assumes that the tunnel is established on the local host with a local adb server (which is the common case). For advanced usage, add --tunnel-host and --tunnel-port to force the connection to a different destination. Fixes #2801 link PR #2807 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Add function to parse IPv4 addresses,0.25621438,Simplify TCP/IP (wireless) configuration,PR #2807 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Configure feature test macros in meson,0.23349905, - Apply workarounds only on error (#994),Refs #2807 link Co-authored-by: RipleyTom RipleyTom@users.noreply.github.com,0
Add missing include config.h,0.31583017," - Fix ""Could not find v4l2 muxer"" (#2718)",,0
Improve SSH tunnel documentation in README,0.52979785," - Add --tunnel-host and --tunnel-port options (#2801, #2807)",,0
Print scrcpy header first,0.7694656,scrcpy --display 1,"Inconditionnally print the scrcpy version first, without using LOGI(). The log level is configured only after parsing the command line parameters (it may be changed via -V), and command line parsing logs should not appear before the scrcpy version.",1
Print help to stdout,0.76691425, - Print help to stdout (instead of stderr),"The output of -h/--help was printed on stderr, although it is not an error. Printing on stdout allows to pipe the result directly: scrcpy --help | less Instead of (in bash): scrcpy --help |& less",1
Assert that long options are correctly set,0.3517341,Remove deprecated short options,,0
Simplify adb_tunnel,0.600696,Two new options --tunnel-host and --tunnel-port (implemented by @RipleyTom) allow to connect to a remote ADB server. This allows for example to mirror a device plugged on another computer easily.,"With the new adb functions, the static adb_tunnel functions become unnecessary.",0
Privatize low-level adb functions,0.4701678,Note that all ADB communications between the server and the client are unencrypted.,Only expose the interruptible user-friendly API.,0
Use new user-friendly adb API,0.5140555,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.",Replace the adb_exec_*() calls by the new adb functions to simplify.,0
Expose new user-friendly adb functions,0.4378095,"Since it works even with USB debugging disabled (i.e. without adb), it could for example be used to enable USB debugging on a device with a broken touchscreen (to then run scrcpy normally).","Expose interruptible adb functions which return the expected result directly, without exposing the process (sc_pid) to the caller.",0
Rename adb functions to adb_exec_*,0.50416064," - Improve error message on missing adb (#236, #254)",This paves the way to replace them by more user-friendly functions that will call them internally.,0
Use sc_intr in file_handler,0.3378411, - Fix file push with non-ASCII chars on Windows (#422),Replace manual interruption handling by the recent sc_intr mechanism.,0
Simplify file_handler,0.30971023, - Implement (optional) buffering (#2464),Call the target functions directly.,0
Improve file_handler readability,0.32454884, - Fix file push with non-ASCII chars on Windows (#422),Use local variables as short name aliases.,0
Simplify adb_execute_p(),0.464705," - Improve error message on missing adb (#236, #254)","Only pass the stdout pipe as parameter, scrcpy never writes to stdin or reads from stderr of an adb process.",0
"Make ""adb get-serialno"" interruptible",0.5545395,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"All process executions must be interruptible, so that Ctrl+c reacts immediately.",0
Add interruptible function to read from pipe,0.4311788, - Implement (optional) buffering (#2464),This will avoid to block Ctrl+c if the process the pipe is read from takes too much time.,0
Simplify sc_str_truncate(),0.42405626,scrcpy -w  # short option,Use strcspn() to get the prefix length directly.,0
Generalize string trunctation util function,0.30347413,Remove deprecated short options,Add an additional argument to let the client pass the possible end chars.,0
Expose util function to truncate first line,0.2836083, - Adapt --help output to terminal size,Move the local implementation from adb functions to the string util functions.,0
Assume non-NULL serial in file_handler,0.39870632," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","The previous commit guarantees to always initialize the serial, so the file_handle may assume it is never NULL.",0
Always retrieve device serial,0.56357765,$ANDROID_SERIAL,"This allows to execute all adb commands with the specific -s parameter, even if it is not provided by the user. In practice, calling adb without -s works if there is exactly one device connected. But some adb commands (for example ""adb push"" on drag & drop) could be executed after another device is connected, so the actual device serial must be known.",0
Add missing error handling,0.62285805, - Improve some error messages,"If ""adb get-serialno"" fails, attempting to read from the uninitialized pipe is incorrect.",0
Close process on check success,0.43650895, - Terminate server properly without killing it on close (#1992),"The interruptible version of the function to check process success (sc_process_check_success_intr()) did not accept a close parameter to avoid a race condition. But as the result, the processes were not closed at all. Add a close parameter, and close the process separately to avoid the race condition.",0
Configure init and cleanup asynchronously,0.38981602," - Add --no-cleanup option (#1764, #3020)",Accessing the settings (like --show-touches) on start should not delay screen mirroring. PR #2802 link,0
Do not quit on cleanup configuration failure,0.5048967," - Add --no-cleanup option (#1764, #3020)","Cleanup is used for some options like --show-touches to restore the state on exit. If the configuration fails, do not crash the whole process. Just log an error. PR #2802 link",0
Move init and cleanup to a separate method,0.39471877," - Add --no-cleanup option (#1764, #3020)",PR #2802 link,0
Read/write settings via command on Android >= 12,0.6681934," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)","Before Android 8, executing the ""settings"" command from a shell was very slow (~1 second), because it spawned a new app_process to execute Java code. Therefore, to access settings without performance issues, scrcpy used private APIs to read from and write to settings. However, since Android 12, this is not possible anymore, due to permissions changes. To make it work again, execute the ""settings"" command on Android 12 (or on previous version if the other method failed). This method is faster than before Android 8 (~100ms). Fixes #2671 link Fixes #2788 link PR #2802 link",0
Add throwable parameter to Log.w(),0.53291976, - Add --verbosity to configure log level at runtime,"When an exception occurs, we might want to log a warning instead of an error. PR #2802 link",0
Report settings errors via Exceptions,0.45913488, - Improve some error messages,"Settings read/write errors were silently ignored. Report them via a SettingsException so that the caller can handle them. This allows to log a proper error message, and will also allow to fallback to a different settings method in case of failure. PR #2802 link",0
Wrap settings management into a Settings class,0.39229113," - Expand settings panel on double-expand notification panel (#2260, #2264)","Until now, the code that needed to read/write the Android settings had to explicitly open and close a ContentProvider. Wrap these details into a Settings class. This paves the way to provide an alternative implementation of settings read/write for Android >= 12. PR #2802 link",0
Update Simplified Chinese README to 1.20,0.40014213,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2786 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix wrong package to install for Ubuntu/Debian,0.2211245, - Fix errors on Android 11 (#1468),"Without this package, meson fails: Run-time dependency libusb-1.0 found: NO (tried pkgconfig and cmake) app/meson.build:88:8: ERROR: Dependency ""libusb-1.0"" not found, tried pkgconfig and cmake PR #2790 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Inherit only specific handles on Windows,0.34180972,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:","To be able to communicate with a child process via stdin, stdout and stderr, the CreateProcess() parameter bInheritHandles must be set to TRUE. But this causes all handles to be inherited, including sockets. As a result, the server socket was inherited by the process running adb to execute the server on the device, so it could not be closed properly, causing other scrcpy instances to fail. To fix the issue, use an extended API to explicitly set the HANDLEs to inherit:  - link  - link Fixes #2779 link PR #2783 link",0
Factorize resource release after CreateProcess(),0.38735354," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",Free the wide characters string in all cases before checking for errors.,0
Remove useless assignments on error,0.5130881, - Improve some error messages,Leave the output parameter untouched on error.,0
Fix Windows sc_pipe function names,0.4348588, - Pass scrcpy-noconsole arguments through to scrcpy on Windows (#2052),"The implementation name was incorrect (it was harmless, because they are not used on Windows).",0
Stop connection attempts if interrupted,0.4676005, - Increase connection attempts (fix issues over TCP/IP),"If the interruptor is interrupted, every network call will fail, but the retry-on-error mechanism must also be stopped.",0
Fix compilation errors with old SDL versions,0.6603981, - Downgrade SDL to 2.0.8 in Windows releases (#425),SDL_PixelFormatEnum has been introduced in SDL 2.0.10: link SDL_PIXELFORMAT_BGR444 has been introduced in SDL 2.0.12: link Fixes #2777 link PR #2781 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com,0
Update links to v1.20,0.43495202,Hotfix for v1.15:,,0
Bump version to 1.20,0.49335334,Hotfix for v1.15:,,0
Update script to build without gradle to SDK 31,0.43018353, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,Build tools 31.x.x do not ship dx anymore. Use d8 instead. Refs 8bf28e9f5340d2a54dbc9b2c9d924b7ee4fa8d31,0
Extract ANDROID_JAR path in build script,0.41399854,"On all platforms except Windows, the absolute path of scrcpy-server.jar is hardcoded (typically to /usr/share/scrcpy/scrcpy-server.jar), so it is straightforward to know its path.",This will allow to reuse it.,0
Fix word order in README,0.38509732, - Add --prefer-text option (#650),,0
Mention crash on Android 12 on old scrcpy in FAQ,0.5777554,Input injection from previous scrcpy versions failed on Android 13 preview (#3186). This version makes it work.,,0
Adapt icon in README,0.5655922," - Add official high-resolution icon (#1497, #1987)","Use SVG format, align to the right, and reduce its size.",0
"Replace ""connected on"" to ""connected via""",0.3261809,Configure tunneling,"I'm not sure ""connected on USB"" is correct.",0
Improve scrcpy presentation in README,0.71134865,scrcpy v1.5,,1
Increase delay to inject HID on Ctrl+v,0.646347,HID keyboard and Ctrl+v,2 milliseconds turn out to be insufficient sometimes. It seems that 5 milliseconds is enough (and still not noticeable).,0
Use sc_ prefix for server,0.4720861,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.",,0
Move str_util to str,0.3180157,$ scrcpy,Simplify naming.,0
Improve string util API,0.31573656,Serial auto-completion,Use prefixed names and improve documentation.,0
Rename SC_INVALID_SOCKET to SC_SOCKET_NONE,0.5227448, - Print correct error messages on Windows socket errors (#2624),For consistency with SC_PROCESS_NONE.,0
Extract adb tunnel to a separate component,0.5958982,Two new options --tunnel-host and --tunnel-port (implemented by @RipleyTom) allow to connect to a remote ADB server. This allows for example to mirror a device plugged on another computer easily.,This simplifies the server code.,0
Move IPV4_LOCALHOST to net.h,0.38147238, - Make it work over tcpip (#5),This constant will be used from several files.,0
Interrupt on process terminated,0.44130954, - Fix missing initialization that leaded to kill the whole process,"Interrupt any blocking call on process terminated, like on server_stop(). This allows to interrupt any blocking accept() with correct synchronization without additional complexity.",0
Make server interruptible,0.5635054, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,Use an interruptor to immediately wake up blocking calls on server_stop().,0
Add interruptor utilities,0.36515078, - Implement (optional) buffering (#2464),"Expose wrapper functions for interrupting blocking calls, for process and sockets.",0
Introduce interruptor tool,0.33481285, - Implement (optional) buffering (#2464),An interruptor instance will help to wake up a blocking call from another thread (typically to terminate immediately on Ctrl+C).,0
Run the server from a dedicated thread,0.47631055, - Terminate server properly without killing it on close (#1992),"Define server callbacks, start the server asynchronously and listen to connection events to initialize scrcpy properly. It will help to simplify the server code, and allows to run the UI event loop while the server is connecting. In particular, this will allow to receive SIGINT/Ctrl+C events during connection to interrupt immediately.",0
Wait using a condition variable in server,0.33403283, - Record asynchronously,"Currently, server_stop() is called from the same thread as server_connect_to(), so interruption may never happen. This is a step to prepare executing the server from a dedicated thread.",0
Reorder server functions,0.3741317, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,This will avoid forward declarations in future commits.,0
Copy server params,0.45735228, - Avoid additional buffer copy in userspace on the server,This is a preliminary step necessary to move the server to a separate thread.,0
Reorder server and server_params,0.3100023, - Refuse to push server if it points to a directory (#956),This will allow to define a server_params field in server.,0
Split socket creation and connect/listen,0.39864716," - Use current adb port (if any) for --tcpip (#3591, #3592)","This will allow to assign the socket to a variable before connecting or listening, so that it can be interrupted from another thread.",0
Set video and control sockets only on success,0.43736595,Lock video orientation,Store the video and control sockets only if server_connect_to() returns successfully.,0
Initialize tunnel_enabled flag internally,0.5777685," - Add --tunnel-host and --tunnel-port options (#2801, #2807)","Set the flag from the inner methods, to avoid bypassing the assignment by mistake (on error for example).",0
Introduce process observer,0.39070547,Log input events,Add a tool to easily observe process termination. This allows to move this complexity out of the server code.,0
Improve process API,0.36002475," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",Prefix symbols and constants names and improve documentation.,0
Factorize common impl of process_execute(),0.3976457," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",Both implementations are the same. Move them to the common process.c.,0
Remove duplicate function declaration,0.31190985,ERROR: Multiple (2) USB devices:,The function process_terminate() was declared twice.,0
Improve file API,0.44486892, - Add feature to push file to /sdcard/ via drag & drop (#226),Prefix symbols and constants names and improve documentation.,0
Move functions from process to file,0.35902607," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",Move filesystem-related functions from process.[ch] to file.[ch].,0
Make screen_render() static,0.5036822,scrcpy --turn-screen-off,It is only used from screen.c.,0
Upgrade junit to 4.13.1,0.32807875, - Upgrade FFmpeg to 4.3.1 in Windows releases,,0
Adapt help to terminal size,0.83406377, - Adapt --help output to terminal size,"If the error stream is a terminal, and we can retrieve the terminal size, wrap the help content according to the terminal width.",1
Add util function to get terminal size,0.56094646, - Adapt --help output to terminal size,,0
Generate getopt params from option structures,0.2181074,Some command line options were first introduced with a short version:,"Use the option descriptions to generate the optstring and longopts parameters for the getopt_long() command. That way, the options are completely described in a single place.",0
Structure shortcuts help,0.5872094,New shortcuts,,0
Structure command line options help,0.37948704,Some command line options were first introduced with a short version:,It will allow to correctly print the help for the current terminal size (even if for now it is hardcoded to 80 columns).,0
Add line wrapper,0.24445158,| -------------- |:------------------:|:------------------:,"Add a tool to wrap lines at words boundaries (spaces) to fit in a specified number of columns, left-indented by a specified number of spaces.",0
Add string buffer util,0.57919383, - Implement (optional) buffering (#2464),This will help to build strings incrementally.,0
Remove deprecated -T option,0.8099431, - Remove deprecated short options -T and -c,The short option -T is deprecated since v1.11. Only the long version (--always-on-top) remains.,1
Remove deprecated -c option,0.75937784, - Remove deprecated short options -T and -c,The short option -c is deprecated since v1.11. Only the long version (--crop) remains.,1
Document --power-off-on-close,0.6469803,Power off on close,The option was not documented. Refs #824 link,0
Mention drag & drop for non-APK files in help,0.75055045, - Add feature to install APK files via drag & drop (#133),,1
Mention drag & drop APK in README,0.7310041, - Add feature to install APK files via drag & drop (#133),For consistency with --help and manpage.,1
Remove extra space in README,0.38843516," - Fix ""push file"" with spaces on Windows (#288)",,0
Fix typos in help,0.4761628, - Improve some error messages,,0
"Add missing include ""common.h""",0.32162058," - Fix ""Could not find v4l2 muxer"" (#2718)",,0
Wrap device name and size in a struct,0.33853418,Improve device selection,"As a benefit, this avoids to take care of the device name length on the caller side.",0
Update README.jp.md to v1.19,0.47864974,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2740 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Remove unnecessary variable,0.2867401, - Remove deprecated short options -T and -c,"Test directly if a record filename is provided, without an intermediate boolean variable.",0
Disable synthetic mouse events from touch events,0.66281," - Correctly handle mouse events outside device screen (#353, #357)","Touch events with id SDL_TOUCH_MOUSEID are ignored anyway, but it is better not to generate them in the first place.",0
Split SDL initialization,0.39452773, - Upgrade SDL to 2.0.22 in Windows releases,Initialize SDL_INIT_EVENTS first (very quick) and SDL_INIT_VIDEO after the server (quite long).,0
Move SDL initialization,0.44893157, - Downgrade SDL to 2.0.8 in Windows releases (#425),Inline SDL initialization in scrcpy(). This will allow to split minimal initialization and video initialization.,0
Set SDL hints before initialization,0.3528142, - Update SDL to 2.0.9 included in Windows releases,"In theory, some SDL hints should be initialized before calling SDL_Init().",0
Extract SDL hints,0.36649156, - Update SDL to 2.0.9 included in Windows releases,Set all SDL hints in a separate function.,0
Factorize SDL event push,0.4160202, - Forward repeated volume events,"Add a macro and inline function to call SDL_PushEvent() and log on error (without actually handling the error, because there is nothing we could do).",0
Handle SDL_PushEvent() errors,0.3672853, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Pushing an event to the main thread may fail. If this happens, log an error, and try to recover when possible.",0
"Use sc_ prefix for size, position and point",0.37636524,scrcpy -w  # short option,,0
Upgrade gradle build tools to 7.0.2,0.37085575, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,,0
Upgrade Android checkstyle to 9.0.1,0.4094618," - Add support for Android 12 (#2129, #2402)","Adapt checkstyle.xml to match the latest version, and remove a line break between imports which trigger a checkstyle volation.",0
Upgrade Android SDK to 31,0.53201675, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),,0
Fix typo in clock comments,0.3496304, - Improve some error messages,,0
Define v4l2 option field only if HAVE_V4L2,0.41256547," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)",,0
Define default options as const struct,0.25409776,"Since these are ""advanced"" features (not common enough), the short version of these options had been deprecated in scrcpy v1.11 two years ago. It's time to remove them (and it simplified some refactors). Only the long version remains.","This is more readable than a macro, and we could ifdef some fields.",0
Move scrcpy option structs to options.h,0.63822937,"Since these are ""advanced"" features (not common enough), the short version of these options had been deprecated in scrcpy v1.11 two years ago. It's time to remove them (and it simplified some refactors). Only the long version remains.",This will allow to define symbols in options.c without all the dependencies of scrcpy.c.,0
Expose socket interruption,0.40412354, - Return non-zero value on connection loss (#204),"On Linux, socket functions are unblocked by shutdown(), but on Windows they are unblocked by closesocket(). Expose net_interrupt() and net_close() to abstract these differences:  - net_interrupt() calls shutdown() on Linux and closesocket() on    Windows (if not already called);  - net_close() calls close() on Linux and closesocket() on Windows (if    not already called). This simplifies the server code, and prevents a data race on close (reported by TSAN) on Linux (but does not fix it on Windows): WARNING: ThreadSanitizer: data race (pid=836124)   Write of size 8 at 0x7ba0000000d0 by main thread:     #0 close ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:1690 (libtsan.so.0+0x359d8)     #1 net_close ../app/src/util/net.c:211 (scrcpy+0x1c76b)     #2 close_socket ../app/src/server.c:330 (scrcpy+0x19442)     #3 server_stop ../app/src/server.c:522 (scrcpy+0x19e33)     #4 scrcpy ../app/src/scrcpy.c:532 (scrcpy+0x156fc)     #5 main ../app/src/main.c:92 (scrcpy+0x622a) Previous read of size 8 at 0x7ba0000000d0 by thread T6:     #0 recv ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:6603 (libtsan.so.0+0x4f4a6)     #1 net_recv ../app/src/util/net.c:167 (scrcpy+0x1c5a7)     #2 run_receiver ../app/src/receiver.c:76 (scrcpy+0x12819)     #3   (libSDL2-2.0.so.0+0x84f40)",0
Add socket wrapper,0.42740035, - Make it work over tcpip (#5),"This paves the way to store an additional ""closed"" flag on Windows to interrupt and close properly.",0
Use net_send() from net_send_all(),0.5121474, - Make it work over tcpip (#5),This will make net_send_all() continue to work even if net_send() behavior is changed.,0
Use sc_ prefix for sockets,0.5091975,"For example, to run scrcpy with the single TCP/IP device:",Rename:  - socket_t to sc_socket  - INVALID_SOCKET to SC_INVALID_SOCKET,0
Move net_init() and net_cleanup() upwards,0.34869874, - Make it work over tcpip (#5),"These two functions are global, define them at the top of the implementation file. This is consistent with the header file.",0
Update FAQ to mention HID keyboard,0.6772959,HID keyboard,,0
Delay HID events on Ctrl+v,0.70795286,HID keyboard and Ctrl+v,"When Ctrl+v is pressed, a control is sent to the device to set the device clipboard before injecting Ctrl+v. With the InputManager method, it is guaranteed that the device synchronization is executed before handling Ctrl+v, since the commands are executed on the device in sequence. However, HID are injected from the computer, so there is no such guarantee. As a consequence, on Android, Ctrl+v triggers a paste with the old clipboard content. To workaround the issue, wait a bit (2 milliseconds) from the AOA thread before injecting the event, to leave enough time for the clipboard to be set before injecting Ctrl+v.",1
Synchronize HID keyboard state on first event,0.57850707,HID keyboard,"When an AOA HID keyboard is registered, CAPSLOCK and NUMLOCK are both disabled, regardless of the state of the computer keyboard. To synchronize the state, on first key event, inject CAPSLOCK and/or NUMLOCK if necessary.",0
Retrieve device serial for AOA,0.5315981,$ANDROID_SERIAL,"The serial is necessary to find the correct Android device for AOA. If it is not explicitly provided by the user via -s, then execute ""adb getserialno"" to retrieve it.",0
Expose function to get the device serial,0.5584017,$ANDROID_SERIAL,"Expose adb_get_serialno() to retrieve the device serial via the command ""adb getserialno"".",0
Add read_pipe_all(),0.31226805, - Implement (optional) buffering (#2464),Add a convenience function to read from a pipe until all requested data has been read.,0
Expose adb execution with redirection,0.5174897,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.",Expose the redirection feature to the adb API.,0
Add command execution with redirection,0.3110687," - Add a shortcut ""open a terminal here"" on Windows (#2970)","Expose command execution with pipes to stdin, stdout and stderr. This will allow to read the result of adb commands.",0
Add support for USB HID keyboard over AOAv2,0.72093743, - Add HID keyboard support on Linux (#2632),"This provides a better input experience, by simulating a physical keyboard. It converts SDL keyboard events to proper HID events, and send them over AOAv2. This is a rewriting and bugfix of the origin code from @amosbird: link The feature is enabled the command line option -K or --hid-keyboard, and is only available on Linux, over USB. Refs link Refs link PR #2632 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Extract mouse processor trait,0.48020113,The mouse capture works the same as explained in the previous section.,Mainly for consistency with the keyboard processor trait. This could allow to provide alternative mouse processors.,0
Extract keyboard processor trait,0.49081925, - Send raw key events for letters to use keyboard in games (#87),This will allow to provide alternative key processors.,0
Fix trait header guards,0.34467274," - Fix mp4 headers produced by recording (#351, #416)",,0
Remove unused markdown link in README,0.31598133, - ~Do not print irrelevant workarounds errors (#994)~,,0
Mention SCRCPY_ICON_PATH envvar in README,0.6485517, - Add icon to scrcpy.exe (#2815),,0
Add scrcpy icon to README,0.76631486, - Add icon to scrcpy.exe (#2815),,1
Remove legacy scrcpy icon,0.80236816,New scrcpy icon,Remove the old icon in XPM format and the code to load it.,1
Add icon source in SVG format,0.51500356," - Add official high-resolution icon (#1497, #1987)","Scrcpy only uses the PNG format (because SDL only supports bitmap icons), but keep the SVG source in the repo.",0
Use a new scrcpy icon,0.91182745,New scrcpy icon,Use the new icon designed by @varlesh: link Load it from a PNG file (SDL only supports bitmap icons).,1
Add support for palette icon formats,0.4920702," - Add official high-resolution icon (#1497, #1987)",To support more icon formats.,0
Add icon loader,0.48776475," - Add official high-resolution icon (#1497, #1987)",Add helper to load icons from image files via FFmpeg.,0
Move common instruction out of ifdef,0.33183843, - ~Do not print irrelevant workarounds errors (#994)~,Both ifdef-branches return server_path.,0
Extract util function to build a local file path,0.33507785,Windows PATH simplification,Finding a local file in the scrcpy directory may be useful for files other than scrcpy-server in the future.,0
"Fix ""Could not find v4l2 muxer""",0.9656987," - Fix ""Could not find v4l2 muxer"" (#2718)","The AVOutputFormat name is a comma-separated list. In theory, possible names for V4L2 are: - ""video4linux2,v4l2"" - ""v4l2,video4linux2"" - ""v4l2"" - ""video4linux2"" To find the muxer in all cases, we must request exactly one muxer name at a time. PR #2718 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",1
Simplify net_send_all(),0.43548706,Simplify TCP/IP (wireless) configuration,There is no need to declare the variable before the loop.,0
Update Readme.pt-br.md to v1.19,0.46646684,Hotfix for v1.12:,PR #2686 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update italian translation to v1.19,0.34575406,Hotfix for v1.15:,PR #2650 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix workarounds for Meizu,0.84570104," - Fix workarounds for Meizu devices (#240, #2656)","Workarounds.fillAppInfo() is necessary for Meizu devices even before the first call to internalStreamScreen(), but it is harmful on other devices (#940). Therefore, simplify the workaround, by calling fillAppInfo() only if Build.BRAND equals ""meizu"" (case insensitive). Fixes #240 link (again) Fixes #2656 link",1
Fix link in README,0.38347396,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Add support for expandNotificationsPanel() variant,0.6775136, - Fix support for expand notification feature on some devices (#2551),Some custom vendor ROM added an int as a parameter. Fixes #2551 link,0
Update links to v1.19,0.44953874,Hotfix for v1.15:,,0
Bump version to 1.19,0.4774719,Hotfix for v1.15:,,0
Retrieve correct error messages on Windows,0.67100686, - Print correct error messages on Windows socket errors (#2624),"For sockets functions, Windows does not store error codes in errno, so perror() does not print any error. Use WSAGetLastError() instead. Refs #2624 link",0
Compute scrcpy directory manually,0.7804788,$ scrcpy -d,The function dirname() does not work correctly everywhere with non-ASCII characters. Fixes #2619 link,1
Fix typo in manpage,0.6688683, - Add manpage,PR #2606 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Use SOURCE_MOUSE for scroll events,0.5857566," - Correctly handle mouse events outside device screen (#353, #357)","This has no practical impact (AFAIK), but a scroll events should come from a mouse. Refs #2602 link",0
Upgrade SDL (2.0.16) for Windows,0.9484564, - Upgrade SDL to 2.0.16 in Windows releases (#2589),Include the latest version of SDL in Windows releases. PR #2589 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Upgrade platform-tools (31.0.3) for Windows,0.8658401, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,Include the latest version of adb in Windows releases. PR #2588 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Declare callbacks static,0.24224338, - Implement (optional) buffering (#2464),"It was a typo, ""static"" was missing.",0
Add Simplified Chinese translation of FAQ,0.24339615, - Add manpage,PR #2568 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add a FAQ section for Wayland support,0.31406546,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,The video driver might need to be explicitly set to wayland. Refs #2554 link Refs #2559 link,0
Add README file in Turkish,0.33723903," - Add desktop entry files for Linux (#295, #296, #748, #1636, #3351)",PR #2514 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix OBS project ref URL,0.22922578,Hotfix for v1.12:,PR #2545 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix typo in DEVELOP.md,0.3866824," - Improve error message on missing adb (#236, #254)",PR #2540 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix type for assignment,0.27863398, - Improve some error messages,"The functions net_send_all() and net_recv_all() return ssize_t, not int.",0
Fix net_send_all(),0.49074167, - Make it work over tcpip (#5),"On partial writes, the final result was the number of bytes written by the last send() rather than the total.",0
Improve slope estimation on start,0.2927274, - Increase LOD bias to reduce blurring on trilinear filtering (#1394),"The first frames are typically received and decoded with more delay than the others, causing a wrong slope estimation on start. To compensate, assume an initial slope of 1, then progressively use the estimated slope.",0
Add buffering debugging tools,0.5421871, - Implement (optional) buffering (#2464),Output buffering and clock logs by disabling a compilation flag.,0
Add clock tests,0.35256827, - Improve framerate counting,The clock rolling sum is not trivial. Test it.,0
Add buffering command line options,0.65397376, - Implement (optional) buffering (#2464),Add --display-buffer and --v4l2-buffer options to configure buffering time.,0
Implement buffering,0.78545904,Buffering,"To minimize latency (at the cost of jitter), scrcpy always displays a frame as soon as it available, without waiting. However, when recording (--record), it still writes the captured timestamps to the output file, so that the recorded file can be played correctly without jitter. Some real-time use cases might benefit from adding a small latency to compensate for jitter too. For example, few tens of seconds of latency for live-streaming are not important, but jitter is noticeable. Therefore, implement a buffering mechanism (disabled by default) to add a configurable latency delay. PR #2417 link",1
Notify new frames via callbacks,0.42680123, - Add runtime option to render expired frames (i.e. not skip frames),"Currently, a frame is available to the consumer as soon as it is pushed by the producer (which can detect if the previous frame is skipped). Notify the new frames (and frame skipped) via callbacks instead. This paves the way to add (optional) buffering, which will introduce a delay between the time when the frame is produced and the time it is available to be consumed.",0
Extract current video_buffer to frame_buffer,0.41996288,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,"The current video buffer only stores one pending frame. In order to add a new buffering feature, move this part to a separate ""frame buffer"". Keep the video_buffer, which currently delegates all its calls to the frame_buffer.",0
Rename video_buffer to sc_video_buffer,0.53028405,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,Add a scrcpy-specific prefix.,0
Relax v4l2_sink lock constraints,0.45958152,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"To fix a data race, commit 5caeab5f6d12fe0fc69e708a829cfdbec3a401b4 called video_buffer_push() and video_buffer_consume() under the v4l2_sink lock. Instead, use the previous_skipped indication (initialized with video buffer locked) to lock only for protecting the has_frame flag. This enables the possibility for the video_buffer to notify new frames via callbacks without lock inversion issues.",0
Replace delay by deadline in timedwait(),0.33349672, - Reduce latency by 1 frame (#646),"The function sc_cond_timedwait() accepted a parameter representing the max duration to wait, because it internally uses SDL_CondWaitTimeout(). Instead, accept a deadline, to be consistent with pthread_cond_timedwait().",0
Wrap tick API,0.32507277,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","This avoids to use the SDL timer API directly, and will allow to handle generic ticks (possibly negative).",0
Add missing error log,0.5015311, - Improve some error messages,Log video buffer initialization failure in v4l2_sink.,0
Move include fps_counter,0.62696886, - Fix FPS counter (broken in v1.22),The fps_counter is not used from video_buffer.,0
Remove obsolete comment,0.31744546,Remove deprecated short options,"Commit 2a94a2b119a9efd2cd06ded03280872c81abe6b4 removed video_buffer callbacks, the comment is now meaningless.",0
Rename queue to sc_queue,0.33147097,scrcpy -S,Add a scrcpy-specific prefix.,0
Fix --lock-video-orientation syntax in help,0.7429243," - Add option to lock video orientation (#218, #1151)",Commit f76fe2c0d4847d0e40d8708f97591abf3fa22ea5 fixed README and tests. Fix command line help and manpage.,1
Remove unnecessary calls to av_packet_unref(),0.44048637,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",av_packet_free() already calls av_packet_unref().,0
Fix v4l2 data race,0.4166957,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"The v4l2_sink implementation directly read the internal video_buffer field ""pending_frame_consumed"", which is protected by the internal video_buffer mutex. But this mutex was not locked, so reads were racy. Lock using the v4l2_sink mutex in addition, and use a separate field to avoid depending on the video_buffer internal data.",0
Initialize fields before starting a thread,0.33284277, - Fix missing initialization that leaded to kill the whole process,To avoid data races. Reported by TSAN.,0
Fix assertion race condition in debug mode,0.3609688, - Fix process hanging on Ctrl+C during initialization,"Commit 21d206f360535047e16cc4ea7de889a55bd9444d added mutex assertions. However, the ""locker"" variable to trace the locker thread id was read and written by several threads without any protection, so it was racy. Reported by TSAN.",0
Initialize controller even if there is no display,0.4731562, - Do not power on the device if --no-control is set,"The options --no-display and --no-control are independent. The controller was not initialized when no display was requested, because it was assumed that no control could occur without display. But that's not true (anymore): for example, it is possible to pass --turn-screen-off. Fixes #2426 link",0
Update scrcpy-server in install-release.sh,0.7186022, - Bump version to 1.5 (as shown by scrcpy --version) (#332),Make the install script download the new prebuilt server (v1.18). Fixes #2409 link,1
Update links to v1.18 in README and BUILD,0.38915825, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.18,0.5019927,Hotfix for v1.15:,Make the versionCode a decimal representation of the scrcpy version. This will for example allow to correctly number the versionCode of v1.17.1 after a v1.18 is released:  - v1.18   -> 11800  - v1.17.1 -> 11701  - v1.18.1 -> 11801,0
Upgrade platform-tools (31.0.2) for Windows,0.8684032, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Replace VLA by dynamic allocation,0.25671563,"It also simplifies V4L2 usage, which does not support video dimension changes.",And increase the command buffer size. Refs #1358 link PR #2405 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Rename cmd to argv,0.47197163,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",This is more explicit. PR #2405 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Return build_cmd() success via a boolean,0.43296966," - Generate both console and noconsole versions (fix ""no output"" issue)",For consistency with other functions in the codebase.,0
Suggest --record-format instead of -F on error,0.4280323, - Improve some error messages,"The short option -F has been deprecated by ff061b4f30c54dedc5073a588c6c697477b805db. On error, suggest the long option --record-format instead.",0
Attempt to log message only in verbose mode,0.719561, - Log input events in verbose mode (#2371),"If the log level is not verbose, there is no need to attempt to log control messages at all.",1
Expose function to get the current log level,0.5065012, - Add --verbosity to configure log level at runtime,This will allow to avoid unnecessary processing for creating logs which will be discarded anyway.,0
Move log level conversion to log API,0.5295916, - Add --verbosity to configure log level at runtime,,0
Workaround PRIu64 on Windows,0.40339547,| Windows 32-bit |        :x:         |        :x:,"On Windows, PRIu64 is defined to ""llu"", which is not supported: error: unknown conversion type character 'l' in format",0
Log control messages in verbose mode,0.71727777, - Log input events in verbose mode (#2371),PR #2371 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Add --verbosity=verbose log level,0.8607647, - Add --verbosity to configure log level at runtime,PR #2371 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Forward mouse motion only on main clicks,0.6936099, - Fix mouse focus clickthrough,"Mouse motion events were forwarded as soon as any mouse button was pressed. Instead, only consider left-click (and also middle-click and right-click if --forward-all-clicks is enabled).",0
Remove extra ';' in #define,0.33849168, - ~Do not print irrelevant workarounds errors (#994)~,,0
Replace strcpy() by memcpy(),0.5575038,$ scrcpy -e,"It was safe to call strcpy() since the input length was checked, but then it is more straightforward to call memcpy() directly.",0
Adapt call() on ContentProvider for Android 12,0.51125944,Improve Android 12 support,Android 12 changed one of the call() overloads with a new parameter AttributionSource. Adapt the wrapper. Fixes #2402 link,0
Push to /sdcard/Download/ by default,0.9345443, - Push to /sdcard/Download by default (#2384),"Change the default push target from /sdcard/ to /sdcard/Download/. Pushing to the root of /sdcard/ is not very convenient, many apps do not expose its content directly. It can still be changed by --push-target. PR #2384 link",1
Center the window on resize-to-fit,0.93724453, - Center the window on resize-to-fit (#2387),"When removing the black borders (by double-clicking on them, or by pressing MOD+w), the window is resized to fit the device screen, but its top-left position was left unchanged. Instead, move the window so that the new window area is at the center of the old window area. Refs #2387 link",1
Render screen on window restored,0.45467672,"On other platforms, as a fallback, run scrcpy with some display buffer, then capture the window via OBS:","It should not be necessary, since screen_render() is called just after on SDL_WINDOWEVENT_EXPOSED, but in practice the window content might not be correctly displayed on restored if a rotation occurred while minimized. Note that calling screen_render() twice in a row on SDL_WINDOWEVENT_EXPOSED also ""fixes"" the issue.",0
Allocate AVPacket for v4l2_sink,0.49090254," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)","From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",0
Allocate AVPacket for recorder,0.44759527," - Add screen recording (#21, #292)","From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",0
Allocate AVPacket for local stream packet,0.40934116,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",0
Allocate AVPacket for stream->pending,0.3714863," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Remove the has_pending boolean, which can be replaced by: stream->pending != NULL Refs #2302 link",0
Clarify --no-display usage with v4l2,0.52625275, - Make --turn-screen-off work even if --no-display (#2426),,0
Fix compatibility with old FFmpeg,0.7129502, - Fix segfault on recording with old FFmpeg versions (#707),"V4L2 sink used a ""url"" field format AVFormatContext which has been introduced in lavf 58.7.100. Fixes #2382 link Refs link Refs link",1
Fix --lock-video-orientation syntax,0.81939673," - Add option to lock video orientation (#218, #1151)","The argument for option --lock-video-orientation has been made optional by 5af9d0ee0faddfca689f468c7d463c86233e8d93. With getopt_long(), contrary to mandatory arguments, optional arguments must be given with a '=': --lock-video-orientation 2   # wrong, parse error --lock-video-orientation=2   # correct",1
Use non-secure display for Android 12 preview,0.6855909,"Since Android 12, creating a secure display with shell permissions is not permitted anymore (#2129). As a consequence, protected content may not be mirrored on Android 12. To avoid an immediate crash when mirroring a device with Android 12 (preview), create a non-secure display. This is basically a revert of the fix for #36.","Android 12 preview identifies as Android 11, but its codename is ""S"". Refs #2129 link",0
Use non-secure display for Android >= 12,0.5702514,"Since Android 12, creating a secure display with shell permissions is not permitted anymore (#2129). As a consequence, protected content may not be mirrored on Android 12. To avoid an immediate crash when mirroring a device with Android 12 (preview), create a non-secure display. This is basically a revert of the fix for #36.","Since Android 12, secure displays could not be created with shell permissions anymore. Refs commit 1fdde490fd2a0b89680a2b5da5e5274192398023 Fixes #2129 link",0
Serialize clean-up configuration,0.5135015," - Add --no-cleanup option (#1764, #3020)","This avoids to pass each option as individual parameter and parse them manually (it's still ""manual"" in the Parcelable implementation). Refs #824 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com",0
Group components into struct scrcpy,0.5630438,scrcpy v2.0,This avoids to refer to many structs globally.,0
Explicitly initialize decoder sink_count,0.40280613, - Retry on spurious encoder error (#3693),The zero-initialization relied on the fact that the decoder instance is static.,0
Pass serial within struct server_params,0.3486689,$ANDROID_SERIAL,This was the only option passed separately.,0
Translate README.md into Spanish,0.2745418," - Add --encoder option (#1810, #1827)",PR #2318 link Signed-off-by: Romain Vimont rom@rom1v.com,0
FAQ in Italian,0.20933694, - Add manpage,PR #2316 link Signed-off-by: Romain Vimont rom@rom1v.com,0
README in Italian,0.26843515, - Add --prefer-text option (#650),PR #2316 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Reference translations from FAQ.md,0.2250678, - Add manpage,,0
Fix syntax highlighting in README,0.37055704," - Fix rendering issues (#1408, #787)",,0
Provide device info directly on server connection,0.47422746," - Add fallback to get display information on some devices (#3416, #3573)",This avoids to retrieve them in a separate step.,0
Initialize input manager dynamically,0.34567058," - Adapt input injection for Android 13 (#3186, #3190)","The input manager was partially initialized statically, but a call to input_manager_init() was needed anyway, so initialize all the fields from the ""constructor"". This is consistent with the initialization of the other structs.",0
Factorize screen_init() error management,0.40466544, - Workaround screen off/on issue on exit (#1670),,0
Move fps_counter to screen,0.6889849,FPS counter,"The FPS counter specifically count frames from the screen video buffer, so it is specific to the screen.",0
Fix leak on error,0.60499954, - Fix (huge) memory leak (#26),Destroy video buffer if screen window creation failed.,0
Notify end-of-stream via callback,0.389691,Asynchronous recording,"Do not send a SDL event directly, to make stream independent of SDL.",0
Fix visualization of comment in code block,0.40154707," - Fix rendering issues (#1408, #787)",PR #2315 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Reformat README.ko.md,0.32483906," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",PR #2311 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Use ARRAY_LEN() macro,0.23044434, - Adapt --help output to terminal size,,0
Add libavdevice-dev in BUILD instructions,0.40677688, - Add H265 and AV1 video codec support (#3713),"On Linux, scrcpy now depends on libavdevice for v4l2.",0
Add MacPorts documentation,0.37777048," - Add HID/OTG support for macOS (#2774, #3031)",PR #2299 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix double-free on error,0.4209866, - Improve some error messages,"On error, server->serial was freed twice: immediately and in server_destroy(). Refs #2292 link",0
Rename keycode injection method,0.5783379," - Correctly inject repeating keycodes (#1013, #1519)","Make it explicit that it injects both ""press"" and ""release"" events.",0
Simplify non-static injectEvent() implementation,0.4126281, - Inject mouse events with a virtual device id (fix crashes on some,Just call the static version (having a displayId) from the non-static version (using the displayId field).,0
Simplify Device.java,0.50032187," - Improve device selection (list devices, -d, -e) (#3005)","Remove useless intermediate method with a ""mode"" parameter (it's always called with the same mode). This also avoids the need for a specific injectEventOnDisplay() method, since it does not conflict with another injectEvent() method anymore.",0
Unref decoder AVFrame immediately,0.52963847,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.","The frame can be unref immediately after it is pushed to the frame sinks. It was not really a memory leak because the frame was unref every time by avcodec_receive_frame() (and freed on close), but a reference was unnecessarily kept for too long.",0
Fix v4l2 AVPacket memory leak on error,0.51373434, - Fix (huge) memory leak (#26),Unref v4l2 AVPacket even if writing failed.,0
Fix v4l2 AVFrame memory leak,0.5567001, - Fix (huge) memory leak (#26),Unref frame immediately once encoded. Fixes #2279 link,0
Rename --v4l2_sink to --v4l2-sink,0.54164207," - Fix ""Could not find v4l2 muxer"" (#2718)","This was a rebase issue, the previous version in #2268 was correct. Refs #2268 link",0
Document v4l2 sink in README,0.36598587,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,,0
Add support for v4l2loopback,0.61751217," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)","It allows to send the video stream to /dev/videoN, so that it can be captured (like a webcam) by any v4l2-capable tool. PR #2232 link PR #2233 link PR #2268 link Co-authored-by: Romain Vimont rom@rom1v.com",0
Make --lock-video-orientation argument optional,0.85965604," - Add option to lock video orientation (#218, #1151)","If the option is set without argument, lock the initial device orientation (as if the value ""initial"" was passed).",1
Add --lock-video-orientation=initial,0.8862941, - Add an option to lock the initial video orientation,"Add a new mode to the --lock-video-orientation option, to lock the initial orientation of the device. This avoids to pass an explicit value (0, 1, 2 or 3) and think about which is the right one.",1
Use strlist_contains() to find a muxer,0.29061645," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","The AVOutputFormat name is a string list: it contains names separated by ',' (possibly only one).",0
Add strlist_contains(),0.25298756,"scrcpy -s   # auto-complete by the devices listed by ""adb devices""","Add a function to know if a string list, using some separator, contains a specific string.",0
Fix recorder comment,0.4954062," - Add screen recording (#21, #292)",,0
Handle EAGAIN on send_packet in decoder,0.5790739,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","EAGAIN was only handled on receive_frame. In practice, it should not be necessary, since one packet always contains one frame. But just in case.",0
Handle errors using gotos in recorder_open(),0.4203958, - Automatically retry with a lower definition on MediaCodec error (#2947),There are many initializations in recorder_open(). Handle RAII-like deinitialization using gotos.,0
Initialize recorder fields on open,0.4532684,Asynchronous recording,Only initialize ops and parameters copy from recorder_init(). It was inconsistent to initialize some fields from _init() and some others from _open().,0
Hide the window immediately on close,0.6067152,Power off on close,"The screen may not be destroyed immediately on close to avoid undefined behavior, because it may still receive events from the decoder. But the visual window must still be closed immediately.",0
Assert screen closed on destroy,0.51675, - Workaround screen off/on issue on exit (#1670),"The destruction order is important, but tricky, because the screen is open/close by the decoder, but destroyed by scrcpy.c on the main thread. Add assertions to guarantee that the screen is not destroyed before being closed.",0
Remove video_buffer callbacks,0.50406784, - Implement (optional) buffering (#2464),"Now that screen is both the owner and the listener of the video buffer, execute the code directly without callbacks.",0
Move video_buffer to screen,0.52604854,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,"The video buffer is now an internal detail of the screen component. Since the screen is plugged to the decoder via the frame sink trait, the decoder does not access to the video buffer anymore.",0
Make decoder push frames to sinks,0.47436023,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Now that screen implements the packet sink trait, make decoder push packets to the sinks without depending on the concrete sink types.",0
Expose screen as frame sink,0.5056927,"On Linux, a V4L2 sink (#2268) allows to expose the device screen as a webcam on the computer.",Make screen implement the frame sink trait. This will allow the decoder to push frames without depending on the concrete sink type.,0
Add frame sink trait,0.27614513, - Add --force-adb-forward,This trait will allow to abstract the concrete sink types from the frame producer (decoder.c).,0
Make stream push packets to sinks,0.37905952, - Implement (optional) buffering (#2464),"Now that decoder and recorder implement the packet sink trait, make stream push packets to the sinks without depending on the concrete sink types.",0
Expose decoder as packet sink,0.5498009,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Make decoder implement the packet sink trait. This will allow the stream to push packets without depending on the concrete sink type.,0
Reorder decoder functions,0.44403613,Encoder selection,This will make further commits more readable.,0
Expose recorder as packet sink,0.47671878,Asynchronous recording,Make recorder implement the packet sink trait. This will allow the stream to push packets without depending on the concrete sink type.,0
Privatize recorder threading,0.61385334,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The fact that the recorder uses a separate thread is an internal detail, so the functions _start(), _stop() and _join() should not be exposed. Instead, start the thread on _open() and _stop()+_join() on close(). This paves the way to expose the recorder as a packet sink trait.",0
Reorder recorder functions,0.5412386,Asynchronous recording,This will make further commits more readable.,0
Add packet sink trait,0.3805891, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),This trait will allow to abstract the concrete sink types from the packet producer (stream.c).,0
Add container_of() macro,0.22130895," - Apply requested window size in OTG mode (#3099, #3219)",This will allow to get the parent of an embedded struct.,0
Make video_buffer more generic,0.5252353, - Implement (optional) buffering (#2464),"The video buffer took ownership of the producer frame (so that it could swap frames quickly). In order to support multiple sinks plugged to the decoder, the decoded frame must not be consumed by the display video buffer. Therefore, move the producer and consumer frames out of the video buffer, and use FFmpeg AVFrame refcounting to share ownership while avoiding copies.",0
Remove compat with old FFmpeg codec params API,0.59178907, - Add --codec-options to pass MediaFormat options directly (#1325),"The new API has been introduced in 2016 in libavformat 57.xx, it's very old. This will avoid to maintain two code paths for codec parameters.",0
Remove compat with old FFmpeg decoding API,0.5321225, - Fix segfault on recording with old FFmpeg versions (#707),"The new API has been introduced in 2016 in libavcodec 57.xx, it's very old. This will avoid to maintain two code paths for decoding.",0
Remove option --render-expired-frames,0.9500501, - Remove option --render-expired-frames (#2268),"This flag forced the decoder to wait for the previous frame to be consumed by the display. It was initially implemented as a compilation flag for testing, not intended to be exposed at runtime. But to remove ifdefs and to allow users to test this flag easily, it had finally been exposed by commit ebccb9f6cc111e8acfbe10d656cac5c1f1b744a0. In practice, it turned out to be useless: it had no practical impact, and it did not solve or mitigate any performance issues causing frame skipping. But that added some complexity to the codebase: it required an additional condition variable, and made video buffer calls possibly blocking, which in turn required code to interrupt it on exit. To prepare support for multiple sinks plugged to the decoder (display and v4l2 for example), the blocking call used for pacing the decoder output becomes unacceptable, so just remove this useless ""feature"".",1
Write trailer from recorder thread,0.59254754,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The recorder thread wrote the whole content except the trailer, which was odd.",0
Document 4th+5th + 2xn shortcuts,0.578524,New shortcuts,PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add mouse shortcut to expand settings panel,0.6278624, - Add shortcut to expand/collapse device notification panel (#392),Double-click on extra mouse button to open the settings panel (a single-click opens the notification panel). This is consistent with the keyboard shortcut MOD+n+n. PR #2264 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add keyboard shortcut to expand settings panel,0.6843827,The keyboard shortcut MOD+n+n has also been added to expand the settings panel.,PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add control message to expand settings panel,0.6468749," - Expand settings panel on double-expand notification panel (#2260, #2264)",PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Count repeated identical key events,0.6760042,Repeating key events,This will allow shortcuts such as MOD+n+n to open the settings panel. PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Rename control message type to COLLAPSE_PANELS,0.57194686, - Do not crash if expanding/collapsing panels is not supported (#506),"The collapsing action collapses any panels. By the way, the Android method is named collapsePanels(). PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Reverse boolean logic for readability,0.25855437, - Improve some error messages,Refs #2260 link,0
Ensure get_server_path() retval is freeable,0.5095905, - Refuse to push server if it points to a directory (#956),PR #2276 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Provide actions for the extra mouse buttons,0.61255395, - Bind 4th mouse button to APP_SWITCH (#2258),Bind APP_SWITCH to button 4 and expand notification panel on button 5. PR #2258 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Forward DOWN and UP separately for right-click,0.78806245,Forward right-click and middle-click,"The shortcut ""back on screen on"" is a bit special: the control is requested by the client, but the actual event injection (POWER or BACK) is determined on the device. To properly inject DOWN and UP events for BACK, transmit the action as a control parameter. If the screen is off:  - on DOWN, inject POWER (DOWN and UP) (wake up the device immediately)  - on UP, do nothing If the screen is on:  - on DOWN, inject BACK DOWN  - on UP, inject BACK UP A corner case is when the screen turns off between the DOWN and UP event. In that case, a BACK UP event will be injected, so it's harmless. As a consequence of this change, the BACK button is now handled by Android on mouse released. This is consistent with the keyboard shortcut (Mod+b) behavior. PR #2259 link Refs #2258 link",1
Fix typos,0.41744715, - Improve some error messages,PR #2263 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Forward DOWN and UP separately for middle-click,0.78698283,Forward right-click and middle-click,"As a consequence of this change, the HOME button is now handled by Android on mouse released. This is consistent with the keyboard shortcut (MOD+h) behavior. PR #2259 link Refs #2258 link",1
"Prevent forwarding only ""mouse released"" events",0.6503506," - Correctly handle mouse events outside device screen (#353, #357)","Some mouse clicks DOWN are captured for shortcuts, but the matching UP events were still forwarded to the device. Instead, capture both DOWN and UP for shortcuts, and do nothing on UP. PR #2259 link Refs #2258 link",0
Fix options alphabetical order,0.37477475, - Add --prefer-text option (#650),"""verbosity"" < ""version""",0
Do not forward SDL_DROPFILE event,0.45029595, - Do not expose internal SDL logs to users (#1441),"The event is handled by scrcpy.c, it is not necessary to send it to screen or input_manager.",0
Move resizing workaround to screen.c,0.5326659, - Restore resizing workaround for Windows (#3640),,0
Set initial fullscreen from screen.c,0.558521, - Add command-line option to start in fullscreen (#252),,0
Make screen_show_window() static,0.49215335,scrcpy --turn-screen-off,It is only used from screen.c now.,0
Destroy screen once stream is finished,0.50765234,Turn device screen off,"The screen receives callbacks from the decoder, fed by the stream. The decoder is run from the stream thread, so waiting for the end of stream is sufficient to avoid possible use-after-destroy.",0
Do not destroy uninitialized screen,0.53443533, - Workaround screen off/on issue on exit (#1670),"When --no-display was passed, screen_destroy() was called while screen_init() was never called. In practice, it did not crash because it just freed NULL pointers, but it was still incorrect.",0
Make internal recorder function static,0.56222296,Asynchronous recording,,0
Remove unused field from input_manager,0.30797133,Remove deprecated short options,,0
Remove useless forward declaration from stream.h,0.47602528," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)",,0
Remove useless includes from decoder.c,0.37356675,A new option --encoder allows to select another available H.264 encoder.,,0
Fix typo in command-line help,0.50880015,Some command line options were first introduced with a short version:,Refs #2237 link,0
Fix compilation error for old decoding API,0.42276204," - Add --encoder option (#1810, #1827)",Commits cb9c42bdcb198b0e3ebed893e00257b95f4dcedb and 441d3fb119ce05287e94b0ae0befbb2e75173688 updated the code only for the new decoding API.,0
Remove HiDPI compilation flag,0.68181336, - Fix HiDPI support (#829),"Always enable HiDPI support, there is no reason to expose a compilation flag.",0
Update brew java version to JDK 11,0.35933095,Android 11,Refs f8524a2be738e6471ed2e48265f2663d8c21c0be Refs 7b51a0313ed9423f9252108fa573af68c11e6a2c,0
Update brew cask documentation,0.27803797,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",The command brew cask has been deprecated: link Should be brew install directly now. PR #2231 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add instructions to uninstall,0.25977203,To turn the device screen off on start:,,0
Add simplified installation script,0.38277885," - Add Bash completion script (#2930, #3048)",Add a script to download the server and build scrcpy using the prebuilt server.,0
Clarify the order of operations in BUILD.md,0.26036507, - Change the Windows build (cross-compile from Linux),PR #2223 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix BUILD.md line wrapping,0.28943485," - Improve error message on missing adb (#236, #254)",,0
Fix typo in BUILD.md,0.40782857," - Improve error message on missing adb (#236, #254)",,0
Link release to main README in translations,0.3448515,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",This avoids to link an older version.,0
Add Japanese translation for README.md,0.281728," - Add --encoder option (#1810, #1827)",PR #2195 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Improve --push-target example in README,0.7447569, - Add option to change the push target (#659),A common use case for the --push-target option is to pass the device Download directory.,1
Fix typo in README,0.4021032,Bugfixes,Refs link,0
"Add ""Get the app"" summary section",0.31550196," - Add option to set a custom window title (#120, #614)",Give quick instructions to download/install scrcpy.,0
Support power off on close,0.76922977,Power off on close,PR #824 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
Export static method to power off screen in Device,0.64452404,Turn device screen off,PR #824 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Pass scrcpy-noconsole arguments through to scrcpy,0.85231286, - Pass scrcpy-noconsole arguments through to scrcpy on Windows (#2052),PR #2052 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Do not set buttons on touch events,0.54288405, - Fix touch events parameters (#2125),BUTTON_PRIMARY must not be set for touch events: This button constant is not set in response to simple touches with a finger or stylus tip. The user must actually push a button. link Fixes #2169 link,0
Use device id 0 for touch/mouse events,0.7101765, - Inject mouse events with a virtual device id (fix crashes on some,"Virtual device is only for keyboard sources, not mouse or touchscreen sources. Here is the value of InputDevice.getDevice(-1).toString(): Input Device -1: Virtual   Descriptor: ...   Generation: 2   Location: built-in   Keyboard Type: alphabetic   Has Vibrator: false   Has mic: false   Sources: 0x301 ( keyboard dpad ) InputDevice.getDeviceId() documentation says: An id of zero indicates that the event didn't come from a physical device and maps to the default keymap. link() However, injecting events with a device id of 0 causes event.getDevice() to be null on the client-side. Commit 26529d377fe8aae2fd1ffa91405aa801a0ce8a57 used -1 as a workaround to avoid a NPE on a specific Android TV device. But this is a bug in the device system, which wrongly assumes that input device may not be null. A similar issue was present in Flutter, but it is now fixed:  - link  - link On the other hand, using an id of -1 for touchscreen events (which is invalid) causes issues for some apps: link Therefore, use a device id of 0. An alternative could be to find an existing device matching the source, like ""adb shell input"" does. See getInputDeviceId(): link But it seems better to indicate that the event didn't come from a physical device, and it would not solve #962 anyway, because an Android TV has no touchscreen. Refs #962 link Fixes #2125 link",1
Fix encoder parameter suggestion,0.7541602,Encoder selection,"The option is --encoder, not --encoder-name.",1
meson: Do not use full path with mingw tools name,0.36021858,"On Windows, setting an environment variable is slightly different:",This helps to use mingw toolchains which are not in /usr/bin path. PR #2185 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Release frame data as soon as possible,0.4364867, - Reduce latency by 1 frame (#646),"During a frame swap, one of the two frames involved can be released.",0
Factorize frame swap,0.40908805, - Reduce latency by 1 frame (#646),,0
Simplify screen initialization,0.5703829,To turn the device screen off on start:,Use a single function to initialize the screen instance.,0
Group screen parameters into a struct,0.31013525, - Add --list-displays and --list-encoders,The function screen_init_rendering had too many parameters.,0
Remove screen static initializer,0.53237283,To turn the device screen off on start:,Most of the fields are initialized dynamically.,0
Use a callback to notify frame skip,0.5836742, - Add runtime option to render expired frames (i.e. not skip frames),"A skipped frame is detected when the producer offers a frame while the current pending frame has not been consumed. However, the producer (in practice the decoder) is not interested in the fact that a frame has been skipped, only the consumer (the renderer) is. Therefore, notify frame skip via a consumer callback. This allows to manage the skipped and rendered frames count at the same place, and remove fps_counter from decoder.",0
Use a callback to notify a new frame,0.40764123, - Add runtime option to render expired frames (i.e. not skip frames),"Make the decoder independant of the SDL even mechanism, by making the consumer register a callback on the video_buffer.",0
Initialize screen before starting the stream,0.4863171,To turn the device screen off on start:,"As soon as the stream is started, the video buffer could notify a new frame available. In order to pass this event to the screen without race condition, the screen must be initialized before the screen is started.",0
Make video buffer more generic,0.5052433,This release brings a new feature to buffer the video stream for a given delay. This is especially useful for removing a source of stuttering for live-streaming.,"Video buffer is a tool between a frame producer and a frame consumer. For now, it is used between a decoder and a renderer, but in the future another instance might be used to swscale decoded frames.",0
Move fps counter out of video buffer,0.7409606,FPS counter,"In order to make video buffer more generic, move out its specific responsibility to count the fps between the decoder and the renderer.",1
Remove obsolete FAQ entry,0.31584412,Remove deprecated short options,Issue #15 had been fixed in v1.14 by e40532a3761da8b3aef484f1d435ef5f50d94574.,0
Mention adb debugging in FAQ,0.55050766,DEBUG: ADB device found:,,0
Inject touch events with smallest detectable size,0.5733044, - Improve --show-touches behavior,"A value of 1 means the ""largest detectable size"", a value of 0 means the ""smallest detectable size"". link link Fixes #2125 link",0
Remove unnecessary escape characters in manpage,0.4976493, - Add manpage,PR #2123 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update another java version in BUILD.md,0.33994958, - Change the Windows build (cross-compile from Linux),"Commit f8524a2be738e6471ed2e48265f2663d8c21c0be updated one reference to the openjdk package, but there was another one.",0
Fix release instructions in BUILD.md,0.4125386, - Upgrade platform-tools to 29.0.5 (adb) in Windows releases,"Makefile.CrossWindows have been renamed to release.mk, which is called from release.sh.",0
Simplify default values,0.30078796,Remove deprecated short options,"It makes sense to extract default values for bitrate and port range (which are arbitrary and might be changed in the future). However, the default values for ""max size"" and ""lock video orientation"" are naturally unlimited/unlocked, and will never be changed. Extracting these options just added complexity for no benefit, so hardcode them.",0
Insert numerical values statically in usage string,0.2976765, - Continue text injection on failed character (#509),,0
Remove unused no_window field,0.45845813, - Accept negative window position (#1242),,0
Enable NDEBUG via Meson built-in option,0.39735687, - Add --verbosity to configure log level at runtime,,0
Handle im-related events from input_manager.c,0.48526245,Log input events,,0
Inline window events handling,0.4941484, - Fix double-click events (#97),"Now that all screen-related events are handled from screen.c, there is no need for a separate method for window events.",0
Handle screen-related events from screen.c,0.5234091," - Correctly handle mouse events outside device screen (#353, #357)",,0
Reference video buffer from screen,0.5150036,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,"This paves the way to handle EVENT_NEW_FRAME from screen.c, by allowing to call screen_update_frame() without an explicit video_buffer instance.",0
Improve error handling in screen initialization,0.4855702, - Workaround screen off/on issue on exit (#1670),"After the struct screen is initialized, the window, the renderer and the texture are necessarily valid, so there is no need to check in screen_destroy().",0
Handle window events only once visible,0.47761816,Repeating key events,This will avoid corner cases where we need to resize while no frame has been received yet.,0
Log mipmaps error only if mipmaps are enabled,0.5417079,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.",,0
Make use_opengl local,0.4792375,"On macOS, it is not supported (there is no OpenGL 3.0).","The flag is used only locally, there is no need to store it in the screen structure.",0
Add intermediate frame in video buffer,0.50350034,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.","There were only two frames simultaneously:  - one used by the decoder;  - one used by the renderer. When the decoder finished decoding a frame, it swapped it with the rendering frame. Adding a third frame provides several benefits:  - the decoder do not have to wait for the renderer to release the    mutex;  - it simplifies the video_buffer API;  - it makes the rendering frame valid until the next call to    video_buffer_take_rendering_frame(), which will be useful for    swscaling on window resize.",0
Assert non-recursive usage of mutexes,0.24725437, - Implement (optional) buffering (#2464),,0
Add mutex assertions,0.35542724, - Implement (optional) buffering (#2464),,0
Expose mutex assertions,0.27065974, - Print correct error messages on Windows socket errors (#2624),Add a function to assert that the mutex is held (or not).,0
Expose thread id,0.28969347,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",,0
Wrap SDL thread functions into scrcpy-specific API,0.5279182,"For this purpose, scrcpy v1.19 introduces two new options:","The goal is to expose a consistent API for system tools, and paves the way to make the ""core"" independant of SDL in the future.",0
Replace SDL_strdup() by strdup(),0.39447856, - Update SDL to 2.0.9 included in Windows releases,"The functions SDL_malloc(), SDL_free() and SDL_strdup() were used only because strdup() was not available everywhere. Now that it is available, use the native version of these functions.",0
Provide strdup() compat,0.32755286,scrcpy 1.22    (usb)  fedcba09                        device  GM1913,Make strdup() available on all platforms.,0
Remove unused port_range field,0.44884124," - Use current adb port (if any) for --tcpip (#3591, #3592)","The port_range is used from ""struct server_params"", the copy in ""struct server"" was unused.",0
Remove unused custom event,0.4250562," - Add option to ignore repeated key events (#1013, #1623)",,0
Update java version in BUILD.md,0.33600745, - Change the Windows build (cross-compile from Linux),PR #2064 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix undefined left shift,0.44815922,Ctrl and Shift,"Small unsigned integers promote to signed int. As a consequence, if v is a uint8_t, then (v << 24) yields an int, so the left shift is undefined if the MSB is 1. Cast to uint32_t to yield an unsigned value. Reported by USAN (meson x -Db_sanitize=undefined): runtime error: left shift of 255 by 24 places cannot be represented in type 'int'",0
Improve file handler error message,0.62121856, - Improve some error messages,"Terminating the file handler current process may be either a ""push"" or ""install"" command.",0
Kill process with SIGKILL signal,0.46355253, - Terminate server properly without killing it on close (#1992),"An ""adb push"" command is not terminated by SIGTERM.",0
Fix file_handler process race condition,0.41794348, - Fix missing initialization that leaded to kill the whole process,"The current process could be waited both by run_file_handler() and file_handler_stop(). To avoid the race condition, wait the process without closing, then close with mutex locked.",0
Expose a single process_wait(),0.33578414, - Fix process hanging on Ctrl+C during initialization,There were two versions: process_wait() and process_wait_noclose(). Expose a single version with a flag (it was already implemented that way internally).,0
Simplify process_wait(),0.37636638,scrcpy --display-buffer=50  # add 50 ms buffering for display,"The function process_wait() returned a bool (true if the process terminated successfully) and provided the exit code via an output parameter exit_code. But the returned value was always equivalent to exit_code == 0, so just return the exit code instead.",0
Fix size_t incorrectly assigned to int,0.42936635, - Fix segfault on copy/paste (#10),The function control_msg_serialize() returns a size_t.,0
Factorize meson compiler variable initialization,0.26482582,"The initial value may also be provided on start via --rotation. Possible values are 0, 1, 2 and 3 (having the same meaning as that of --lock-video-orientation).",,0
Define feature test macros in common.h,0.30966234, - ~Do not print irrelevant workarounds errors (#994)~,"This enables necessary functions once for all. As a consequence, define common.h before any other header.",0
Update README.zh-Hans to v1.17,0.46240368,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,PR #2029 link Reviewed-by: Win7GM Signed-off-by: Romain Vimont rom@rom1v.com,0
Update README.pt-br to v1.17,0.44548008,Hotfix for v1.15:,PR #2034 link Reviewed-by: latreta yves_henry13@hotmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Group common includes into common.h,0.2493934, - Add ZSH completion script (#3012),"Include config.h and compat.h in common.h, and include common.h from all source files.",0
Move common structs to coords.h,0.25990698,$ scrcpy --otg,"The size, point and position structs were defined in common.h. Move them to coords.h so that common.h could be used for generic code to be included in all source files.",0
Fix compat missing include,0.38221502," - Fix ""Could not find v4l2 muxer"" (#2718)","The header libavformat/version.h was included, but not libavcodec/version.h. As a consequence, the LIBAVCODEC_VERSION_INT definition depended on the caller includes.",0
Remove unused struct port_range,0.3338137," - Use another local port if 27183 is not available (#945, #951)",It had been replaced by struct sc_port_range in scrcpy.h.,0
Separate process wait and close,0.4440551, - Terminate server properly without killing it on close (#1992),"On Linux, waitpid() both waits for the process to terminate and reaps it (closes its handle). On Windows, these actions are separated into WaitForSingleObject() and CloseHandle(). Expose these actions separately, so that it is possible to send a signal to a process while waiting for its termination without race condition. This allows to wait for server termination normally, but kill the process without race condition if it is not terminated after some delay.",0
Rename process_simple_wait to process_wait,0.33595023, - Fix process hanging on Ctrl+C during initialization,"Adding ""simple"" in the function name brings no benefit.",0
Move conditional src files in meson.build,0.27723545, - Change the Windows build (cross-compile from Linux),Declare all the source files (including the platform-specific ones) at the beginning.,0
Split command into process and adb,0.35807526,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:","The process API provides the system-specific implementation, the adb API uses it to expose adb commands.",0
Increase display id range,0.90544105, - Increase possible display id range (#2009),Some devices use big display id values. Refs #2009 link,1
Fix possibly uninitialized value,0.5710099," - Fix uninitialized value, breaking HOME shortcut randomly (#1643)","Due to gotos, ""ret"" may be returned uninitialized.",0
Use --cask for latest versions of brew,0.2894007, - Print both compiled and linked version of libs on --version,PR #2004 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.17 in README and BUILD,0.41874066, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.17,0.5168615,Hotfix for v1.15:,,0
Kill the server only after a small delay,0.6754678, - Terminate server properly without killing it on close (#1992),"Let the server terminate properly once all the sockets are closed. If it does not terminate (this can happen if the device is asleep), then kill it. Note: since the server process termination is detected by a flag set after waitpid() returns, there is a small chance that the process terminates (and the PID assigned to a new process) before the flag is set but before the kill() call. This race condition already existed before this commit. Fixes #1992 link",0
Call CloseHandle() after wait on Windows,0.4602072,Pressing Ctrl+C on Windows now quits the app properly (like on the other platforms).,"TerminateProcess() is ""equivalent"" to kill(), while WaitForSingleObject() is ""equivalent"" to waitpid(), so the handle must be closed after WaitForSingleObject().",0
Initialize server struct dynamically,0.40646112, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,This will allow to add mutex/cond fields.,0
Interrupt device threads on stop,0.38468307," - Add specific exit code for device disconnection (#3083, #3085)","The (non-daemon) threads were not interrupted on video stream stopped, leaving the server process alive. Interrupt them to wake up their blocking call so that they terminate properly. Refs #1992 link",0
Mention how to add default arguments on Windows,0.5924293,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",Mention that it is possible to add default arguments by editing the wrapper scripts.,0
Happy new year 2021!,0.21615723,   (#224),,0
Upgrade SDL (2.0.14) for Windows,0.9528335, - Upgrade SDL to 2.0.14 in Windows releases,Include the latest version of SDL in Windows releases.,1
Rename release.make to release.mk,0.4154153, - Change the Windows build (cross-compile from Linux),"It's more standard, and benefits from syntax coloration in vi.",0
Unify release makefile,0.36642382, - Change the Windows build (cross-compile from Linux),"Before this change, release.sh built some native stuff, and Makefile.CrossWindows built the Windows releases. Instead, use a single release.make to build the whole release. It also avoids to build the server one more time.",0
Replace noconsole binary by a wrapper script,0.5743382," - Generate both console and noconsole versions (fix ""no output"" issue)",This simplifies the build system. Refs link,0
Improve rotation documentation,0.5660343,Rotation,,0
Document Windows command line usage,0.543255,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",PR #1973 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com,0
Remove duplicate include,0.31439257,ERROR: Multiple (2) USB devices:,,0
Upgrade JUnit to 4.13,0.32483327, - Upgrade FFmpeg to 4.3.1 in Windows releases,,0
Pause on error from a wrapper script,0.6330475, - scrcpy-console.bat is a simple wrapper script to pause on error,"On Windows, scrcpy paused on error before exiting to give the user a chance to see the user message. This was a hack and causes issues when using scrcpy from batch scripts. Disable this pause from the scrcpy binary, and provide a batch wrapper (scrcpy-console.bat) to pause on error. Fixes #1875 link",0
Reference encoder section from FAQ,0.6477617,Encoder selection,,0
Reference FFmpeg Windows builds from GitHub,0.644113, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),Refs #1753 link,0
Upgrade platform-tools (30.0.5) for Windows,0.87650865, - Upgrade platform-tools to 30.0.5 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Fix build errors for macOS,0.46399742, - Fix errors on Android 11 (#1468),PR #1960 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Document shell command to get the device IP,0.421062,"If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming adb connections, then run:",PR #1944 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Upgrade gradle build tools to 4.0.1,0.44631192, - Upgrade FFmpeg to 4.1.4 in Windows releases,,0
Fix size_t format specifier for Windows,0.44948488, - Restore resizing workaround for Windows (#3640),"Use ""%Iu"" on Windows. This fixes the following warning: ../app/src/sys/win/command.c:17:14: warning: unknown conversion type character l in format [-Wformat=]    17 |         LOGE(""Command too long (%"" PRIsizet "" chars)"", len - 1);",0
Document --encoder option,0.67857647," - Add --encoder option (#1810, #1827)",Add documentation for the new option --encoder in the manpage and in README.md.,0
List available encoders on invalid name specified,0.59973866,Encoder selection,"If an invalid encoder name is given via the --encoder option, list all the H.264 encoders available on the device.",0
Log encoder name,0.54101956,Encoder selection,"When the encoder is selected automatically, log the name of the selected encoder.",0
Adding new option --encoder,0.83372855," - Add --encoder option (#1810, #1827)","Some devices have more than one encoder, and some encoders may cause issues or crash. With this option we can specify which encoder we want the device to use. PR #1827 link Fixes #1810 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Add option to force legacy method for pasting,0.69486123," - Add --legacy-paste option (#1750, #1771)",Some devices do not behave as expected when setting the device clipboard programmatically. Add an option --legacy-paste to change the behavior of Ctrl+v and MOD+v so that they inject the computer clipboard text as a sequence of key events (the same way as MOD+Shift+v). Fixes #1750 link Fixes #1771 link,0
Add an option to forward all clicks,0.8332275," - Add --forward-all-clicks option (#1302, #1613)",Add --forward-all-clicks to disable mouse shortcuts and forward middle and right clicks to the device instead. Fixes #1302 link Fixes #1613 link,1
Add local.properties to gitignore,0.2659803,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Remove spurious space,0.36478955," - Fix ""push file"" with spaces on Windows (#288)",,0
Mention version of Indonesian translation,0.24118724, - Improve some error messages,,0
Add Indonesian translation for README.md,0.282609, - Add --prefer-text option (#650),PR #1802 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Enable Java deprecation warnings details,0.42479995,Remove deprecated short options,"Without the option, gradle reports a lint issue, but without any details.",0
Remove deprecation warning,0.5802978,Remove deprecated short options,"As a workaround for some devices, we need to prepare the main looper. The method is now deprecated, but we still want to call it.",0
Fix options order,0.38886863," - Add ""always on top"" option (#391, #412)",,0
Fix FAQ.ko.md,0.40156364,Hotfix for v1.12:,PR #1767 link Signed-off-by: Romain Vimont rom@rom1v.com,0
"Fix ""press Enter key"" message",0.4863609, - Map numpad ENTER key (#117),"The message said ""Press any key to continue..."", whereas only Enter/Return is accepted. PR #1783 link Fixes #1757 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",0
Remove unused field,0.3286307,Remove deprecated short options,Fixes #1775 link Reported-by: lordnn,0
Add missing mutex unlock on error,0.42125437," - Add specific exit code for device disconnection (#3083, #3085)",Fixes #1770 link Reported-by: lordnn,0
Add simplified Chinese translation for README.md,0.26540837," - Add --encoder option (#1810, #1827)",PR #1723 link Co-authored-by: Shaw Yu shawyu.nz@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix README indentation,0.29917842,Fix natural scrolling,,0
Upgrade Android SDK to 30,0.5306766, - Upgrade platform-tools to 30.0.0 (adb) in Windows releases,,0
Use portable shebang for all bash scripts,0.3548907," - Add Bash completion script (#2930, #3048)",Refs #426 link Refs #1716 link,0
Use a more portable shebang for bash,0.37872696,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",This should increase the portability of bash scripts across various *nix systems such as BSD-like distributions. PR #1716 link Signed-off-by: Lus Ferreira contact@lsferreira.net Signed-off-by: Romain Vimont rom@rom1v.com,0
"Use ""/usr/bin/env bash"" for build-wrapper.sh",0.44161963," - Add Bash completion script (#2930, #3048)",PR #426 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Adapt call() on ContentProvider for Android 11,0.45083526," - Add support for Android 12 (#2129, #2402)","This commit in AOSP framework_base added a parameter ""attributionTag"" to the call() method: link As a consequence, the method did not exist, so scrcpy used the legacy call() method (using the authority ""unknown"") as a fallback, which fails for security reasons. Fixes #1468 link",0
Fix feature test macro,0.41983262, - Apply workarounds only on error (#994),The expected feature test macro is _POSIX_C_SOURCE having a value greater or equal to 200809L. Fixes #1726 link,0
Fix more log format warning,0.54137343, - Improve some error messages,"The expression port + 1 is promoted to int, but printed as uint16_t. This is the same mistake fixed for a different log by 7eb16ce36458011d87972715f08bd9f03ff39807. Refs #1726 link",0
Reset power mode only if screen is on,0.70070314,"However, restoring the power mode while the device screen was off caused unexpected behaviors (even if the ""screen off"" feature was not used). Therefore, if the screen was off, don't try to restore the power mode, the state is already as expected.",PR #1670 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Make Device methods static when possible,0.4481176,Improve device selection,The behavior of some methods do not depend on the user-provided options. These methods can be static. This will allow to call them directly from the cleanup process.,0
Add undetected device error message in FAQ,0.45659184," - Add specific exit code for device disconnection (#3083, #3085)",,0
List available shortcut keys on error,0.92023444, - List available shortcut keys on error (#1681),Fixes #1681 link Suggested-by: Moritz Schulz moritzleni@gmail.com,1
Reference --shortcut-mod from shortcuts list,0.6535717,The shortcut modifier can be changed by a command-line parameter (--shortcut-mod). Here are some examples:,Fixes #1681 link Suggested-by: Moritz Schulz moritzleni@gmail.com,0
Update links to v1.16 in README and BUILD,0.4200867, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.16,0.5093909,Hotfix for v1.15:,,0
Add pinch-to-zoom simulation,0.9434294,Pinch-to-zoom simulation,"If Ctrl is hold when the left-click button is pressed, enable pinch-to-zoom to scale and rotate relative to the center of the screen. Fixes #24 link",1
Add reference of the translations in README,0.29666072," - Add --encoder option (#1810, #1827)",Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Add Traditional Chinese translation for README,0.26728112, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix clipboard paste condition,0.74226385, - Fix clipboard paste (#1658),"To avoid possible copy-paste loops between the computer and the device, the device clipboard is not set if it already contains the expected content. But the condition was wrong: it was not set also if it was empty. Refs 1223a72eb83ebafb878a25356250896c45b5cefa Fixes #1658 link",1
"Revert ""Inject WAKEUP instead of POWER""",0.73601127, - Inject POWER instead of WAKEUP on start (#1655),WAKEUP does not work on some devices. Fixes #1655 link This reverts commit 322f1512ea806611eb37f508cd952bbbc050f853.,1
Fix missing change of Ctrl key in README,0.57497096, - Support holding Ctrl+Key shortcuts (#166),PR #1652 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add packaging status,0.30092046, - Print both compiled and linked version of libs on --version,PR #1650 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.15.1 in README and BUILD,0.47312117,Hotfix for v1.15:,,0
Bump version to 1.15.1,0.5824263,Hotfix for v1.15:,,0
Fix uninitialized repeat count in key events,0.686175,Repeating key events,"A new ""repeat"" field has been added by 3c1ed5d86c38bcbd5353b0a7e6ef5653d6c44d0d, but it was not initialized in every code path. As a consequence, keycodes generated by shortcuts were sent with an undetermined value, breaking some shortcuts (especially HOME) randomly. Fixes #1643 link",0
Update links to v1.15 in README and BUILD,0.45660353,Hotfix for v1.15:,,0
Bump version to 1.15,0.59423304,Hotfix for v1.15:,,0
Upgrade FFmpeg (4.3.1) for Windows,0.96478105, - Upgrade FFmpeg to 4.3.1 in Windows releases,Include the latest version of FFmpeg in Windows releases.,1
Upgrade platform-tools (30.0.4) for Windows,0.8762331, - Upgrade platform-tools to 30.0.4 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Keep the screen off on powering on,0.8413829," - Keep the screen off on powering on (best effort) (#1573, #1577)",PR #1577 link Fixes #1573 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Add --no-key-repeat cli option,0.58178157," - Add option to ignore repeated key events (#1013, #1623)",Add an option to avoid forwarding repeated key events. PR #1623 link Refs #1013 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Pass full options struct to static functions,0.23234348, - Avoid empty arguments not correctly handled on some devices (#337),"This avoids to pass specific options values individually. Since these function are static (internal to the file), this is not a problem to make them depend on scrcpy_options. Refs #1623 link Signed-off-by: Romain Vimont rom@rom1v.com",0
Copy the options used in input manager init,0.39311856,"This option is only meaningful for the default injection method: with HID keyboard (--hid-keyboard), all keys are sent as scancodes.",This avoids to pass additional options to some input manager functions. Refs #1623 link,0
Mention that MENU unlocks screen,0.4843506,"This is especially useful when --turn-screen-off/-S is enabled, because the device screen will stay awake (no lock screen to unlock after some delay) with screen off:",Pressing MENU while in lock screen unlocks (it still asks for the schema or code if enabled).,0
Use  HTML tag for keys,0.4615275,"Add ""raw key events"" mode",It's prettyier in a browser.,0
Mention in README that Ctrl is forwarded,0.624337,Ctrl and Shift keys are now forwarded to the device.,,0
Update copy-paste section in README,0.5794254,"Copy-paste have been improved by previous releases, especially v1.15.",Update documentation regarding the recent copy-paste changes.,0
Swap paste shortcuts,0.60317963,Forwarding Ctrl brings a lot of changes and improvements regarding copy-paste:,"For consistency with MOD+c and MOD+x, use MOD+v to inject PASTE. Use Mod+Shift+v to inject clipboard content as a sequence of text events.",0
Add shortcuts for COPY and CUT,0.6299882,"The scrcpy shortcuts MOD+c, MOD+x and MOD+v still allow explicit copy, cut and paste, even in this mode.","Send COPY and CUT on MOD+c and MOD+x (only supported for Android >= 7). The shortcuts Ctrl+c and Ctrl+x should generally also work (even before Android 7), but the active Android app may use them for other actions instead.",0
"Change ""resize to fit"" shortcut to MOD+w",0.93468595," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)","For convenience, MOD+x will be used for injecting the CUT keycode.",1
"Remove ""get clipboard"" call",0.7040154,A new option --no-clipboard-autosync disables this automatic synchronization. This also disables the acknowledgment mechanism described above.,"Now that every device clipboard change is automatically synchronized to the computer, the ""get clipboard"" request (bound to MOD+c) is useless.",1
Set computer clipboard only if necessary,0.67058444,Optionally disable seamless copy-paste,"Do not explicitly set the clipboard text if it already contains the expected content. Even if copy-paste loops are avoided by the previous commit, this avoids to trigger a clipboard change on the computer-side. Refs #1580 link",0
Set device clipboard only if necessary,0.7151147,"However, setting the device clipboard programmatically does not work properly on some devices, causing confusing behavior (injecting PASTE does not paste the content set programmatically).",Do not explicitly set the clipboard text if it already contains the expected content. This avoids possible copy-paste loops between the computer and the device.,1
Synchronize clipboard on Ctrl+v,0.77145976,"To allow seamless copy-paste (see v1.15 highlights), on Ctrl+v, a request to synchronize the computer clipboard to the device clipboard is performed before injecting Ctrl+v.","Pressing Ctrl+v on the device will typically paste the clipboard content. Before sending the key event, synchronize the computer clipboard to the device clipboard to allow seamless copy-paste.",1
Forward Shift to the device,0.52500117,Ctrl and Shift keys are now forwarded to the device.,This allows to select text using Shift+(arrow keys). Fixes #942 link,0
Forward Ctrl to the device,0.76967955,Ctrl and Shift keys are now forwarded to the device.,"Now that the scrcpy shortcut modifier is Alt by default (and can be configured), forward Ctrl to the device. This allows to trigger Android shortcuts. Fixes #555 link",1
Ignore text events for shortcuts,0.626853," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)","Pressing Alt+c generates a text event containing ""c"", so ""c"" was sent to the device when --prefer-text was enabled. Ignore text events when the mod state matches a shortcut modifier.",0
Accept Super as shortcut modifier,0.6260752, - Make shortcut modifiers customizable (#1598),"In addition to (left) Alt, also accept (left) Super. This is especially convenient for macOS users (Super is the Cmd key).",0
Customize shortcut modifier,0.94243455,Customizable shortcut modifier,"Add --shortcut-mod, and use Alt as default modifier. This paves the way to forward the Ctrl key to the device.",1
Use Ctrl for all shortcuts,0.67904574, - Use Cmd instead of Ctrl for shortcuts on macOS when possible (#642),"Remove the Cmd modifier on macOS, which was possible only for some shortcuts but not all. This paves the way to make the shortcut modifier customizable.",0
Make expression order consistent,0.24391085,Copy-paste in both directions,"The condition ""cmd"" was always before ""shift"" in all expressions except 4.",0
"Simplify PASTE option for ""set clipboard""",0.6571076,Optionally disable seamless copy-paste,"When the client requests to set the clipboard, it may request to press the PASTE key in addition. To be a bit generic, it was stored as a flag in ControlMessage.java. But flags suggest that it represents a bitwise union. Use a simple boolean instead.",0
Declare main() with argc/argv params in tests,0.40057024,"To pass command line arguments, it must still be started from a terminal or a script though.","Declaring the main method as ""int main(void)"" causes issues with SDL. Fixes #1209 link",0
Inject WAKEUP instead of POWER,0.85095954, - Inject POWER instead of WAKEUP on start (#1655),"To power the device on, inject KEYCODE_WAKEUP to avoid a possible race condition (the device might become off between the test isScreenOn() and the POWER keycode injection).",1
Restore power mode to normal on cleanup,0.69842046," - Restore power mode to ""normal"" on disconnection (#1572, #1576)",This avoids to let the device screen turned off (as enabled by Ctrl+o or --turn-screen-off). PR #1576 link Fixes #1572 link,0
Warn on ignored touch event,0.57403404, - Improve --show-touches behavior,"In theory, this was expected to only happen when a touch event is sent just before the device is rotated, but some devices do not respect the encoding size, causing an unexpected mismatch. Refs #1518 link",0
Send touch event without pressure on button up,0.5345741,A new option --forward-all-clicks has been added to forward these clicks to the device instead.,Refs #1518 link,0
Update BUILD.md,0.46531096, - Upgrade platform-tools to 29.0.5 (adb) in Windows releases,Update the macOS section. PR #1559 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix constants name in comment,0.30104566, - ~Do not print irrelevant workarounds errors (#994)~,,0
Make setScreenPowerMode() method static,0.4296083, - Prevent to turn screen off if no control (#608),Its implementation does not use the instance at all.,0
Do not crash on missing clipboard manager,0.9417592," - Do not crash on missing clipboard manager (#1440, #1556)","Some devices have no clipboard manager. In that case, do not try to enable clipboard synchronization to avoid a crash. Fixes #1440 link Fixes #1556 link",1
README: Add Fedora install instructions,0.31097516, - Add manpage,PR #1549 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix touch events HiDPI-scaling,0.946017," - Fix touch events HiDPI-scaling (#1536, #15)","Touch events were HiDPI-scaled twice:  - once because the position (provided as floats between 0 and 1) were    converted in pixels using the drawable size (not the window size)  - once due to screen_convert_to_frame_coords() One possible fix could be to compute the position in pixels from the window size instead, but this would unnecessarily round the event position to the nearest window coordinates (instead of drawable coordinates). Instead, expose two separate functions to convert to frame coordinates from either window or drawable coordinates. Fixes #1536 link Refs #15 link Refs e40532a3761da8b3aef484f1d435ef5f50d94574",1
Improve linguistic,0.27738088, - Improve some error messages,PR #1543 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Handle repeating keycodes,0.73351586," - Correctly inject repeating keycodes (#1013, #1519)","Initialize ""repeat"" count on key events. PR #1519 link Refs #1013 link Signed-off-by: Romain Vimont rom@rom1v.com",1
Make scrcpy.h independant of other headers,0.6779068,scrcpy v1.22,"The header scrcpy.h is intended to be the ""public"" API. It should not depend on other internal headers. Therefore, declare all required structs in this header and adapt internal code.",0
Remove fprintf() call in tests,0.39609635, - ~Do not print irrelevant workarounds errors (#994)~,It should never have been committed.,0
Add option for disabling screensaver,0.890887," - Add option to disable screensaver (#1370, #1502)",PR #1502 link Fixes #1370 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Fix typo in README.md,0.39717275, - Fix errors on Android 11 (#1468),PR #1523 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Make message buffer static,0.49271742, - Implement (optional) buffering (#2464),"Now that the message max size is 256k, do not put the buffer on the stack.",0
Increase clipboard size from 4k to 256k,0.9138837, - Increase clipboard size from 4k to 256k (#1117),"Beyond 256k, SDL_GetClipboardText() returns an empty string on my computer. Fixes #1117 link",1
Fix receiver on partial device messages,0.4375907," - Add fallback to get display information on some devices (#3416, #3573)","If a single device message was read in several chunks from the control socket, the communication was broken.",0
Serialize text size on 4 bytes,0.34257454," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",This will allow to send text having a size greater than 65535 bytes.,0
Rename MSG_SERIALIZED_MAX_SIZE to MSG_MAX_SIZE,0.32008684," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",For simplicity and consistency with the server part.,0
Add unit test for big clipboard device message,0.55754316, - Add computer-to-device clipboard copy (#413),Test clipboard synchronization from the device to the computer.,0
"Rename test names from ""event"" to ""msg""",0.3421308,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,"The meson test names had not been changed when ""event"" had been renamed to ""message"". Ref: 28980bbc90ab93cf61bdc4b36d2448b8cebbb7df",0
Avoid additional copy on Java text parsing,0.41192758,Copy-paste workaround,Directly pass the buffer range to the String constructor.,0
Reorganize message size constants,0.4192929, - Adapt --help output to terminal size,Make the max clipboard text length depend on the max message size.,0
Mention sndcpy,0.45103678,scrcpy -S,,0
Add missing file in build_without_gradle.sh,0.37503618," - Add Bash completion script (#2930, #3048)",Fixes #1481 link PR #1482 link Signed-off-by: Louis Leseur louis.leseur@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Configure log level for application only,0.6851976, - Add --verbosity to configure log level at runtime,Do not expose internal SDL logs to users. Fixes #1441 link,0
Fix incorrect log return value,0.41031444," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","The function must return a SDL_LogPriority, but returned an enum sc_log_level. (It was harmless because this specific return should never happen, as asserted.)",0
Git-ignore release directories,0.4180995, - Refuse to push server if it points to a directory (#956),,0
Avoid repetition for some shortcuts,0.61405253,Repeating key events,"Keeping the key pressed generate ""repeat"" events. It does not make sense to repeat the event for rotation or turn screen off.",0
Mention stay awake limitation,0.59697163,Stay awake,"The ""stay awake"" feature only works when the device is plugged in. Refs #1445 link",0
Mention how to turn the screen on in README,0.7741018,Turn screen on,"Now that Ctrl+Shift+o has been reactivated, mention it in the ""turn screen off"" section.",1
Update links to v1.14 in README and BUILD,0.41864493,Hotfix for v1.15:,,0
Bump version to 1.14,0.5450872,Hotfix for v1.15:,,0
"Reactivate ""turn device screen on"" feature",0.68319386," - Fix ""turn screen off"" on Android 10 devices (#835)","This reverts commit 8c8649cfcd710859ce18eab557ed2af8cedb9a42. I cannot reproduce the issue with Ctrl+Shift+o on any device, so in practice it works, it's too bad to remove the feature for a random bug on some Android versions on some devices.",0
Push clipboard text only if not null,0.47603646," - Do not crash on missing clipboard manager (#1440, #1556)","In practice, it does not change anything (it just avoids a spurious wake-up), but semantically, it makes no sense to call pushClipboardText() with a null value.",0
Improve manpage formatting,0.66212314, - Add manpage,Add a new line to avoid unwanted text justification,0
Initialize a default log level,0.6510198, - Add --verbosity to configure log level at runtime,"Clean up has been broken by 3df63c579da7a35048458c6884f5f386154d2353. The verbosity was correctly initialized for the Server process, but not for the CleanUp process. To avoid the problem, initialize a default log level.",0
Upgrade platform-tools (30.0.0) for Windows,0.8775225, - Upgrade platform-tools to 30.0.0 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
"Paste on ""set clipboard"" if possible",0.7553465,Copy-paste workaround,"Ctrl+Shift+v synchronizes the computer clipboard to the Android device clipboard. This feature had been added to provide a way to copy UTF-8 text from the computer to the device. To make such a paste more straightforward, if the device runs at least Android 7, also send a PASTE keycode to paste immediately. link Fixes #786 link",1
Fix union typo,0.33240795, - Fix clipboard paste (#1658),"The ""set clipboard"" event used the wrong union type to store its text. In practice, it worked because both are at the same offset.",0
Move injection methods to Device,0.527382," - Adapt input injection for Android 13 (#3186, #3190)","Only the main injection method was exposed on Device, the convenience methods were implemented in Controller. For consistency, move them all to the Device class.",0
Avoid clipboard synchronization loop,0.7654371," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)","The Android device listens for clipboard changes to synchronize with the computer clipboard. However, if the change comes from scrcpy (for example via Ctrl+Shift+v), do not notify the change.",1
Log actions on the caller side,0.5652739,Log input events,"Some actions are exposed by the Device class, but logging success should be done by the caller.",0
Pass a Locale to toUpperCase(),0.3992649," - Fix support for non-ASCII characters in window title (#2932, #3547)",Make lint happy.,0
Rename THRESHOLD to threshold,0.24953398,"   group on quit (#182, #183)","Since the field is not final anymore, lint expects the name not to be capitalized.",0
Add --force-adb-forward,0.94413775, - Add --force-adb-forward,"Add a command-line option to force ""adb forward"", without attempting ""adb reverse"" first. This is especially useful for using SSH tunnels without enabling remote port forwarding.",1
Add cli option to set the verbosity level,0.6894426, - Add --verbosity to configure log level at runtime,"The verbosity was set either to info (in release mode) or debug (in debug mode). Add a command-line argument to change it, so that users can enable debug logs using the release: scrcpy -Vdebug",0
Configure server verbosity from the client,0.59660447, - Add --verbosity to configure log level at runtime,Send the requested log level from the client. This paves the way to configure it via a command-line argument.,0
Avoid compiler warning,0.4768731, - ~Do not print irrelevant workarounds errors (#994)~,"The field lock_video_orientation may only take values between -1 and 3 (included). But the compiler may trigger a warning on the sprintf() call, because its type could represent values which could overflow the string (like ""-128""): warning: %i directive writing between 1 and 4 bytes into a region of size 3 [-Wformat-overflow=] Increase the buffer size to remove the warning.",0
Add --codec-options,0.8213031, - Add --codec-options to pass MediaFormat options directly (#1325),"Add a command-line parameter to pass custom options to the device encoder (as a comma-separated list of ""key[:type]=value""). The list of possible codec options is available in the Android documentation: link PR #1325 link Refs #1226 link Co-authored-by: Romain Vimont rom@rom1v.com",1
"Add unit test for big ""set clipboard"" event",0.49653345," - Do not crash on missing clipboard manager (#1440, #1556)",Add a unit test to avoid regressions. Refs #1425 link,0
"Increase buffer size to fix ""set clipboard"" event",0.72928625, - Increase clipboard size from 4k to 256k (#1117),"The buffer size must be greater than any event message. Clipboard events may take up to 4096 bytes, so increase the buffer size. Fixes #1425 link",1
Synchronize device clipboard to computer,0.728518, - Add device-to-computer clipboard copy (#145),Automatically synchronize the device clipboard to the computer any time it changes. This allows seamless copy-paste from Android to the computer. Fixes #1056 link PR #1423 link,1
Remove useless exception declaration,0.50073373, - Improve some error messages,"The interface declares it can throw a RemoteException, but the implementation never throws such exception.",0
Simplify rotation watcher call,0.51664513,Rotation,Remove unnecessary private method (which was wrongly public).,0
Increase LOD bias for mipmapping,0.51979494, - Increase LOD bias to reduce blurring on trilinear filtering (#1394),Mipmapping caused too much blurring. Using a LOD bias of -1 instead of -0.5 seems a better compromise to avoid low-quality downscaling while keeping sharp edges in any case. Refs link Refs link,0
Remove warning when renderer is not OpenGL,0.4927194,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.","Trilinear filtering can currently only be enabled for OpenGL renderers. Do not print a warning if the renderer is not OpenGL, as it can confuses users, while nothing is wrong.",0
Reset window size on initialization,0.72737586, - Add options to set an initial window size and position (#762),"On macOS with renderer ""metal"", HiDPI scaling may be incorrect on initialization when several displays are connected. Resetting the window size fixes the problem. Refs #15 link",1
Manually position and scale the content,0.50974864,"More precisely, hold Ctrl while pressing the left-click button. Until the left-click button is released, all mouse movements scale and rotate the content (if supported by the app) relative to the center of the screen.","Position and scale the content ""manually"" instead of relying on the renderer ""logical size"". This avoids possible rounding differences between the computed window size and the content size, causing one row or column of black pixels on the bottom or on the right. This also avoids HiDPI scale issues, by computing the scaling manually. This will also enable to draw items at their expected size on the screen (unscaled). Fixes #15 link",0
Extract optimal window size detection,0.4846723," - Apply requested window size in OTG mode (#3099, #3219)",Extract the computation to detect whether the current size of the window is already optimal. This will allow to reuse it for rendering.,0
"Disable ""resize to fit"" in maximized state",0.53014076," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)","In maximized state (but not fullscreen), it was possible to resize to fit the device screen (with Ctrl+x or double-clicking on black borders). This caused problems on macOS with the ""expand to fullscreen"" feature, which behaves like a fullscreen mode but is seen as maximized by SDL. In that state, resizing to fit causes unexpected results. To keep the behavior consistent on all platforms, just disable ""resize to fit"" when the window is maximized.",0
Workaround maximized+fullscreen on Windows,0.50535816, - Add command-line option to start in fullscreen (#252),"On Windows, in maximized+fullscreen state, disabling fullscreen mode unexpectedly triggers the ""restored"" then ""maximized"" events, leaving the window in a weird state (maximized according to the events, but not maximized visually). Moreover, apply_pending_resize() asserts that fullscreen is disabled. To avoid the issue, if fullscreen is set, just ignore the ""restored"" event.",0
Simplify size changes in fullscreen or maximized,0.515911," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)","If the content size changes (due to rotation for example) while the window is maximized or fullscreen, the resize must be applied once fullscreen and maximized are disabled. The previous strategy consisted in storing the windowed size, computing the target size on rotation, and applying it on window restoration. But tracking the windowed size (while ignoring the non-windowed size) was tricky, due to unspecified order of SDL events (e.g. size changes can be notified before ""maximized"" events), race conditions when reading window flags, different behaviors on different platforms... To simplify the whole resize management, store the old content size (the frame size, possibly rotated) when it changes while the window is maximized or fullscreen, so that the new optimal size can be computed on window restoration.",0
Factorize window resize,0.66575575, - Center the window on resize-to-fit (#2387),"When the content size changes, either on frame size or client rotation changes, the window must be resized. Factorize for both cases.",0
Fix Windows Ctrl Handler declaration,0.5696484,Properly handle Ctrl+C on Windows,The handler function signature must include the calling convention declaration. Ref: link,0
Reference README.md from localized versions,0.28794017, - Print both compiled and linked version of libs on --version,Mention that the README.md is the only one being up-to-date.,0
Add Brazilian Portuguese translation,0.25154555,MOD+o).,Signed-off-by: Romain Vimont rom@rom1v.com,0
Properly handle Ctrl+C on Windows,1.0000002,Properly handle Ctrl+C on Windows,"By default, Ctrl+C just kills the process on Windows. This caused corrupted video files on recording. Handle Ctrl+C properly to clean up properly. Fixes #818 link",1
Send scroll events as a touchscreen,0.55005586,Touchscreen / multitouch,"Scroll events were sent with a mouse input device. When scrolling on a list, this could cause the whole list to be focused, and drawn with the focus color as background. Send scroll events with a touchscreen input device instead (like motion events). Fixes #1362 link",0
Improve bug report template,0.5013618,Bugfixes,Insert a code block to (hopefully) increase the chances that users format their terminal output.,0
Add a note about multi-display limitation,0.63481915,Multi-display,Secondary display mirroring is read-only before Android 10.,0
"Revert ""Improve resizing workaround""",0.5955374, - Restore resizing workaround for Windows (#3640),"This reverts commit 92cb3a666109b67598cd36b9c0088fb697abbd23, which broke the fullscreen/maximized restoration size on Windows. Fixes #1346 link",0
Simplify ScreenEncoder more,0.57063806,Encoder selection,Commit 927d655ff66fa439ccd27e054ae6d54a651640cc removed the iFrameInternal field and constructor argument. Also remove it from createFormat() arguments.,0
Add an option to keep the device awake,0.74952644,A new option has been added to prevent the device to sleep:,Add an option to prevent the device to sleep: scrcpy --stay-awake scrcpy -w The initial state is restored on exit. Fixes #631 link,1
Reorder options in alphabetical order,0.33564797, - Add --prefer-text option (#650),,0
"Handle ""show touches"" on the device-side",0.80295384, - Improve --show-touches behavior,"Now that the server can access the Android settings and clean up properly, handle the ""show touches"" option from the server. The initial state is now correctly restored, even on device disconnection.",1
Move constants to ServiceManager,0.26185772, - Add --verbosity to configure log level at runtime,"PACKAGE_NAME and USER_ID could be use by several ""managers"", so move them to the service manager.",0
Add a clean up process on the device,0.451144," - Add --no-cleanup option (#1764, #3020)","In order to clean up on close, use a separate process which is not killed when the device is disconnected (even if the main process itself is killed).",0
Implement access to settings without Context,0.30874264,"The way scrcpy was accessing to the settings is now blocked in Android 12 due to permission changes. In practice, --stay-awake (#2671) and --show-touches (#2788) were broken.","Expose methods to access the Android settings using private APIs. This allows to read and write settings values immediately without starting a new process to call ""settings"".",0
Apply workarounds only on error,0.7868035, - Apply workarounds only on error (#994),"To avoid NullPointerException on some devices, workarounds have been implemented. But these workaround produce (harmless) internal errors causing exceptions to be printed in the console. To avoid this problem, apply the workarounds only if it fails without them. Fixes #994 link Refs #365 link Refs #940 link",1
Fix AutoAdb url,0.41833502, - Add --force-adb-forward,PR #1344 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.13 in README and BUILD,0.39926386, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.13,0.5138067,Hotfix for v1.12:,,0
Upgrade SDL (2.0.12) for Windows,0.9514444, - Upgrade SDL to 2.0.12 in Windows releases,Include the latest version of SDL in Windows releases.,1
Upgrade FFmpeg (4.2.2) for Windows,0.96473664, - Upgrade FFmpeg to 4.2.2 in Windows releases,Include the latest version of FFmpeg in Windows releases.,1
Fix typo in comments,0.31666258," - Fix rendering issues (#1408, #787)",,0
Stabilize auto-resize,0.59482145, - Center the window on resize-to-fit (#2387),"The window dimensions are integers, so resizing to fit the content may not be exact. When computing the optimal size, it could cause to reduce alternatively the width and height by few pixels, making the ""optimal size"" unstable. To avoid this problem, check if the optimal size is already correct either by keeping the width or the height.",0
Improve resizing workaround,0.65878344,Resize to fit,"Call the same method as when the event is received on the event loop, so that the behavior is the same in both cases.",0
Mention Ubuntu 20.04 package,0.3689592, - Upgrade SDL to 2.0.20 in Windows releases,"Ubuntu 20.04 has been released today, and scrcpy is available in their repositories: link",0
Move rotation coordinates to screen,0.6675207,Display rotation,Move the window-to-frame coordinates conversion from the input manager to the screen. This will allow to apply more screen-related transformations without impacting the input manager.,0
Log new size on auto-resize request,0.41966355," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)","On ""resize to fit"" and ""resize to pixel-perfect"", log the new size.",0
Use MediaFormat constant for MIME type,0.60684097, - Add --codec-options to pass MediaFormat options directly (#1325),"Replace ""video/avc"" by MIMETYPE_VIDEO_AVC. Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix touch coordinates on rotated display,0.6152367,Display rotation,The touch coordinates were not rotated.,0
Disable input events when necessary,0.5261401,Log input events,"Disable input events on secondary displays before Android 10, even if FLAG_PRESENTATION is not set. Refs #1288 link",0
Mention mipmapping in FAQ,0.6592664,Mipmapping is automatically enabled if the rendering is done by OpenGL 3.0+ or OpenGL ES 2.0+.,,0
Add option --no-mipmaps,0.6878414,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.",Add an option to disable trilinear filtering even if mipmapping is available.,0
Enable trilinear filtering for OpenGL,0.7408094,"To improve the quality, trilinear filtering is enabled when possible (OpenGL 3.0+ or OpenGL ES 2.0+):",Improve downscaling quality if mipmapping is available. Suggested-by: Giumo Clanjor (/) cjxgm2@gmail.com Fixes #40 link Ref: link,1
Add --render-driver command-line option,0.82775515, - Add --render-driver parameter (#1284),Add an option to set a render driver hint (SDL_HINT_RENDER_DRIVER).,1
Require Meson 0.48 to get rid of warnings,0.39611802,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"Debian buster (stable) provides Meson 0.49, which is also available in stretch (oldstable) backports. It's time to abandon Meson 0.37. Ref: 20b3f101a40cd7455cc5b41e381291504deec5ba",0
Rename max length constant for text injection,0.501411, - Continue text injection on failed character (#509),"To avoid confusion with the max text size for clipboard, rename the constant limiting the text injection length.",0
Workaround compiler warning,0.50536484, - ~Do not print irrelevant workarounds errors (#994)~,Some compilers warns on uninitialized value in impossible case: warning: variable 'result' is used uninitialized whenever switch default is taken [-Wsometimes-uninitialized],0
Add missing include string.h,0.34425777, - Fix segfault on empty file recorded (#918),Include  for strdup() and strtok_r().,0
Fix log format warning,0.50731075, - Add --verbosity to configure log level at runtime,"The expression port + 1 is promoted to int, but printed as uint16_t.",0
Simplify ScreenEncoder,0.5654595,Encoder selection,"Do not handle iFrameInterval field and parameter, it is never used dynamically.",0
Remove unused lockedVideoOrientation field,0.66300184," - Add option to lock video orientation (#218, #1151)","During PR #1151, this field has been moved to ScreenInfo, but has not been removed from ScreenEncoder.",0
Fix double click on rotated display,0.60873616,Display rotation,A double-click outside the device content (in the black borders) resizes so that black borders are removed. But the display rotation was not taken into account to detect the content. Use the content size instead of the frame size to fix the issue. Ref: link,0
Remap event positions on rotated display,0.63179225, - shortcuts to rotate display at any time,"If the display is rotated, the position of clicks must be adapted.",0
Store rotated content size,0.5125833,Display rotation,This avoids to compute it every time from the frame size.,0
Register rotation watcher on selected display,0.6518914, - shortcuts to rotate display at any time,PR #1275 link Signed-off-by: Kostiantyn Luzan vblack2006@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Suppress DiscouragedPrivateApi lint warning,0.3579575, - Apply workarounds only on error (#994),,0
Remove --fullscreen validation,0.5332793, - Add command-line option to start in fullscreen (#252),"Many options are meaningless if --no-display is set. We don't want to validate all possible combinations, so don't make an exception for --fullscreen.",0
Improve documentation for consistency,0.40586746, - Improve some error messages,Make --lock-video-orientation documentation consistent with that of --rotation.,0
Add --rotation command-line option,0.625124," - Add shortcuts to rotate the display (#218, #1274)","In addition to Ctrl+Left and Ctrl+Right shortcuts, add a command-line parameter to set the initial rotation.",0
Add shortcuts to rotate display,0.9435749, - shortcuts to rotate display at any time,"Add Ctrl+Left and Ctrl+Right shortcuts to rotate the display (the content of the scrcpy window). Contrary to --lock-video-orientation, the rotation has no impact on recording, and can be changed dynamically (and immediately). Fixes #218 link",1
Format shortcut documentation,0.5216637,New shortcuts,"For consistency, start the descriptions with a capital letter.",0
Add a note about prebuilt server in BUILD.md,0.34111756, - Add --verbosity to configure log level at runtime,Mention that it works with a matching client version.,0
Explain master and dev branches in BUILD,0.23601486,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",People may not guess that master is not the development branch.,0
"Improve ""low quality"" section in FAQ",0.3703991, - Improve some error messages,,0
Add Android device and version in issue template,0.4888839," - Add support for Android 12 (#2129, #2402)",,0
Add issue templates,0.39034092,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Closes #1157 link,0
gitignore: Add x/ directory,0.28191316, - Refuse to push server if it points to a directory (#956),People following default build instructions can be caught off guard by seeing the build artifacts in the git tree. Signed-off-by: Harsh Shandilya me@msfjarvis.dev Signed-off-by: Romain Vimont rom@rom1v.com,0
Update to Gradle 6.3,0.3681411," - Add support for Android 12 (#2129, #2402)",Signed-off-by: Harsh Shandilya me@msfjarvis.dev Signed-off-by: Romain Vimont rom@rom1v.com -- Note from committer: The binary gradle/wrapper/gradle-wrapper.jar has the expected SHA-256 checksum: $ curl -L link 1cef53de8dc192036e7b0cc47584449b0cf570a00d560bfaa6c9eabe06e1fc06 All the changed files match an upgrade executed independently: link,0
Update to AGP 3.6.2,0.4174251,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,Signed-off-by: Harsh Shandilya me@msfjarvis.dev,0
Replace SDL_Atomic by stdatomic from C11,0.47762102, - Downgrade SDL to 2.0.8 in Windows releases (#425),There is no reason to use SDL atomics.,0
Do not log success on failure,0.43578607, - Return non-zero value on connection loss (#204),"If calling the private API does not work, an exception is printed. In that case, do not log that the action succeeded.",0
Do not warn on terminating the server,0.7517486, - Terminate server properly without killing it on close (#1992),"If the server is already dead, terminating it fails. This is expected.",1
Do not block on accept() if server died,0.5093153, - Terminate server properly without killing it on close (#1992),"The server may die before connecting to the client. In that case, the client was blocked indefinitely (until Ctrl+C) on accept(). To avoid the problem, close the server socket once the server process is dead.",0
Wait server from a separate thread,0.38703394, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,Create a thread just to wait for the server process exit. This paves the way to simply wake up a blocking accept() in a portable way.,0
Refactor server_start() error handling,0.47132504, - Terminate server properly without killing it on close (#1992),This avoids cleanup duplication.,0
Add display id parameter,0.66053706, - Increase possible display id range (#2009),Add --display command line parameter to specify a display id. PR #1238 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Remove MagicNumber checkstyle,0.29639155," - Add option to ignore repeated key events (#1013, #1623)","There are a lot of ""magic numbers"" that we really don't want to extract as a constant. Until now, many @SuppressWarnings annotations were added, but it makes no sense to check for magic number if we silent the warnings everywhere.",0
Log device details on server start,0.42569762,Log input events,,0
Fix static_assert() parameters,0.3360275, - Apply workarounds only on error (#994),"In C11, static_assert() expects a message.",0
Accept negative window position,0.89671826, - Accept negative window position (#1242),It seems to work on some window managers. Fixes #1242 link,1
Add tests for control message length,0.3655158, - Continue text injection on failed character (#509),This will avoid regressions for #1245. link,0
Fix expected message length for touch events,0.6474933, - Fix touch events parameters (#2125),"The expected length for a touch event control message was incorrect. As a consequence, a BufferUnderflowException could occur. Fixes #1245 link",0
Fix the printed versions (were opposite),0.42563355," - Fix rendering issues (#1408, #787)",PR #1224 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Improve FAQ,0.30758822, - Various technical refactors and fixes,,0
Mention AutoAdb in README,0.4341927, - Add --force-adb-forward,,0
Fix server debugger for Android >= 9,0.49059778, - Accept --max-fps before Android 10 (#488),Add a compilation flag to select the debugger method to use:  - old: Android < 9  - new: Android >= 9 See link,0
Handle NumPad events when NumLock is disabled,0.79951525, - Forward NumPad keys when NumLock is disabled (#1188),PR #1188 link Fixes #1048 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Add scoop instructions for Windows,0.38212597,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:",PR #1202 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Simplify Chocolatey documentation,0.38394,scrcpy v1.3,,0
Handle locked video orientation from ScreenInfo,0.7367978," - Add option to lock video orientation (#218, #1151)",Centralize video size management in ScreenInfo. This allows to always send the correct initial video size to the client if the video orientation is locked.,1
"Rename ""rotation"" to ""device rotation""",0.5438553, - Fix device rotation while the window is maximized (#750),This paves the way to reduce confusion in ScreenInfo when it will handle locked video orientation.,0
Compute all screen info from ScreenInfo,0.56099457," - Add fallback to get display information on some devices (#3416, #3573)",Screen information was partially initialized from Device. Move this initialization to ScreenInfo.,0
Remove useles import,0.3229075,Remove deprecated short options,,0
Remove link to Windows 32 bits release,0.46809775, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Binaries created with MinGW (even a simple Hello World) are detected as malware by some anti-virus. For some reason, only the 32 bits version of scrcpy is impacted. Since users should use the 64 bits version by default anyway, remove the link to the 32 bits version from the main page. The 32 bits release is still available in the ""releases"" tab. See link",0
Show a friendly hint for adb installation,0.49970663," - Improve error message on missing adb (#236, #254)",Signed-off-by: Romain Vimont rom@rom1v.com,0
Add option to lock video orientation,0.9575081, - an option to lock the video orientation,PR #1151 link Signed-off-by: Romain Vimont rom@rom1v.com,1
Retrieve screen info once,0.499571," - Add fallback to get display information on some devices (#3416, #3573)","The method getScreenInfo() is synchronized, and the result may change between calls. Call it once and store the result in a local variable.",0
Use linear filtering,0.52405703,Downscaling quality (trilinear filtering),Anisotropic filtering makes no sense for scrcpy use case. This (semantically) reverts 9e328ef98b0fc730036aa389f33649a31737d0e3.,0
Documentation rectifications,0.4492715, - Various technical refactors and fixes,PR #1151 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Add Chocolatey for Windows install,0.4275878, - Add icon to scrcpy.exe (#2815),PR #1144 link Signed-off-by: Romain Vimont rom@rom1v.com,0
Indicate that -s can also be used for TCP/IP,0.5378632, - -e (or --select-tcpip) uses a TCP/IP device (like adb -e),,0
Mention scrcpy Debian package in README,0.63241786, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,0
Happy new year 2020!,0.2357387, - Upgrade SDL to 2.0.20 in Windows releases,,0
Do not report workarounds errors,0.6234899, - Apply workarounds only on error (#994),"Some workarounds are needed on some devices. But applying them may cause exceptions on other devices, where they are not necessary anyway. Do not report these errors in release builds. Closes #994 link",0
Accept port range,0.5331722," - Use another local port if 27183 is not available (#945, #951)","Accept a range of ports to listen to, so that it does not fail if another instance of scrcpy is currently starting. The range can be passed via the command line: scrcpy -p 27183:27186 scrcpy -p 27183  # implicitly 27183:27183, as before The default is 27183:27199. Closes #951 link",0
Add util function to parse a list of integers,0.23958923," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",This will help parsing arguments like '1234:5678' into a list of integers.,0
Refactor server tunnel initialization,0.6511443,Configure tunneling,"Start the server socket in enable_tunnel() directly. For the caller point of view, enabling the tunnel opens a port (either the server socket locally or the ""adb forward"" process).",0
Reorder functions,0.27255723, - -T/--always-on-top,Move functions so that they can be called from enable_tunnel() (in the following commit).,0
Fix include order,0.27949992, - ~Do not print irrelevant workarounds errors (#994)~,,0
Accept --max-fps before Android 10,0.9508122, - Accept --max-fps before Android 10 (#488),KEY_MAX_FPS_TO_ENCODER existed privately before Android 10: link,1
Simplify net.c,0.3881554,Windows PATH simplification,"The platform-specific code for net.c was implemented in sys/*/net.c. But the differences are quite limited, so use ifdef-blocks in the single net.c instead.",0
Merge pull request #1002 into dev,0.46152413,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Fix utf-8 char path in windows link,0
Get env in windows correctly,0.60262406,"On Windows, setting an environment variable is slightly different:",Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix utf-8 char path in windows,0.80015564, - Workaround Windows issue with non-ASCII path (#2619),"The file 'E:\\scrcpy-win64-v1.12.1-1-g31bd950\scrcpy-server' exists, however, it will show msg as follow: INFO: scrcpy 1.12.1 <link stat: No such file or directory ERROR: 'E:\\scrcpy-win64-v1.12.1-1-g31bd950\scrcpy-server' does not exist or is not a regular file Press any key to continue... This patch fixes it. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",1
Fix memory leak on portable builds,0.6658621, - Fix (huge) memory leak (#26),"The function get_server_path() sometimes returned an owned string, sometimes a non-owned string. Always return an allocated (owned) string, and free it after usage.",0
Update links to v1.12.1 in README and BUILD,0.44639283,Hotfix for v1.12:,,0
Bump version to 1.12.1,0.54824007,Hotfix for v1.12:,,0
Limit bitrate range to 31 bits integer,0.5602063,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"A proper solution could be to use ""long long"" instead (guaranteed to be at least 64 bits), but it adds its own problems (e.g. ""%lld"" is not supported as a printf format on all platforms). In practice, we don't need such high values, so keep it simple. Fixes #995 link",0
Update links to v1.12 in README and BUILD,0.43077737,Hotfix for v1.12:,,0
Bump version to 1.12,0.5605839,Hotfix for v1.12:,,0
Do not build tests in release mode,0.32390824, - Upgrade platform-tools to 29.0.1 (adb) in Windows releases,"Assertions would not be executed. And as a side effect, it causes ""unused variable"" warnings.",0
Define SDL_MAIN_HANDLED in all tests,0.35839108, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Each test defines its own main() function. If this flag is not set, then SDL redefines it to SDL_main(), causing compilation failures.",0
Fix meson.build codestyle,0.2828051, - Change the Windows build (cross-compile from Linux),,0
Describe screen rotation shortcut in README,0.7261021," - Add shortcuts to rotate the display (#218, #1274)",,1
Configure log priority early,0.6052337, - Add --verbosity to configure log level at runtime,"The log priority must be configured before parsing command-line arguments, in order to get logs as expected.",0
Add missing consts,0.3235888," - Generate both console and noconsole versions (fix ""no output"" issue)",String parsing functions should not be able to modify their input.,0
Use ARRAY_LEN() macro in tests,0.23534141, - Adapt --help output to terminal size,,0
Add tests for command-line parsing,0.34941858," - Generate both console and noconsole versions (fix ""no output"" issue)",,0
Move command-line parsing to a separate file,0.32414177,"To pass command line arguments, it must still be started from a terminal or a script though.",,0
Factorize integer argument parsing,0.374969," - Fix bit-rate parsing when ""long"" is 32 bits (#995)","Add util functions for integer parsing (with tests), and factorize integer argument parsing to avoid code duplication.",0
Refuse to push a non-regular file server,0.7201849, - Refuse to push server if it points to a directory (#956),"If SCRCPY_SERVER_PATH points to a directory, then a directory will be pushed to /data/local/tmp/scrcpy-server.jar. When executing it, app_process will just abort and leave the directory on the device, causing scrcpy to always fail. To avoid the problem, check that the server is a regular file before pushing it. Closes #956 link",1
Fix test compilation on mingw,0.49061537,"In practice, the bug only happened on the Windows release (compiled with mingw32), and possibly on other 32 bits systems.",Including SDL2/SDL.h redefines main to SDL_main by default.,0
Fix checkstyle warning,0.40745765,| macOS          | :heavy_check_mark: | :heavy_check_mark:,,0
Add shortcut to rotate screen,0.8781747,Shortcut to rotate device screen,"On Ctrl+r, disable auto-rotation (if enabled), set the screen rotation and re-enable auto-rotation (if it was enabled). Closes #11 link",1
Refactor wrappers for Android SDK classes,0.4047194,Improve Android 12 support,"Internally, a failure to invoke a method via reflection was partially managed using exceptions, partially using a null return value. Handle all errors at the same place, by not catching NoSuchMethodException too early.",0
Try new methods before legacy ones,0.30528826, - Various technical refactors and fixes,Use the legacy methods when the new ones do not exist.,0
Merge pull request #967 into dev,0.45252734,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Add some tests link,0
Correct coding style,0.30078232, - Improve some error messages,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
Add test_buffer_util,0.556283, - Implement (optional) buffering (#2464),Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
Add test_strquote,0.37710506, - Continue text injection on failed character (#509),Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
"Fix ""natural scrolling""",0.9672407,Fix natural scrolling,"Movements down (scroll backward) generate negative y values and up (scroll forward) generate positive y values. If direction is SDL_MOUSEWHEEL_FLIPPED the values in x and y will be opposite. Multiply by -1 to change them back. link The x and y values already take the scrolling configuration into account. Reversing the values when the direction is flipped cancels the scrolling configuration. Therefore, just ignore the direction field. Fixes link",1
Update BUILD.md to install adb package,0.595217, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,PR link Signed-off-by: Romain Vimont rom@rom1v.com,0
Fix max size default value,0.45018756, - Add options to set an initial window size and position (#762),Suggested-by: jurkov Closes link,0
Suggest workaround for error 0xfffffc0e,0.45674735," - Improve error message on missing adb (#236, #254)","When the hardware encoder is not able to encode at the given definition, it fails with an error 0xfffffc0e. It is documented in the FAQ: link But it is better to directly suggest the workaround in the console.",0
Use virtual device id to avoid NPE,0.5152519, - Inject mouse events with a virtual device id (fix crashes on some,Inject mouse events using id -1 (virtual device) instead of 0 which does not exist (and causes the InputDevice to be null). Fixes link,0
Assert return value of mutex functions,0.30730617, - Return non-zero value on connection loss (#204),"Mutex functions may only fail due to a programming error. Use assertions in debug builds, and ignore the value in release builds.",0
Remove unused includes,0.37998948," - Add --no-cleanup option (#1764, #3020)",No mutex is used in decoder.c and stream.c.,0
Replace SDL_assert() by assert(),0.456196, - Update SDL to 2.0.9 included in Windows releases,SDL_assert() open a dialog on assertion failure. There is no reason not to use assert() directly.,0
Replace BUILD_DEBUG by NDEBUG,0.41128355, - Change the Windows build (cross-compile from Linux),"Use the ""standard"" NDEBUG definition, which is used by assert().",0
Remove path argument from cmd_execute(),0.45121258,Windows PATH simplification,It is always equal to argv[0] (or not used on Windows).,0
Fix warnings on Windows,0.55504125, - Improve some error messages,fix warnings reported with -Dwarning_level=2 on Windows.,0
Fix windows build,0.6595979, - Change the Windows build (cross-compile from Linux),"Utilities have been moved to util/, but includes had not been updated in Windows-specific files. Ref: dfd0707a2925e9569aaa2ae6b88b161a12376a49",0
Fix manpage format,0.69265354, - Add manpage,,0
Compile with warning_level=2 by default,0.44382018, - ~Do not print irrelevant workarounds errors (#994)~,,0
Fix warnings,0.6818043, - Improve some error messages,Fix warnings reported with -Dwarning_level=2.,0
Reformat Java code,0.27174267, - Various technical refactors and fixes,Reformated by Android studio to match the 150 characters column defined in checkstyle.,0
Initialize Application object to avoid NPE,0.5335214, - Initialize Application object (fix crashes on some devices) (#940),"When an ApplicationInfo is set (commit 90293240cc622bb58cb1de741f86cbc0889c03e8), some devices (Nvidia Shield TV) attempt to access the Application object, causing a NullPointerException. As a workaround, initialize an Application object. Fixes link",0
Rename variable for consistency,0.243864,Windows PATH simplification,"Use suffix ""Field"" for fields variables.",0
Move utilities to util/,0.2742898,Remove deprecated short options,,0
Add Korean translation for README and FAQ,0.2762431, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),PR link Signed-off-by: Romain Vimont rom@rom1v.com,0
Restore the .jar extension on the device side,0.8141712, - Restore the .jar extension on the device (fix crashes on some,"Commit 3da95b52bd21ae0f4d81ee933caea63b78191deb renamed 'scrcpy-server.jar' to 'scrcpy-server' to avoid issues on the client side. However, removing the extension may cause issues with app_process, so restore the extension only on the device side. Fixes link",1
Use the existing constants for device server path,0.3882481," - Add fallback to get display information on some devices (#3416, #3573)",,0
Fix aidl option in build_without_gradle.sh,0.35295212, - Fix errors on Android 11 (#1468),Debian's aidl complains about the missing path for -o option. Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.11 in README and BUILD,0.4014753,Hotfix for v1.12:,,0
Bump version to 1.11,0.5008319,Hotfix for v1.12:,,0
Upgrade platform-tools (29.0.5) for Windows,0.8817451, - Upgrade platform-tools to 29.0.5 (adb) in Windows releases,Include the latest version of adb in Windows releases.,1
Upgrade FFmpeg (4.2.1) for Windows,0.9638202, - Upgrade FFmpeg to 4.2.1 in Windows releases,Include the latest version of FFmpeg in Windows releases.,1
Remove deprecated options from help and manpage,0.7143768,Remove deprecated short options,Ref: ff061b4f30c54dedc5073a588c6c697477b805db,1
Fix help for --window-width and --window-height,0.596253, - Center the window on resize-to-fit (#2387),"The default value is 0 (automatic), not -1.",0
Document scrcpy via SSH tunnel in README,0.7114259,scrcpy --tunnel-host=192.168.1.2,,1
Document copy-paste and --prefer-text in README,0.57342577, - Add --prefer-text option (#650),,0
Reorganize features in README,0.29676646,Remove deprecated short options,,0
Fix meizu 16th NPE,0.55602473," - Fix workarounds for Meizu devices (#240, #2656)",Fill AppInfo to avoid NullPointerException on some devices. Fixes link Signed-off-by: Romain Vimont rom@rom1v.com,0
Move workarounds to a separate class,0.45940083, - Apply workarounds only on error (#994),Extract workarounds (currently only one) to a separate class to avoid polluting the main code.,0
Fix noconsole.exe,0.73736966,Windows console/noconsole,"The linker flag ""-mwindows"" has no effect on my current MinGW. Instead, passing ""-Wl,--subsystem,windows"" works. Fixes link",1
Extract DEBUG flag in build_without_gradle.sh,0.40856546, - Add --verbosity to configure log level at runtime,,0
Generate VERSION_NAME in build_without_gradle.sh,0.45944348, - Print both compiled and linked version of libs on --version,"Since commit b963a3b9d56f744cceba2e19cba3f9fef858c058, the server uses BuildConfig.VERSION_NAME. Generate this field manually for building without gradle.",0
Add option --max-fps,0.7165141, - Add --max-fps to limit the frame rate (Android 10 only) (#488),Add an option to limit the capture frame rate. It only works for devices with Android >= 10. Fixes link,1
Do not expose frame rate in ScreenEncoder,0.53937703," - if you play a 25 fps fullscreen video, then the capture framerate will not be higher than 25 fps;","The KEY_FRAME_RATE parameter value is necessary for the configuration of the encoder, but its actual value does not impact the frame rate (only resources used by the encoder). Therefore, it's an internal detail and should not be exposed by the ScreenEncoder class.",0
Fix error message,0.7315692, - Improve some error messages,,1
Update manpage for --window-borderless option,0.4881904, - Add option to disable window decorations (#762),,0
Add option to disable window decoration,0.90345013, - Add option to disable window decorations (#762),Add --window-borderless parameter. Signed-off-by: Romain Vimont rom@rom1v.com,1
Add option to specify the initial window size,0.8415035, - Add options to set an initial window size and position (#762),"Add --window-width and --window-height parameters. If only one is provided, the other is computed so that the aspect ratio is preserved.",1
"Update manpage for --window-{x,y} options",0.57429576, - Add options to set an initial window size and position (#762),,0
Add option to specify the initial window position,0.8414944, - Add options to set an initial window size and position (#762),Add --window-x and --window-y parameters. Signed-off-by: Romain Vimont rom@rom1v.com,1
Do not write invalid packet duration,0.4662688, - Return non-zero value on connection loss (#204),Configuration packets have no PTS. Do not compute a packet duration from their PTS. Fixes recording to mp4 on device rotation.,0
Merge pull request #920 into dev,0.46618176,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Compare server and client version at the start of scrcpy,0
Check client and server mismatch,0.46779457, - Print correct error messages on Windows socket errors (#2624),Send client version as first parameter and check it at server start. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Accept resize shortcuts on maximized window,0.56743157," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)","Allow ""resize to fit"" and ""resize to pixel-perfect"" on maximized window: restore the window to normal size then resize.",0
Fix rotation while the window is maximized,0.7935882, - Fix device rotation while the window is maximized (#750),Keep the windowed window size to handle maximized window the same way as fullscreen window. Fixes link,1
Handle window events from screen.c,0.52073956," - Correctly handle mouse events outside device screen (#353, #357)",Only the screen knows what to do on window events. This paves the way to handle more window events.,0
Log device disconnection,0.5747819," - Add specific exit code for device disconnection (#3083, #3085)","If scrcpy closes due to socket disconnection, log a warning.",0
Call Looper.prepareMainLooper() to avoid exception,0.28735244, - Apply workarounds only on error (#994),"Some devices internally create a Handler when creating an input Surface, causing an exception: Surface: java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare() As a workaround, call Looper.prepareMainLooper() beforehand. Fixes:  - link  - link Signed-off-by: Romain Vimont rom@rom1v.com",0
Fix segfault on empty file recorded,0.94250643, - Fix segfault on empty file recorded (#918),"Write the file trailer only if the file header have been written, to avoid a segfault in libav. Fixes link.",1
Add --prefer-text option,0.9422795, - Add --prefer-text option (#650),"Expose an option to configure how key/text events are forwarded to the Android device. Enabling the option avoids issues when combining multiple keys to enter special characters, but breaks the expected behavior of alpha keys in games (typically WASD). Fixes link",1
Deprecate short options for advanced features,0.80243886,Remove deprecated short options,The short options will be removed in the future (and may be reused for other features).,1
Fix indentation,0.36131442,Fix natural scrolling,,0
Fix include recorder.h,0.45586485," - Add screen recording (#21, #292)",,0
Factorize scrcpy options and command-line args,0.7950556,"For this purpose, scrcpy v1.19 introduces two new options:",Do not duplicate all scrcpy options fields in the structure storing the parsed command-line arguments.,1
Pass screen to mouse event converters,0.6953854," - Correctly handle mouse events outside device screen (#353, #357)","Mouse events coordinates depend on the screen size and location, so the converter need to access the screen. The fact that it needs the position or the size is an internal detail, so pass a pointer to the whole screen structure.",0
Move event conversion to input_manager,0.5075412,Log input events,Only keep helper functions separated. This will help to convert coordinates internally when necessary.,0
"Rename ""input_manager"" variables to ""im""",0.32937673," - Adapt input injection for Android 13 (#3186, #3190)","It is used a lot, a short name improves readability.",0
Document how to attach a debugger to the server,0.3440761,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,,0
Fix manpage option parameter format,0.57152706, - Add manpage,The parameter for --window-title was not underlined the same way as others.,0
Call ninja without changing directory,0.35563177, - Refuse to push server if it points to a directory (#956),"In build instructions, use: ninja -Cx ... instead of: cd x ninja ...",0
Add scrcpy version in recorded video metadata,0.6080123,"scrcpy --codec-options profile=1,level=4096",It might help to understand problems in recorded videos.,0
Merge pull request #896 from yangfl/upstream,0.3293188,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Add manpage for scrcpy,0
Add manpage for scrcpy,0.7985986,scrcpy v1.7,,1
Rename scrcpy-server.jar to scrcpy-server,0.8276818, - Find scrcpy-server.jar in the correct directory on Windows,"The server name ending with .jar has several drawbacks:  - meson requires the jar executable to attempt to modify it:      link link  - meson warns during ""ninja install""      link  - some users try to execute it on the computer as a java executable Removing the extension solves all these problems.",1
Fix help for --record-format,0.46994358, - Add --codec-options to pass MediaFormat options directly (#1325),Record format requires a parameter.,0
Add a script to build the server without gradle,0.41445675,"On Windows however, the server path may not be constant, so the build is ""portable"": scrcpy-server.jar is expected to be in the same directory as scrcpy.exe. Concretely, to push the server to the device, scrcpy just executed:",Gradle versions may sometimes cause problems. This script offers an alternative.,0
Fix mouse events conversion,0.7400778, - Fix mouse events deserialization (comment in #350),The conversion from SDL mouse state to Android mouse state used wrong constants as mask. Fixes link,1
Inject button state for touch/mouse events,0.5075351, - Bind 4th mouse button to APP_SWITCH (#2258),"The buttons state was forwarded, but ignored by the server.",0
Rename window size functions for clarity,0.50495106," - Apply requested window size in OTG mode (#3099, #3219)","Now, get_window_size() returns the current window size (fullscreen or not), while get_windowed_window_size() always returned the windowed size (the size when fullscreen is disabled).",0
"Fix ""turn screen off"" on Android Q",0.84549135," - Make --turn-screen-off work for Android Q devices (#586, #587)","Call getInternalDisplayToken(), which retrieve the id of the first physical display (which is not necessarily 0 anymore). Fixes link",1
Adapt copy-paste methods for Android 10,0.77833736, - Adapt copy-paste internals for Android 13 (#3497),The methods getPrimaryClip() and setPrimaryClip() expect an additional parameter since Android 10. Fixes link.,1
Extract String literal to static constant,0.19403833, - Continue text injection on failed character (#509),,0
Do not crash on control error,0.4735825,Device crashes fixes,"Some devices do not have some methods that we invoke via reflection, or their call do not return the expected value. In that case, do not crash the whole controller.",0
Merge mouse and touch events,0.6255274," - Correctly handle mouse events outside device screen (#353, #357)",Both are handled the very same way on the device.,0
"Rename ""touch pointer"" to ""pointer""",0.48758945," - Add support for touchscreens/multitouch (#22, #865)","There are only touch pointers now, mouse pointers have been removed.",0
Use common pointers for mouse and touch,0.5841852,Touchscreen / multitouch,The mouse is a pointer like any other.,0
Ignore duplicate mouse events,0.61898816," - Correctly handle mouse events outside device screen (#353, #357)","In SDL, a touch event may simulate an identical mouse event. Since we already handle touch event, ignore these duplicates.",0
Send touch events from the client,0.5381621, - Fix touch events parameters (#2125),"On SDL touch events, send control messages to the server.",0
Inject touch events on the server,0.5376553, - Fix touch events parameters (#2125),"On receiving an ""inject touch"" control message, update the local pointers state and inject touches.",0
"Add ""inject touch"" control message",0.51027346, - Improve --show-touches behavior,Add a control message type in the protocol to forward touch events to the device.,0
"Rename ""pointer"" to ""mouse pointer""",0.4833811, - Add HID mouse support (#2916),"This will help to distinguish them from ""touch pointers"".",0
Add buffer_write64be(),0.4698013, - Implement (optional) buffering (#2464),Add a function to write 64 bits in big-endian from a uint64_t.,0
Include config.h everywhere,0.25842398, - Add --verbosity to configure log level at runtime,Ref: link Suggested-by: Louis Kruger louisk@gmail.com,0
Include config.h to fix HIDPI support,0.71847165, - Fix HiDPI support (#829),Ref: link Signed-off-by: Romain Vimont rom@rom1v.com,1
"Remove ""make"" from build dependencies",0.45216566, - Change the Windows build (cross-compile from Linux),The project is built with meson+ninja.,0
Fix gradle warnings in tests,0.42890102, - Fix errors on Android 11 (#1468),,0
input_manager.c: Correct log,0.6206229, - Log input events in verbose mode (#2371),Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
"Fix option ""record-format"" related short opt",0.51800084,Remove deprecated short options,,0
Rename event converter functions,0.38326496,Repeating key events,"Rename ""XXX_from_sdl_to_android"" to ""convert_XXX"", to avoid huge function names.",0
"Rename ""convert.h"" to ""event_converter.h""",0.36621508, - Fix mouse events deserialization (comment in #350),The filename gave no hint about what was converted.,0
"Rename variable names ""event"" to ""msg""",0.3580925, - Fix mouse events deserialization (comment in #350),"Some variable names had not been renamed when ""event"" was renamed to ""message"" (28980bbc90ab93cf61bdc4b36d2448b8cebbb7df).",0
Fix control message reader test,0.36309615, - Keep the console open on error on Windows (#261),The mouse event test actually tested a key event control message.,0
Fix segfault on recording with old FFmpeg,0.920473, - Fix segfault on recording with old FFmpeg versions (#707),"The AVPacket fields side_data and side_data_elems were not initialized by av_packet_ref() in old FFmpeg versions (prior to 1). As a consequence, on av_packet_unref(), side_data was freed, causing a segfault. Fixes link",1
Print gradle output on compiling,0.40214473, - Print both compiled and linked version of libs on --version,"Enable the attribute ""console"" of custom_target() introduced in meson 0.48. This allows to get a feedback of what gradle does (which can takes a very long time). This produces warnings because we declare to support meson >= 0.37, but we don't want to stop supporting older versions for that. Older versions just ignore the option: WARNING: Unknown keyword arguments in target scrcpy-server: console Newer meson versions use it, but warn because we declare supporting older versions: WARNING: Project targetting '>= 0.37' but tried to use feature introduced in '0.48.0': console arg in custom_target Meson does not support conditional branches to suppress such warnings, so just keep the warnings.",0
Merge pull request #708 from toddsierens/patch-1,0.38408574,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Update WindowManager.java,0
Update WindowManager.java,0.3673367, - Restore the .jar extension on the device (fix crashes on some,,0
Record a packet with its duration,0.446373,Asynchronous recording,"Record a packet only once the following has been received, so that we can set its duration before muxing it. Fixes link",0
Merge pull request #692 from msfjarvis/msf/uprev-dependencies,0.3394926," - Rework console/noconsole versions on Windows (#1875, #1988)",Upgrade build dependencies,0
Uprev Gradle wrapper to latest stable,0.33944106, - Restore the .jar extension on the device (fix crashes on some,Signed-off-by: Harsh Shandilya msfjarvis@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Uprev AGP to latest stable,0.3781954, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,Signed-off-by: Harsh Shandilya msfjarvis@gmail.com,0
Merge pull request #695 from schwabe/schwabe/fix_null_queue,0.3510125,An alternative implementation (#2802) fixes the issue.,Fix building on OS X (missing NULL in queue.h),0
Fix building on OS X (missing NULL in queue.h),0.35603327, - Fix segfault on empty file recorded (#918),"Headers seem to be a bit different in Apple land and you need to include stddef.h explicitly to the NULL declaration. This also makes the code a bit more correct, as stddef.h is the header in the C standard that defines NULL (link).",0
Update links to v1.10 in README and BUILD,0.39465958, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.10,0.4453678,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
List scrcpy characteristics in README,0.7760179,scrcpy v1.5,They were listed in the blog post introducing scrcpy: link/,1
Upgrade SDL (2.0.10) for Windows,0.94731337, - Upgrade SDL to 2.0.10 in Windows releases,Include the latest version of SDL in Windows releases.,1
Update platform-tools (29.0.2) for Windows,0.8379783, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the latest version of adb in Windows releases.,1
Upgrade FFmpeg (4.1.4) for Windows,0.96804875, - Upgrade FFmpeg to 4.1.4 in Windows releases,Include the latest version of FFmpeg in Windows releases.,1
"Initialize queue ""last"" field",0.28474957, - Record asynchronously,"The compiler is not always able to see that ""last"" is always initialized before being used, so always initialize it.",0
Use Cmd instead of Ctrl on macOS when possible,0.8962467, - Use Cmd instead of Ctrl for shortcuts on macOS when possible (#642),Fixes link,1
Use generic FIFO queue for recording,0.5595245,Asynchronous recording,Replace the specific recording queue by the new generic FIFO queue implementation.,0
Add generic intrusive FIFO queue,0.5049822, - Implement (optional) buffering (#2464),"We need several FIFO queues (a queue of packets, a queue of messages, etc.). Some of them are implemented using cbuf, a generic circular buffer. But for recording, we need to store the packets in an unbounded queue until they are written, so the queue was implemented manually. Create a generic implementation (using macros) to avoid reimplementing it every time.",0
Fix cbuf documentation,0.3987726, - Various technical refactors and fixes,,0
Remove unnecessary backslash in cbuf,0.3592925, - Workaround Windows issue with non-ASCII path (#2619),,0
Remove root directory from Windows zip releases,0.38934517,Windows PATH simplification,Put the scrcpy files at the root of the zip archive. This avoids an unnecessary level of directories when extracting.,0
Log recording failure,0.4766323, - Log input events in verbose mode (#2371),"If recording fails, log ""recording failed"" instead of ""recording complete"".",0
Log scrcpy version and URL on start,0.65326613,scrcpy v1.15.1,Keep --version which also print the version of dependencies.,0
Record asynchronously,0.95064735, - Record asynchronously,"The record file was written from the stream thread. As a consequence, any blocking I/O to write the file delayed the decoder. For maximum performance even when recording is enabled, send (refcounted) packets to a separate recording thread.",1
Reduce latency by 1 frame,0.9238827, - Reduce latency by 1 frame (#646),"To packetize the H.264 raw stream, av_parser_parse2() (called by av_read_frame()) knows that it has received a full frame only after it has received some data for the next frame. As a consequence, the client always waited until the next frame before sending the current frame to the decoder! On the device side, we know packets boundaries. To reduce latency, make the device always transmit the ""frame meta"" to packetize the stream manually (it was already implemented to send PTS, but only enabled on recording). On the client side, replace av_read_frame() by manual packetizing and parsing. link link",1
Add option to change the push target,0.9267428, - Add option to change the push target (#659),A drag & drop always pushed the file to /sdcard/. Add an option to customize the target directory. Fixes link,1
Add unit test for device message serialization,0.43560356,$ANDROID_SERIAL,"There was a test for the deserialization, but not for the serialization.",0
"Rename ""build_"" to ""compile_""",0.5218377, - Change the Windows build (cross-compile from Linux),"Recent versions of meson complain about an option having name starting with ""build_"": DEPRECATION: Option uses prefix ""build_"", which is reserved for Meson. This will become an error in the future. Use ""compile_"" instead.",0
Update README.md,0.47236788,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,Signed-off-by: Romain Vimont rom@rom1v.com,0
Add me as copyright owner,0.28288972, - Add device-to-computer clipboard copy (#145),,0
Close decoder on stream ended,0.44133103,"For simplicity, this muxing was done by the thread receiving the stream and feeding the decoder. In practice, it worked well enough, but whenever writing the file took too much time (during a blocking I/O call), this delayed the decoding of the following frames.",Add missing call to decoder_close().,0
Document --window-title in README,0.61861813," - Add option to set a custom window title (#120, #614)",,0
Merge pull request #614 from beango1:window-title-simple,0.5482221," - Add option to set a custom window title (#120, #614)",add option window-title to set the title,0
Add option --window-title,0.8536103," - Add option to set a custom window title (#120, #614)",Add an option to set a custom window title. Signed-off-by: Romain Vimont rom@rom1v.com,1
"Replace ""cannot"" by ""could not""",0.40422553, - Improve some error messages,,0
Fix expected parameters count in error message,0.57997525, - Improve some error messages,,0
Close socket on error,0.61673284, - Print correct error messages on Windows socket errors (#2624),Suggested-by: barry-ran link,0
Prevent to turn screen off if no control,0.92527306, - Prevent to turn screen off if no control (#608),"If --no-control is set, then the controller is not initialized (both in the client and the server), so it is not possible to control the device to turn its screen off. See link.",1
Reference USBaudio from README,0.4802896,"In OTG mode, the USB devices are also listed for convenience:",,0
Fix --serial help,0.5300206,ERROR: Select a device via -s (--serial),Make explicit that --serial excepts a parameter.,0
Merge pull request #595 from taaem/fix_build_fedora,0.38328874,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,The Java JDK is needed to build the server,0
Fix required java package for Fedora,0.3455326, - Restore the .jar extension on the device (fix crashes on some,"The Java JDK is needed to build the server. The relevant Fedora package is java-devel, not java. Signed-off-by: Romain Vimont rom@rom1v.com",0
Remove useless else,0.3643332, - Improve some error messages,The if-block ends with a return.,0
Improve comment,0.45246884, - Improve some error messages,Rephrase to simplify and add a link to the issue.,0
Merge pull request #587 from schwabe/fix_586_screen_off_qbeta,0.5459718," - Make --turn-screen-off work for Android Q devices (#586, #587)",Use getPhysicalDisplayToken if getBuiltInDisplay is not found,0
Use getPhysicalDisplayToken on Anroid Q+ instead of getBuiltInDisplay,0.45554543," - Make --turn-screen-off work for Android Q devices (#586, #587)",This makes the -S (screen off) parameter work on Android Q beta 4 Closes #586,0
"Remove compilation flag ""skip_frames""",0.5689111, - Add runtime option to render expired frames (i.e. not skip frames),It is unused since ebccb9f6cc111e8acfbe10d656cac5c1f1b744a0.,0
Disable portable build by default,0.44365817, - Change the Windows build (cross-compile from Linux),The default value of a boolean meson option is true. We want non-portable build by default.,0
Merge pull request #587 from zzndb/patch-1,0.40058297,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Fix a spell mistake,0.36874962, - Improve some error messages,After commented default portable option in app/meson.build get some error and then find this. :) Signed-off-by: Romain Vimont rom@rom1v.com,0
Add link to Snap package in README,0.339598, - Add feature to install APK files via drag & drop (#133),link,0
Update links to v1.9 in README and BUILD,0.39657587, - Print both compiled and linked version of libs on --version,,0
Merge branch 'dev',0.34317696,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Bump version to 1.9,0.44673783,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Upgrade tarketSdkVersion to 29,0.39577356, - Upgrade platform-tools to 29.0.1 (adb) in Windows releases,This fixes a lint warning.,0
Fix deprecation warning in Java unit test,0.3874062,Remove deprecated short options,,0
Fix typo in test name,0.30362532," - Fix support for non-ASCII characters in window title (#2932, #3547)",,0
Remove obsolete detail in README,0.47269714,Remove deprecated short options,"Now that scrcpy-server.jar is found in the same directory as the scrcpy executable, using SCRCPY_SERVER_PATH is not particularly useful on Windows anymore",0
Remove obsolete explanation in FAQ,0.4247969,Remove deprecated short options,Issue 9 was about stdout/stderr not printed in Windows console. This is solved since the Windows version is cross-compiled from Linux.,0
Update DEVELOP.md,0.42822072, - Update SDL to 2.0.9 included in Windows releases,,0
Update platform-tools (29.0.1) for Windows,0.8408028, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the latest version of adb in Windows releases.,1
Downgrade SDL to 2.0.8 for Windows,0.9554821, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Revert ""Update SDL (2.0.9) for Windows"" Several users experienced freezes with SDL 2.0.9. This reverts commit a5787dccd62fe4ff9dc05d597d3aab06da717edd. See:  - link  - link",1
Upgrade FFmpeg (4.1.3) for Windows,0.96435803, - Upgrade FFmpeg to 4.1.3 in Windows releases,Include the latest version of FFmpeg in Windows releases.,1
Improve portable builds,0.48882577, - Change the Windows build (cross-compile from Linux),"In portable builds, scrcpy-server.jar was supposed to be present in the current directory, so in practice it worked only if scrcpy was launched from its own directory. Instead, find the absolute path of the executable and build a suitable path to use scrcpy-server.jar from the same directory.",0
Add functions to convert wide char to UTF-8,0.38385376, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"There was already utf8_to_wide_char(), used to correctly execute commands on Windows. Add the reverse converter: utf8_from_wide_char(). We will need it to build the scrcpy-server path based on the executable directory.",0
"Extract ""scrcpy-server.jar"" string",0.73210293, - Find scrcpy-server.jar in the correct directory on Windows,The filename is used at several places.,1
Simplify portable build configuration,0.4632487, - Change the Windows build (cross-compile from Linux),"To create a portable build (with scrcpy-server.jar accessible from the scrcpy directory), replace OVERRIDE_SERVER_PATH by a simple compilation flag: PORTABLE. This paves the way to use more complex rules to determine the path of scrcpy-server.jar in portable builds.",0
Simplify scrcpy-server path configuration,0.7621741,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","The full path of scrcpy-server.jar was partially configured from meson.build then concatenated by C code. Instead, directly write the path in C.",1
Never return 0 for stream protocol,0.7277673," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","On socket disconnection, on Linux, recv() returns -1 and errno is set. But on Windows, errno is 0. In that case, AVERROR(errno) == 0, leading to the warning: Invalid return value 0 for stream protocol To avoid the problem, if errno is 0, return AVERROR_EOF. Ref: commit 2876463d394c3bc4dc239a605e65ebab75598353",1
Truncate device name at UTF-8 code point boundary,0.40530723, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),Just in case.,0
Inline lock_util functions,0.32771635, - Implement (optional) buffering (#2464),They are just tiny wrappers.,0
Improve framerate counting,0.982303, - Improve framerate counting,"The FPS counter was called only on new frames, so it could not print values regularly, especially when there are very few FPS (when the device surface does not change). To the extreme, it was never able to display 0 fps. Add a separate thread to print framerate every second.",1
Add cond_wait_timeout(),0.41052848,scrcpy --display-buffer=50  # add 50 ms buffering for display,"Add a ""timed out"" version of cond_wait().",0
Fix controller cleanup,0.38726795, - Various technical refactors and fixes,"After commit bfb86ca2c23c29cf768c9216dbfff3a89d5d0b5f, the controller was not stopped and destroyed on quit.",0
Add runtime option to render expired frames,0.94932795, - Add runtime option to render expired frames (i.e. not skip frames),"Replace the compilation flag SKIP_FRAMES by a runtime flag to force rendering of expired frames. By default, the expired frames are skipped.",1
Indent command-line options,0.43637162,Some command line options were first introduced with a short version:,Prepare indentation for --render-expired-frames.,0
Add README section explaining --turn-screen-off,0.7237662,"This is especially useful when --turn-screen-off/-S is enabled, because the device screen will stay awake (no lock screen to unlock after some delay) with screen off:",,1
Replace android-tools-adb by adb,0.5972718,DEBUG: ADB device found:,"Here is the description of the adb package in Debian: Description: Android Debug Bridge A versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. This package recommends ""android-sdk-platform-tools-common"" which contains the udev rules for Android devices. Without this package, adb and fastboot need to be running with root permission. And android-tools-adb: Description: transitional package This is a transitional package. It can safely be removed.",0
Merge pull request #574 from crow1170/patch-1,0.38707292,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Fix dependencies,0
Fix dependencies,0.33561337," - Fix rendering issues (#1408, #787)",Some missing or misspelled dependencies. Checked on Ubuntu 19.04.,0
Add option to turn device screen off,0.8953383,Turn device screen off,"In addition to the shortcut (Ctrl+o) to turn the device screen off, add a command-line argument to turn it off on start.",1
Disable server controller if --no-control,0.65496737, - Do not power on the device if --no-control is set,"If --no-control is disabled, there is no need for a controller. It also avoids to power on the device on start if control is disabled.",0
Group server params in a struct,0.27377978,"For example, to run scrcpy with the single TCP/IP device:","Starting the server requires more and more parameters. For clarity, group them in a struct.",0
Use positive options names internally,0.34886292," - Add option to set a custom window title (#120, #614)","For clarity, store the flag resulting of the command-line options --no-control and --no-display into ""control"" and ""display"".",0
Rename unused field,0.26861715,Remove deprecated short options,"The flag is used only in the server_start() implementation, there is no need to store it in the structure.",0
"Remove ""turn device screen on"" feature",0.8081452,Turn device screen off,"Only keep ""turn device screen off"" and POWER button. After we turn the device screen off (with Ctrl+o), turning it back on does not always work, and leaves the device in a weird state, where even the power button may not be sufficient: link This is not an acceptable behavior, so disable the shortcut to turn the physical device screen on. We can use the POWER button (or Ctrl+p) instead.",1
"Rename function to ""power on""",0.48606965," - Add --no-power-on (#3148, #3210)","This will reduce confusion between ""power on"" when the device is off and ""turn device screen off"" while mirroring.",0
Improve key processing readability,0.49122208, - Send raw key events for letters to use keyboard in games (#87),"The condition ""event->type == SDL_KEYDOWN"" and the variable input_manager->controller are used many times. Replace them by local variables to reduce verbosity.",0
Use net_close() to close sockets,0.6225104, - Terminate server properly without killing it on close (#1992),So that it also works on Windows.,0
Remove unused import,0.3825943," - Add --no-cleanup option (#1764, #3020)",Introduced by the previous commit.,0
Implement device screen off while mirroring,0.8735494, - Add feature to turn screen off while mirroring (#175),"Add two shortcuts:  - Ctrl+o to turn the device screen off while mirroring  - Ctrl+Shift+o to turn it back on On power on (either via the POWER key or BACK while screen is off), both the device screen and the mirror are turned on. link",1
Fix comment style,0.31992602," - Fix rendering issues (#1408, #787)",For consistency.,0
Prevent socket leak on error,0.5638131, - Print correct error messages on Windows socket errors (#2624),Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Use consistent variable names,0.23721027,"On Windows, setting an environment variable is slightly different:",Use the same variable name in functions declaration and definition. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Add clipboard logs,0.55298156,"MOD+Shift+v injects the computer clipboard content as a sequence of key events (it was Ctrl+v on previous versions, this is still useful sometimes).",Synchronizing local and device clipboards in invisible. Add INFO logs on success.,0
Do not minimize on focus loss,0.7755946, - Do not minimize the window on focus loss (#554),The default behavior seems annoying. Fixes link,1
Prefix server logs,0.43424952,Log input events,"Sometimes, it is not obvious whether a log is generated by the server or by the client. Prefix server logs for clarity.",0
"Rename ""event"" to ""message""",0.4757084," - text events, signaling that a text has been entered.","After the recent refactorings, a ""control event"" is not necessarily an ""event"" (it may be a ""command""). Similarly, the unique ""device event"" used to send the device clipboard content is more a ""reponse"" to the request from the client than an ""event"". Rename both to ""message"", and rename the message types to better describe their intent.",0
Merge pull request #568 from npes87184/dev,0.3871542,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Correct return value type in handle_event,0
Correct return value type in handle_event,0.36844218, - Return non-zero value on connection loss (#204),handle_event return the type enum event_result not bool Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
server/meson.build: Prevent using input field for directory,0.5143894, - Refuse to push server if it points to a directory (#956),This will fix build warning in newer meson. Fix #540. Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
Update DEVELOP after recent refactorings,0.4835662, - Various technical refactors and fixes,,0
Implement computer-to-device clipboard copy,0.76742816, - Add computer-to-device clipboard copy (#413),"It was already possible to paste (with Ctrl+v) the content of the computer clipboard on the device. Technically, it injects a sequence of events to generate the text. Add a new feature (Ctrl+Shift+v) to copy to the device clipboard instead, without injecting the content. Contrary to events injection, this preserves the UTF-8 content exactly, so the text is not broken by special characters. link",1
Extract control event String parsing,0.44008029,Log input events,"Parsing a String from a serialized control event, encoded as length (2 bytes) + data, will be necessary in several events. Extract it to a separate method.",0
Fix control event String parsing,0.46793604, - Fix mouse events deserialization (comment in #350),At least 2 bytes must be available to read the length of the String.,0
Implement device-to-computer clipboard copy,0.7775294, - Add computer-to-device clipboard copy (#413),"On Ctrl+C:  - the client sends a GET_CLIPBOARD command to the device;  - the device retrieve its current clipboard text and sends it in a    GET_CLIPBOARD device event;  - the client sets this text as the system clipboard text, so that it    can be pasted in another application. Fixes link",1
Add device event sender,0.5671662, - Inject mouse events with a virtual device id (fix crashes on some,"Create a separate component to send device events, managed by the controller.",0
Add device event receiver,0.5496026, - Inject mouse events with a virtual device id (fix crashes on some,"Create a separate component to handle device events, managed by the controller.",0
Add GET_CLIPBOARD device event,0.715207, - Add computer-to-device clipboard copy (#413),"Add the first device event, used to forward the device clipboard to the computer.",1
Use two sockets for video and control,0.5026982,Multi-display,"The socket used the device-to-computer direction to stream the video and the computer-to-device direction to send control events. Some features, like copy-paste from device to computer, require to send non-video data from the device to the computer. To make them possible, use two sockets:  - one for streaming the video from the device to the client;  - one for control/events in both directions.",0
Extract control event string serialization,0.4259903,Log input events,"A string is serialized as a length (2 bytes) followed by the string data (non nul-terminated). For now, it is used only once, but we will need to serialize strings in other events.",0
Truncate UTF-8 properly,0.4534865, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),This will avoid to produce invalid UTF-8 results (although unlikely).,0
Add helpers to truncate UTF-8 at code points,0.4630525, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"This will help to avoid truncating a UTF-8 string in the middle of a code point, producing an invalid UTF-8 result.",0
Add unit tests for control events serialization,0.39336997,Log input events,Add missing tests for serialization and deserialization of control events.,0
Fix wrong comment in unit test,0.30613905, - Improve some error messages,,0
Use custom class Point,0.25137675,Customizable shortcut modifier,The framework class android.graphics.Point cannot be used in unit tests. Implement our own Point.,0
Merge commands with other control events,0.46870646,Repeating key events,"Several commands were grouped under the same event type ""command"", with a separate field to indicate the actual command. Move these commands at the same level as other control events. It will allow to implement commands with arguments.",0
Stop stream immediately on quit,0.52362627, - Terminate server properly without killing it on close (#1992),"If the stream is stopped, av_read_frame() will be woken up and yield a corrupted packet. Do not try to decode or record it.",0
Close server socket before killing process,0.7722962, - Terminate server properly without killing it on close (#1992),The sockets may be closed and shutdown on server_stop(). This will interrupt the stream and controller threads more quickly and gracefully.,1
Simplify cleanup,0.53829134," - Add --no-cleanup option (#1764, #3020)","The cleanup is not linear: for example, the server must be stopped and its sockets must be shutdown after the stream and controller are stopped (so that they don't continue processing garbage), but before they are joined, to avoid a deadlock if they are blocked on a socket read. Simplify the spaghetti-cleanup by keeping trace of initialization at runtime.",0
Use net_recv() to read only one byte,0.38288835,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Partial read is impossible for 1 byte, so net_recv_all() is useless.",0
Simplify server_connect_to(),0.38847506,Simplify TCP/IP (wireless) configuration,"Only use 2 branches, using either forward or remote tunnel.",0
Make server_connect_to() return a bool,0.45501822, - Return non-zero value on connection loss (#204),"The resulting socket is accessible from the server instance, there is no need to return it. This paves the way to use several sockets in parallel.",0
Add missing return 0 in unit test,0.45843163, - Return non-zero value on connection loss (#204),,0
Use cbuf for file handler request queue,0.34725836, - Implement (optional) buffering (#2464),Replace the file_handler_request_queue implementation by cbuf.,0
Use cbuf for control event queue,0.3546797, - Forward repeated volume events,Replace the control_event_queue implementation by cbuf.,0
Add generic circular buffer,0.5429941, - Implement (optional) buffering (#2464),"Add a circular buffer implementation, to factorize multiple specific queues implementation.",0
Add buffer_read16be(),0.4914239, - Implement (optional) buffering (#2464),Add a function to read 16 bits in big-endian to a uint16_t.,0
Make buffer util functions accept const buffers,0.48986924, - Implement (optional) buffering (#2464),So that they can be used both on const and non-const input buffers.,0
Make control_event_serialize() return size_t,0.43329704, - Fix mouse events deserialization (comment in #350),"control_event_serialize() returns the number of bytes written, so the type should be size_t.",0
Fix memory leak on error,0.7851559, - Fix (huge) memory leak (#26),The variable condition was not destroyed on strdup() failure.,1
Fix event ownership comment,0.4786302, - Fix mouse events deserialization (comment in #350),,0
Prefix control event constants by namespace,0.38019437,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,This will avoid conflicts with future device events.,0
Make macro expansion-safe,0.37198874, - ~Do not print irrelevant workarounds errors (#994)~,"Use parentheses to avoid unexpected results. For example, make: 2 * SERIALIZED_EVENT_MAX_SIZE expand to: 2 * (3 + TEXT_MAX_LENGTH) instead of: 2 * 3 + TEXT_MAX_LENGTH",0
Format meson.build for readability,0.24817619, - Add --verbosity to configure log level at runtime,,0
Replace SDL_bool by bool in tests,0.42642182, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Commit dfed1b250e5aada1c0b4c75fbaf54aebc19a92d5 replaced SDL types by standard types in sources, but tests were not updated.",0
Always use SDL_malloc() and SDL_free(),0.38296965, - Update SDL to 2.0.9 included in Windows releases,"To avoid mixing SDL_malloc()/SDL_strdup() with free(), or malloc() with SDL_free(), always use the SDL version.",0
Bind Home key to MOVE_HOME,0.78251684, - Bind Home key to MOVE_HOME instead of HOME screen (#555),"On pressing Home key on the computer, move the cursor to the beginning of the line instead of going back to the home screen. link link Fixes (part of) link.",1
Make owned filename a pointer-to-non-const,0.30355424, - Fix segfault on empty file recorded (#918),"The file handler owns the filename string, so it needs to free it. Therefore, it should not be a pointer-to-const.",0
Make owned serial a pointer-to-non-const,0.33740395,$ANDROID_SERIAL,"The file handler owns the serial, so it needs to free it. Therefore, it should not be a pointer-to-const.",0
Remove useless casts to (void *),0.26237857, - Implement (optional) buffering (#2464),,0
Explain how to customize path in README,0.38508564,Windows PATH simplification,,0
Continue on icon loading failure,0.39258137, - Keep the console open on error on Windows (#261),"If loading the icon from xpm fails, launch scrcpy without window icon. link",0
Check surface returned for icon,0.33599168," - Add fallback to get display information on some devices (#3416, #3573)","SDL_CreateRGBSurfaceFrom() may return NULL, causing a segfault. link",0
Log characters failed to be injected,0.54096615, - Continue text injection on failed character (#509),Some characters may not be injected (e.g. '\r`). Log them instead of ignoring them silently.,0
Merge pull request #542 from npes87184/dev,0.3647647,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Return success count in injectText,0
Return success count in injectText,0.42459187, - Continue text injection on failed character (#509),"It will insert as many text as possible now. Fix #509, tested on Windows 10 and Arch Linux. Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
Print adb command on error,0.64265716," - Improve error message on missing adb (#236, #254)","When the execution of an adb command fails, print the command. This will help to understand what went wrong. See link.",0
Use size_t for command length,0.53490627, - Adapt --help output to terminal size,The size of an array should have type size_t.,0
Merge pull request #522 from dos1/compositor,0.34504372," - Rework console/noconsole versions on Windows (#1875, #1988)",Disable X11 compositor bypass,0
Disable X11 compositor bypass,0.90312654, - Disable X11 compositor bypass (#522),"Compositor bypass is meant for fullscreen games consuming lots of GPU resources. For a light app that will usually be windowed, this only causes unnecessary compositor suspends, especially visible (and annoying) with complying window manager like KWin. Signed-off-by: Romain Vimont rom@rom1v.com",1
Fix mouse focus clickthrough,0.9902559, - Fix mouse focus clickthrough,Mouse focus clickthrough didn't work due to compat.h header not being included in scrcpy.c. Signed-off-by: Romain Vimont rom@rom1v.com,1
Recover if expand/collapse panels is not available,0.69657624, - Do not crash if expanding/collapsing panels is not supported (#506),Some devices don't have the required method. Recover gracefully without crashing the server. Fixes link.,0
Add method to log error without throwable,0.48780042, - Add --verbosity to configure log level at runtime,"Add Ln.e(message) in addition to Ln.e(message, error).",0
Upgrade gradle,0.34377334, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,,0
Fix link error on Windows Subsystem for Linux,0.47987154, - Change the Windows build (cross-compile from Linux),Build failed on WSL because of lack of reference to WinMain@16 during linking. Fixes link Signed-off-by: Romain Vimont rom@rom1v.com,0
Run server tests on release,0.2976507,"To receive a notification on new releases, click on Watch > Custom > Releases on the top.",,0
Run tests with ASAN enabled,0.25528324," - Use current adb port (if any) for --tcpip (#3591, #3592)",This may capture more errors (like e2ef39fae5ffb576cdc4d924cf0b67393138168d).,0
Fix server checkstyle errors,0.4654153," - Fix rendering issues (#1408, #787)",Fix errors reported by: gradle -p server check,0
Fix overflow in test,0.5607147, - Fix possible overflow on copy-paste (#2859),"The serialized text is not nul-terminated (its size is explicitely provided), but the input text in the event is a nul-terminated string. The test was failing with ASAN enabled.",0
Do not call codec.stop() on exception,0.6009489, - Automatically retry with a lower definition on MediaCodec error (#2947),"On exception, the codec is not in a state were .stop() can be called.",0
Remove deprecated Arch Linux package,0.4054237,Remove deprecated short options,The scrcpy-prebuiltserver has been deprecated in favor of the scrcpy package. link Signed-off-by: Romain Vimont rom@rom1v.com,0
Update developer documentation for v1.8,0.4252197,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Add note about Ctrl+C on Windows while recording,0.774688, - Properly handle Ctrl+C on Windows (avoid to corrupt recording) (#818),"Ctrl+C kills the app on Windows, so the recorded file is broken.",1
Update links to v1.8 in README and BUILD,0.4011194, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.8,0.4477414, - Update FFmpeg to 4.1 included in Windows releases,,0
"Log ""new texture"" at INFO level",0.38456243, - Add --verbosity to configure log level at runtime,"The ""initial texture"" is logged at INFO level. For consistency, log ""new texture"" at the same level.",0
Remove empty line,0.34127605, - Fix segfault on empty file recorded (#918),,0
Add more consts,0.32042807, - Improve some error messages,Some decoder and recorder functions must not write to AVCodec and AVPacket.,0
Merge pull request #442 from npes87184/master,0.3602783,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,server/meson.build: support relative path for prebuilt_server,0
Explicitly pass control flag to input manager,0.44857395,"This option is only meaningful for the default injection method: with HID keyboard (--hid-keyboard), all keys are sent as scancodes.","Replace the ""global"" control flag in the input_manager by a function parameter to make explicit that the behavior depends whether --no-control has been set.",0
server/meson.build: support relative path for prebuilt_server,0.39404792,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","If we don't do this trick, the prebuilt_server will be ../server/[the_user_defined_path]. In general, we will not give an relative path based on build directory, which leads to wrong prebuilt_server path. The building error: ninja: error: '../scrcpy-server-v1.7.jar', needed by 'server/scrcpy-server.jar', missing and no known rule to make it Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
Do not init SDL video subsystem if no display,0.54625195, - Make --turn-screen-off work even if --no-display (#2426),"The SDL video subsystem is not necessary if we don't display the video. Move the sdl_init_and_configure() function from screen.c to scrcpy.c, because it is not only related to the screen display.",0
Use explicit output parameter for skipped frame,0.60837054, - Add runtime option to render expired frames (i.e. not skip frames),"The function video_buffer_offer_decoded_frame() returned a bool to indicate whether the previous frame had been consumed. This was confusing, because we could expect the returned bool report whether the action succeeded. Make the semantic explicit by using an output parameter. Also revert the flag (report if the frame has been skipped instead of consumed) to avoid confusion for the first frame (the previous is neither skipped nor consumed because there is no previous frame).",0
Replace SDL types by C99 standard types,0.48344588, - Update SDL to 2.0.9 included in Windows releases,Scrcpy is a C11 project. Use the C99 standard types instead of the SDL-specific types: SDL_bool -> bool SintXX   -> intXX_t UintXX   -> uintXX_t,0
Add option to mirror in read-only,0.91673446, - Add option --no-control to mirror in read-only,Add an option to disable device control: -n/--no-control.,1
Rename -n/--no-window to -N/--no-display,0.53020597, - Make --turn-screen-off work even if --no-display (#2426),"The description of scrcpy is ""Display and control your Android device"". We want an option to disable display, another one to disable control. For naming consistency, name it --no-display. Also change the shortname to -N, so that we can use -n for --no-control later.",0
Add missing no_window initialization,0.53309655, - Add options to set an initial window size and position (#762),"Initialize the field no_window in ""struct args""",0
Avoid unnecessary call if display is disabled,0.6046462, - Prevent to turn screen off if no control (#608),"If --no-window is passed, there is no need to register an event watcher.",0
Extract event processing out of event_loop(),0.42758268,Log input events,"To avoid too many levels of nested blocks, move the event handling logic in a separate function.",0
Update code style,0.29332036, - Add option to disable window decorations (#762),"Limit source code to 80 chars, and declare functions return type and modifiers on a separate line. This allows to avoid very long lines, and all function names are aligned. (We do this on VLC, and I like it.)",0
Replace uint64_t by Uint64 for consistency,0.4409259," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",The field pts is declared Uint64 in struct frame_meta.,0
Describe the --no-window feature in README,0.4578064, - Accept negative window position (#1242),,0
Implement the --no-window flag,0.5407209, - Accept negative window position (#1242),"Disable decoder, screen (display), file_handler and controller when --no-window is requested. link",0
Add a new option: -n/--no-window,0.5224216, - Add options to set an initial window size and position (#762),This option will allow scrcpy to record the stream without display. Signed-off-by: Romain Vimont rom@rom1v.com,0
Add stream layer,0.39390275,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,"The decoder initially read from the socket, decoded the video and sent the decoded frames to the screen:           +---------+      +----------+ socket ---> | decoder | ---> |  screen  |               +---------+      +----------+ The design was simple, but the decoder had several responsabilities. Then we added the recording feature, so we added a recorder, which reused the packets received from the socket managed by the decoder:                                 +----------+                            ---> |  screen  |           +---------+     /     +----------+ socket ---> | decoder | ----               +---------+     \     +----------+                                ---> | recorder |                                     +----------+ This lack of separation of concerns now have concrete implications: we could not (properly) disable the decoder/display to only record the video. Therefore, split the decoder to extract the stream:                                 +----------+      +----------+                            ---> | decoder  | ---> |  screen  |           +---------+     /     +----------+      +----------+ socket ---> | stream  | ----               +---------+     \     +----------+                                ---> | recorder |                                     +----------+ This will allow to record the stream without decoding the video.",0
Store the recording request in a local bool,0.54792035,Asynchronous recording,This avoids to test explicitly whether options->record_filename is NULL.,0
Fix cleanup order,0.5344425," - Add --no-cleanup option (#1764, #3020)","The order of cleanup was not the reverse as the initialization order. As a consequence, recorder_destroy() could theoretically be called even if recorder_init() failed.",0
Fix recording with old decoding/encoding API,0.60239625," - Fix mp4 headers produced by recording (#351, #416)","The deprecated avcodec_decode_video2() should always the whole packet, so there is no need to loop (cf doc/examples/demuxing_decoding.c in FFmpeg). This hack changed the packet size and data pointer. This broke recording which used the same packet.",0
"Rename ""stop"" to ""interrupt""",0.34083027, - Fix quick interruption on Ctrl+c during server starting,"The purpose of video_buffer_stop() is to interrupt any blocking call, so rename it to video_buffer_interrupt().",0
"Rename ""frames"" to ""video_buffer""",0.44154006, - Remove option --render-expired-frames (#2268),It better describes the purpose of the structure.,0
Remove unused mutex field in decoder,0.51622367,"For simplicity, this muxing was done by the thread receiving the stream and feeding the decoder. In practice, it worked well enough, but whenever writing the file took too much time (during a blocking I/O call), this delayed the decoding of the following frames.",,0
Add shortcut to expand/collapse notification panel,0.82189053, - Add shortcut to expand/collapse device notification panel (#392),"Use Ctrl+n to expand, Ctrl+Shift+n to collapse. Fixes link",1
"Use ""always on top"" only for SDL >= 2.0.5",0.6756249," - Add ""always on top"" option (#391, #412)","The flag SDL_WINDOW_ALWAYS_ON_TOP is available since SDL 2.0.5. Do not use it if SDL is older, to fix compilation failure. Fixes link",0
Move all compat ifdefs definitions to compat.h,0.3548262, - Change the Windows build (cross-compile from Linux),This allows to give a proper name to features requirements.,0
Update links to v1.7 in README and BUILD,0.40968075, - Print both compiled and linked version of libs on --version,,0
Bump version to 1.7,0.4556246,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Allocate extradata with av_malloc(),0.32059005,scrcpy -b20M --no-display --v4l2-sink=/dev/video2 --v4l2-buffer=100,"The extradata buffer is owned by libav, so it must be allocated with av_malloc(), not SDL_malloc(). This fixes a crash on Windows during avformat_free_context().",0
Regroup Windows-ifdefs in command.h,0.3598261,Windows PATH simplification,,0
Create process with wide chars on Windows,0.45759258, - Workaround Windows issue with non-ASCII path (#2619),"Windows does not support UTF-8, so pushing a file with non-ASCII characters failed. Convert the UTF-8 command line to a wide characters string and call CreateProcessW(). Fixes link",0
Add recording logs,0.60911274," - Add screen recording (#21, #292)",Log when recording is started and stopped.,0
Support recording to MKV,0.9878331, - Support recording to MKV,"Implement recording to Matroska files. The format to use is determined by the option -F/--record-format if set, or by the file extension ("".mp4"" or "".mkv"").",1
Rescale packet timestamp to container time base,0.34445322,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Some containers force their own time base. For example, matroska overwrite time_base to (AVRational) {1, 1000}. Therefore, rescale our packet timestamps to the output stream time base. Suggested-by: Steve Lhomme robux4@ycbcr.xyz",0
Write header file with correct extradata,0.44087905," - Fix mp4 headers produced by recording (#351, #416)","When recording, the header must be written with extradata set to the content of the very first packet. Suggested-by: Steve Lhomme robux4@ycbcr.xyz Fixes link Fixes link",0
Forward FFmpeg logs,0.41166842, - Add server options to send raw H.264 video stream (#2971),FFmpeg logs can be useful to understand the cause of issues.,0
Add log verbose macro,0.68090296, - Add --verbosity to configure log level at runtime,This was the only log priority missing.,0
Fix memory leak on close,0.7160671, - Fix (huge) memory leak (#26),The buffer associated to the AVIOContext must be freed.,1
Merge pull request #412 from npes87184/dev,0.34872273,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,app: add always_on_top,0
app: add always_on_top,0.71521676," - Add ""always on top"" option (#391, #412)",It is very convenient when I play mobile game and watch video at the same time. Tested on Linux mint Cinnamon as well as Windows 10. Signed-off-by: Yu-Chen Lin npes87184@gmail.com,1
Add release script,0.40774202,"To receive a notification on new releases, click on Watch > Custom > Releases on the top.","Add a script to generate the whole release properly. It first builds locally in release mode, then execute tests. Then it builds archives for Windows. Finally, it puts all release files (Windows archives, prebuilt server and checksums) in a separate release directory.",0
Merge pull request #411 from npes87184/master,0.3831113,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,tests: fix test_control_event_serialize,0
tests: fix test_control_event_serialize,0.45130306, - Fix mouse events deserialization (comment in #350),"commit fefb9816a changed the protocol, fix the related testing case. Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
Fix expected mouse event sizes,0.6348371," - Correctly handle mouse events outside device screen (#353, #357)","Commit fefb9816a99e6f8fa59befcfb70ba87112f90a8d modified mouse events serialization. The server-side parsing was updated to correctly read the position, but the expected size of these events was not updated. As a result, the server might try to parse incomplete events, leading to BufferUnderflowException. Fixes link.",0
Fix incorrect comment,0.35548434, - Improve some error messages,Comment had not been updated along with the code.,0
Update links to v1.6 in README and BUILD,0.43262294, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),,0
Bump version to 1.6,0.45783305,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Merge branch 'dev' into master,0.2942029,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Update FFmpeg (4.1) for Windows,0.9517193, - Update FFmpeg to 4.1 included in Windows releases,Include the last version of FFmpeg in Windows releases.,1
Do not disable screensaver,0.83201003," - Add option to disable screensaver (#1370, #1502)",Keep screensaver enabled while scrcpy is running. Fixes link.,1
Merge pull request #401 from npes87184/dev,0.39292938,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,input_manager: don't ignore double click event when clicking inside device,0
input_manager: don't ignore double click event when clicking inside device,0.6016675,A new option --forward-all-clicks has been added to forward these clicks to the device instead.,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
Merge pull request #396 from npes87184/master,0.35180697,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,prepare-dep: use variable for better readability,0
"Mirror ""secure"" content",0.8153018, - Mirror secure content (#36),"Some applications, like Silence, prevent the content of a window from being viewed on non-secure displays: link We can mirror it by just creating a ""secure"" display: link",1
prepare-dep: use variable for better readability,0.29703954, - Add --verbosity to configure log level at runtime,"The arguments are saved to variable when script started. Instead of using $1, $2 and $3, we can use these variables. Signed-off-by: yuchenlin npes87184@gmail.com",0
Make the server unlink itself,0.48443308, - Terminate server properly without killing it on close (#1992),"To clean up the device, the client executed ""adb shell rm"" once the server was guaranteed to be started (after the connection succeeded). This implied to track whether the installation state, and failed if an additional tunnel was used in ""forward"" mode: link Instead, make the server unlink itself on start.",0
Handle mouse events outside device screen,0.90344346," - Correctly handle mouse events outside device screen (#353, #357)","Mouse events position were unsigned (so negative values could not be handled properly). To avoid issues with negative values, mouse events outside the device screen were ignored (commit a7fe9ad779057f7a2698fc1769dce3c3786993ee). But as a consequence, drag&drop were ""broken"" if the ""drop"" occurred outside the device screen. Instead, use signed 32-bits to store the position, and forward events outside the device screen. Fixes link.",1
Add a note to allow simulating input in README,0.35337532, - Log input events in verbose mode (#2371),,0
Add ninja-build to the packages list to install,0.29582345,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"The package ninja-build should be installed automatically as a meson dependency, but some users need to install a newer meson from pip3, so ninja must be installed explicitly.",0
Ignore mouse events outside device screen,0.8732524," - Correctly handle mouse events outside device screen (#353, #357)","Never create a ""struct point"" with a position possibly outside the device screen (i.e. in the black borders area), and do not transmit such events. This fixes an assertion failure on mouse wheel events outside the device screen area.",1
Always use non-empty arguments,0.6059984, - Avoid empty arguments not correctly handled on some devices (#337),"The client passes parameters to the server via ""adb shell"" arguments. Use ""-"" instead of """" when no crop is specified to avoid empty arguments, which are not handled the same way on all devices. Fixed link.",0
Always expect 5 parameters for the server,0.32226843,"For convenience, this version introduces a new option to configure TCP/IP connections automatically, with two variants.","The client always sends all the arguments, so there is no need to check.",0
Point out that ninja must not be run as root,0.24928933,"To pass command line arguments, it must still be started from a terminal or a script though.",See link.,0
Move drag&drop features in README,0.5508216, - Add feature to push file to /sdcard/ via drag & drop (#226),"Present how to install an APK and how to push a file in the ""features"" section (instead of ""shortcuts"").",0
Fix read_packet() return value on error or EOF,0.5752734, - Return non-zero value on connection loss (#204),Fix warning on error or EOF: Invalid return value 0 for stream protocol See link. Fixes link.,0
Configure version at meson project level,0.33210653, - Change the Windows build (cross-compile from Linux),"Make meson aware of the project version, so that it does not print: Project version: undefined",0
Update links to v1.5-fixversion,0.49450877,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"I forgot to bump version before the release, so I had to make a new one which fixes the version string (for scrcpy --help).",0
Bump version to 1.5,0.47582573, - Upgrade FFmpeg to 5.1.2 in Windows 64-bit releases,Signed-off-by: Romain Vimont rom@rom1v.com,0
Update links to v1.5 in README and BUILD,0.39661252, - Print both compiled and linked version of libs on --version,,0
Improve features presentation in README,0.295917, - Various technical refactors and fixes,,0
Merge branch 'record' into dev (#292),0.2505325, - Add option to change the push target (#659),Record screen to file,0
Do not queue invalid PTS,0.30233103, - Improve some error messages,"Configuration packets produced by MediaCodec have no valid PTS, and do not produce frame. Do not queue their (invalid) PTS not to break the matching between frames and their PTS.",0
Store queue of PTS for pending frames,0.41825283, - Reduce latency by 1 frame (#646),"Several frames may be read by read_packet() before they are consumed (returned by av_read_frame()), so we need to store the PTS of frames in order, so that the right PTS is assigned to the right frame.",0
Send frame meta only if recording is enabled,0.46794125, - Add option --no-display to record without mirroring (#418),"The client needs the PTS for each frame only if recording is enabled. Otherwise, the PTS are not necessary, and the protocol is more straighforward.",0
Rename --output-file to --record,0.4312408, - Print help to stdout (instead of stderr),To record the screen to a local file: scrcpy --record file.mp4,0
Wrap receiver state into separate struct,0.38700244,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","For readability, wrap the state of the receiver in a separate struct receiver_state.",0
Avoid partial header reads,0.31648597, - Implement (optional) buffering (#2464),"Use net_recv_all() to avoid partial reads for the ""meta"" header (this would break the whole stream).",0
Move buffer reader functions to buffer_util.h,0.48633566, - Implement (optional) buffering (#2464),,0
Support AVStream.codec for old FFmpeg versions,0.6156898," - Upgrade FFmpeg to 5.0 in Windows 64-bit releases (#1753, #2952)","AVStream.codec has been deprecated in favor of AVStream.codecpar. Due to the FFmpeg/Libav split, this happened in two separate versions:  - 57.33.100 for FFmpeg  - 57.5.0 for Libav",0
recorder: use av_oformat_next to support older FFmpeg,0.5785434, - Fix segfault on recording with old FFmpeg versions (#707),Signed-off-by: yuchenlin npes87184@gmail.com,0
Reenable custom SDL signal handlers,0.35994446, - Inject mouse events with a virtual device id (fix crashes on some,"This partially reverts commit f00c6c5b1321860eb6d590928448778ec8f43278. On Ctrl+C, we need to execute cleanup code. For instance, if recording is enabled, we need to write MP4 file trailer on exit. Custom SDL signal handlers were disabled because it leaded to process hanging on Ctrl+C during network calls on initialization, but now it seems to work correctly, the network calls return immediately on signal.",0
Do not transmit MediaCodec flags,0.6590338, - Add --codec-options to pass MediaFormat options directly (#1325),"Since PTS handling has been fixed, the recorder do not associate a PTS to a wrong frame anymore, so PTS of ""configuration packets"" (which never produce a frame), are never read by the recorder. Therefore, there is no need to ignore them explicitly, so we can remove the MediaCodec flags completely.",0
Assign PTS to the right frame,0.36398423, - Reduce latency by 1 frame (#646),"The PTS was read from the socket and set as the current one even before the frame was consumed, so it could be assigned to the previous frame ""in advance"". Store the PTS for the current frame and the last PTS read from the packet header of the next frame in separate fields. As a side-effect, this fixes the warning on quit: Application provided invalid, non monotonically increasing dts to muxer in stream 0: 17164020 >= 17164020",0
Decode and push frame before recording,0.5338223,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Handle display before recording, to reduce latency.",0
Only set valid PTS/DTS,0.31455424," - Add option to ignore repeated key events (#1013, #1623)","When the PTS is valid, set both PTS and DTS to avoid FFmpeg warnings. Since configuration packets have no PTS, do not record these packets.",0
Add recorder,0.6862135," - Add screen recording (#21, #292)","Implement recording in a separate ""class"".",0
"Enable video output file, with pts set by server",0.53934187, - Add server options to send raw H.264 video stream (#2971),,0
Fix SDL 2.0.9 for Windows,0.83115226, - Update SDL to 2.0.9 included in Windows releases,Add missing version upgrade in cross_winXX.txt files.,1
Update SDL (2.0.9) for Windows,0.9316206, - Update SDL to 2.0.9 included in Windows releases,Include the last version of SDL in Windows releases.,1
Extract bit operations to buffer_util.h,0.46125525, - Implement (optional) buffering (#2464),Move util functions to a reusable separate header.,0
Explain how to install up-to-date meson,0.45193505,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"On Ubuntu 16.04, meson is 0.29, while scrcpy requires >= 0.37. Explain how to install a newer version from pip3.",0
Add feature test macro to declare kill(),0.3647569, - Apply workarounds only on error (#994),Avoid the following warning on some systems: warning: implicit declaration of function 'kill' [-Wimplicit-function-declaration],0
Replace Ctrl by Meta for volume shortcuts on MacOS,0.76619273, - Replace volume shortcuts on MacOS (#300),Ctrl+UP and Ctrl+DOWN are already used by the window manager on MacOS. Use Cmd key instead (like on VLC).,1
Refactor to support Meta in shortcuts,0.6690488, - Make shortcut modifiers customizable (#1598),"Move the Ctrl and Meta key down checks to each shortcut individually, so that we can add a shortcut involving Meta.",0
Merge pull request #310 from npes87184/master,0.34206423,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,fix text memory leak,0
input_manager: fix potential memory leak on text,0.57600963, - Fix (huge) memory leak (#26),Fix potential memory leak when controller_push_event failed. Signed-off-by: yuchenlin npes87184@gmail.com,0
Capture Alt and Meta keys,0.5725106, - Send raw key events for letters to use keyboard in games (#87),"Alt and Meta keys should not be forwarded to the device. For now, they are not used for shortcuts, but they could be.",0
Factorize Windows command building,0.46807215,cmd,Extract command line building to a separate method.,0
Work around Os.write() not updating position,0.67621076, - Workaround for Os.write() bug on Android 5.0.x (#291),ByteBuffer position is not updated as expected by Os.write() on old Android versions. Count the remaining bytes manually. Fixes link.,0
Support paths containing spaces on Windows,0.6398197," - Fix ""push file"" with spaces on Windows (#288)","Quote the arguments of ""adb push"" to support paths which contain spaces on Windows. Fixes link.",0
Declare fun(void) functions with no parameters,0.29800647, - Avoid empty arguments not correctly handled on some devices (#337),This is not C++.,0
Update links to v1.4 in README and BUILD,0.42475295, - Upgrade FFmpeg to 4.1.4 in Windows releases,,0
Update platform-tools (28.0.1) for Windows,0.86482894, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the latest version of adb in Windows releases.,1
Bump version to 1.4,0.5165495, - Upgrade FFmpeg to 4.1.4 in Windows releases,,0
Handle alpha and space chars as raw events,0.60926855,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,"To handle special chars, text is handled as text input instead of key events. However, this breaks the separation of DOWN and UP key events. As a compromise, send letters and space as key events, to preserve original DOWN/UP events, but send other text input events as text, to be able to send ""special"" characters. Fixes link. Suggested-by: pete1414 Suggested-by: King-Slide kingslide@gmail.com",0
Add link to Gentoo Ebuild in README,0.33922014,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",,0
Merge pull request #261 from npes87184/dev,0.364873,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,prevent closing console right after process error in windows,0
prevent closing console right after process error in windows,0.80794317, - Keep the console open on error on Windows (#261),Signed-off-by: yuchenlin npes87184@gmail.com,1
Fix header guard name,0.41422838," - Fix mp4 headers produced by recording (#351, #416)",,0
Merge branch 'npes87184:dev' into dev (#254),0.288334, - Add option to change the push target (#659),Return specific error for missing adb binary on Windows,0
Use specific error for missing binary on Windows,0.4142295," - scrcpy.exe is the main binary, with the same behavior as on other platforms (no pause on error)",Signed-off-by: yuchenlin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
Avoid additional buffer copy in userspace,0.86134416, - Avoid additional buffer copy in userspace on the server,"Directly send the data from MediaCodec buffers to the LocalSocket, without an intermediate copy in userspace.",1
Merge branch 'philippsandhaus:master' into dev (#252),0.27371693,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Added new command line parameter to start in fullscreen,0
Present fullscreen option in README,0.6285778, - Add command-line option to start in fullscreen (#252),,0
Add option to start in fullscreen,0.7981043, - Add command-line option to start in fullscreen (#252),Signed-off-by: Romain Vimont rom@rom1v.com,1
Merge branch 'npes87184:dev' into dev (#236),0.29404485, - Add option to change the push target (#659),check adb runnable before starting scrcpy,0
Do not handle system-specific values in command.c,0.38738298,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).","The common command.c handled process errors from system-specific int values (errno). Rather, expose a new enum process_result to handle error cause in a generic way.",0
Notify adb missing,0.5888333,DEBUG: ADB device found:,"There are many user who encounters missing adb. To stop things happens again, we check it and show sexy response to user. Signed-off-by: yuchenlin npes87184@gmail.com",0
Add link to FLAG_SECURE in FAQ,0.32160586, - Mirror secure content (#36),,0
Explain how to install adb on Mac OS,0.48542082, - Add --force-adb-forward,The package scrcpy from Homebrew does not install adb.,0
Separate build instructions from README,0.4025458, - Change the Windows build (cross-compile from Linux),"README included build instructions, which made it complicated to follow. Move the build instructions to a separate file (BUILD.md).",0
Update FFmpeg (4.0.2) for Windows,0.9532116, - Update FFmpeg to 4.0.2 included in Windows releases,Include the last version of FFmpeg in Windows releases.,1
Update platform-tools (28.0.0) for Windows,0.8670876, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the last version of adb in Windows releases. Fixes link.,1
Add missing include for lock_util.h,0.29901734," - Fix ""Could not find v4l2 muxer"" (#2718)",lock_util.c did not include lock_util.h. This was catched by the gcc option -Wmissing-prototypes.,0
Separate multi-words filenames by '_',0.28747332," - Fix ""push file"" with spaces on Windows (#288)",Rename foobar.ext to foo_bar.ext. link,0
"Document ""push file"" feature",0.52566576, - Add feature to push file to /sdcard/ via drag & drop (#226),Document how to push a file to /sdcard/ in the shortcuts list.,0
Make request_queue functions static,0.31967747, - Implement (optional) buffering (#2464),These functions are local to file_handler.c.,0
Simplify SDL_assert() calls,0.39784354, - Downgrade SDL to 2.0.8 in Windows releases (#425),"SDL_assert() already prevents ""unused variable"" warnings.",0
Merge branch 'npes87184:push_file_to_sdcard' into dev (#226),0.45516232, - Add feature to push file to /sdcard/ via drag & drop (#226),support drag & drop file to device /sdcard,0
Support drag&drop a file to transfer it to device,0.786031, - Add feature to push file to /sdcard/ via drag & drop (#226),Signed-off-by: npes87184 npes87184@gmail.com,1
installer -> file_handler,0.45490852, - Add feature to install APK files via drag & drop (#133),Signed-off-by: npes87184 npes87184@gmail.com,0
Reset current installer process,0.37821123, - Fix missing initialization that leaded to kill the whole process,"The current_process field was never reset after an installation is complete. As a consequence, installer_stop() attempted to terminate it, leading to a warning, at best.",0
Return non-zero value on connection loss,0.93282264, - Return non-zero value on connection loss (#204),"Make scrscpy to return 0 exit code only in case when the user closes its app, otherwise, i.e. in case of connection loss, return 1.",1
Remove AINPUT_SOURCE_ANY value,0.426274," - Fix input injection on some custom ROMs (#2250, #2946)","In the Android input header file, an enum has a value taking more than 31 bits, leading to the following warning: ISO C restricts enumerator values to range of int Since we don't use it, remove it.",0
Replace Uint32 by int to fix warnings in tinyxpm,0.41429493," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",,0
Explicitly use ISO C11,0.26728565,scrcpy 1.22    (usb)  fedcba09                        device  GM1913,ISO C99 doesn't support unnamed structs/unions.,0
Destroy mutex if strdup failed,0.38737023, - Return non-zero value on connection loss (#204),Signed-off-by: npes87184 npes87184@gmail.com,0
Merge pull request #225 from npes87184/master,0.35052848,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,remove redundant semicolon,0
remove redundant semicolon,0.30434167," - Add option to ignore repeated key events (#1013, #1623)",Signed-off-by: npes87184 npes87184@gmail.com,0
Update links to v1.3 in README,0.42537203,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Bump version to 1.3,0.48060456, - Upgrade FFmpeg to 4.1.3 in Windows releases,,0
Add crop feature,0.9588993, - Add crop feature,Add an option to crop the screen on the server. This allows to mirror only part of the device screen.,1
Move annotation comment,0.25253734, - Fix clipboard paste (#1658),This confused the Android Studio code formatter.,0
Extract video size computation,0.43069062,"In this new version, if the encoder fails before the first video frame, then scrcpy automatically retries with a lower definition (#2947), so in most cases it should work without explicitly passing a size argument.","One method, one thing.",0
"Increase ""adb forward"" connection attempts",0.8808693," - Increase ""adb forward"" connections attempts to 10 seconds (#213)",5 seconds might not be sufficient: link Increase to 10 seconds (it does not harm).,1
Do not call deprecated av_register_all(),0.41441625, - Fix segfault on recording with old FFmpeg versions (#707),av_register_all() is deprecated in FFmpeg since this commit: link It is now useless to call it: link Fixes link.,0
Simplify README for Windows users,0.42855048,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",So that users stop downloading platform-tools unnecessarily.,0
Forward repeated volume events,0.98736084, - Forward repeated volume events,Send repeated events when holding volume up/down shortcuts.,1
Send separate DOWN/UP key events,0.60066366,Repeating key events,"Shortcuts generated instant DOWN/UP key events. Instead, generate DOWN event on Ctrl+key down and UP event on Ctrl+key up. Fixes link.",0
Improve English comment,0.44563124, - Improve some error messages,"Replace ""implying"" by ""involving"" (both ""impliquant"" in French).",0
Prevent killing unexpected process,0.5160874, - Terminate server properly without killing it on close (#1992),"A missing initialization (fixed by the previous commit) leaded to kill unexpected process. In order to prevent consequences of similar errors in the future, never call kill() with a non-positive PID. See link.",0
Fix missing installer initialization,0.45178854, - Fix missing initialization that leaded to kill the whole process,"The current_process field of struct installer was not initialized. Since the installer instance is static, its default value was 0. The call to installer_stop() then called kill(0, SIGTERM) (on Linux), which sent SIGTERM to every process in the process group. In particular, the scrcpy process was killed. As a consequence, the last cleanup steps, like disabling ""show touches"", were not executed. Fixes link.",0
Merge pull request #169 from zopelee/master,0.3518444,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Fix meson error: for loop initial declarations are only allowed in ,0
Fix meson error: for loop initial declarations are only allowed in C99 mode.,0.35022765, - Fix segfault on empty file recorded (#918),,0
Use a meson option to crossbuild for Windows,0.6019665, - Change the Windows build (cross-compile from Linux),"Meson decided to crossbuild for Windows as soon as meson.is_cross_build() returned true. This made non-Windows crossbuilds fail. Instead, add an explicit option ""crossbuild_windows"". Fixes link.",0
Fix clean recipe in cross Makefile,0.36057514, - Change the Windows build (cross-compile from Linux),"Make the ""clean"" recipe also remove the noconsole build directories.",0
Update links to v1.2 in README,0.42008382,Hotfix for v1.12:,,0
Bump version to 1.2,0.46535474,Hotfix for v1.12:,,0
Rename SHA256SUM to SHA256SUMS,0.23363593," - Add --encoder option (#1810, #1827)",It contains the checksums for several files.,0
"Make CreateProcess() flags depend on ""noconsole""",0.48504728," - Generate both console and noconsole versions (fix ""no output"" issue)","On Windows, display the output of external commands (adb) when a console is available.",0
Update README and FAQ for the new Windows releases,0.48291445," - Rework console/noconsole versions on Windows (#1875, #1988)","Document how to generate a Windows release from Linux. It solves the ""no output"" issue on Windows, so update the FAQ.",0
"Also build ""noconsole"" binary for Windows",0.5768755, - Change the Windows build (cross-compile from Linux),"On Windows, an application is either console or gui, it cannot be both. Scrcpy should be both: it outputs important information to console, but we still want to be able to ignore the console and launch it without a visible cmd.exe window. Therefore, build two binaries:  - scrcpy.exe  - scrcpy-noconsole.exe",0
Add cross-compilation scripts for Windows,0.63823074, - Change the Windows build (cross-compile from Linux),"Build the Windows binary from mingw on Linux, using the official prebuilt binaries for ffmpeg, SDL2 and adb. MSYS2 and all its packaged dll are not necessary anymore.",0
Indicate that libs are included for Windows,0.4403653," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",,0
Indicate that scrcpy also works over TCP/IP,0.7689935,scrcpy --tcpip    # without arguments,,1
Document APK drag & drop,0.8047311, - Add feature to install APK files via drag & drop (#133),Add the drag & drop shortcut for installing an APK file to the README and the help.,1
Quote apk path on Windows,0.4537338, - Workaround Windows issue with non-ASCII path (#2619),"Windows will parse the string, so the local name must be quoted.",0
Drag and drop to install apk files from computer,0.8718116, - Add feature to install APK files via drag & drop (#133),link,1
Fix net_send_all() warning,0.4955496," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","If len is not positive, w could be returned uninitialized.",0
Fix proc_show_touches warning,0.58381295, - Improve --show-touches behavior,"In practice, proc_show_touches may not be used uninitialized, since it checks the flag options->show_touches, but the compiler can't know that, so initialize it to avoid the warning.",0
Release controller lock while processing events,0.40229738, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"Once the controller took a control event, release the mutex before processing it, so that the main thread is not blocked to push a new event.",0
Fix leak on server start error,0.5390168, - Fix (huge) memory leak (#26),"Fail on SDL_strdup() failure, and free the duplicated serial on further error.",0
Map numpad ENTER key,0.9014839, - Map numpad ENTER key (#117),Forward numpad ENTER key to the device. Fixes link.,1
Add FAQ section about KWin crash,0.35534447,Device crashes fixes,Link to the workaround to keep the compositor enabled while scrcpy is running.,0
"Avoid pointer arithmetic on ""void """,0.27545527, - Fix (huge) memory leak (#26),Fix the following warning (with -Wpedantic enabled): pointer of type void  used in arithmetic [-Wpointer-arith],0
Use const pointers when possible,0.2008523, - Fix (huge) memory leak (#26),"Sending data only require to read the input buffer, so declare it const.",0
Change volume shortcuts,0.85137784, - Change volume shortcuts (Ctrl+UP and Ctrl+DOWN) (#103),"I could not make Ctrl+'+' and Ctrl+'-' work for every keyboard on every platform. Instead, use Ctrl+UP and Ctrl+DOWN (like in VLC) to change the volume. Fixes link.",1
Document 32 bits packages Windows in README,0.42874032," - Enable libusb support for Windows 32-bit releases (#3204, #3206)","To build for Windows 32 bits, use the i686 packages instead.",0
Make checkstyle happy,0.38134944,| macOS          | :heavy_check_mark: | :heavy_check_mark:,Reorder the imports to remove checkstyle warnings.,0
Install on macOS via Homebrew in README,0.3458432," - Add HID/OTG support for macOS (#2774, #3031)",The application is now packaged for Homebrew: link Give instructions to install it from Homebrew for macOS (it's much easier). Thanks to @stek29 for the formula ;-),0
Document how to make a portable build on Windows,0.5952998, - Change the Windows build (cross-compile from Linux),"On MSYS2, ./gradlew does not work as expected, so use its absolute path.",0
Factorize texture creation,0.31081334,"To improve the quality, trilinear filtering is enabled when possible (OpenGL 3.0+ or OpenGL ES 2.0+):","SDL_CreateTexture() is called both during initialization and on frame size change. To avoid inconsistent changes to arguments value, factorize them to a single function create_texture().",0
Forward double-click events,0.72607875,Forward right-click and middle-click,"Double-clicks were not sent to the device anymore since the ""double-click on black borders"" feature. When a double click occurs inside the device screen, send the event to the device normally. Fixes link.",1
Improve startup time when show_touches is enabled,0.7086518, - Improve --show-touches behavior,"Enabling ""show touches"" involves the execution of an adb command, which takes some time. In order to parallelize, execute the command as soon as possible, but reap the process only once everything is initialized.",1
"Disable ""show touches"" once window is closed",0.6914942, - Improve --show-touches behavior,"If --show-touches is set, then the option must be disabled on quit. Since it executes an adb command, it takes some time, so close the window beforehand so that the close window button does not seem unresponsive.",0
"Add an option to enable ""show touches""",0.82143444, - Improve --show-touches behavior,Add -t/--show-touches option to show physical touches while scrcpy is running. See link.,1
Group scrcpy options into a struct,0.7128798,"For this purpose, scrcpy v1.19 introduces two new options:","The scrcpy() function accepts as many parameters as there are options. To simplify, group all options in a separate struct.",1
Merge branch 'stek29/macos' (#56),0.35632187,| macOS          | :heavy_check_mark: | :heavy_check_mark:,macOS specific README changes,0
Add instructions to install Java 8 on macOS,0.31126708, - Add feature to install APK files via drag & drop (#133),"And remove gcc from the packages list, clang is available by default.",0
Merge pull request #94 from pierlon/pierlon-patch-1,0.3382023,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Add instructions to run via Docker,0
Merge pull request #95 from Sea-n/patch-1,0.3571557,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Update README.md,0
Add instructions to run via Docker,0.34726328,"To pass command line arguments, it must still be started from a terminal or a script though.",,0
Merge pull request #93 from CampbellOwen/patch-1,0.3712412,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Add links to FFmpeg and LibSDL2 dependencies,0
Change links to wikipedia,0.25294602," - Add --forward-all-clicks option (#1302, #1613)",,0
Add links to FFmpeg and LibSDL2 dependencies,0.5053466, - Upgrade FFmpeg to 4.2.2 in Windows releases,,0
Process the last video frame,0.47440833, - Add runtime option to render expired frames (i.e. not skip frames),"On H.264 stream EOF, the eof_reached flag is set, but av_read_frame() still provides a frame, so check the flag only afterwards. As a side-effect, it also fixes a memory leak (the very last packet was not unref).",0
Unref last packet on exit,0.43404624, - Return non-zero value on connection loss (#204),,0
Clarify adb requirements,0.51138586,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.","Since scrcpy also supports adb forward, remove the part about adb reverse. Make explicit that adb is included in the prebuilt application for Windows (many users manually download the platform-tools for no reason).",0
Merge branch 'arich/addShake' into dev (#85),0.3085217, - Add option to change the push target (#659),"Add support for CTRL+S to send hardware ""shake"" to device",0
Swap MENU and APP_SWITCH shortcuts,0.546504,Menu shortcuts,"Ctrl+s was mapped to MENU, while Ctrl+m was mapped to APP_SWITCH. To avoid confusion, swap the shortcuts:  - Ctrl+m like _M_enu  - Ctrl+s like _S_witch",0
"Rename ""shake"" to ""menu""",0.40156513,Menu shortcuts,"The action sends AKEYCODE_MENU, so just name it ""menu"". See link.",0
Describe workaround to get output on Windows,0.4942767,"On other platforms, as a fallback, run scrcpy with some display buffer, then capture the window via OBS:","Since nothing is printed to the console, we need a way to get the output in case of errors. Describe how in the README.",0
"Add support for CTRL+S to send hardware ""shake"" to device w/readme",0.492467, - Support holding Ctrl+Key shortcuts (#166),,0
Disable custom SDL signal handlers,0.45620176, - Do not expose internal SDL logs to users (#1441),"Request SDL not to replace the SIGINT and SIGTERM handlers, so that the process is immediately terminated on Ctrl+C. This avoids process hanging on Ctrl+C during network calls on initialization. Some of them accepted a timeout, but it was not used since commit 9b056f5091ad0bc35cd0188cfcb887eb30269fef anymore.",0
Remove useless blocks in switch/case,0.24983224,Remove deprecated short options,Remove unnecessary additional blocks.,0
Include source root directory,0.31765807, - Refuse to push server if it points to a directory (#956),"All headers and sources are in src/. To avoid using relative includes from subdirectories (""../../""), include the source root directory.",0
Document the step to clone the project,0.31899187,"Copy-paste have been improved by previous releases, especially v1.15.","This is not obvious to everyone, especially non-developers.",0
Increase the number of connection attempts,0.74259603, - Increase connection attempts (fix issues over TCP/IP),"In ""adb forward"" mode, it may take a while before the server socket is listening, so increase the number of connection attempts. See link.",1
Fix win32 build,0.614405, - Change the Windows build (cross-compile from Linux),"The types size_t and ssize_t are defined on Windows (in MSYS2), so there is no need to typedef SIZE_T and SSIZE_T. Exit code is ""unsigned long"" both on Windows 32 and 64 bits. See link.",0
Remove useless cast,0.2957995,Remove deprecated short options,"For consistency with mouse button events handling, directly assign from Sint32 to Uint16.",0
Fix switch/case code style,0.3028874,"The 4th and 5th buttons were not used. Now, the 4th button triggers APP_SWITCH and the 5th expands the notification panel on single click and the settings panel on double click (#2258, #2260, #2264).","For readability and consistency, indent case statatements, and remove unnecessary additional blocks.",0
Add FAQ section about mouse clicks,0.49108377,Mouse focus clickthrough,"On some devices, mouse clicks do not work by default. Enabling an option is required.",0
Add link to the article for v1.1 in README,0.35166043,Hotfix for v1.15:,,0
Update FAQ after v1.1 release,0.37811828,Bugfixes,Two issues described in the FAQ have been fixed by V1.1. Remove them from the FAQ.,0
Update links to v1.1 in README,0.42708522,Hotfix for v1.12:,,0
Bump version to 1.1,0.43943244, - Update FFmpeg to 4.1 included in Windows releases,,0
Merge branch 'dev' into release,0.35654372, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,,0
Remove useless argument,0.4832972, - Avoid empty arguments not correctly handled on some devices (#337),"Do not pass any data to the event watcher, it is unused.",0
Immediately close the server socket on the device,0.66283774, - Terminate server properly without killing it on close (#1992),"In ""adb forward"" mode, close the server socket as soon as the client is connected. Even if unlikely to be useful, it allows to run several instances of scrcpy also in ""adb forward"" mode.",0
Workaround continuous resizing on Windows/MacOS,0.6578216, - Restore resizing workaround for Windows (#3640),"On Windows and MacOS, resizing blocks the event loop, so resizing events are not triggered:  - link  - link As a workaround, register an event watcher to render the screen from another thread. Since the whole event loop is blocked during resizing, the screen content is not refreshed (on Windows and MacOS) until resizing ends.",0
Disable stdout/stderr buffering on Windows,0.43317437, - Keep the console open on error on Windows (#261),"In MSYS2 on Windows, the output is buffered by default. Disable buffering to print output immediately. Note that in cmd.exe, it still prints nothing.",0
Remove black borders on double-click,0.99453485, - Remove black borders on double-click,Resize the window to fit the device screen on click on black borders (same as Ctrl+x). Suggested-by: Guillaume Roche groche@genymobile.com,1
Add links to AUR packages in README,0.32410496,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",,0
Make it work over tcpip,0.91564834, - Make it work over tcpip (#5),"""adb reverse"" currently does not work over tcpip (i.e. on a device connected by ""adb connect""): link To work around the problem, if the call to ""adb reverse"" fails, then fallback to ""adb forward"", and reverse the client/server roles. Keep the ""adb reverse"" mode as the default because it does not involve connection retries: when using ""adb forward"", the client must try to connect successively until the server listens. Due to the tunnel, every connect() will succeed, so the client must attempt to read() to detect a connection failure. For this purpose, when using the ""adb forward"" mode, the server initially writes a dummy byte, read by the client. Fixes link.",1
Store serial in server instance,0.43414068,$ANDROID_SERIAL,"The serial is needed for many server actions, but this is an implementation detail, so the caller should not have to provide it on every call. Instead, store the serial in the server instance on server_start(). This paves the way to implement the ""adb forward"" fallback properly.",0
Always use the best render scale quality available,0.5318928,"With HiDPI scaling on Windows, by default the quality was awful (#40, #2865).",Because why not. See link.,0
Reverse horizontal scrolling behavior,0.9335932, - Reverse horizontal scrolling behavior (#49),The SDL mouse wheel event seems inconsistent between horizontal and vertical scrolling. Movements to the left generate negative x values and to the right generate positive x values. Movements down (scroll backward) generate negative y values and up (scroll forward) generate positive y values. link Reverse the horizontal. Fixes link.,1
Merge branch 'fedora_install' (pull request #29),0.33543646, - Upgrade platform-tools to 29.0.1 (adb) in Windows releases,Document how to install on Fedora,0
Use one subsection by distribution in README,0.26207602, - Add option to change the push target (#659),"Now that instructions are given for both Debian/Ubuntu and Fedora, use subsections.",0
Document how to install on Fedora,0.28006417,ERROR:     -->   (usb)  fedcba09                        device  GM1913,,0
Improve dependencies in README,0.27495793, - Print both compiled and linked version of libs on --version,"Document server and client dependencies separately, to avoid unneeded packages installation when building using the prebuilt server. Also remove ""zip"", since it's only used for building a portable version (which is not documented in README).",0
Fix mouse clicks on LG devices,0.95638025, - Fix mouse clicks on LG devices (#18),Use default values (0) for some fields of PointerCoords so that mouse clicks work correctly on LG devices. Fixes link.,1
Support screens with dimensions not divisible by 8,0.9747478, - Support screens with dimensions not divisible by 8 (#39),"The codec only supports dimensions which are multiple of 8. Thus, when --max-size is specified, the value is always rounded down to the nearest multiple of 8. However, it was wrongly assumed that the physical size is always a multiple of 8. To support such devices, also round down the physical screen dimensions. Fixes link.",1
Add a FAQ for common issues,0.35776383,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,,0
Merge branch 'sdushantha' (pull request #28),0.35734385, - Upgrade SDL to 2.26.1 in Windows releases,Improve README syntax highlighting.,0
Add empty lines around code blocks,0.26310393,| -------------- |:------------------:|:------------------:,And fix spaces (do not randomly use non-breaking spaces for indentation).,0
"removed ""$"" and changed Mac OS ---> MacOS",0.49535728,| macOS          | :heavy_check_mark: | :heavy_check_mark:,,0
"added ""$"" in front of terminal commands",0.38749716," - Add bash and zsh autocompletion for -s/--serial (#3522, #3523)",,0
Map middle-click to HOME,0.74080276, - Bind middle- and right-clicks to HOME and BACK,Middle-click is useless in practice. Use it for HOME.,1
Map right-click to BACK if screen is on,0.58730996, - Bind middle- and right-clicks to HOME and BACK,"Right-click was used to turn the screen on. It did nothing when the screen was already on. Instead, in that case, press BACK (like Vysor). Suggested by: link/",0
Fix text input event segfault,0.59337425, - Fix segfault on copy/paste (#10),"The text input control_event was initially designed for mapping SDL_TextInputEvent, limited to 32 characters. For simplicity, the copy/paste feature was implemented using the same control_event: it just sends the text to paste. However, the pasted text might have a length breaking some assumptions:  - on the client, the event max-size was smaller than the text    max-length,  - on the server, the raw buffer storing the events was smaller than the    max event size. Fix these inconsistencies, and encode the length on 2 bytes, to accept more than 256 characters. Fixes link.",0
Unref the packet on error,0.5015969, - Return non-zero value on connection loss (#204),Do not leak the packet data on error.,0
Do not leak the packet data,0.50673527,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Oops! The content of the packets were never freed.,0
Document ./run script usage,0.2829119,"To pass command line arguments, it must still be started from a terminal or a script though.",Indicate how to run the app from the build directory in README. It's convenient during development.,0
Add link to blog article in README,0.2036356,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",,0
Update release checksums in README,0.40854132,Bugfixes,,0
Add developer documentation,0.4223787, - Add manpage,And update README.,0
Upgrade version to 1.0,0.44104233,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
Implement clipboard paste,0.76463854,Copy-paste workaround,"Paste computer clipboard to the device on Ctrl+v. The other direction (pasting the device clipboard to the computer) is not implemented. It would require a communication channel from the device to the computer, other than the socket used by the video stream.",1
Initialize struct field by field,0.24378288, - Fix missing initialization that leaded to kill the whole process,"Initializing with braces initializes the other fields to 0, which is not necessary.",0
Expose High DPI support configuration flag,0.66715866," - Enable DPI awareness by default on Windows (#40, #2865)","The High DPI support is enabled by default, so that the renderer use the full definition of High DPI screens. However, there are still mouse coordinates problems on some MacOS having High DPI support (but not all), so expose a way to disable it.",0
Do not fail on EAGAIN,0.2942469, - Improve some error messages,"A call to avcodec_receive_frame() may return AVERROR(EAGAIN) if more input is required. This is not an error, do not fail.",0
Provide a better URL to document key decomposition,0.25591898, - Mirror secure content (#36),Directly link to the relevant subsection.,0
Avoid useless variables initialization,0.37366137, - Fix missing initialization that leaded to kill the whole process,Initialize variables only when necessary.,0
Move the new avcodec implementation before the old,0.44527584,A new option --encoder allows to select another available H.264 encoder.,The API to decode the video frames is different depending on the libavcodec version. Move the new API usage to the #if-block.,0
Do not use return code for thread run function,0.35289896," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","The decoder sometimes returned a non-zero value on error, but not on every path. Since we never use the value, always return 0 at the end (like in the controller).",0
"Revert ""Enable high dpi support""",0.6327214," - Enable DPI awareness by default on Windows (#40, #2865)",Just enabling this flag breaks mouse location values. This reverts commit 38b56f552e0667db60c7022d4a2713da8fb4e338.,0
Shutdown sockets before closing,0.6769507, - Terminate server properly without killing it on close (#1992),The server socket does not release the port it was listening for if we just close it: we must also shutdown it.,0
Fix scroll wheel mouse position,0.5722982,Fix natural scrolling,"SDL_MouseWheelEvent does not provide the mouse location, so we used SDL_GetMouseState() to retrieve it. Unfortunately, SDL_GetMouseState() returns a position expressed in the window coordinate system while the position filled in SDL events are expressed in the renderer coordinate system. As a consequence, the scroll was not applied at the right position on the device. Therefore, convert the coordinate system. See link.",0
Double the default bitrate,0.571658,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"Set the default video bitrate to 8Mbps. This greatly increase quality on fast motion, without negative side effects.",0
Rename rotation detection method name,0.45097646,Rotation,The old name checkRotationChanged() did not suggest that the flag was reset.,0
Enable high dpi support,0.71712613," - Enable DPI awareness by default on Windows (#40, #2865)","Use high DPI if available. Note that on Mac OS X, setting this flag is not sufficient: On Apple's OS X you must set the NSHighResolutionCapable Info.plist property to YES, otherwise you will not receive a High DPI OpenGL display. link",1
Update README,0.50157475,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"Explain how to build, install and run the application.",0
Add Apache 2 LICENSE file,0.26347327, - Upgrade FFmpeg to 4.2.2 in Windows releases,,0
Terminate the server on stop,0.8345921, - Terminate server properly without killing it on close (#1992),"On user request to quit, two kinds of blocking calls must be interrupted on the server:  1. the reads from and writes to the socket;  2. the call to MediaCodec.dequeueOutputBuffer(). The former case was handled by calling shutdown() on the socket from the client, but the latter was not managed. There is no easy way to wake this call properly, so just terminate the process from the client (i.e. send SIGTERM on Linux) instead.",1
Initialize eof flag from BufferInfo,0.461995, - Implement (optional) buffering (#2464),"Stop encoding if the codec signaled the end of stream. The eof flag was read, but never written.",0
Clean up the server from temporary folder,0.35931557," - Add --no-cleanup option (#1764, #3020)","The server is copied to /data/local/tmp/scrcpy-server.jar and executed on the device. As soon as we are connected, we can unlink (rm) it from /data/local/tmp, to keep the device clean.",0
Clean up useless const-casts,0.28902698, - Fix (huge) memory leak (#26),"The function adb_execute() now expects a ""const char const "" parameter for the adb command, so there is no need to cast.",0
Rename ScrCpyServer to Server,0.7250104,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","The Server class is in package scrcpy, there is no need to repeat the name in the classname.",1
Add missing .PHONY in portable Makefile,0.3923486, - Change the Windows build (cross-compile from Linux),"The recipe ""build-portable"" is also the name of the generated directory. Add this name to the .PHONY list.",0
Rename SCRCPY_SERVER_JAR to SCRCPY_SERVER_PATH,0.8415666,"The problem is that scrcpy-server.jar is searched in the current directory, which is not necessarily the same as the scrcpy directory. Typically, if you added the scrcpy directory in your PATH to call scrcpy from anywhere, the current directory could be anything. This was very annoying and confusing (you had to set the environment variable SCRCPY_SERVER_PATH as a workaround).","The server is currently a JAR, but it may ba an APK or a DEX, so the variable name should not contain the type. Rename the environment variable, the Meson options and the C definitions.",1
Reuse server address,0.3307951," - Use another local port if 27183 is not available (#945, #951)","Set SO_REUSEADDR flag to server socket, so that bind() does not fail if we restart scrcpy immediately after we closed the previous one.",0
Log socket errors,0.7164682, - Print correct error messages on Windows socket errors (#2624),"Do not silently ignore close() and shutdown() errors, and use perror() to get the errno.",1
Terminate event controller thread on EOF,0.45696574, - Terminate server properly without killing it on close (#1992),"No exception was thrown on EOF, so the event controller did not terminate. This leaded to a further InvocationTargetException. Instead, terminate the event controller on EOF, so that the process terminates properly.",0
Terminate the device process gracefully,0.59968364," - Add specific exit code for device disconnection (#3083, #3085)","Call shutdown() on the device socket to make the device process finish its execution quickly and gracefully, without killing it.",0
Send and recv all data when necessary,0.3961812,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Expose net_recv_all() and net_send_all(), equivalent of net_recv() and net_send(), but that waits/retries until the requested length has been transferred. Use these new functions where it was (wrongly) assumed that the requested length had been transferred.",0
Avoid division by 0,0.21701598, - Return non-zero value on connection loss (#204),"If the frame_size width or height is 0, just return the current size to avoid calculations involving divison by 0.",0
Cleanup old code comment,0.35875982," - Add --no-cleanup option (#1764, #3020)",,0
Detect failure of device information read,0.4349453," - Add specific exit code for device disconnection (#3083, #3085)","If the received data is smaller than the device information size, then something is wrong.",0
Replace SDL_net by custom implementation,0.47970584, - Downgrade SDL to 2.0.8 in Windows releases (#425),"SDL_net is not very suitable for scrcpy. For example, SDLNet_TCP_Accept() is non-blocking, so we have to wrap it by calling many SDL_Net-specific functions to make it blocking. But above all, SDLNet_TCP_Open() is a server socket only when no IP is provided; otherwise, it's a client socket. Therefore, it is not possible to create a server socket bound to localhost, so it accepts connections from anywhere. This is a problem for scrcpy, because on start, the application listens for nearly 1 second until it accepts the first connection, supposedly from the device. If someone on the local network manages to connect to the server socket first, then they can stream arbitrary H.264 video. This may be troublesome, for example during a public presentation ;-) Provide our own simplified API (net.h) instead, implemented for the different platforms.",0
Improve decoder stopped event,0.4722674, - Retry on spurious encoder error (#3693),"The syntax was correct, but less readable, and it unnecessarily zeroed the fields other than ""type"". Create the event properly, from a separate method.",0
Prevent new window opening with CreateProcess(),0.4048307, - Keep the console open on error on Windows (#261),"Executing commands (like ""adb push"") created a new terminal window on Windows. Avoid it.",0
Reword Ctrl+x description,0.4373037,Ctrl and Shift,"Pressing Ctrl+x resizes the window to remove black borders, ""optimal"" is not well-defined.",0
Remove useless screen render on initialization,0.54688287,To turn the device screen off on start:,"screen_render() should not be called on initialization:  1. it is useless, since the window is hidden until the first frame;  2. it writes an empty texture (probably green) to the renderer.",0
Add Ctrl+i shortcut to enable/disable FPS counter,0.63632053,This release adds a new option --print-fps to start the FPS counter immediately.,"Disable FPS counter on start, and use Ctrl+i to enable/disable it.",0
Refactor screencontrol to inputmanager,0.37928328, - Prevent to turn screen off if no control (#608),"The ""screen control"" handled user input, which happened to be only used to control the screen. The controller and screen were passed to every function. Instead, group them in a struct input_manager. The purpose is to add a new shortcut to enable/disable FPS counter. This feature is not related to ""screen control"", and will require access to the ""frames"" instance.",0
Add description for meson options,0.30590618," - Add option to set a custom window title (#120, #614)",The descriptions are displayed in the result of: mesonconf builddir,0
Expose skip_frames as a build option,0.655294, - Add runtime option to render expired frames (i.e. not skip frames),It can be initially configured by: meson builddir -Dskip_frames=false Or on an existing builddir by: mesonconf builddir -Dskip_frames=false,0
Add FPS counter,0.91015947,FPS counter,"Remove frame counter from scrcpy.c and add a new FPS counter, logging as INFO the measured frame rate every second (on new frame).",1
Do not print usage on command error,0.5581017, - ~Do not print irrelevant workarounds errors (#994)~,"On error, a message is printed. If we print usage afterwards, it's easy to miss it.",0
Expose device serial as an optional argument,0.52185273,$ANDROID_SERIAL,"The device serial was provided as a positional argument: scrcpy 0123456789abcdef Instead, expose it as an optional argument, -s or --serial: scrcpy -s 0123456789abcdef This avoids inconsistency between platforms when the positional argument is passed before the options (which is undefined).",0
Extract argument parsing to specific functions,0.2688285," - Fix bit-rate parsing when ""long"" is 32 bits (#995)","To avoid a big switch/case, implement the argument parsing logic in separate static functions.",0
Use SDL_bool return to indicate success,0.40281054, - Return non-zero value on connection loss (#204),"For clarity and consistency across the application, return SDL_TRUE (instead of 0) on success and SDL_FALSE on failure (instead of non-zero).",0
Sort parameters by letter,0.26752725,"By default, letters are injected using key events, so that the keyboard behaves as expected in games (typically for WASD keys).","For readability, sort the command-line arguments parsing by letter.",0
Add run script,0.4845265," - Add Bash completion script (#2930, #3048)","Add a script to simplify the execution of scrcpy generated in a specific build directory. To run scrcpy generated in builddir, with a video size of 1024: ./run builddir -m 1024",0
Accept prebuilt server,0.3211403, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"Expose a 'prebuilt_server' option to pass the path of the prebuilt binary, so that the build does not require Android SDK. Usage: meson builddir -Dprebuilt_server=/tmp/my_prebuilt_server.jar",0
Require Meson 0.37,0.44632256,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"Older versions of Meson are too limited, and it's simple to install a newer version (""pip3 install meson"").",0
Always invoke gradle except as root,0.23668298,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"The custom target used to invoke Gradle from Meson should always be built, otherwise, the server would not be rebuilt on source changes. However, when enabling ""build_always"", gradle is invoked as root on ""sudo ninja install"" after ""ninja"", so it downloads the whole Gradle world into /root/.gradle. To avoid the problem, just do not call gradle if the effective user id is 0.",0
Replace meson subprojects by subdir,0.21508041,Windows PATH simplification,"Since Meson 0.44, subproject_dir may not be '.' anymore. This implies we must move app/ and server/ to a subprojects/ directory, which requires to also change some gradle files. Instead, just use subdir(), with options to disable building of the app or the server.",0
Refactor build system,0.4395595, - Change the Windows build (cross-compile from Linux),"The client was built with Meson, the server with Gradle, and were run by a Makefile. Add a Meson script for the server (which delegates to Gradle), and a parent script to build and install both the client and the server to the system, typically with: meson --buildtype release build cd build ninja sudo ninja install In addition, use a separate Makefile to build a ""portable"" version of the application (where the client expects the server to be in the current directory). Typically: make release-portable cd dist/scrcpy ./scrcpy This is especially useful for Windows builds, which are not ""installed"".",0
Provide config.h.in for old meson versions,0.30601013," - Add --encoder option (#1810, #1827)","The current meson version is able to generate a config.h from a configuration data object without any template. However, older versions of meson require a template, so provide it for compatibility.",0
Define macros wrappers for logs,0.5680822, - Add --verbosity to configure log level at runtime,"Use macros to wrap SDL_Log* functions with the ""application"" category.",0
Do not use too recent set_quoted(),0.303901, - Fix clipboard paste (#1658),Old versions of meson do not support set_quoted(). Replace the call by the old-fashioned manual quotation.,0
Enable debug logs only for debug builds on server,0.5094864, - Add --verbosity to configure log level at runtime,"Print the logs only if their level is not under the threshold, which is defined to INFO in release mode and DEBUG in debug mode.",0
"Fix ""terminate process"" on Windows",0.5623233," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",CloseHandle() does not terminate the process. TerminateProcess() does.,0
Log with category APPLICATION,0.48153704,Log input events,"All our logs should use APPLICATION category. The logs for other categories are not printed by default under the ""critical"" level.",0
Disable sanitizer on debug builds,0.38666487," - Add --no-cleanup option (#1764, #3020)","On our Windows machine, the mingw ld.exe does not support sanitizers. Exclude them from the default debug build.",0
Enable debug logs only for debug builds,0.53350496, - Add --verbosity to configure log level at runtime,"In release mode, use the default log priorities.",0
Enable link-time optimization for release,0.40734464,Reduced latency,Because why not.,0
Decompose accented characters,0.34714726, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"Characters like '' or '' are not resolved by getEvents(). For example, getEvents("""") returns null. However, it is possible to decompose them. For example, getEvents(""\u0301e"") returns the events generating """". Thank you Philippe! ;)",0
Properly clean up on exit,0.3926862, - Terminate server properly without killing it on close (#1992),"The SDL clean up does not crash anymore on exit, probably since the memory corruption caused by calling SDLNet_TCP_Close() too early has been resolved.",0
Timeout the server socket connection,0.53655654,ERROR: Server connection failed,"Wait no more than 2 seconds for accepting the connection from the device, since it blocks the event loop, preventing to react to SIGTERM (Ctrl+C).",0
Improve startup time,0.4428722,Reduced latency,"On startup, the client has to:  1. listen on a port  2. push and start the server to the device  3. wait for the server to connect (accept)  4. read device name and size  5. initialize SDL  6. initialize the window and renderer  7. show the window From the execution of the app_process command to start the server on the device, to the execution of the java main method, it takes ~800ms. As a consequence, step 3 also takes ~800ms on the client. Once complete, the client initializes SDL, which takes ~500ms. These two expensive actions are executed sequentially:                  HOST              DEVICE listen on port        |                  | push/start the server |----------------->|| app_process loads the jar accept the connection .   ^              ||                       .   |              ||                       .   | WASTE        ||                       .   |  OF          ||                       .   | TIME         ||                       .   |              ||                       .   |              ||                       .   v              X execution of our java main connection accepted   |<-----------------| connect to the host init SDL             ||                  |                      || ,----------------| send frames                      || |,---------------|                      || ||,--------------|                      || |||,-------------|                      || ||||,------------| init window/renderer  | |||||,-----------| display frames        |<++++++-----------| (many frames skipped) The rationale for step 3 occuring before step 5 is that initializing SDL replaces the SIGTERM handler to receive the event in the event loop, so pressing Ctrl+C during step 5 would not work (since it blocks the event loop). But this is not so important; let's parallelize the SDL initialization with the app_process execution (we'll just add a timeout to the connection):                  HOST              DEVICE listen on port        |                  | push/start the server |----------------->||app_process loads the jar init SDL             ||                  ||                      ||                  ||                      ||                  ||                      ||                  ||                      ||                  ||                      ||                  || accept the connection .                  ||                       .                  X execution of our java main connection accepted   |<-----------------| connect to the host init window/renderer  |                  | display frames        |<-----------------| send frames                       |<-----------------| In addition, show the window only once the first frame is available to avoid flickering (opening a black window for 100~200ms). Note: the window and renderer are initialized after the connection is accepted because they use the device information received from the device.",0
Turn screen on in control(),0.7447109,Turn screen on,Turning the screen on is semantically associated to control(): only creating the EventController object should not turn the screen on.,1
Provide decoder_init(),0.44867814," - Add --encoder option (#1810, #1827)",Expose an initializer so that the caller does not have to guess what fields must be initialized.,0
Do not release TCP sockets while still in use,0.53437114, - Terminate server properly without killing it on close (#1992),"SDLNet_TCP_Close() not only closes, but also release the resources. Therefore, we must not close the socket if another thread attempts to read it. For that purpose, move socket closing from server_stop() to server_destroy().",0
Enable sanitizer in debug builds,0.38034844, - Add --verbosity to configure log level at runtime,"""make build-debug"" will build with ASAN and USAN enabled.",0
Move frame updating to screen.c,0.4585185,scrcpy --turn-screen-off,"Replace screen_update() by a higher-level screen_update_frame() handling the whole frame updating, so that scrcpy.c just call it without managing implementation details.",0
Kill the server immediately on close,0.8768941, - Terminate server properly without killing it on close (#1992),"Do not wait 100ms anymore to let the server print any exception: we justly want to ignore them. Moreover, there is no nanosleep() on Windows, so this solve another problem.",1
Avoid server stacktraces on close,0.66718376, - Terminate server properly without killing it on close (#1992),"On close, the socket is closed by the client, and the server process is killed. This leads to (expected) exceptions, that should not be printed.",0
Do not try to decode video when EOF is reached,0.5274663, - Retry on spurious encoder error (#3693),"When the video stream socket is closed and read_packey() returns -1, av_read_frame() still returns 0. To detect EOF, check the flag eof_reached in the AVIOContext. This avoids garbage errors on closing.",0
"Send ""screen on"" command only on mouse down",0.6040673, - Prevent to turn screen off if no control (#608),"Avoid to send the command twice, once on mouse down, once on mouse up.",0
Fix deadlock on exit if SKIP_FRAMES disabled,0.50599957, - Add runtime option to render expired frames (i.e. not skip frames),"On exit, the renderer will not consume frames anymore, so signal the condition variable to wake up the decoder.",0
Move frame swapping logic to frame.c,0.43772888, - Reduce latency by 1 frame (#646),Expose frames_offer_decoded_frame() and frames_consume_rendered_frame() so that callers are not exposed to frame swapping (between the decoding and rendering frames) details.,0
Unlock mutex on screen update failure,0.4923572, - Workaround screen off/on issue on exit (#1670),The mutex was not unlocked on all code paths.,0
Move control-related code to screencontrol.c,0.4018868, - Prevent to turn screen off if no control (#608),"Move the code handling user input from scrcpy.c to a separate file, screencontrol.c.",0
"Remove the ""adb reverse"" tunnel immediately",0.59380233, - Add --force-adb-forward,"As soon as we accepted a connection, we can remove the ""adb reverse"" tunnel.",0
Move device-related code to device.c,0.428337," - Improve device selection (list devices, -d, -e) (#3005)","Move the code to read the initial device info from scrcpy.c to a separate file, device.c.",0
Move server-related code to server.c,0.4339573, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"The file server.c already existed, but exposed a low-level API. Make it higher-level, so that scrcpy.c does not handle server details directly.",0
Move screen-related code to screen.c,0.44338244,scrcpy --turn-screen-off,"The file scrcpy.c contains too many different things in addition to the main logic, so move the screen code to a separate file, screen.c.",0
Add missing include guards,0.36370045, - ~Do not print irrelevant workarounds errors (#994)~,"In practice, these headers are included only once, but it's a good practice to always use include guards.",0
Rename control to controller,0.27129886, - Bind 4th mouse button to APP_SWITCH (#2258),"The struct decoder is defined in decoder.h. For naming consistency, define the struct controller in controller.h.",0
Add missing static,0.26962253," - Add --no-power-on (#3148, #3210)","Some functions in scrcpy.c are not used outside the file, so declare them static.",0
Apply Genymobile rules for Android projects,0.40884495," - Add support for Android 12 (#2129, #2402)",Apply Genymobile checkstyle and gradle build files organization.,0
Fix horizontal scrolling constant,0.7233815,Fix natural scrolling,Use AXIS_HSCROLL (available since API 12) instead of AXIS_SCROLL (since API 26).,1
Simplify EventController,0.359295,Repeating key events,"In handleEvent(), connection.receiveControlEvent() may never return null: either it returns a valid ControlEvent, either it throws an Exception. Therefore, there is no need to propagate a flag to indicate whether it returned a valid ControlEvent.",0
Extract control event parsing to separate methods,0.420874,Log input events,Use one parse method per control event type.,0
Remove instrumented test dependencies,0.2711179, - Remove deprecated short options -T and -c,"The server is not a real Android application, it's just a jar with a main method. Instrumented tests are meaningless in this context.",0
Recreate codec and display on rotation changed,0.5624858,Display rotation,"On some devices, we can reuse the same codec and display, but on some others (e.g. Nexus 5X with Android 7.1.2), it crashes on codec.stop() with an IllegalStateException. Therefore, always recreate the codec and display, so that it works on all devices.",0
Always release output buffer,0.5117162, - Implement (optional) buffering (#2464),"If rotation changed, the dequeued output buffer was never released. Move it to a finally block to avoid the leak.",0
Add delay before stopping server,0.6102583, - Terminate server properly without killing it on close (#1992),Let some time to print any exception trace before killing it.,0
Log user request to quit,0.43936062, - Add an option to power off the device on close (#824),Log at debug level user requests to quit.,0
Include dependencies version,0.49483353, - Print both compiled and linked version of libs on --version,"On --version, also print the dependencies version scrcpy has been compiled against.",0
Expose application version,0.29769245, - Print both compiled and linked version of libs on --version,Expose scrcpy version via -v or --version.,0
Make SKIP_FRAMES a compilation flag,0.6022068, - Add runtime option to render expired frames (i.e. not skip frames),"The skip_frames flag was a non-configurable runtime flag. Since it is not exposed to the user, there is no need for a (possible) runtime cost. For testing purpose, we still want it to be configurable, so make it a compilation flag.",0
Use meson to configure default values,0.2788912,"The initial value may also be provided on start via --rotation. Possible values are 0, 1, 2 and 3 (having the same meaning as that of --lock-video-orientation).",Make meson generate config.h with configured values.,0
Change the window icon color in debug mode,0.44599253, - Add option to disable window decorations (#762),"To highlight the debug/release mode of the running application, use a different window icon color in debug mode.",0
Add Makefile recipe for debug build,0.42467058, - Change the Windows build (cross-compile from Linux),Expose commands to build the application in debug mode.,0
Parse XPM without SDL_image,0.32380643, - Upgrade SDL to 2.0.16 in Windows releases (#2589),"We encounter some problems with SDL2_image on MSYS2 (Windows), so implement our own XPM parsing which does not depend on SDL_image. The input XPM is considered safe (it's in our source repo), so do not check XPM format errors. This implies that read_xpm() is not safe to call on any unsafe input. Although less straightforward, use SDL_CreateRGBSurfaceFrom() instead of SDL_CreateRGBSurfaceWithFormatFrom() because it is available with SDL versions older than 2.0.5.",0
"Revert ""Fix Makefile for Windows""",0.56327665, - Change the Windows build (cross-compile from Linux),"In MSYS2 on Windows, the behavior is the same as on Linux. On systems where the behavior is not the same, just customize the GRADLE variable: GRADLE=gradlew make release This reverts commit de192cab1b5f0829fedd34d4feb569445c02346c.",0
Enable mouse focus clickthrough only if available,0.8291613, - Fix mouse focus clickthrough,The hint SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH appeared in SDL 2.0.5. Ignore it if the SDL version is older.,1
Fix Makefile for Windows,0.6518609, - Change the Windows build (cross-compile from Linux),"The default value of GRADLE is ""./gradlew"", which is the correct value on Linux. On Windows, it should use gradlew.bat (by calling ""gradlew"") instead.",0
Add window icon,0.5709966, - Add icon to scrcpy.exe (#2815),Add a bugdroid icon loaded from an XPM.,0
Fix scrcpy() return value,0.7619967,scrcpy v1.22,"The scrcpy() function returns a SDL_bool to indicate its success, but was initialized to 0 (SDL_FALSE) instead of SDL_TRUE.",1
"Add ""make run""",0.4044268,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.","To run the app during development, add a recipe ""run"" to the Makefile.",0
Hide services in Device,0.40457183,Turn device screen off,"Expose useful methods directly in Device, without exposing the service managers.",0
Cache managers in ServiceManager,0.17625402,Mipmapping is automatically enabled if the rendering is done by OpenGL 3.0+ or OpenGL ES 2.0+.,"To guarantee that we instantiate services only one, cache the value the first time.",0
Refactor actions calls,0.28856215,Repeating key events,"The purpose of handle_shortcut() was to group all actions together, whether they are initiated from a text input event or a keycode event. However, it did not handle the case where it was initiated from a mouse event (a right-click must turn the screen on), since the action was identified by the shortcut char. Instead, expose one function per action, to be called directly from where the event is handled.",0
fixup! Handle all shortcuts in the same function,0.5609225, - Make shortcut modifiers customizable (#1598),,0
Add new shortcuts description in help,0.58995825,New shortcuts,Document the new shortcuts in the help (scrcpy --help).,0
Turn screen on on start,0.81827235,Turn screen on,"When starting scrcpy, immediately turn the screen on.",1
Turn screen on on right-click,0.76792157,Turn screen on,"The right-click is almost useless on Android, so use it to turn the screen on. Add a new control event type (command) to request the server to turn the screen on.",1
Reformat EventController,0.34942165, - Fix mouse events deserialization (comment in #350),Reformated by Android Studio.,0
Handle all shortcuts in the same function,0.54136324,Customizable shortcut modifier,"Shortcuts are sometimes initiated from a keycode event, and sometimes from a text input event. Move the handling to a unique function.",0
Extract shortcut actions to separate functions,0.47607297,macOS shortcuts,"To simplify event handling code, move all actions to separate functions.",0
Move switch fullscreen logs,0.396137,Log input events,Logs were printed by the caller of switch_fullscreen(). Move them inside the function to simplify event handling code.,0
Add shortcuts for physical keys,0.5814543,New shortcuts,"Add shortcuts for HOME, BACK, APPS, POWER, VOLUME_UP and VOLUME_DOWN.",0
Rename the server scrcpy-server.jar,0.780547, - Find scrcpy-server.jar in the correct directory on Windows,"The server is built as an APK to simplify the build, but in fact this is a simple jar (it is not even signed). In order to avoid confusion, rename it to .jar, so that users do not try to ""adb install"" it. Also rename it from ""scrcpy"" to ""scrcpy-server"" to distinguish from the client-side.",1
Force the server target filename,0.5363672, - Refuse to push server if it points to a directory (#956),"The server path may be customized using SCRCPY_APK. If its basename is different from ""scrcpy.apk"", it will be pushed with a different name, so the execution would fail. Therefore, force the push target filename.",0
Do not send simple mouse move events,0.59632415, - Fix mouse events deserialization (comment in #350),"Moving the mouse without any button pressed has no effect on Android. Therefore, do not even send these very frequent events.",0
Enable mouse focus clickthrough,0.9412291,Mouse focus clickthrough,Consider a click to gain focus as a click on the device.,1
Add bit-rate command-line option,0.64962906,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,Add a command-line option (-b/--bit-rate) to customize the video bit-rate.,0
Check empty string before strtol(),0.36662117, - Continue text injection on failed character (#509),There is no need to call strtol() if the input string is empty.,0
Remove useless newlines in SDL_Log,0.548013, - Do not expose internal SDL logs to users (#1441),Trailing new line is not necessary in SDL_Log methods.,0
Add debug log for shortcuts,0.6216653, - List available shortcut keys on error (#1681),Add a debug log for every succeeded shortcut action.,0
Fix rotation bug in fullscreen mode on X11,0.5647429, - Fix device rotation while the window is maximized (#750),"On rotation, scrcpy resize the window to match the new rotation. However, in fullscreen mode, setting the window size does not change the windowed size on X11, so the behavior is incorrect. To avoid the problem, apply the resize only after fullscreen is disabled.",0
Add --help,0.5752106, - Add manpage,"Provide command-line help, with -h/--help option.",0
Rename maximum_size to max_size,0.35624912, - Adapt --help output to terminal size,"The long option is --max-size, so for consistency, adapt the code accordingly.",0
Use long command-line options,0.577457,Some command line options were first introduced with a short version:,"In addition to the short form (e.g. ""-p""), add the long form (""--port"").",0
Indent switch blocks content,0.32695723,Ctrl and Shift,"For readability, indent ""case"" in switch blocks. Replace: switch (x) { case 1:     // ... case 2:     // ... case 3: { // a local scope block     int i = 42;     // ... } } By: switch (x) {     case 1:         // ...     case 2:         // ...     case 3: { // a local scope block         int i = 42;         // ...     } }",0
Use ADB environment variable,0.5895001,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,Use the ADB environment variable to provide a custom adb path.,0
Encode video using MediaCodec API,0.60432506, - Add --codec-options to pass MediaFormat options directly (#1325),"Replace screenrecord execution by manual screen encoding using the MediaCodec API. The ""screenrecord"" solution had several drawbacks:  - screenrecord output is buffered, so tiny frames may not be accessible    immediately;  - it did not output a frame until the surface changed, leading to a    black screen on start;  - it is limited to 3 minutes recording, so it needed to be restarted;  - screenrecord added black borders in the video when the requested    dimensions did not preserve aspect-ratio exactly (sometimes    unavoidable since video dimensions must be multiple of 8);  - rotation handling was hacky (killing the process and starting a new    one). Handling the encoding manually allows to solve all these problems.",0
Register uncaught exception handler,0.32909262, - Keep the console open on error on Windows (#261),Never miss an exception by using an uncaught exception handler.,0
Extract argument parsing,0.3028335," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",Move argument parsing to a separate method.,0
Use the Point class from the framework,0.1862345,To enable this mode:,Replace our custom Point class by android.graphics.Point.,0
Convert server to an Android project,0.38498503,"On Windows however, the server path may not be constant, so the build is ""portable"": scrcpy-server.jar is expected to be in the same directory as scrcpy.exe. Concretely, to push the server to the device, scrcpy just executed:","To simplify the device server-side build, use gradle to create an APK, even if we use it as a simple jar, by running its main() method.",0
Handle resized video stream,0.51155037,Auto-downscale on MediaCodec error,"Accept a parameter to limit the video size. For instance, with ""-m 960"", the great side of the video will be scaled down to 960 (if necessary), while the other side will be scaled down so that the aspect ratio is preserved. Both dimensions must be a multiple of 8, so black bands might be added, and the mouse positions must be computed accordingly.",0
Do not use device as a singleton,0.3992858, - Initialize Application object (fix crashes on some devices) (#940),"The device instance should be able to store a state (e.g. the maximum size requested by the user), so it should not be a singleton.",0
Swap position/point names,0.26106176,Windows PATH simplification,A point is a 2D vector. A position represent a point relative to the screen size.,0
Inject mouse events as touchscreen,0.7377862, - Inject mouse events with a virtual device id (fix crashes on some,"As a mouse, some clicks on close prositions are sometimes not generated on some devices.",1
Add toString() methods to java point classes,0.20339695,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,Useful for debugging.,0
Add missing source files in server Makefile,0.3387119, - Change the Windows build (cross-compile from Linux),"All classes were still built, but make was not able to detect changes on missing files.",0
Add shortcut to resize to ratio 1:1,0.5820556," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)",Make Ctrl+g resize the window to the size of the video (pixel-perfect).,0
Capture all Ctrl events,0.5534466,Log input events,"For consistency, capture all Ctrl events (not only those we react to).",0
Rename screen -> scrcpy -> main,0.6922251,scrcpy --turn-screen-off,"Rename scrcpy.c to main.c (this file handles the command line parsing), and screen.c to scrcpy.c (it exposes the entry point scrcpy()).",0
Scale mouse events,0.58886164," - Correctly handle mouse events outside device screen (#353, #357)","The video screen size on the client may differ from the real device screen size (e.g. the video stream may be scaled down). As a consequence, mouse events must be scaled to match the real device coordinates. For this purpose, make the client send the video screen size along with the absolute pointer location, and the server scale the location to match the real device size before injecting mouse events.",0
Keep screen info in cache,0.466997,"However, the physical screen was not automatically restored on disconnection, which was annoying. Now it is.","Currently, we only use screen information (width, height, rotation) once at initialization, to send the device size to the client. To be able to scale mouse events, make it accessible in memory. For this purpose, replace the ""static"" DeviceUtil to a singleton Device, and update it on every screen rotation.",0
Move server-related functions to server.c,0.4256553, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"In addition to the functions to start/stop the server, move the functions to push the jar and enable/disable the ""adb reverse"" tunnel.",0
Add debug log on new screenrecord execution,0.5365418," - Add screen recording (#21, #292)","To easily notice problems with screenrecord execution, log every new instance started.",0
Extract server-related functions,0.3819148, - Avoid additional buffer copy in userspace on the server,"To lighten screen.c, move start_server() and stop_server() to a separate file.",0
Add unit tests for control event serialization,0.3930794,Log input events,"Test serialization of the 4 types of events (keycode, text, mouse, scroll).",0
Use pointers-to-const where relevant,0.23661333, - Inject mouse events with a virtual device id (fix crashes on some,Explicitly declare const a function parameter intended to be read-only.,0
Ignore keycodes generating unwanted events,0.681757," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)","Ctrl, Alt, Shift and Meta should not be transmitted to the Android device: they may generate unwanted events. For instance, resizing the window using Alt+click will generate an Alt event which may open a menu on the device. All keycodes that generate a text input must also be excluded, to avoid the text input to be written twice.",0
Fix includes windows-specific source,0.5404908," - Rework console/noconsole versions on Windows (#1875, #1988)","The header strutil.h is two levels above sys/win/command.c, and SDL_log.h was missing.",0
Add unit testing instructions in README,0.3500808, - Add manpage,,0
Add tests for strutil,0.30977038, - Apply workarounds only on error (#994),Test our custom string handling functions.,0
Implement keyboard/mouse control,0.5721767,HID keyboard,To control the device from the computer:  - retrieve mouse and keyboard SDL events;  - convert them to Android events;  - serialize them;  - send them on the same socket used by the video stream (but in the  opposite direction);  - deserialize the events on the Android side;  - inject them using the InputManager.,0
Log to android logger and stdout/stderr,0.44073275, - Add --verbosity to configure log level at runtime,,0
Move platform specific to sys/,0.3599044, - Change the Windows build (cross-compile from Linux),"Move unix/ and win/ to sys/, so that we can use android/ for android headers without confusion.",0
Use _exit() instead of exit() in child process,0.50451934, - Terminate server properly without killing it on close (#1992),"exit() should not be called from within a child process, since it would call functions registered with atexit(), and flush stdio streams. Use _exit() instead.",0
Do not call SDL_Quit(),0.46556246, - Terminate server properly without killing it on close (#1992),"It may crash in i965_dri.so when calling SDL_Quit (probably a driver bug). To avoid a segmentation fault, do not call SDL_Quit().",0
Always destroy in reverse order,0.32230064,"In v1.20, to minimize the probability of occurrence of the wrong order, a delay of 2 milliseconds was added before injecting Ctrl+v: e4163321f00bb3830c6049bdb6c1515e7cc668a0. Then it was increased to 5ms: 45b0f8123a52f5c73a5860d616f4ceba2766ca6a. But even with 5ms, the wrong behavior sometimes happens.","For consistency and safety, always destroy objects in reverse order they were initialized.",0
Improve main() error handling,0.5075327, - Improve some error messages,"Parse the command-line arguments first, and do not ignore avformat network init failure. At the end, deinit the avformat network.",0
Fix comment about data sent over the socket,0.5032917, - Print correct error messages on Windows socket errors (#2624),We now send the device name in addition to the screen dimensions on the socket. Update the comment accordingly.,0
Optimize includes,0.24917619, - Implement (optional) buffering (#2464),"Only include SDL_stdinc.h for SDL_bool, not the whole SDL.h.",0
Do not inline lockutil functions,0.3577051," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)",This duplicates chars in the final binary.,0
Remove useless forward declarations,0.369861,Remove deprecated short options,The required headers are included anyway.,0
Handle condition variable failure,0.537479, - Return non-zero value on connection loss (#204),Add condition variables function wrappers to handle unexpected failure.,0
Rename (un)lock_mutex to mutex_(un)lock,0.30695117," - Add option to disable screensaver (#1370, #1502)","For consistency, rename lock_mutex and unlock_mutex to mutex_lock and mutex_unlock.",0
Fix function signature,0.27433926, - Apply workarounds only on error (#994),Use void for parameters (this project is in C).,0
Use SDL_bool return type instead of int,0.41156316, - Update SDL to 2.0.9 included in Windows releases,"Many functions returned an int to indicate their success. For clarity, use SDL_bool instead.",0
Destroy condition variable on frames destruction,0.50061065, - Remove option --render-expired-frames (#2268),"A condition variable was init for the ""struct frames"", but was never destroyed.",0
Implement framework wrappers separately,0.20887753,module,"Move the DeviceUtil internal static classes to public classes, in a separate package ("".wrappers""). This paves the way to implement InputManager properly.",0
Send device name on the socket,0.45964003, - Consider emulators as TCP/IP devices (-e) (#3137),"Make the server send the device name along with the width and height, so that the client may use it as the window title.",0
Add README,0.4533675, - Add manpage,,0
Initial commit,0.41219914,The first official release ;-),Start a new clean history from here.,0
