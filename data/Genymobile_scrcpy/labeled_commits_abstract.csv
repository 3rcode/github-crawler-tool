Index,Commit Message Abstract,Score Abstract,Corresponding Changelog Sentence Abstract,Commit Desription Abstract,Label
1,Simplify mouse injection implementation,0.5712643,Add HID mouse support,PR #4005 link Refs #1444 link Refs #3932 link Signed-off-by: Romain Vimont rom@rom1v.com,0
2,"Mirror ""secure"" content",0.9172945, - Mirror secure content (#36),Reword the supported API versions for audio forwarding sentence to clarify that it supports API >= 30 PR #3949 link Signed-off-by: Romain Vimont rom@rom1v.com,1
3,Bump version to 1.1,0.7930134, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
4,Merge branch 'npes87184:push_file_to_sdcard' into dev (#226),0.6877588, - Push to /sdcard/Download by default (#2384),,0
5,Happy new year 2020!,0.35762638,The first official release ;-),,0
6,Remove useless intermediate variable,0.5451046, - Remove deprecated short options -T and -c,"After setting ""USB debugging (security settings)"", a reboot is necessary.",0
7,Merge pull request #396 from npes87184/master,0.4253397, - Apply workarounds only on error (#994),"Reference the FAQ section about ""HID/OTG issues on Windows"" from the HID/OTG documentation.",0
8,Recreate codec and display on rotation changed,0.753536,Display rotation,,1
9,Initialize input manager dynamically,0.5033754,"Add ""raw key events"" mode","The documentation is about audio bit rate, not video bit rate. PR #3839 link Signed-off-by: Romain Vimont rom@rom1v.com",0
10,Rename SC_MOD_ to SC_SHORTCUT_MOD_,0.60309696,scrcpy -S,The previous formulation could suggest that the device camera could be used as a webcam. This is not the case (yet?).,0
11,Terminate the device process gracefully,0.6496805,Turn device screen off,And how to solve it.,0
12,Remove unused no_window field,0.6000659, - Accept negative window position (#1242),"scrcpy is available directly in the distro, drop link to the overlay (which only contains older versions). PR #3816 link Signed-off-by: Romain Vimont rom@rom1v.com",0
13,Fix screen comments,0.65703696,Screen off improvements,The Android documentation has been updated.,0
14,Forward double-click events,0.76564014, - Fix double-click events (#97),Link to a more relevant page in the official documentation to enable USB debugging.,1
15,Add functions to convert wide char to UTF-8,0.6064142, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"Users sometimes only read the OS-specific instructions, they must be aware of the prerequisites.",0
16,Simplify Windows process inheritance configuration,0.70998067,Windows PATH simplification,,1
17,Fix --no-clipboard-autosync bash completion,0.6787311," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)","The codec id to write as codec parameters is the one from the v4l2 encoder, not from the decoder. Regression introduced by be985b8242e0626288674b84c5039725170f8f0c. Fixes #3795 link",0
18,Fix link error on Windows Subsystem for Linux,0.5671664, - Workaround Windows issue with non-ASCII path (#2619),An include was missing. Fixes #3783 link,0
19,Move common structs to coords.h,0.41827196,scrcpy -K  # short version,An int was compared with an unsigned: ../app/src/audio_player.c:290:27: warning: comparison of integers of different signs: 'int' and 'unsigned int' [-Wsign-compare]             if (abs(diff) < ap->sample_rate / 1000) {                 ~~~~~~~~~ ^ ~~~~~~~~~~~~~~~~~~~~~~,0
20,Do not use too recent set_quoted(),0.3722033, - Remove option --render-expired-frames (#2268),"In C, a label can only be followed by a statement, not a declaration. An error in app/src/screen.c violated this, and led to a build error with an error message similar to the one below: ../app/src/screen.c:821:13: error: expected expression             bool ok = sc_screen_init_size(screen);             ^ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/13.0.0/include/stdbool.h:15:14: note: expanded from macro 'bool' define bool _Bool module ../app/src/screen.c:822:18: error: use of undeclared identifier 'ok'             if (!ok) {                  ^ 2 errors generated. This could be fixed by introducing a new block (or compound statement; as is already being done in the next case). That is a statement. Fixes #3785 link PR #3787 link Signed-off-by: Ruoyu Zhong zhongruoyu@outlook.com Signed-off-by: Romain Vimont rom@rom1v.com",0
21,Remove useless assignments on error,0.6086208, - ~Do not print irrelevant workarounds errors (#994)~,,0
22,Simplify ffmpeg dependencies Makefile,0.59942114, - Upgrade FFmpeg to 4.3.1 in Windows releases,,0
23,Rename adb functions to adb_exec_*,0.46803117,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
24,Fix leak on error,0.6380304, - Fix (huge) memory leak (#26),,0
25,Expose thread id,0.477419,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",,0
26,Fix FAQ.ko.md,0.5599777, - Various technical fixes,The README.md page is HUGE. Split it up. Also document audio forwarding and improve installation instructions for each platform and user documentation. PR #3774 link,0
27,Remove useless dependencies reference,0.4387171, - Print both compiled and linked version of libs on --version,,0
28,Use common sc_action in input manager,0.56954646,"scrcpy is a command line application, and is configured with command line arguments.",Add some high-level documentation on the audio player implementation.,0
29,Make internal recorder function static,0.5640507,Asynchronous recording,"If the compensation is the same (typically when it is 0), do not reapply it.",0
30,Improve error message for unknown encoder,0.79391706, - Retry on spurious encoder error (#3693),"For less than 1ms, the estimated drift is just noise.",1
31,Configure version at meson project level,0.38537344, - Add --verbosity to configure log level at runtime,Suggest the video and audio specific options instead.,0
32,Make serial optional to find USB devices,0.6762621,"In OTG mode, the USB devices are also listed for convenience:",The -F option was already removed.,0
33,"Remove ""on Linux"" in FAQ",0.436719, - Workaround screen off/on issue on exit (#1670),This option did nothing since it was deprecated. Totally remove it.,0
34,Adapt help to terminal size,0.9548018, - Adapt --help output to terminal size,Include the latest version of adb in Windows releases.,1
35,Introduce VecDeque,0.36113554,module,Include the latest version of SDL in Windows releases.,0
36,Reuse server address,0.4800364, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,IOException may not be thrown from this method.,0
37,Merge pull request #542 from npes87184/dev,0.43585902, - Push to /sdcard/Download by default (#2384),"Once underflow has been read with a lock, the buffering and compensation may be performed without shared variables.",0
38,Apply new compensation only if it changed,0.38266405, - Various technical refactors and fixes,"On buffer underflow, the average buffering must be updated, but it is intended to be accessed only from the receiver thread. Make the player and the receiver thread communicate the underflow via a new field (ap->underflow).",0
39,Fix SC_EXIT_CODE_NONE value,0.6049073, - Fix scrcpy-noconsole.exe (#691),Rename read_available to can_read and write_available to can_write. This is more readable.,0
40,Fix clipboard paste condition,0.9242841, - Fix clipboard paste (#1658),"Add a thin wrapper around bytebuf to handle samples instead of bytes. This simplifies the audio player, which mostly handles samples.",1
41,Indicate that libs are included for Windows,0.7383275," - Enable libusb support for Windows 32-bit releases (#3204, #3206)","In theory, this buffer must be dimensioned for a target duration, so its size in bytes should depend on the sample rate.",1
42,Add README file in Turkish,0.46176925, - Add option --no-control to mirror in read-only,"On initial connection, scrcpy sent some device metadata:  - the device name (to be used as window title)  - the initial video size (before any frame or even SPS/PPS) But it is better to provide the initial video size as part as the video stream, so that it can be demuxed and exposed via AVCodecContext to sinks. This avoids to pass an explicit ""initial frame size"" for the screen, the recorder and the v4l2 sink.",0
43,Improve resizing workaround,0.74664474, - Restore resizing workaround for Windows (#3640),Make scrcpy fail if an important screen event (like frame update) fails.,1
44,Move functions from process to file,0.47555125, - Add feature to push file to /sdcard/ via drag & drop (#226),This will allow the codec header to contain more than the codec id.,0
45,Improve features presentation in README,0.5777733, - Improve --show-touches behavior,"Now that the recorder have access to the codec context, it may automatically initialize the stream codec parameters. The V4L2 sink could do the same.",0
46,Improve slope estimation on start,0.41005754," - Add support for high-precision scrolling (#3363, #3369)","After the refactor performed by the previous commit, the functions to wait the video stream and the audio stream could be inlined.",0
47,Improve README.zh-Hans.md,0.5097177, - Add ZSH completion script (#3012),"Previously, the packet sink push() implementation just set the codec and notified a wait condition. Then the recorder thread read the codec and created the AVStream. But this was racy: an AVFrame could be pushed before the creation of the AVStream, causing its video_stream_index or audio_stream_index to be initialized to -1. Also, in the future, the AVStream initialization might need data provided by the packet sink open(), so initialize it there (with a mutex).",0
48,Remove useless else,0.572727,Remove deprecated short options,"Create the codec context from the demuxer, so that it can fill context data for the decoder and recorder.",0
49,Send separate DOWN/UP key events,0.6870355,"Add ""raw key events"" mode",It is as important as underflow logs.,0
50,Bump version to 1.5,0.82009083, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"The sc_file_pusher is lazy-initialized, but it was stopped and joined in all cases (accessing uninitialized values). Detected by poisoning the struct scrcpy instance with ASAN enabled.",1
51,Add Indonesian translation for README.md,0.38195407," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",The field sc_fps_counter.interrupted was never initialized explicitly. Signed-off-by: Romain Vimont rom@rom1v.com,0
52,Mention SCRCPY_ICON_PATH envvar in README,0.6016688,scrcpy v1.11,"Recording is background task, writing the packets to a file is not urgent.",0
53,Happy new year 2021!,0.37174812,The first official release ;-),The audio demuxer thread is the one filling the audio buffer read by the SDL audio thread. It is time critical to avoid buffer underflow.,0
54,Fix typo in comments,0.48665747, - Improve some error messages,Expose an API to change the priority of the current thread.,0
55,Upgrade gradle,0.54697484, - Various technical fixes,"All server logs were printed to stdout, while all client logs were printed to stderr. Instead, use stderr for warnings and errors, stdout for the others:  - stdout: verbose, debug, info  - stderr: warn, error",0
56,Synchronize computer-to-device empty clipboard,0.7029388," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)","System.out.println() first prints the message, then the new line. Between these two calls, the client might print a message, breaking formatting. Instead, call System.out.print() with '\n' appended to the message.",1
57,"Make ""adb get-serialno"" interruptible",0.5525277,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:","For raw audio codec, some audio options are ignored. PR #3757 link",0
58,Move device-related code to device.c,0.5980712,"Now, it is also possible to copy the Android device clipboard (Ctrl+c) to paste it on the computer.",Add support for raw (PCM S16 LE) audio codec (a raw decoder is included in FFmpeg). PR #3757 link,0
59,Add cond_wait_timeout(),0.4415235,"To minimize latency, scrcpy was to always display a frame as soon as it is available, without waiting. This design decision is (on purpose) at the cost of jitter: the delay between frames is not preserved. Note that this does not impact recording (--record), which writes the timestamps captured on the device.",Add an alternative AudioRecorder to stream raw packets without encoding. PR #3757 link,0
60,Fix typo in FAQ,0.4819488, - ~Do not print irrelevant workarounds errors (#994)~,"On the server side, several components are started, stopped and joined. Extract an interface to handle them generically. This will help to support both encoded and raw audio stream, because they will be two different concrete components, but implementing the same interface. PR #3757 link",0
61,Add option to select video codec,0.6560128, - Add H265 and AV1 video codec support (#3713),"The audio capture was implemented in AudioEncoder. In order to reuse it without encoding, extract it to a separate class. PR #3757 link",0
62,"Rename ""codec"" variable to ""mediaCodec""",0.6070874, - Add --codec-options to pass MediaFormat options directly (#1325),"On push, frame sinks report downstream errors to stop upstream components. Do not ignore the error.",0
63,Add option --window-title,0.80880666," - Add option to set a custom window title (#120, #614)",Expose an option to add a buffering delay (in milliseconds) before playing audio. This is similar to the options --display-buffer and --v4l2-buffer for video frames. PR #3757 link,1
64,Add --audio-buffer,0.73841053," - Add Audio forwarding (#14, #3757)",The new chlayout API has been introduced in FFmpeg 5.1. Use the old channel_layout API on older versions. PR #3757 link,1
65,Remove cbuf,0.45476264, - Remove option --render-expired-frames (#2268),"Play the decoded audio using SDL. The audio player frame sink receives the audio frames, resample them and write them to a byte buffer (introduced by this commit). On SDL audio callback (from an internal SDL thread), copy samples from this byte buffer to the SDL audio buffer. The byte buffer is protected by the SDL_AudioDeviceLock(), but it has been designed so that the producer and the consumer may write and read in parallel, provided that they don't access the same slices of the ring-buffer buffer. PR #3757 link Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com",0
66,Add note about Ctrl+C on Windows while recording,0.83167136, - Properly handle Ctrl+C on Windows (avoid to corrupt recording) (#818),"A delay buffer delayed all the frames except the first one, to open the scrcpy window immediately and get a picture. Make this feature optional, so that the delay buffer might also be used for audio (especially for simulating a high delay for debugging). PR #3757 link",1
67,Wait SET_CLIPBOARD ack before Ctrl+v via HID,0.6556865, - Ensure clipboard synchronization is performed before injecting Ctrl+v via HID keyboard (#2814),"If there is only one point, assume the slope is 1. PR #3757 link",0
68,Fix dependencies,0.6458118, - Various technical fixes,"For clarity, the fields used only when a delay was set were wrapped in an anonymous structure. Now that the delay buffer has been extracted to a separate component, the delay is necessarily set (it may not be 0), so the fields are always used. PR #3757 link",0
69,Remove unused mutex field in decoder,0.47550923,Remove deprecated short options,"The components needing delayed frames (sc_screen and sc_v4l2_sink) managed a sc_video_buffer instance, which itself embedded a sc_frame_buffer instance (to keep only the most recent frame). In theory, these components should not be aware of delaying: they should just receive AVFrames later, and only handle a sc_frame_buffer. Therefore, refactor sc_delay_buffer as a frame source (it consumes) frames) and a frame sink (it produces frames, after some delay), and plug an instance in the pipeline only when a delay is requested. This also removes the need for a specific sc_video_buffer. PR #3757 link",0
70,Compute screen size without DisplayInfo instance,0.7626929, - Support screens with dimensions not divisible by 8 (#39),,1
71,AUR to official Arch Repository,0.3614354,There is also a subreddit: r/scrcpy,"There was a frame sink trait, implemented by components able to receive AVFrames, but each frame source had to manually send frame to sinks. In order to mutualise sink management, add a frame sink trait.",0
72,Add support for H265,0.77035415, - Add H265 and AV1 video codec support (#3713),,1
73,Add Simplified Chinese translation of FAQ,0.4606526,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","There was a packet sink trait, implemented by components able to receive AVPackets, but each packet source had to manually send packets to sinks. In order to mutualise sink management, add a packet source trait.",0
74,Prevent new window opening with CreateProcess(),0.546144, - Fix missing initialization that leaded to kill the whole process,"A video buffer had 2 responsibilities:  - handle the frame delaying mechanism (queuing packets and pushing them    after the expected delay);  - keep only the most recent frame (using a sc_frame_buffer). In order to be able to reuse only the frame delaying mechanism, extract it to a separate component, sc_delay_buffer.",0
75,Add throwable parameter to Log.w(),0.610153,Log input events,"The mistake had no effect, because tick is also internally expressed in microseconds.",0
76,Remove fprintf() call in tests,0.4882807,FPS counter,Make the video buffer stop if its consumer could not receive a frame.,0
77,Update DEVELOP.md,0.53402776, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"If an error occurs from the video buffer thread (typically an out-of-memory error), then stop.",0
78,Add unit test for float encoding,0.46915895, - Retry on spurious encoder error (#3693),"The video_buffer thread clears the queue once it is stopped, but new frames might still be pushed asynchronously. To avoid the problem, do not push any frame once the video_buffer is stopped.",0
79,Upgrade junit to 4.13.2,0.52442443, - Upgrade SDL to 2.26.4 in Windows releases,All uses have been replaced by VecDeque.,0
80,Remove useless destroyDisplay() method,0.50835955," - Add option to disable screensaver (#1370, #1502)",All uses have been replaced by VecDeque.,0
81,Use enum for long options constants,0.47720346,Encoder selection,Replace cbuf by VecDeque in aoa_hid,0
82,Encode video using MediaCodec API,0.6595147,A new option --encoder allows to select another available H.264 encoder.,"Replace cbuf by VecDeque in file_pusher. As a side-effect, the new implementation does not limit the queue to an arbitrary value.",0
83,Fix adb server hang,0.79796183," - Fix adb server hang due to signal masking (#2870, #2873)",Replace cbuf by VecDeque in controller.,1
84,Remove fprintf() in tests,0.5109503,FPS counter,"The packets queued for buffering were wrapped in a dynamically allocated structure with a ""next"" field. To avoid this additional layer of allocation and indirection, use a VecDeque.",0
85,Update copy-paste section in README,0.7145575,Copy-paste workaround,"The packets queued for recording were wrapped in a dynamically allocated structure with a ""next"" field. To avoid this additional layer of allocation and indirection, use a VecDeque.",1
86,Fix fps_counter tick type,0.6667093, - Fix FPS counter (broken in v1.22),Introduce a double-ended queue implemented with a growable ring buffer. Inspired from the Rust VecDeque type: link,0
87,Remove compat with old FFmpeg decoding API,0.54226243, - Upgrade FFmpeg to 4.1.4 in Windows releases,"Add a function to allocate an array, which fails safely in the case where the multiplication would overflow.",0
88,Release controller lock while processing events,0.5950986,"When a key is hold pressed, the system generates repeated key events.",This fails safely in case of overflow.,0
89,Move pts_origin to a local variable,0.34523648,adb push scrcpy-server.jar /data/local/tmp/,This function fails safely in the case where the multiplication would overflow.,0
90,Do not report workarounds errors,0.7174213, - Apply workarounds only on error (#994),"Since in scrcpy a video packet passed to avcodec_send_packet() is always a complete video frame, it is sufficient to call avcodec_receive_frame() exactly once. In practice, it also works for audio packets: the decoder produces exactly 1 frame for 1 input packet. In theory, it is an implementation detail though, so avcodec_receive_frame() should be called in a loop.",1
91,Remove useles import,0.47501424,Remove deprecated short options,"By default, scrcpy mirrors only the video when audio capture fails on the device. Add an option to force scrcpy to fail if audio is enabled but does not work. PR #3757 link",0
92,Swap position/point names,0.36992395, - Add option to change the push target (#659),"On Android 11, it is possible to start the capture only when the running app is in foreground. But scrcpy is not an app, it's a Java application started from shell. As a workaround, start an existing Android shell existing activity just to start the capture, then close it immediately. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
93,Fix workarounds for Meizu,0.85333705," - Fix workarounds for Meizu devices (#240, #2656)","If there is exactly one producer, then it can assume that the remaining space in the buffer will only increase until it writes something. This assumption may allow the producer to write to the buffer (up to a known safe size) without any synchronization mechanism, thus allowing to read and write different parts of the buffer in parallel. The producer can then commit the write with a lock held, and update its knowledge of the safe empty remaining space. PR #3757 link",1
94,Update platform-tools (28.0.1) for Windows,0.8875033, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Add a ring-buffer for bytes. It will be useful for audio buffering. PR #3757 link,1
95,Structure command line options help,0.5747786,Some command line options were first introduced with a short version:,Frame consumers may need details about the frame format. PR #3757 link,0
96,Simplify recorder,0.5348769,Windows PATH simplification,PR #3757 link,0
97,Fix recording with old decoding/encoding API,0.559265," - Fix mp4 headers produced by recording (#351, #416)",This will be useful in logs. PR #3757 link,0
98,Factorize meson compiler variable initialization,0.41561806,Serial auto-completion,This prepares the introduction of audio_decoder. PR #3757 link,0
99,Update links to v1.20,0.56133485,"Copy-paste have been improved by previous releases, especially v1.15.",This is more convenient than just the display id alone.,0
100,Workaround maximized+fullscreen on Windows,0.6830826,Screen off workarounds,Add an option to list the device displays properly.,0
101,Simplify libusb prebuilt scripts,0.59944385, - Print both compiled and linked version of libs on --version,This class will also contain other log helpers.,0
102,Use quotes for commands in documentation,0.48458543,"To pass command line arguments, it must still be started from a terminal or a script though.","When audio capture fails on the device, scrcpy continues mirroring the video stream. This allows to enable audio by default only when supported. However, if an audio configuration occurs (for example the user explicitly selected an unknown audio encoder), this must be treated as an error and scrcpy must exit. PR #3757 link",0
103,Encode recorded audio on the device,0.5798631,Asynchronous recording,Add an option to list the device encoders properly. PR #3757 link,0
104,Copy server params,0.6005515, - Avoid additional buffer copy in userspace on the server,Print the logs on the caller side. This will allow to call the function in another context without printing the logs. PR #3757 link,0
105,Fix typo in error message,0.67517275, - Improve some error messages,"Similar to --video-encoder, but for audio. PR #3757 link",0
106,"Avoid pointer arithmetic on ""void """,0.4504521, - Avoid empty arguments not correctly handled on some devices (#337),This will allow to reuse the same code for audio encoder selection. PR #3757 link,0
107,Fix leak on file pusher error,0.5962225," - Fix ""push file"" with spaces on Windows (#288)","Similar to --video-codec-options, but for audio. PR #3757 link",0
108,Add tests for command-line parsing,0.45944732,| Linux          | :heavy_check_mark: | :heavy_check_mark:,This will allow to reuse the same code for audio codec options. PR #3757 link,0
109,Extract OPUS extradata,0.3883888,MOD+o).,Add option --audio-codec=aac. PR #3757 link,0
110,Update links to v1.9 in README and BUILD,0.5050183, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Introduce the selection mechanism. Alternative codecs will be added later. PR #3757 link,0
111,"Extract ""scrcpy-server.jar"" string",0.75079036, - Find scrcpy-server.jar in the correct directory on Windows,Add an option to configure the audio bit-rate. PR #3757 link,1
112,Accept clock estimation with a single point,0.37149704, - Improve framerate counting,This method will grow as needed to initialize options. PR #3757 link,0
113,Update to AGP 3.6.2,0.5309589, - Update SDL to 2.0.9 included in Windows releases,This prepares the introduction of --audio-encoder. PR #3757 link,0
114,Add support for HID mouse,0.9906342,Add HID mouse support,This prepares the introduction of --audio-codec-options. PR #3757 link,1
115,Add support for expandNotificationsPanel() variant,0.56264544, - Add crop feature,This prepares the introduction of --audio-bit-rate. PR #3757 link,0
116,Expose adb executable path publicly,0.50923514,"On Windows, the file explorer lacks an ""open a terminal here"" feature, to open a terminal in the scrcpy directory, ready to execute adb or scrcpy.",This prepares the introduction of --audio-codec. PR #3757 link,0
117,Explain how to install adb on Mac OS,0.54376495,DEBUG: ADB device found:,"If no bit-rate is passed, let the server use the default value (8Mbps). This avoids to define a default value on both sides, and to pass the default bit-rate as an argument when starting the server. PR #3757 link",0
118,Add function to read an adb property,0.5274202, - Add --force-adb-forward,"If the recorder is stopped while it has not received any audio packet yet, make sure the video stream is correctly recorded. PR #3757 link",0
119,Fix script to build without gradle,0.5037446, - scrcpy-noconsole.vbs a one-line VBS script to start scrcpy.exe without a console,"The permission ""android.permission.RECORD_AUDIO"" has been added for shell in Android 11. Moreover, on lower versions, it may make the server segfault on the device (happened on a Nexus 5 with Android 6.0.1). Refs link/ PR #3757 link",0
120,Regroup Windows-ifdefs in command.h,0.49809706,Fix hanging on multiple instances on Windows,"By default, audio is enabled (--no-audio must be explicitly passed to disable it). However, some devices may not support audio capture (typically devices below Android 11, or Android 11 when the shell application is not foreground on start). In that case, make the server notify the client to dynamically disable audio forwarding so that it does not wait indefinitely for an audio stream. Also disable audio on unknown codec or missing decoder on the client-side, for the same reasons. PR #3757 link",0
121,Adapt copy-paste methods for Android 10,0.85831," - Implement seamless copy-paste from Android to computer (#1056, #1423)","Make the recorder accept two input sources (video and audio), and mux them into a single file. PR #3757 link",1
122,Implement computer-to-device clipboard copy,0.88240284, - Add device-to-computer clipboard copy (#145),This paves the way to add audio-specific variables. PR #3757 link,1
123,Use FakeContext for Application instance,0.42396763,$ANDROID_SERIAL,"For video streams (at least H.264 and H.265), the config packet containing SPS/PPS must be prepended to the next packet (the following keyframe). For audio streams (at least OPUS), they must not be merged. PR #3757 link",0
124,Document copy-paste and --prefer-text in README,0.6495753,Copy-paste workaround,Add a demuxer which will read the stream from the audio socket. PR #3757 link,0
125,Wait server from a separate thread,0.5506803, - Terminate server properly without killing it on close (#1992),"The client does not use the audio stream if there is no display and no recording (i.e. only V4L2), so disable audio so that the device does not attempt to capture it. PR #3757 link",0
126,Use packet source trait in demuxer,0.46849984,Encoder selection,This will be useful in logs. PR #3757 link,0
127,Initialize screen before starting the stream,0.6406694, - Add command-line option to start in fullscreen (#252),There will be another demuxer instance for audio. PR #3757 link,0
128,Implement keyboard/mouse control,0.7303697,"Special captures keys, either Alt or Super, toggle (disable or enable) the mouse capture. Use one of them to give the control of the mouse back to the computer.","For OPUS codec, FFmpeg expects the raw extradata, but MediaCodec wraps it in some structure. Fix the config packet to send only the raw extradata. PR #3757 link",1
129,Move conditional src files in meson.build,0.46669424,scrcpy --render-driver=opengl,Send each encoded audio packet using a streamer. PR #3757 link,0
130,Refactor server_start() error handling,0.6569896,ERROR: Server connection failed,"For now, the encoded packets are just logged into the console. PR #3757 link",0
131,Remove obsolete precision in README,0.501658, - ~Do not print irrelevant workarounds errors (#994)~,Expose a method to write a packet from raw metadata (without BufferInfo).,0
132,Map middle-click to HOME,0.77524126, - Bind middle- and right-clicks to HOME and BACK,"Create an AudioRecorder to capture the audio source REMOTE_SUBMIX. For now, the captured packets are just logged into the console. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",1
133,Refactor to support Meta in shortcuts,0.6223728,Customizable shortcut modifier,"When audio is enabled, open a new socket to send the audio stream from the device to the client. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
134,Log socket errors,0.643196, - Print correct error messages on Windows socket errors (#2624),Audio will be enabled by default (when supported). Add an option to disable it. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com,0
135,Reorder initialization,0.5098619, - Fix missing initialization that leaded to kill the whole process,This will expose the correct package name and UID to the application context. PR #3757 link,0
136,"Rename ""rotation"" to ""device rotation""",0.6816902,Rotation,For consistency. PR #3757 link,0
137,Fix set_clipboard message log,0.62449706, - Fix clipboard paste (#1658),"Remove USER_ID from ServiceManager, and replace it by a constant in FakeContext. This is the same as android.os.Process.ROOT_UID, but this constant has been introduced in API 29. PR #3757 link",0
138,Update environment variables section in manpage,0.71158934, - Add manpage,Remove duplicated constant. PR #3757 link,1
139,Add --no-audio option,0.6796489," - Add Audio forwarding (#14, #3757)",FakeContext already provides an AttributeSource instance. PR #3757 link Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com,0
140,Add interruptor utilities,0.52189124, - Implement (optional) buffering (#2464),"Since scrcpy-server is not an Android application (it's a java executable), it has no Context. Some features will require a Context instance to get the package name and the UID. Add a FakeContext for this purpose. PR #3757 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
141,Rename release.make to release.mk,0.41688162,"Similar to the --hid-keyboard (or -K) added in scrcpy v1.20 (#2632), this release introduces a new option --hid-mouse (or -M) (#2916):",The provided encoder name depends on the selected codec. Improve the error message and the suggestions. PR #3757 link,0
142,Fix --lock-video-orientation syntax in help,0.8440599,Lock video orientation,"This will allow to use ""codec"" for the Codec type. PR #3757 link",1
143,"Document ""push file"" feature",0.638556, - Add feature to push file to /sdcard/ via drag & drop (#226),"Rename VideoStreamer to Streamer, and extract a Codec interface which will also support audio codecs. PR #3757 link",0
144,Add MacPorts documentation,0.6067279,macOS shortcuts,There is no good reason to pass some of them in the constructor and some others as parameters of the streamScreen() method.,0
145,Fix meson.build codestyle,0.45264262, - Fix segfault on copy/paste (#10),This prepares further refactors.,0
146,Add UI/UX support for relative mouse mode,0.67513084,Add HID mouse support,The screen encoder is responsible for writing data to the video streamer.,0
147,Use enum for key injection mode,0.52685297,"Add ""raw key events"" mode","The Callbacks interface notifies new packets. But in addition, the screen encoder will need to write headers on start. We could add a function onStart(), but for simplicity, just remove the interface, which brings no value, and call the streamer directly. Refs 87972e2022686b1176bfaf0c678e703856c2b027",0
148,Do not leak the packet data,0.5284152,Note that all ADB communications between the server and the client are unencrypted.,"On any error, all previously opened sockets must be closed. Handle these errors in a single catch-block. Currently, there are only 2 sockets, but this will simplify even more with more sockets. Note: this commit is better displayed with --ignore-space-change (-b).",0
149,Add shortcut to resize to ratio 1:1,0.6750965,Resize to fit,"Initialize components in the pipeline order: demuxer first, decoder and recorder second.",0
150,Extract shortcut actions to separate functions,0.5255817,New shortcuts,Process the initial config packet (necessary to write the header) separately.,0
151,Log display sizes in display list,0.59307754, - Support screens with dimensions not divisible by 8 (#39),Write the last packet at the end.,0
152,Fix mouse clicks on LG devices,0.9642279, - Fix mouse clicks on LG devices (#18),"For consistency with the other components, do not start the internal thread from an init() function.",1
153,Merge pull request #587 from zzndb/patch-1,0.52018774, - Add ZSH completion script (#3012),"The recorder opened the target file from the packet sink open() callback, called by the demuxer. Only then the recorder thread was started. One golden rule for the recorder is to never block the demuxer for I/O, because it would impact mirroring. This rule is respected on recording packets, but not for the initial recorder opening. Therefore, start the recorder thread from sc_recorder_init(), open the file immediately from the recorder thread, then make it wait for the stream to start (on packet sink open()). Now that the recorder can report errors directly (rather than making the demuxer call fail), it is possible to report file opening error even before the packet sink is open.",0
154,Remove unused struct port_range,0.55149376,scrcpy --tcpip=192.168.1.1       # default port is 5555,Remove useless wrappers.,0
155,Make acksync optional for AOA initialization,0.5337167,"To handle it properly, this new version implements an acknowledgment mechanism, so that Ctrl+v is injected over AOA only after the clipboard synchronization request has been performed and acknowledged by the server (#2814).","The recorder has two initialization phases: one to initialize the concrete recorder object, and one to open its packet_sink trait. Initialize mutex and condvar as part of the object initialization. If there were several packet_sink traits (spoiler: one for video, one for audio), then the mutex and condvar would still be initialized only once.",0
156,Enable debug logs only for debug builds,0.48339653, - Add --verbosity to configure log level at runtime,"Stop scrcpy on recorder errors. It was previously indirectly stopped by the demuxer, which failed to push packets to a recorder in error. Report it directly instead:  - it avoids to wait for the next demuxer call;  - it will allow to open the target file from a separate thread and stop    immediately on any I/O error.",0
157,Add specific exit code for device disconnection,0.93145466," - Add specific exit code for device disconnection (#3083, #3085)",It is only used from run_recorder().,1
158,"Disable ""resize to fit"" in maximized state",0.78150463,Resize to fit,It is only used from run_recorder().,1
159,Remove screen static initializer,0.63292766," - Add option to disable screensaver (#1370, #1502)","It is initialized from AVPacket.pts, which is an int64_t.",0
160,Fix assertion race condition in debug mode,0.44929558, - Improve some error messages,Mention that it depends on the codec provided by --codec (which is not necessarily H264 anymore).,0
161,Prefix server logs,0.51688606, - Add --verbosity to configure log level at runtime,"User-friendly error messages are printed on specific configuration exceptions. In that case, do not print the stacktrace. Also handle the user-friendly error message directly where the error occurs, and print multiline messages in a single log call, to avoid confusing interleaving.",0
162,Move init and cleanup to a separate method,0.40875143, - Fix missing initialization that leaded to kill the whole process,Fix typo.,0
163,Downgrade SDL to 2.0.8 for Windows,0.96502197, - Downgrade SDL to 2.0.8 in Windows releases (#425),"For consistency with the other components, call stop() and join() separately. This allows to stop all components, then join them all.",1
164,Bump version to 1.13,0.77423894, - Bump version to 1.5 (as shown by scrcpy --version) (#332),FFmpeg logs are redirected to a specific SDL log category. Initialize the log level for this category to print them as expected.,1
165,Update copyright date to 2021 in manpage,0.4870018, - Add manpage,Configure FFmpeg log redirection on start from a log helper.,0
166,Remove unused lockedVideoOrientation field,0.64400566, - Add an option to lock the initial video orientation,"Use a build which includes the pcm_s16le decoder, to support RAW audio. Refs link",0
167,Document Windows command line usage,0.61125624,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).",Use the latest version (specifically built for scrcpy). Refs link,0
168,Rename the server scrcpy-server.jar,0.62475705,"The problem is that scrcpy-server.jar is searched in the current directory, which is not necessarily the same as the scrcpy directory. Typically, if you added the scrcpy directory in your PATH to call scrcpy from anywhere, the current directory could be anything. This was very annoying and confusing (you had to set the environment variable SCRCPY_SERVER_PATH as a workaround).","On the scrcpy-deps repo, I built FFmpeg 5.1.2 binaries for Windows with only the features used by scrcpy. For comparison, here are the sizes of the dll for FFmpeg 5.1.2:  - before: 89M  - after: 4.7M It also allows to upgrade the old FFmpeg version (4.3.1) used for win32. Refs link Refs link",0
169,Find a list of devices instead of a single one,0.6810316," - Improve device selection (list devices, -d, -e) (#3005)","In theory, include/ might be slightly different for win32 and win64 builds. Use each one separately to simplify.",0
170,Apply workarounds only on error,0.84382117, - Apply workarounds only on error (#994),"MediaFormat.MIMETYPE_VIDEO_AV1 has been added in API 29, but it is not a problem to inline the constant in older versions.",1
171,Add libavdevice-dev in BUILD instructions,0.606948, - Print both compiled and linked version of libs on --version,"As reported by gradle: Setting the namespace via a source AndroidManifest.xml's package attribute is deprecated. Please instead set the namespace (or testNamespace) in the module's build.gradle file, as described here: link",0
172,Clarify the order of operations in BUILD.md,0.42830893,module,Plugin version 7.4.0. Gradle version 7.5. Refs link,0
173,Update links to v1.10 in README and BUILD,0.519325,"Copy-paste have been improved by previous releases, especially v1.15.","The variable p was initialized with a garbage value (a const char ** casted to char *). Fortunately, it was never read. Refs link",0
174,Document OTG mode in README,0.7470454,OTG mode,"Expressions like ""x < MAX(y, z)"" were broken.",1
175,Set computer clipboard only if necessary,0.73480546, - Add computer-to-device clipboard copy (#413),"Running scrcpy --tcpip on a device already connected via TCP/IP did not initialize server->serial. As a consequence, in debug mode, an assertion failed: scrcpy: ../app/src/server.c:770: run_server: Assertion `server->serial' failed. In release mode, scrcpy failed with this error: adb: -s requires an argument",1
176,Remove root directory from Windows zip releases,0.45044303,Windows PATH simplification,,0
177,Fix typo in README.md,0.43337053, - Fix possible overflow on copy-paste (#2859),Scrcpy does not use FFmpeg network features. Initialize network locally instead (useful only for Windows). The include block has been moved to fix the following warning: Please include winsock2.h before windows.h,0
178,Improve dependencies in README,0.46864986, - Print both compiled and linked version of libs on --version,Version 2.2 is probably not necessary (1.1 is the version required by FFmpeg when network is enabled). Refs link Refs link,0
179,Move acknowledgment handling,0.43656486,A new option --no-clipboard-autosync disables this automatic synchronization. This also disables the acknowledgment mechanism described above.,,0
180,Adapt ClipboardManager for Android 13,0.71235794, - Adapt copy-paste internals for Android 13 (#3497),"The option is --bit-rate, not --bitrate.",1
181,Keep the screen off on powering on,0.8674948," - Keep the screen off on powering on (best effort) (#1573, #1577)",Add missing command to bash and zsh completion scripts.,1
182,List scrcpy characteristics in README,0.7262425,scrcpy -S,This avoids to manually assign values.,1
183,Remove unused codec context,0.5642127,Advanced codec options,The explicit initialization was missing. It had no consequences because SC_MOUSE_INPUT_MODE_INJECT == 0. Fixes #3749 link,0
184,Update broken link in documentation,0.5315732," - Fix ""Could not find v4l2 muxer"" (#2718)",MP4 supports AV1. Refs d2dce5103832d6a9fc29f56a9795c22e44ceafa1,0
185,Reference README.md from localized versions,0.56369305, - Print both compiled and linked version of libs on --version,The encoder name started with a simple quote but ended with a double quote. Use a single quote for both.,0
186,Change volume shortcuts,0.8886719, - Change volume shortcuts (Ctrl+UP and Ctrl+DOWN) (#103),,1
187,Forward repeated volume events,0.9926815, - Forward repeated volume events,"DesktopConnection implements Closeable, so it is implicitly closed after its try-with-resources block. Closing the DesktopConnection shutdowns the sockets, so it is necessary in particular to wake up blocking read() calls from the controller. But the controller thread was joined before the DesktopConnection was closed, causing a deadlock. To fix the problem, join the controller thread only after the DesktopConnection is closed. Refs 400a1c69b198103feff9682895529529890c1acc",1
188,Pass scrcpy-noconsole arguments through to scrcpy,0.92894286, - Pass scrcpy-noconsole arguments through to scrcpy on Windows (#2052),"When a call to a packet or frame sink fails, do not log the error on the caller side: either the ""failure"" is expected (explicitly stopped) or it must be logged by the packet or frame sink implementation.",1
189,Log mipmaps error only if mipmaps are enabled,0.71323955,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.","Mention the default option value, like for other commands.",1
190,Reference video buffer from screen,0.59626234,This release brings a new feature to buffer the video stream for a given delay. This is especially useful for removing a source of stuttering for live-streaming.,,0
191,Support recording to MKV,0.9939433, - Support recording to MKV,Like all other components in scrcpy.,1
192,Use symlink to simplify Windows ffmpeg dependency,0.62178993, - Update FFmpeg to 4.1 included in Windows releases,"Now that there are several possible codecs, do not hardcode H.264 in the error message. Refs 3e517cd40eb50f8afb5137f39b0676fead58902a",0
193,"Add ""Get the app"" summary section",0.46999514," - Add --encoder option (#1810, #1827)","On close, the client closes the socket. This wakes up socket blocking calls on the server-side, by throwing an exception. Since this exception is expected, it was not logged. However, other IOExceptions might occur, which must not be ignored. For that purpose, log only IOException when they are not caused by an EPIPE error.",0
194,Pass full options struct to static functions,0.45119935, - Add --codec-options to pass MediaFormat options directly (#1325),A random identifier is generated to differentiate multiple running scrcpy instances. Rename it from 'uid' to 'scid' (scrcpy id) not to confuse it with Linux UID. Fixes #3729 link Refs 4315be164823d2c8fc44b475b52af79bfee98ff1,0
195,Compile with warning_level=2 by default,0.5216828,"scrcpy --codec-options profile=1,level=4096",Config packets must be prepended to the next media packet. Extract the logic to a new sc_packet_merger helper to simplify the demuxer code.,0
196,Bump version to 1.8,0.79847276, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Since 1c02b58412db2646ba6e57a7e305d26482b9bc0d, the parser is not used anymore.",1
197,"Remove compilation flag ""skip_frames""",0.60829675, - Remove option --render-expired-frames (#2268),The message must be logged even when no exception occurs.,0
198,"Add ""make run""",0.5907857, - Add --verbosity to configure log level at runtime,Some calls from separate threads may throw exceptions once the main() method has returned.,0
199,Upgrade Android checkstyle to 9.0.1,0.60344887,Improve Android 12 support,"All demuxer errors were reported as ""device disconnected"", even if the failure was not related to device socket read.",0
200,Send frame meta only if recording is enabled,0.60433036, - Add option --no-display to record without mirroring (#418),,0
201,Warn on ignored touch event,0.74642766, - Fix touch events parameters (#2125),Receive codec id and convert it to AVCodecID separately. This will allow the caller to distinguish between EOS and unknown codec id.,1
202,Define feature test macros in common.h,0.39380535,| Linux          | :heavy_check_mark: | :heavy_check_mark:,"The function returns an enum AVCodecID, not a bool.",0
203,Add frame sink trait,0.47977057, - Improve framerate counting,"The message applies to all packets, not only config packets.",0
204,Use SDL_bool return to indicate success,0.4223804,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,The demuxer does not need any codec context.,0
205,Disable clock drift compensation for tiny values,0.434541," - Fix touch events HiDPI-scaling (#1536, #15)",This line was committed by error. Refs 3e517cd40eb50f8afb5137f39b0676fead58902a,0
206,Upgrade Android SDK to 30,0.63871396, - Upgrade platform-tools to 30.0.0 (adb) in Windows releases,Add the command to install the scrcpy package for Fedora directly. PR #3715 link Signed-off-by: Romain Vimont rom@rom1v.com,0
207,Upgrade FFmpeg (4.2.2) for Windows,0.98053026, - Upgrade FFmpeg to 4.2.1 in Windows releases,Android 10 and above support multiple physical displays. Apply power mode to all of them. Fixes #3716 link,1
208,Add ZSH completion script,0.9583446, - Add ZSH completion script (#3012),Add option --codec=av1. PR #3713 link,1
209,Split socket creation and connect/listen,0.51470006,Two new options --tunnel-host and --tunnel-port (implemented by @RipleyTom) allow to connect to a remote ADB server. This allows for example to mirror a device plugged on another computer easily.,Add option --codec=h265. PR #3713 link Fixes #3092 link,0
210,Fix libusb callback for Windows,0.6475268,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).",Introduce the selection mechanism. Alternative codecs will be added in further commits. PR #3713 link,0
211,"Add a shorcut ""open a terminal here"" on Windows",0.90543854," - Add a shortcut ""open a terminal here"" on Windows (#2970)",Use sc_read16be() to read 16-bit integer fields.,1
212,Add compat for reallocarray(),0.413077, - Increase LOD bias to reduce blurring on trilinear filtering (#1394),ScreenEncoder handled both capture/encoding and sending over the network. Move the streaming part to a separate VideoStreamer.,0
213,Use a new scrcpy icon,0.96275306,New scrcpy icon,Computing eof flag is not necessary if rotation changed.,1
214,Do not crash on control error,0.5879928, - Prevent to turn screen off if no control (#608),"The PTS received from MediaCodec are expressed relative to an arbitrary clock origin. We consider the PTS of the first frame to be 0, and the PTS of every other frame is relative to this first PTS (note that the PTS is only used for recording, it is ignored for mirroring). For simplicity, this relative PTS was computed on the server-side. To prepare support for multiple stream (video and audio), send the packet with its original PTS, and handle the PTS offset on the client-side (by the recorder). Since we can't know in advance which stream will produce the first packet with the lowest PTS (a packet received later on one stream may have a PTS lower than a packet received earlier on another stream), computing the PTS on the server-side would require unnecessary waiting.",0
215,Fix --lock-video-orientation syntax,0.8753468,Lock video orientation,,1
216,Add an explicit first step in wireless section,0.47462854, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),Workarounds are not specific to the screen encoder. Co-authored-by: Simon Chan 1330321+yume-chan@users.noreply.github.com,0
217,Remove legacy scrcpy icon,0.7559811,New scrcpy icon,The way the controller executes its events asynchronously is an implementation detail.,1
218,Replace strcpy() by memcpy(),0.54219896,scrcpy --tcpip    # without arguments,Only the option arguments must be underlined.,0
219,Use VideoStreamer directly from ScreenEncoder,0.6294862,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,"On mouse click events:  - the first button pressed must first generate ACTION_DOWN;  - all button pressed (including the first one) must generate    ACTION_BUTTON_PRESS;  - all button released (including the last one) must generate    ACTION_BUTTON_RELEASE;  - the last button released must in addition generate ACTION_UP. Otherwise, Chrome does not work properly. Fixes #3635 link Signed-off-by: Romain Vimont rom@rom1v.com",0
220,Move variable assignment,0.3897199,Copy-paste in both directions,"If the pointer is a mouse, the pointer is UP only when no buttons are pressed (not when a button is released, because there might be other buttons still pressed). Refs #3635 link Signed-off-by: Romain Vimont rom@rom1v.com",0
221,Add more consts,0.43927765, - Add --render-driver parameter (#1284),"On click event, only the whole buttons state was passed to the device. In addition, on ACTION_DOWN and ACTION_UP, pass the button associated to the action. Refs #3635 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
222,Make setScreenPowerMode() method static,0.4691912,set ANDROID_SERIAL=0123456789abcdef,"MediaCodec may fail spuriously, typically when stopping an encoding and starting a new one immediately (for example on device rotation). In that case, retry a few times, in many cases it should work. Refs #3693 link",0
223,Fix scrcpy() return value,0.7740638,$ scrcpy,Move the code to downscale and retry on error out of the catch-block. Refs 26b4104844fb9516be13ff1f2be34e2945090e79,1
224,Fix memory leaks in tests,0.813009, - Fix (huge) memory leak (#26),This makes it clear that these local variables are only passed to setDisplaySurface().,1
225,Use vector for listing ADB devices,0.6614626,DEBUG: ADB device found:,Inline its content. It makes the logic of internalStreamScreen() more readable (it reduces the number of indirections).,0
226,Merge pull request #93 from CampbellOwen/patch-1,0.4257956, - Apply workarounds only on error (#994),Inline its single call.,0
227,Fix expected parameters count in error message,0.7142703, - Improve some error messages,Calling codec.reset() is sufficient.,1
228,Notify new frames via callbacks,0.6448962, - Add runtime option to render expired frames (i.e. not skip frames),The method made exactly one simple call. Just make the call directly.,0
229,Increase display id range,0.9349686, - Increase possible display id range (#2009),Do not destroy/recreate the display when starting a new encoding session (on device rotation for example).,1
230,Upgrade platform-tools (29.0.5) for Windows,0.90339994, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,Make explicit that the loop terminates when the current thread is interrupted.,1
231,Reword Ctrl+x description,0.6875937,Ctrl and Shift,,0
232,Capture all Ctrl events,0.5943488,Ctrl and Shift,Building Java source code using lambdas requires core-lambda-stubs.jar. Refs #3657 link,0
233,"Replace ""connected on"" to ""connected via""",0.4705453,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:",,0
234,"Use ""always on top"" only for SDL >= 2.0.5",0.59710366," - Add ""always on top"" option (#391, #412)",Replace an explicit try-finally by a try-with-resources block.,0
235,Accept negative window position,0.9004031, - Accept negative window position (#1242),"For the initial connection between the device and the computer, an adb tunnel is established (with ""adb reverse"" or ""adb forward""). The device-side of the tunnel is a local socket having the hard-coded name ""scrcpy"". This may cause issues when several scrcpy instances are started in a few seconds for the same device, since they will try to bind the same name. To avoid conflicts, make the client generate a random UID, and append this UID to the local socket name (""scrcpy_01234567"").",1
236,Rescale packet timestamp to container time base,0.50864136,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Add a user-friendly tool to generate random numbers.,0
237,Document 4th+5th + 2xn shortcuts,0.6330874,New shortcuts,These functions are not available on all platforms.,0
238,Add adb flag to disable execution error logs,0.6136768," - Improve error message on missing adb (#236, #254)",The generated source files were written to the classes dir. Use a separate gen dir instead.,0
239,Allow selecting a device from IP without port,0.72558546,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.",HID now works on all platforms.,1
240,Log new size on auto-resize request,0.7191032,Resize to fit,Refs #3654 link,1
241,Add workaround to capture audio on Android 11,0.6271726," - Add Audio forwarding (#14, #3757)","Use av_packet_ref() to reference the packet without copy. This also simplifies the logic, by making the ""offset"" variable and the memcpy() call local to the if-block.",0
242,Avoid partial header reads,0.4528163, - Fix unexpected focus behavior on scroll (#1362),"This reverts commit 18082f60697ae8edad2db950637638c8bb6bf0d2. I can't reproduce, but it seems the workaround improves the behavior on some Windows versions. Fixes #3640 link Refs #3458 link",0
243,Initialize interrupted field explicitly,0.5268681, - Fix missing initialization that leaded to kill the whole process,Refs 64821466a1ddcdf7f0a50fa39067f066284ef9ca,0
244,Add shortcuts for COPY and CUT,0.7512201,Copy-paste workaround,,1
245,"Fix ""natural scrolling""",0.9848189,Fix natural scrolling,,1
246,Mention AutoAdb in README,0.502314,Serial auto-completion,Use the latest version of FFmpeg in Windows 64-bit releases.,0
247,Configure feature test macros in meson,0.36532417,Serial auto-completion,Include the latest version of SDL in Windows releases.,0
248,Make screen_render() static,0.55580974, - Keep screensaver enabled while scrcpy is running (#380),Include the latest version of adb in Windows releases.,0
249,Use the existing constants for device server path,0.4719836,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.",,0
250,Use sc_prefix for fps counter,0.6545037,FPS counter,"Right click and middle click require the source device to be a mouse, not a touchscreen. Therefore, the source device was changed only when a button other than the primary button was pressed (see adc547fa6e8e6167cd9633a97d98de6665b8c23a). However, this led to inconsistencies between the ACTION_DOWN when a secondary button is pressed (with a mouse as source device) and the matching ACTION_UP when the secondary button is released (with a touchscreen as source device, because then there is no button pressed). To avoid the problem in all cases, force a mouse as source device when --forward-all-clicks is set. Concretely, for mouse events in --forward-all-clicks mode:  - device source is set to InputDevice.SOURCE_MOUSE;  - motion event toolType is set to MotionEvent.TOOL_TYPE_MOUSE; Otherwise (when --forward-all-clicks is unset, or for real touch events), finger events are injected:  - device source is set to InputDevice.SOURCE_TOUCHSCREEN;  - motion event toolType is set to MotionEvent.TOOL_TYPE_FINGER. Fixes #3568 link PR #3579 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
251,Fix visibility modifier,0.6089034, - Do not minimize the window on focus loss (#554),It turns out that the workaround only worked for MacOS. Refs #3458 link Refs SDL/#1059 link,0
252,Use DisplayManagerGlobal instance,0.51815, - Increase possible display id range (#2009),This avoids to mistakenly extract all the files in the current directory.,0
253,Move platform specific to sys/,0.48396963,"On other platforms, as a fallback, run scrcpy with some display buffer, then capture the window via OBS:",This fixes the following warning: WARNING: Running the setup command as meson [options] instead of meson setup [options] is ambiguous and deprecated.,0
254,Compute relative PTS on the client-side,0.5231422, - Make it work over tcpip (#5),"A new ""attributionTag"" parameter has been added to the methods getPrimaryClip(), setPrimaryClip() and addPrimaryClipChangedListener() of IClipboard.aidl. Refs link/ Fixes #3497 link",0
255,Add display id parameter,0.6607921, - Increase possible display id range (#2009),,0
256,Bump version to 1.22,0.80619746, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"If the current adb port is not 5555 (typically 0 because it is not in TCP/IP mode), --tcpip automatically executes (among other commands): adb tcpip 5555 In case adb was already listening on another port, this command forced to listen on 5555, and the connection should still succeed. But this reconfiguration might be inconvenient for the user. If adb is already in TCP/IP mode, use the current enabled port without reconfiguration. Fixes #3591 link",1
257,Fix OpenGL ES prefix skip,0.5391707,Mipmapping is automatically enabled if the rendering is done by OpenGL 3.0+ or OpenGL ES 2.0+.,Make checkstyle happy.,0
258,Merge pull request #310 from npes87184/master,0.44297785," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Mandatory arguments may be passed in either of these two forms:  1. --key value  2. --key=value Optional argument may only be passed in the second form. For consistency, always document using --key=value. Refs f76fe2c0d4847d0e40d8708f97591abf3fa22ea5",0
259,Rename keycode injection method,0.78485537," - Correctly inject repeating keycodes (#1013, #1519)",The DisplayInfo dump format has slightly changed in AOSP: link PR #3573 link Ref #3416 link Signed-off-by: Romain Vimont rom@rom1v.com,1
260,Refactor actions calls,0.5141923, - Various technical refactors and fixes,PR #3547 link Fixes #2932 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
261,Fix function declarations,0.44284913,Bugfixes,This feature is not supported on older meson versions: ERROR: Malformed value in cross file variable prebuilt_libusb. Refs link PR #3546 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
262,Inline packet_sink impl in recorder,0.5142643,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","On Windows, sc_log_windows_error() is called from net.c, so log.c must also be compiled. Fixes #3542 link",0
263,Fix syntax highlighting in README,0.4645193, - Continue text injection on failed character (#509),,0
264,Adapt call() on ContentProvider for Android 12,0.63940847,Improve Android 12 support,,0
265,"Handle ""show touches"" on the device-side",0.70861405, - Improve --show-touches behavior,Fixes #3522 link PR #3523 link Signed-off-by: Romain Vimont rom@rom1v.com,1
266,Implement access to settings without Context,0.52028954, - Add --verbosity to configure log level at runtime,Fixes #3522 link PR #3523 link Signed-off-by: Romain Vimont rom@rom1v.com,0
267,Truncate device name at UTF-8 code point boundary,0.6385766, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"There were exactly one instance of ServiceManager and Settings, stored in Device. Since a Device instance is not created by the CleanUp executable, it was not straightforward to call wrapper methods on cleanup. Remove this artificial restriction and expose them publicly via static methods (this is equivalent to expose a singleton, but less verbose).",0
268,Bump version to 1.12,0.8131163, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
269,Fix v4l2 data race,0.58893824,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,PR #3416 link Signed-off-by: Romain Vimont rom@rom1v.com,0
270,Fix --encoder documentation,0.5920626," - Add --encoder option (#1810, #1827)","Some adb commands do not like when stdin, stdout or stderr are closed (they hang forever). Open /dev/null for each.",0
271,Add missing mouse shortcuts in --help,0.7091358,New shortcuts,"In the script to build without gradle, the build-tools full path is used at several places. Use a separate variable for readability.",1
272,Add compilation flag for USB features,0.5074092,ERROR: Multiple (2) USB devices:,"Add a launcher which opens a terminal, and keep it open in case of errors (so that the user has time to read error messages). The behavior is the same as scrcpy-console.bat on Windows. PR #3351 link",0
273,Increase adb devices -l max output size,0.5985173," - Increase ""adb forward"" connections attempts to 10 seconds (#213)",Make Exec= compatible with $PATH configured in .bashrc or .zshrc PR #3351 link Refs #296 link Signed-off-by: Romain Vimont rom@rom1v.com,0
274,Improve framerate counting,0.99471766, - Improve framerate counting,Refs link PR #3351 link Replaces PR #296 link Fixes #295 link Fixes #748 link Fixes #1636 link Co-authored-by: Chih-Hsuan Yen yan12125@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
275,Add function to find the device IP address,0.764146,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.",Meson defines a variable for the data directory. PR #3351 link,1
276,Do not queue invalid PTS,0.42780632, - Refuse to push server if it points to a directory (#956),,0
277,Refactor build system,0.6902821, - Various technical refactors and fixes,Plugin version 7.2.2. Gradle version 7.3.3. Refs: link,0
278,Make OTG window resizable,0.73042285," - Apply requested window size in OTG mode (#3099, #3219)",Refs link Refs link/,1
279,Remove MediaCodec error suggestion fix,0.70052695," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)","Since SDL 2.0.18, the amount scrolled horizontally or vertically is exposed as a float (between 0 and 1). Forward a precise value to the Android device when possible. Refs link Fixes #3363 link PR #3369 link Signed-off-by: Romain Vimont rom@rom1v.com",1
280,Push to /sdcard/Download/ by default,0.9522222,Push to /sdcard/Download/,To encode float values between -1 and 1. PR #3369 link,1
281,Move last packet recording,0.5566023,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",PR #3369 link,0
282,Remove obsolete FAQ entry,0.53899276,Remove deprecated short options,PR #3369 link,0
283,Remove option --render-expired-frames,0.93222064, - Remove option --render-expired-frames (#2268),It will allow to expose more binary util functions not related to buffers. PR #3369 link,1
284,Merge pull request #695 from schwabe/schwabe/fix_null_queue,0.46214703," - Fix hanging with multiple scrcpy instances on Windows (#2779, #2783)",PR #3369 link,0
285,Extract packet merging,0.47931552,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",PR #3369 link,0
286,Mention how to turn the screen on in README,0.79642683,Turn screen on,PR #3369 link,1
287,Map numpad ENTER key,0.9424506, - Map numpad ENTER key (#117),"This method is deprecated since Meson 0.56.0: link We could replace it with meson.project_source_root(), but this would make Meson 0.56 or above mandatory. Since the path in always computed from the server/ directory, just add '..' to reference the root project directory. Refs c456e3826470753bdaefcffc93e9ae1bf25b12f7",1
288,Happy new year 2023!,0.3788458,The first official release ;-),"This lowers the barrier to contribute to translations, and frees up my maintenance time used to review and merge translations and their updates in many languages.",0
289,Add troubleshooting in wireless section,0.57792866, - Various technical fixes,,0
290,Fix include recorder.h,0.5719941, - Various technical fixes,Use the client instance to communicate with the DisplayManager server. Fixes #3446 link Signed-off-by: Romain Vimont rom@rom1v.com,0
291,Uprev AGP to latest stable,0.39044586, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"For consistency with net_accept(), which necessarily uses a server socket, name the net_listen() parameter ""server_socket"".",0
292,Reorder controller and HID initialization,0.54145837, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"For some reason, '%g' does not work correctly with MinGW. Refs #3369 link PR #3399 link",0
293,Introduce process observer,0.4428708,"In verbose mode (scrcpy -Vverbose), all input events sent to the device are printed in the console (#2371). This can be useful for debugging.","For consistency, always use _WIN32 instead of a mix of WINDOWS and _WIN32.",0
294,Reorder cli sanity checks,0.4397536,scrcpy --stay-awake,"Flags were in the correct order in the schema, but their description were reversed.",0
295,Use SDL_bool return type instead of int,0.41353244,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
296,Close socket on error,0.59003806, - Print correct error messages on Windows socket errors (#2624),,0
297,Bump version to 1.19,0.76538694, - Bump version to 1.5 (as shown by scrcpy --version) (#332),There is no libs/ directory with local jar files.,1
298,Avoid string concatenation in crossfiles,0.4211003,Copy-paste in both directions,"Document how to set environment variables from the terminal for bash, cmd and PowerShell.",0
299,Set DPI awareness for Windows,0.9623673,DPI awareness on Windows,"In bash, the variable is set using ""export"".",1
300,Explain master and dev branches in BUILD,0.34718984,module,The file was not removed by 7dec225cebbf208cf1d607bd45fb49e3a9fa1167.,0
301,Remove sc_queue,0.6078372,scrcpy -S,"For consistency with sc_adb_parse_device(), do not include ""from_output"" in the function name.",0
302,Bump version to 1.24,0.7756802, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
303,Hide the window immediately on close,0.5934301, - Add option to disable window decorations (#762),Add missing void in function parameters list.,0
304,"Set ""low delay"" decoder flag",0.5838488,Reduced latency,This avoids breaking the page layout on GitHub.,0
305,Increase the number of connection attempts,0.76588887, - Increase connection attempts (fix issues over TCP/IP),,1
306,Rename --bit-rate to --video-bit-rate,0.5470643,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.",,0
307,Do not inline lockutil functions,0.4464273,The option to lock the video orientation now allows to lock the initial orientation. This avoids to pass an explicit orientation value.,,0
308,Fix v4l2 AVFrame memory leak,0.6681374, - Fix (huge) memory leak (#26),"On Windows and macOS, resizing blocks the event loop. Handling it properly would require the same workaround as done in screen.c. This reverts commit 436b368f9df4469274502f29626586b48db44a0c.",0
309,Add interruptible function to read from pipe,0.4812688,Buffering,SDL_RenderSetLogicalSize() returns 0 on success. Refs fc8942aa03dd18b20d6b2e450b13ba56d2c3489e,0
310,Add run script,0.6160732," - Add Bash completion script (#2930, #3048)",These paths were not updated by commit b8d78743f7fbe7aefed957f41e68efc4791573ba.,0
311,Use common pointers for mouse and touch,0.6237922,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).",,0
312,Provide device info directly on server connection,0.61120635,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.",,0
313,Ignore text events for shortcuts,0.63607275," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)",Use the latest version of FFmpeg in Windows 64-bit releases.,0
314,input_manager: fix potential memory leak on text,0.7106236, - Fix (huge) memory leak (#26),Include the latest version of SDL in Windows releases.,1
315,Remove screensaver log,0.7192582," - Add option to disable screensaver (#1370, #1502)",This improves the icon quality with non-standard window size. PR #3219 link,1
316,Remove obsolete text in error message,0.63610846, - Improve some error messages,PR #3219 link,0
317,Add sequence number to set_clipboard request,0.55023277," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)",Fixes #3099 link PR #3219 link,0
318,Upgrade SDL (2.0.16) for Windows,0.96260357, - Upgrade SDL to 2.0.16 in Windows releases (#2589),This will avoid poor quality with HiDPI displays. PR #3219 link,1
319,Merge branch 'arich/addShake' into dev (#85),0.4151926," - Add --encoder option (#1810, #1827)","By default, on start, the device is powered on. To prevent this behavior, add a new option --no-power-on. Fixes #3148 link PR #3210 link",0
320,Define common feature test macros for all systems,0.4442073,| Linux          | :heavy_check_mark: | :heavy_check_mark:,Document 4th-click and 5th-click shortcuts. Fixes #3122 link,0
321,Add missing error handling,0.72939193, - Improve some error messages,"Replace ""Github"" with ""GitHub"". PR #3218 link Signed-off-by: Romain Vimont rom@rom1v.com",1
322,Expose decoder as packet sink,0.60037386,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","Replace ""Wifi"" with ""Wi-Fi"", as in English and other translations. PR #3217 link Signed-off-by: Romain Vimont rom@rom1v.com",0
323,Fix noconsole.exe,0.8024099, - Fix scrcpy-noconsole.exe (#691),Fix code blocks. PR #3216 link Signed-off-by: Romain Vimont rom@rom1v.com,1
324,Join all threads before end of main,0.46265188,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Upgrade and enable libusb support for Windows 32-bit builds. Refs #3011 link Fixes #3204 link PR #3206 link,0
325,Mention auto-downsize feature in FAQ,0.55525196,Resize to fit,PR #3206 link,0
326,Fix downsize on error before first frame,0.6459396, - Reduce latency by 1 frame (#646),"The previous commit replaced the IInterface instance (the ""input"" service) by the InputManager instance (retrieved by InputManager.getInstance()). Both define an ""injectInputEvent"" method, but the alternate version (probably) does not concern the InputManager. This reverts commit b7a06278fee0dbfbb18b651ad563d9fb0797c8bc. PR #3190 link",0
327,Move newline generation in help,0.45426416,Forwarding Ctrl brings a lot of changes and improvements regarding copy-paste:,"Using the ""input"" service results in a permission error in Android 13. Use the InputManager instance (retrieved by InputManager.getInstance()) instead. Fixes #3186 link PR #3190 link",0
328,"Rename ""touch pointer"" to ""pointer""",0.5153253,Ctrl and Shift keys are now forwarded to the device.,"Improve clarity, grammar, consistency, punctuation, and formatting. PR #3177 link Signed-off-by: Romain Vimont rom@rom1v.com",0
329,Remove useless '\n' in log,0.5095413, - Log input events in verbose mode (#2371),PR #3174 link Signed-off-by: Romain Vimont rom@rom1v.com,0
330,Always synchronize clipboard on explicit COPY/CUT,0.7018739,"To allow seamless copy-paste (see v1.15 highlights), on Ctrl+v, a request to synchronize the computer clipboard to the device clipboard is performed before injecting Ctrl+v.",PR #3151 link Signed-off-by: Romain Vimont rom@rom1v.com,1
331,Simplify net.c,0.63560396,Windows PATH simplification,,0
332,Render screen on window restored,0.66549397,Screen off workarounds,Refs c3d45c8397b7886d9071ccd69f04e2c9245fb8e7,0
333,Fix comment style,0.48291057,(see this comment for more details),PR #3065 link Signed-off-by: Romain Vimont rom@rom1v.com,0
334,Remove compat with old FFmpeg codec params API,0.5232976, - Fix segfault on recording with old FFmpeg versions (#707),The data/ directory has been moved to app/data/. Refs 36c75e15b8e9eeb01bd287a42fa3f1513a728ebb,0
335,Upgrade version to 1.0,0.58757496, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),,0
336,Always release output buffer,0.60133743,Buffering,"Fix misleading zoom instruction, which gave opposite action steps. PR #3126 link Signed-off-by: Romain Vimont rom@rom1v.com",0
337,Use long command-line options,0.56820154, - Remove deprecated short options -T and -c,"Emulators were wrongly considered as USB devices, so they were selected using -d instead of -e (which was inconsistent with the adb behavior). Refs #3005 link Refs #3137 link",0
338,Disable X11 compositor bypass,0.9588597, - Disable X11 compositor bypass (#522),Refs #3129 link,1
339,Always destroy in reverse order,0.42645684, - Reverse horizontal scrolling behavior (#49),"Like adb, read the ANDROID_SERIAL environment variable to select a device by serial if no explicit selection (-s, -d, -e or --tcpip=) is provided via the command line. Fixes #3111 link PR #3113 link",0
340,"Remove local ""serial"" variable",0.43642223,Remove deprecated short options,Refs #3085 link,0
341,Increase clipboard size from 4k to 256k,0.97154343, - Increase clipboard size from 4k to 256k (#1117),"Modify the return logic such that exit code 1 is used when the initial connection fails, but if a session is established, and then the device disconnects, exit code 2 is emitted. Fixes #3083 link PR #3085 link Signed-off-by: martin f. krafft madduck@madduck.net Signed-off-by: Romain Vimont rom@rom1v.com",1
342,Add helpers to truncate UTF-8 at code points,0.6406895, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"We must distinguish 3 cases for await_for_server():  - an error occurred  - no error occurred, the device is connected  - no error occurred, the device is not connected (user requested to    quit) For this purpose, use an additional output parameter to indicate if the device is connected (only set when no error occurs). Refs #3085 link",0
343,Suppress DiscouragedPrivateApi lint warning,0.48946825, - Do not expose internal SDL logs to users (#1441),"On HID event push failure, add the event type in the error message.",0
344,Clean up the server from temporary folder,0.5225703, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,,0
345,Replace uint64_t by Uint64 for consistency,0.4075412, - Reduce latency by 1 frame (#646),Log libusb_get_string_descriptor_ascii() errors. Refs #3050 link,0
346,Turn screen on in control(),0.8706495,Turn screen on,The data/ directory was moved to app/data/. Refs 36c75e15b8e9eeb01bd287a42fa3f1513a728ebb,1
347,Handle file drop from input_manager,0.50121844, - Add feature to push file to /sdcard/ via drag & drop (#226),,0
348,Downscale and retry also on early MediaCodec error,0.9043864," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)",,1
349,Add link to FLAG_SECURE in FAQ,0.4283932,"In addition, to avoid opening a new terminal, a separate binary was provided with a special linking flag.",,0
350,Add stream layer,0.5203928, - Add crop feature,Include stdlib.h for realloc().,0
351,Timeout the server socket connection,0.64132714,ERROR: Server connection failed,Add Reddit and Twitter links (and an additional link to the GitHub issues).,0
352,Extract $BUILD_TOOLS_DIR,0.47747767,$ANDROID_SERIAL,Fixes #2930 link Refs #3012 link,0
353,Replace hardcoded 'share/' by datadir variable,0.38532916,"MOD+c, MOD+x and MOD+v are also provided to inject COPY, CUT and PASTE keycodes (see README for details).",PR #3012 link Signed-off-by: Romain Vimont rom@rom1v.com,0
354,Add bit-rate command-line option,0.6341361,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"Put ""Device not detected"" first.",0
355,Add move-function for sc_usb_device,0.5495374, - Add feature to push file to /sdcard/ via drag & drop (#226),,0
356,Add test_buffer_util,0.5116627, - Implement (optional) buffering (#2464),,0
357,Factorize frame swap,0.54218817, - Improve framerate counting,Add a paragraph about toggling an option to bypass having to physically connect the device to the user's computer. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
358,Properly report demuxer errors,0.54511976, - Improve some error messages,PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
359,Remap event positions on rotated display,0.72987676,Display rotation,"Add a small troubleshooting section since wireless might add some complexity, and to lessen incoming relevant issue posts. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",1
360,Do not print scrcpy version twice on --version,0.65198386,scrcpy v2.0,PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com,0
361,Expose application version,0.43780386, - Add feature to install APK files via drag & drop (#133),"The actual numbers are ignored by markdown, but start at 1 for consistency. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",0
362,Add audio sample ring-buffer,0.63456875," - Add Audio forwarding (#14, #3757)","Mention that the device must be plugged via USB before configuring TCP/IP connections. It wasn't obvious that the device should be first plugged before running scrcpy wirelessly, especially to those who aren't very familiar with adb. Note from committer: add this new step with index 0 to make the diff readable, the next commit will renumber all the steps. PR #1303 link Signed-off-by: Romain Vimont rom@rom1v.com",0
363,Use linear filtering,0.760165,Downscaling quality (trilinear filtering),HID/OTG features are not limited to Linux anymore. Refs 82a99f69ec464a0637a16bdccfe5ff806777e942,1
364,Correct coding style,0.59222376,Advanced codec options,To keep options in alphabetic order.,0
365,Fix CommandParserTest code style,0.5363374,"scrcpy --codec-options profile=1,level=4096",MediaCodec.configure() may throw an IllegalArgumentException if it does not support the requested size. Also retry on this exception. Fixes #2993 link Refs #2947 link Refs #2990 link PR #3043 link,0
366,Update README and FAQ for the new Windows releases,0.59643686, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"For simplicity, the parsing of adb devices -l output is performed in a single pass on the whole output. This output was limited to 4096 bytes. Since there are about 100 chars per device line, this limited the number of connected devices to ~40. Increase to 65536 bytes to avoid a limitation in practice. PR #3035 link",0
367,Give a name to demuxer instances,0.3725444,$ANDROID_SERIAL,This avoids the hardcoded maximum number of ADB devices detected (16). Refs #3029 link PR #3035 link Co-authored-by: Daniel Ansorregui d.ansorregui@samsung.com,0
368,Enable mouse focus clickthrough in OTG mode,0.82793814,Mouse focus clickthrough,This avoids the hardcoded maximum number of USB devices detected (16). Refs #3029 link PR #3035 link,1
369,Improve startup time,0.5798335,Reduced latency,"Adapt vlc_vector 1, that I initially wrote while implementing the VLC playlist 2. Change the implementation to use ""statement expressions"" 3, which are forbidden in VLC because ""non-standard"", but:  - they are supported by gcc and clang;  - they are already used in the scrcpy codebase;  - they avoid implementation hacks (VLC_VECTOR_FAILFLAG_);  - they allow a better API (sc_vector_index_of() may return the result    without an output parameter). PR #3035 link",0
370,Uprev Gradle wrapper to latest stable,0.45646733, - Bump version to 1.5 (as shown by scrcpy --version) (#332),The files in data/ are specific to the client app (not the server). This also avoids to reference the parent directory (../) from app/meson.build. Refs 8d583d36e259ba7f5f21d7a703cca73184200aa9,0
371,Simplify non-static injectEvent() implementation,0.42335963," - Adapt input injection for Android 13 (#3186, #3190)","Currently, there is an issue with the libusb prebuilt dll. Refs libusb/#1049 link PR #3011 link",0
372,Use cbuf for control event queue,0.5271064,Log input events,"On Windows, if the adb daemon is running, opening the USB device will necessarily fail, so HID input is not possible. Refs #2773 link PR #3011 link",0
373,Inline window events handling,0.538448, - Fix possible BufferUnderflowException on touch event (#1245),"On Windows, it is not possible to open a USB device from several process, so HID events may only work if no adb daemon is running. PR #3011 link",0
374,"Workaround ""adb connect"" error detection",0.73290867," - Fix adb server hang due to signal masking (#2870, #2873)","All adb commands are executed with an ""interruptor"", so that they can be interrupted on Ctrl+C. Make this interruptor optional, so that we could call ""adb kill-server"" in OTG mode. This command always returns almost immediately anyway. Ideally, we should make all blocking calls interruptible (including libusb calls, by using the asynchronous API), but it's a lot of work, and in practice it works well enough. PR #3011 link",1
375,Upgrade gradle build tools to 7.0.2,0.55745286, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,The HID/OTG features are now available on all platforms. PR #3011 link,0
376,Do not handle system-specific values in command.c,0.4903076,"scrcpy is a command line application, and is configured with command line arguments.",Fixes #2773 link PR #3011 link,0
377,Fix header guard name,0.42102495," - Fix support for non-ASCII characters in window title (#2932, #3547)",Add LIBUSB_CALL so that the callback has the correct signature on Windows (including attribute((stdcall))). PR #3011 link,0
378,Use net_send() from net_send_all(),0.4038567,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,"Convert uint16_t to unsigned to avoid using PRIx16, which may not exist on Windows. PR #3011 link",0
379,Group screen parameters into a struct,0.4093292,Screen off workarounds,"If it fails, the error is already logged by sc_usb_register_callback(). PR #3011 link",0
380,Allocate AVPacket for v4l2_sink,0.60107356,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"USB device disconnection is detected via a hotplug callback when it is supported. In addition, report disconnection on libusb calls returning LIBUSB_ERROR_NO_DEVICE or LIBUSB_ERROR_NOT_FOUND. This allows to detect disconnection after a libusb call when hotplug is not available. PR #3011 link",0
381,Reference --shortcut-mod from shortcuts list,0.70825803,Customizable shortcut modifier,"On macOS, SDL relative mouse mode does not work correctly when the cursor is outside the window. As a workaround, move the cursor inside the window before setting the relative mouse mode. Refs SDL/#5340 link PR #3031 link",1
382,Manually position and scale the content,0.5901108," - Add support for high-precision scrolling (#3363, #3369)",Using the screen instance or not in these functions is an implementation detail. Further changes will require the screen instance. Refs 7848a387c8281cb156f0e0da6bbbb05cda31db22 PR #3031 link,0
383,Fix environment variable configuration in FAQ,0.6653241,"On Windows, setting an environment variable is slightly different:",HID/OTG features are not limited to Linux anymore. PR #3031 link,0
384,Build log.c for test_cli,0.47301024, - Add --verbosity to configure log level at runtime,Fixes #2774 link PR #3031 link,0
385,Update links to v1.3 in README,0.47227335,"Copy-paste have been improved by previous releases, especially v1.15.",,0
386,Add util function to locate a column in a string,0.37777382," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)",,0
387,Move event conversion to input_manager,0.5792073,Log input events,It was committed by mistake.,0
388,Remove useless includes from decoder.c,0.461376,Remove deprecated short options,The FPS counter could be enabled/disabled via MOD+i. Add a command line option to enable it on start. This is consistent with other features like --turn-screen-off or --fullscreen. Fixes #468 link PR #3030 link,0
389,Update platform-tools (29.0.2) for Windows,0.87641037, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,This will allow to print the same logs for every start/stop call. PR #3030 link,1
390,Destroy mutex if strdup failed,0.5291523, - Print help to stdout (instead of stderr),Recommend to update to v1.22 before suggesting manual configuration. Fixes #3028 link PR #3032 link,0
391,Allocate and format server command args,0.47771615, - Adapt --help output to terminal size,,0
392,Make video_buffer more generic,0.5895984,"It also simplifies V4L2 usage, which does not support video dimension changes.",There were three links that weren't displayed correctly due to incorrect references:  - the Windows release link to README.md#windows  - 2 links that expected a German reference but got an English reference PR #3026 link Signed-off-by: Romain Vimont rom@rom1v.com,0
393,Avoid additional buffer copy in userspace,0.9362327, - Avoid additional buffer copy in userspace on the server,"The value of sc_tick_now() has microsecond precision, but sc_cond_timedwait() has only millisecond precision. To guarantee that sc_tick_now() >= deadline when sc_cond_timedwait() returns due to timeout, round up to the next millisecond. This avoids to call a non-blocking sc_cond_timedwait() in a loop for no reason until a target deadline during up to 1 millisecond. Refs 682a6911735cb8f6dccd9653ce30b72f267235c6",1
394,Only set valid PTS/DTS,0.44533074,scrcpy --display 1,"The type uint32_t is not sufficient to store the result of sc_tick_now(). As a consequence, the FPS counter entered a live loop and caused a lock starvation (deadlock in practice). Refs ec871dd3f596a8183e37982821645ac5a5791fe0 Refs 682a6911735cb8f6dccd9653ce30b72f267235c6",0
395,Clarify adb requirements,0.49607465," - Improve error message on missing adb (#236, #254)",PR #3023 link Signed-off-by: Romain Vimont rom@rom1v.com,0
396,Upgrade FFmpeg (5.0) for Windows 64-bit,0.9763398, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,"It might be useful not to cleanup on exit, for example to leave the screen turned off, or keep the server binary on the device (via the server option ""cleanup=false""). Fixes #1764 link PR #3020 link",1
397,Suggest workaround for error 0xfffffc0e,0.6602509, - Apply workarounds only on error (#994),"In alphabetic order, ""no-clipboard-autosync"" is before ""no-downsize-on-error"".",0
398,Fix a spell mistake,0.43097845, - Fix double-click events (#97),This allows to disable HID/OTG features on Linux to build without libusb.,0
399,Insert numerical values statically in usage string,0.40036637, - Add --render-driver parameter (#1284),This allows to disable V4L2 support on Linux to build without libavdevice.,0
400,Add toString() methods to java point classes,0.44751698, - Add --render-driver parameter (#1284),"On error, close the adb tunnel only if it has not already been closed beforehand.",0
401,Add --audio-codec,0.697327," - Add Audio forwarding (#14, #3757)",,0
402,Document 32 bits packages Windows in README,0.592862,| Windows 32-bit |        :x:         |        :x:,Prefix the constant for consistency.,0
403,Log device details on server start,0.5851058,Log input events,,0
404,Document the step to clone the project,0.53163767,Copy-paste workaround,"Now that the key frame flag is known, parsing the packet is useless.",0
405,Fix adb device ip parsing,0.71191096,DEBUG: ADB device found:,MediaCodec indicates when a packet is a key frame. Transmit it to the client.,1
406,Fix missing HID mouse destructor call,0.7017634, - Add HID mouse support (#2916),"A special PTS value was used to encode a config packet. To prepare for adding more flags, use the most significant bits of the PTS field to store flags.",1
407,Fix header guard prefix,0.41580474," - Fix support for non-ASCII characters in window title (#2932, #3547)",Make it explicit that the ifdef is an inner block.,0
408,Fix typo in manpage,0.71263754, - Add manpage,,1
409,Remove obsolete comment,0.5853299,Remove deprecated short options,"The relative mouse mode is tracked by SDL, and accessible via SDL_GetRelativeMouseMode(). This is more robust in case SDL changes the relative mouse mode on its own.",0
410,Add missing include string.h,0.44912443, - Continue text injection on failed character (#509),"If sc_usb_connect() failed, then the sc_usb_device was never destroyed. The assignment was mistakenly removed by commit 61969aeb80093d0777c7716a61698cbdaf9ddd71.",0
411,Support paths containing spaces on Windows,0.65635943," - Fix ""push file"" with spaces on Windows (#288)",The prebuilt dependencies are specific to the client app (not the server). This also avoids to reference the parent directory (../) from app/meson.build.,0
412,"Reactivate ""turn device screen on"" feature",0.8424703,To turn the device screen off on start:,Group prepare-deps for win32 and win64.,1
413,Pass screen to mouse event converters,0.7346178," - Correctly handle mouse events outside device screen (#353, #357)",For consistency with the other arguments,1
414,"Revert ""Enable high dpi support""",0.5789647," - Enable DPI awareness by default on Windows (#40, #2865)",,0
415,Add option to specify the initial window size,0.88016033, - Add options to set an initial window size and position (#762),"On --version, print both the version scrcpy had been compiled against, and the version linked at runtime.",1
416,Bind Home key to MOVE_HOME,0.9062999, - Bind Home key to MOVE_HOME instead of HOME screen (#555),This will avoid to include all dependencies headers from main.c.,1
417,Fail on deprecated options,0.5758645,Remove deprecated short options,"Without this log, the user would have no way to know that a USB device is rejected because it could not be opened (typically due to insufficient permissions).",0
418,Support Java lambdas in build_without_gradle.sh,0.40345842, - Print both compiled and linked version of libs on --version,PR #3005 link,0
419,Assert non-recursive usage of mutexes,0.37981752,Limitations,"If several devices are connected (as listed by adb devices), it was necessary to provide the explicit serial via -s/--serial. If only one device is connected via USB (respectively, via TCP/IP), it might be convenient to select it automatically. For this purpose, two new options are introduced:  - -d/--select-usb: select the single device connected over USB  - -e/--select-tcpip: select the single device connected over TCP/IP PR #3005 link",0
420,Make expression order consistent,0.45831752,Serial auto-completion,"Currently, a device is selected either from a specific serial, or if it is the only one connected. In order to support selecting the only device connected via USB or via TCP/IP separately, introduce a new selection structure. PR #3005 link",0
421,Factorize window resize,0.7340062, - Center the window on resize-to-fit (#2387),"This does nothing if the adb daemon is already started, but allows to print any output/errors to the console. Otherwise, the daemon starting would occur during adb devices, which does not output to the console because the result is parsed. PR #3005 link",1
422,Add support for AAC audio codec,0.6401676,Advanced codec options,"The device serial is now retrieved from adb devices -l, adb get-serialno is not called anymore. PR #3005 link",0
423,Use try-with-resources,0.336859,Limitations,"Since the previous commit, if a serial is given via -s/--serial (either a real USB serial or an IP:port), a device is selected if its serial matches exactly. In addition, if the user pass an IP without a port, then select any device with this IP, regardless of the port (so that ""192.168.1.1"" matches any ""192.168.1.1:port""). This is also the default behavior of adb. PR #3005 link",0
424,Extract mouse processor trait,0.57886815,scrcpy -M    # HID mouse,Select an adb device from the output of adb device -l. PR #3005 link,0
425,Fix rotation bug in fullscreen mode on X11,0.661649,Display rotation,"In practice, it just tests if the serial contains a ':', which is sufficient to distinguish ip:port from a real USB serial. PR #3005 link",0
426,Disable downsizing on error if V4L2 is enabled,0.64657986,"It also simplifies V4L2 usage, which does not support video dimension changes.","Add a parser of adb device -l output, to extract a list of devices with their serial, state and model. PR #3005 link",0
427,Reduce SHA-256 size in README and BUILD,0.516299, - Increase clipboard size from 4k to 256k (#1117),"Depending on the parameters passed to scrcpy, either the initial device serial is necessary or not. Reorganize to simplify the logic. PR #3005 link",0
428,Move screen encoder initialization,0.6306336,Encoder selection,"List all USB devices in a first step, then select the matching one(s). This allows to report a user-friendly log message containing the list of devices, with the matching one(s) highlighted. PR #3005 link",0
429,Correct return value type in handle_event,0.5362033, - Fix touch events parameters (#2125),The caller just wants a single device. Handle all cases and error messages internally. PR #3005 link,0
430,"Move ""Device unauthorized"" in FAQ",0.48684725,DEBUG:           (usb)  05f5e60a0ae518e5          unauthorized,"Add a function to ""move"" a sc_usb_device into another instance. This will avoid unnecessary copies. PR #3005 link",0
431,Remove unused markdown link in README,0.48440248,Remove deprecated short options,Define the printf format macro for size_t in compat.h so that it can be used from anywhere. PR #3005 link,0
432,Describe screen rotation shortcut in README,0.79327124,Shortcut to rotate device screen,"Rename from ""usb_device_"" to ""usb_devices_"". PR #3005 link",1
433,Present fullscreen option in README,0.5584893, - Add option --no-control to mirror in read-only,"One log macro was provided for each log level (LOGV(), LOGD(), LOGI(), LOGW(), LOGE()). Add a generic macro LOG(LEVEL, ...) accepting a log level as parameter, so that it is possible to write logging wrappers. PR #3005 link",0
434,Implement clipboard paste,0.832775, - Fix clipboard paste (#1658),"It is not clear when to use LOGC() rather than LOGE(). Always use LOGE(). Moreover, enum sc_log_level has no ""critical"" log level.",1
435,Add local.properties to gitignore,0.35239458, - Print both compiled and linked version of libs on --version,"For consistency with ""List USB devices"", log ""Open USB device"".",0
436,Rename rotation detection method name,0.59717965,Rotation,Such a separate function was useless.,0
437,Extract USB handling from AOA,0.55091107,"In OTG mode, the USB devices are also listed for convenience:","This helper did not help a lot, and prevented the client to choose the log level and the prefix error message.",0
438,Simplify scrcpy-server path configuration,0.74075687,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","This util function was error-prone:  - it accepted a buffer as parameter (not necessarily a NUL-terminated    string) and its length (including the NUL char, if any);  - it wrote '\0' over the last character of the buffer, so the last    character was lost if the buffer was not a NUL-terminated string, and    even worse, it caused undefined behavior if the length was empty;  - it returned the length of the resulting NUL-terminated string,    which was inconsistent with the input buffer length. In addition, it was not necessarily optimal:  - it wrote '\0' twice;  - it required to know the buffer length, that is the input string    length + 1, in advance. Remove this function, and let the client use strcspn() manually.",1
439,Add final modifier to ScreenEncoder fields,0.5612269," - Add screen recording (#21, #292)","The function assumed that the raw output of ""adb connect"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
440,Expose simple API to select a single adb device,0.587322,DEBUG: ADB device found:,"The function assumed that the raw output of ""adb get-serialno"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
441,Document remote ADB server in README,0.6115327,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:","The function assumed that the raw output of ""adb getprop"" was a NUL-terminated string, but it is not the case. It this output did not end with a space or a new line character, then sc_str_truncate() would write '\0' over the last character. Even worse, if the output was empty, then sc_str_truncate() would write out-of-bounds. Avoid the error-prone sc_str_truncate() util function.",0
442,Add a note about prebuilt server in BUILD.md,0.5242579,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,"The parser assumed that its input was a NUL-terminated string, but it was not the case: it is just the raw output of ""adb devices ip route"". In practice, it was harmless, since the output always ended with '\n' (which was replaced by '\0' on truncation), but it was incorrect nonetheless. Always write a '\0' at the end of the buffer, and explicitly parse as a NUL-terminated string. For that purpose, avoid the error-prone sc_str_truncate() util function.",0
443,Fix read_packet() return value on error or EOF,0.46959162, - Retry on spurious encoder error (#3693),"Before starting the server, the actual device serial (possibly its ip:port if it's over TCP/IP) must be known. A serial might be requested via -s/--serial (stored in the sc_server_params), but the actual serial may change afterwards:  - if none is provided, then it is retrieved with ""adb get-serialno"";  - if --tcpip is requested, then the final serial will be the target    ip:port. The requested serial was overwritten by the actual serial in the sc_server_params struct, which was a bit hacky. Instead, store a separate serial field in sc_server (and rename the one from sc_server_params to ""req_serial"" to avoid confusion).",0
444,Log non-EPIPE I/O exceptions,0.50109196,Log input events,"Do not use an output parameter to return the value. Instead, return the actual ip:port string on success or NULL on error.",0
445,Forward Ctrl to the device,0.8724272,Ctrl and Shift keys are now forwarded to the device.,"Now that providing a serial is mandatory for adb commands where it is relevant, the whole argv array may be built statically, without allocations at runtime.",1
446,Do not disable screensaver,0.87898517," - Add option to disable screensaver (#1370, #1502)",This will allow the caller to build the argv array directly.,1
447,Fix icon path in ./run,0.53694093, - Add icon to scrcpy.exe (#2815),"Semantically, a ""command"" refers to the whole command line argv (adb and its arguments).",0
448,Disable sanitizer on debug builds,0.48491576," - Add --no-cleanup option (#1764, #3020)","If no serial is passed, then the command would work if there is exactly one device connected, but will fail with multiple devices. To avoid such cases, ensure that a serial is always provided.",0
449,Add buffer_write64be(),0.6275917, - Implement (optional) buffering (#2464),"Calling ""adb disconnect"" without argument would disconnect every TCP/IP device. We must make sure scrcpy never does that.",0
450,Fix event ownership comment,0.50772786, - Fix touch events parameters (#2125),The #define was removed in 1c71bd16bec1db0788e72a7c6b02f80ed40f1601.,0
451,Update SDL (2.0.9) for Windows,0.9720533, - Update SDL to 2.0.9 included in Windows releases,"If --disable-screensaver is passed, then screensaver is disabled, otherwise it is enabled. No need for a log.",1
452,Update FAQ about Windows scaling behavior,0.6084383, - Restore resizing workaround for Windows (#3640),"On Windows, adb is provided in the release archive. Most missing adb issues come from users setting the ADB environment variable to an incorrect value (on all platforms). Suggesting to install platform-tools to solve the problem will just make things worse (there will be one more adb in yet another location).",0
453,Fix options alphabetical order,0.42003483," - Add ""always on top"" option (#391, #412)",,0
454,Fix memory leak on error,0.8725475, - Fix (huge) memory leak (#26),,1
455,Improve documentation for consistency,0.44038612, - Various technical refactors and fixes,"Call the same push_packet_to_sinks() in all cases, and make sc_demuxer_parse() return void.",0
456,Move await_for_server() logs,0.47409242,Log input events,"For consistency with recorder and decoder, name the component which demuxes a ""demuxer"". And add the missing sc_ prefix.",0
457,Format shortcut documentation,0.7022157,New shortcuts,,1
458,Adapt event injection to Android 13,0.7868602," - Adapt input injection for Android 13 (#3186, #3190)",,1
459,Add cli option to set the verbosity level,0.5148149, - Add --verbosity to configure log level at runtime,PR #2994 link Signed-off-by: Romain Vimont rom@rom1v.com,0
460,Return success count in injectText,0.63437533, - Continue text injection on failed character (#509),"The new retry mechanism with a lower definition only worked if the error occurred during encode(). For example: java.lang.IllegalStateException     at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)     at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:3452)     at com.genymobile.scrcpy.ScreenEncoder.encode(ScreenEncoder.java:114)     at com.genymobile.scrcpy.ScreenEncoder.internalStreamScreen(ScreenEncoder.java:95)     at com.genymobile.scrcpy.ScreenEncoder.streamScreen(ScreenEncoder.java:61)     at com.genymobile.scrcpy.Server.scrcpy(Server.java:80)     at com.genymobile.scrcpy.Server.main(Server.java:255) However, MediaCodec may also fail before encoding, during configure() or start(). For example: android.media.MediaCodec$CodecException: Error 0xfffffc0e     at android.media.MediaCodec.native_configure(Native Method)     at android.media.MediaCodec.configure(MediaCodec.java:1956)     at android.media.MediaCodec.configure(MediaCodec.java:1885)     at com.genymobile.scrcpy.ScreenEncoder.configure(ScreenEncoder.java:158)     at com.genymobile.scrcpy.ScreenEncoder.streamScreen(ScreenEncoder.java:68)     at com.genymobile.scrcpy.Server.scrcpy(Server.java:28)     at com.genymobile.scrcpy.Server.main(Server.java:110) Also downscale and retry in these cases. Refs #2947 link Refs #2988 link PR #2990 link",0
461,Document HID mouse in README,0.65594757,Add HID mouse support,,0
462,Add OutOfMemory log helper,0.6068164, - Add --verbosity to configure log level at runtime,"The function parsing ""ip route"" output modifies the input buffer to tokenize in place. This must be mentioned in the function documentation.",0
463,Provide strdup() compat,0.60809815,scrcpy --tcpip    # without arguments,"The function was initially implemented to truncate lines, but was later generalized to accept custom delimiters. The whole documentation has not been updated accordingly. Refs 9619ade706824a92ea387bdc9d0d27816bf79da5",0
464,Add option to change the push target,0.92142785, - Add option to change the push target (#659),,1
465,Add sc_vector,0.5554726,scrcpy -S,PR #2989 link Signed-off-by: Romain Vimont rom@rom1v.com,0
466,Update links to v1.2 in README,0.4657033,"Copy-paste have been improved by previous releases, especially v1.15.",PR #2989 link Signed-off-by: Romain Vimont rom@rom1v.com,0
467,Reformat README.ko.md,0.41078067, - Various technical refactors and fixes,,0
468,"Update manpage for --window-{x,y} options",0.66477716, - Add manpage,,0
469,Update links to v2.0,0.57815254, - Update SDL to 2.0.9 included in Windows releases,,0
470,Add debug log on new screenrecord execution,0.58222973," - Add screen recording (#21, #292)",PR #2978 link Signed-off-by: Romain Vimont rom@rom1v.com,0
471,Add links to FFmpeg and LibSDL2 dependencies,0.651914, - Print both compiled and linked version of libs on --version,"This aims to fix two issues with the previous implementation:  1. the whole content of downloaded archives were extracted, while only     few files are necessary;  2. the archives were extracted in the prebuild-deps/ directory as is. As a consequence of (2), the actual directory name relied on the root directory of the archive. For adb, this root directory was always ""platform-tools"", so when bumping the adb version, the target directory already existed and the dependency was not upgraded (the old one had to be removed manually). Expose common function to download a file and check its checksum, but let the custom script for each dependency extract only the needed files and reorganize the content if necessary.",0
472,Destroy condition variable on frames destruction,0.54109514, - Remove option --render-expired-frames (#2268),This reverts commit c0de365f672110959cec8fca936bd6aeaa01b59d. The new adb.exe crashes. Refs #2981 comment link,0
473,Decompose accented characters,0.41911706,Remove deprecated short options,"The exit code on windows is stored in a DWORD, an unsigned long: link Use the max value of this type for SC_EXIT_CODE_NONE.",0
474,Fix more log format warning,0.5820564, - Improve some error messages,It will help to log errors returned by GetLastError() or WSAGetLastError():  - link  - link  - link Always log the errors in English to be able to read them in bug reports.,0
475,Build for Windows with libusb support,0.80287534," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",A single click on the window must both give focus and capture the mouse. PR #2974 link,1
476,Add missing break statement,0.47967082, - Continue text injection on failed character (#509),Allow to only enable HID keyboard or HID mouse: scrcpy --otg -K   # keyboard only scrcpy --otg -M   # mouse only scrcpy --otg -KM  # keyboard and mouse scrcpy --otg      # keyboard and mouse PR #2974 link,0
477,Make macro expansion-safe,0.45007318,Resize to fit,PR #2974 link,0
478,Notify adb missing,0.8124163," - Improve error message on missing adb (#236, #254)","Add an option --otg to run scrcpy with only physical keyboard and mouse simulation (HID over AOA), without mirroring and without requiring adb. To avoid adding complexity into the scrcpy initialization and screen implementation, OTG mode is implemented totally separately, with a separate window. PR #2974 link",1
479,README: Add Fedora install instructions,0.43682814," - Add desktop entry files for Linux (#295, #296, #748, #1636, #3351)","Input events helpers to convert from SDL events to scrcpy events were implemented in input_manager. To reuse them for OTG mode, move them to input_events.h. PR #2974 link",0
480,Use separate gen dir to build without gradle,0.4180821, - Change the Windows build (cross-compile from Linux),"The device disconnection is detected when the video socket closes. In order to introduce an OTG mode (HID events) without mirroring (and without server), we must be able to detect USB device disconnection. This feature will only be used in OTG mode. PR #2974 link",0
481,Add strlist_contains(),0.5166011, - Add --list-displays and --list-encoders,"Acksync is used to delay HID events until some request (in practice, device clipboard synchronization) is acknowledged by the device. This mechanism will not be necessary for OTG mode. PR #2974 link",0
482,Reorder options in alphabetical order,0.3752148, - Forward repeated volume events,"If no serial is provided, then list all available USB devices (which can be open and having a serial). PR #2974 link",0
483,Add Makefile recipe for debug build,0.46451974,Bugfixes,"Several devices may match the requested serial, but above all, this paves the way to list all devices (when no serial is provided). PR #2974 link",0
484,Fix adb get-serialno parsing,0.53858876," - Improve error message on missing adb (#236, #254)",Introduce a structure to wrap a libusb_device and expose its descriptor data read during discovery. PR #2974 link,0
485,Add description for meson options,0.48466268, - Add --list-displays and --list-encoders,"The device was automatically found by sc_usb_connect(). Instead, expose a function to find a device from a serial, and let the caller connect to the device found (if any). This will allow to list all devices first, then select one device to connect to. PR #2974 link",0
486,Fix utf-8 char path in windows,0.7226376, - Fix issues when directory contains non-ASCII chars on Windows (#1002),"Use it from accept_device() to simplify (at the cost an additional allocation for each serial, but it is not important). It will also be useful in other functions in further commits. PR #2974 link",1
487,input_manager: don't ignore double click event when clicking inside device,0.6616249, - Fix double-click events (#97),This will allow to execute other USB calls (retrieving the device list for example) before connecting to the selected device. PR #2974 link,0
488,Add support for palette icon formats,0.6039223," - Add official high-resolution icon (#1497, #1987)",An explicit context was used everywhere except for listing the devices. PR #2974 link,0
489,Remove manifest package name,0.42533988,Remove deprecated short options,"It is possible to retrieve the device instance from the handle via libusb_get_device(), so we don't need to reference the device one more time. PR #2974 link",0
490,Make lockVideoOrientation option name uniform,0.7162462, - Add an option to lock the initial video orientation,This will allow to initialize a USB device separately and pass it to sc_aoa. PR #2974 link,1
491,Expose socket interruption,0.5301932," - Fix possible session crash on close (#52, #182)","In practice, it is already mandatory. PR #2974 link",0
492,Upgrade gradle build tools to 7.0.3,0.5553077, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),The AOA code handled both USB initialization and AOA commands/events. Extract USB-related code to a separate file and structure. PR #2974 link,0
493,Use  HTML tag for keys,0.5706873," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)",The condition actually determines whether scrcpy can use libusb or not. PR #2974 link,0
494,Bump version to 1.12.1,0.8168468, - Bump version to 1.5 (as shown by scrcpy --version) (#332),PR #2974 link,1
495,Merge pull request #401 from npes87184/dev,0.4315362," - Add specific exit code for device disconnection (#3083, #3085)","The server needs to interrupt the sockets on stop, but it must not close them while other threads may attempt to read from or write to them. In particular, the video_socket is read by the stream thread, and the control_socket is written by the controller and read by receiver. Therefore, close the socket only on sc_server_destroy(), which is called after all other threads are joined. Reported by TSAN on close: WARNING: ThreadSanitizer: data race (pid=3287612)   Write of size 8 at 0x7ba000000080 by thread T1:     #0 close ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:1690 (libtsan.so.0+0x359d8)     #1 net_close ../app/src/util/net.c:280 (scrcpy+0x23643)     #2 run_server ../app/src/server.c:772 (scrcpy+0x20047)     #3   (libSDL2-2.0.so.0+0x905a0) Previous read of size 8 at 0x7ba000000080 by thread T16:     #0 recv ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:6603 (libtsan.so.0+0x4f4a6)     #1 net_recv_all ../app/src/util/net.c:228 (scrcpy+0x234a9)     #2 stream_recv_packet ../app/src/stream.c:33 (scrcpy+0x2045c)     #3 run_stream ../app/src/stream.c:228 (scrcpy+0x21169)     #4   (libSDL2-2.0.so.0+0x905a0) Refs ddb9396743072f97628fab168ef7fcd45a597b03",0
496,Make server_connect_to() return a bool,0.5582274,ERROR: Server connection failed,Refs b25404ee4b6f2cbdd41992fa3e087dd8a73412c9,0
497,Add Brazilian Portuguese translation,0.2894426,(see this comment for more details),Refs 6da6d905c2aeac17255347037d44c32a62c4c504,0
498,Configure server verbosity from the client,0.48127538, - Terminate server properly without killing it on close (#1992),PR #2962 link Signed-off-by: Romain Vimont rom@rom1v.com,0
499,Declare callbacks static,0.4066012, - Fix possible BufferUnderflowException on touch event (#1245),Help users make sense of the app name :),0
500,Add release script,0.573843," - Add Bash completion script (#2930, #3048)",Include the latest version of adb in Windows releases.,0
501,"Also build ""noconsole"" binary for Windows",0.75003535,Windows console/noconsole,Include the latest version of SDL in Windows releases.,1
502,Run the server from a dedicated thread,0.60223365,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Align function parameters.,0
503,Fix max size default value,0.6138394,Resize to fit,Locking the frame_buffer mutex to reference the input frame into the tmp_frame is unnecessary. This also fixes the missing unlock on error.,0
504,Merge commands with other control events,0.48575318,Log input events,,0
505,Print both compiled and linked versions of libs,0.9681156, - Print both compiled and linked version of libs on --version,"On Windows, the file explorer does not provide any ""open a terminal here"" shortcut. Add a bat file which just runs cmd to easily open a terminal directly in the scrcpy directory (so there is no need to cd C:\path\). PR #2970 link",1
506,Extract event processing out of event_loop(),0.51726854,Log input events,This totally disables deferred cleanup when --no-control is passed. Refs f289d206ea0e10cc052137781c39da862ebe2f73,0
507,Pass AVCodecContext to frame sinks,0.5277456,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,Refs afa4a1b728d6f130acff23c0e3fb4609bcb8a6b2,0
508,Fix the printed versions (were opposite),0.5004184, - Print both compiled and linked version of libs on --version,"For convenience, this new option forces the 3 following options:  - send_device_meta=false  - send_frame_meta=false  - send_dummy_byte=false This allows to send a raw H.264 stream on the video socket. Concretely: adb push scrcpy-server /data/local/tmp/scrcpy-server.jar adb forward tcp:1234 localabstract:scrcpy adb shell CLASSPATH=/data/local/tmp/scrcpy-server.jar \     app_process / com.genymobile.scrcpy.Server 1.21 \     raw_video_stream=true tunnel_forward=true control=false As soon as a client connects via TCP to localhost:1234, it will receive the raw H.264 stream. Refs #1419 comment link PR #2971 link",0
509,Store serial in server instance,0.4956667,$ANDROID_SERIAL,"If set to false, no dummy byte is written to detect a connection error. PR #2971 link",0
510,Split USB initialization and connection,0.6313114,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","Similar to send_device_frame, this option allows to disable sending the device name and size on start. This is only useful when using the scrcpy-server alone to get a raw H.264 stream, without using the scrcpy client. PR #2971 link",0
511,Simplify adb_tunnel,0.6761907,Configure tunneling,Move the options unused by the scrcpy client at the end. These options may be useful to use scrcpy-server directly (to get a raw H.264 stream for example). PR #2971 link,0
512,Pass key frame flag from the device,0.5717689,Ctrl and Shift keys are now forwarded to the device.,This will allow to optionally disable it. PR #2971 link,0
513,Add missing return 0 in tests,0.50639373, - Continue text injection on failed character (#509),"If control is disabled, then do not enable ""show touches"" or automatically power off the device on close.",0
514,Translate README.md into Spanish,0.34580097," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",Several tests must be performed if opts->control is false.,0
515,Use Cmd instead of Ctrl on macOS when possible,0.8853936, - Use Cmd instead of Ctrl for shortcuts on macOS when possible (#642),"With ifdefs, the resulting code could contain both a return statement and a break.",1
516,Update FFmpeg (4.1) for Windows,0.9760241, - Update FFmpeg to 4.1 included in Windows releases,,1
517,Make streamer independent of codec type,0.53764987,Advanced codec options,,0
518,Add recorder,0.6678482," - Add screen recording (#21, #292)","With the recent versions, scrcpy first executes ""adb get-serialno"", so the adb error messages are not exactly the same.",0
519,Simplify default values,0.5251566,Remove deprecated short options,"Retry with a lower definition if MediaCodec fails before the first frame, not the first packet. In practice, the first packet is a config packet without any frame, and MediaCodec might fail just after. Refs 2eb6fe7d81c15912a2252f229d317ae03f618a33 Refs #2963 link",0
520,Remove deprecation warning,0.59160006,Remove deprecated short options,"If relative mode is enabled, capture the mouse immediately.",0
521,"Change ""resize to fit"" shortcut to MOD+w",0.9467683," - Change ""resize to fit"" shortcut from MOD+x to MOD+w (#1598)",This will allow to reuse the condition in another function.,1
522,Add scrcpy version in recorded video metadata,0.63021135,scrcpy --display 1,"In relative mode, Alt and Super are ""capture keys"". Never forward them to the input manager, to avoid inconsistencies between UP and DOWN events.",0
523,Upgrade gradle build tools to 7.4.0,0.54827535, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,Make the message consistent for HID keyboard and HID mouse.,0
524,Fix compat missing include,0.58638954, - Various technical fixes,"This was harmless because this is the last ""case"" of the switch, but for consistency, add the missing break.",0
525,Make --lock-video-orientation argument optional,0.82690394, - an option to lock the video orientation,There is no reason to request inlining here.,1
526,Remove extra space in README,0.5703623,Remove deprecated short options,The function libusb_get_device_descriptor() might return an error. Handle it.,0
527,Use sc_ prefix for control_msg,0.5892409,scrcpy -S,Use goto to avoid many repetitions.,0
528,Move all compat ifdefs definitions to compat.h,0.41435927, - Change the Windows build (cross-compile from Linux),"The destructor unregisters the HID mouse, so it was not reported as a leak, but it must still be called.",0
529,Extract current video_buffer to frame_buffer,0.61363643, - Add runtime option to render expired frames (i.e. not skip frames),Group all conditions requiring a controller in a single if-block.,0
530,Upgrade FFmpeg (5.0.1) for Windows 64-bit,0.9760303, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,"The controller is NULL if and only if control is disabled, so an additional control boolean is redundant.",1
531,Upgrade FFmpeg (6.0) for Windows,0.9518944, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"If --no-control is requested, then the controller instance is not initialized. However, its reference was still passed to screen and input_manager. Instead, pass NULL if no controller is available.",1
532,Add packaging status,0.45155728," - Add --legacy-paste option (#1750, #1771)","If --no-control is passed, then im->mp is NULL, so processing touches would crash.",0
533,Add tests for control message length,0.48601788, - Adapt --help output to terminal size,"Relative mouse mode assumed that a mouse processor was always available, but this is not the case if --no-control is passed.",0
534,Document --tcpip in README,0.6638011, - Make it work over tcpip (#5),Merge single event handling with the event loop function.,0
535,Add sc_allocarray() util,0.54016304,scrcpy --display 1,A file is pushed (or an apk is installed) to the device on file drop. This behavior is specific to the screen and its input_manager.,0
536,Configure log priority early,0.56305003, - Add --verbosity to configure log level at runtime,It is never read. Simplify.,0
537,Compute scrcpy directory manually,0.7385465,"Then, from another terminal, run scrcpy:","If a file_push request fails, the allocated filename must be freed.",1
538,Fix crash on --no-control,0.6535361,Device crashes fixes,"Rename handler to pusher (""handler"" is too generic), and add sc_ prefix.",0
539,Fix typos in help,0.56157285, - Improve some error messages,"MediaCodec errors always trigger IllegalStateException or a subtype (like MediaCodec.CodecException). In practice, this avoids to retry if the error is caused by an IOException when writing the video packet to the socket.",0
540,Add buffering debugging tools,0.6671037, - Implement (optional) buffering (#2464),"The purpose of automatic downscaling on error is to make mirroring work by just starting scrcpy without an explicit -m value, even if the encoder could not encode at the screen definition. It is only useful when we detect an encoding failure before the first frame. Downsizing later could be surprising, so disable it. PR #2947 link",0
541,Enable debug logs only for debug builds on server,0.4935797, - Do not expose internal SDL logs to users (#1441),"V4L2 device is created with the initial device size, it does not support resizing. PR #2947 link",0
542,Improve SSH tunnel documentation in README,0.55770093,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.","The optimal initial size was computed from the expected dimensions, sent immediately by the server before encoding any video frame. However, the actual frame size may be different, for example when the device encoder does not support the requested size. To always handle this case properly, position and size the window only once the first frame size is known. PR #2947 link",0
543,Add undetected device error message in FAQ,0.6607138,ERROR:     -->   (usb)  fedcba09                        device  GM1913,Show the window only after the actual frame size is known (and if no error has occurred). This will allow to properly position and size the window when the size of the first frame is different from the size initially announced by the server. PR #2947 link,0
544,Use /dev/null instead of closing fds,0.44668385, - Terminate server properly without killing it on close (#1992),"The position fields accept SC_WINDOW_POSITION_UNDEFINED, not the size fields. PR #2947 link",0
545,Add environment variables in help,0.66866136,"On Windows, setting an environment variable is slightly different:",PR #2947 link,0
546,server/meson.build: Prevent using input field for directory,0.4661795, - Avoid additional buffer copy in userspace on the server,"Now that scrcpy attempts with a lower definition on any MediaCodec error (or the user explicitly requests to disable auto-downsizing), the suggestion is unnecessary. PR #2947 link",0
547,Add missing comma,0.3980748, - Continue text injection on failed character (#509),Add --no-downsize-on-error option to disable attempts to use a lower definition on MediaCodec error. PR #2947 link,0
548,Silence lint warning about constant in API 29,0.50310826," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","Some devices are not able to encode at the device screen definition. Instead of just failing, try with a lower definition on any MediaCodec error. PR #2947 link",0
549,Never return 0 for stream protocol,0.8090683," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)",This will allow to reuse them to recreate a ScreenInfo instance in order to change the maxSize value on MediaCodec error. PR #2947 link,1
550,Extract audio capture,0.5418345," - Add Audio forwarding (#14, #3757)",Use the actual rotation and size values directly. This will allow to automatically change the maxSize value on MediaCodec error. PR #2947 link,0
551,Keep the same display binder across sessions,0.5018602,"The locked orientation affects the recording, and never changes across the session.",Refs b7a06278fee0dbfbb18b651ad563d9fb0797c8bc,0
552,Add option to turn device screen off,0.9139574,To turn the device screen off on start:,Some devices with modified ROMs expose a different signature for injectInputEvent(). Fixes #2250 link PR #2946 link Signed-off-by: Romain Vimont rom@rom1v.com,1
553,Use explicit output parameter for skipped frame,0.6528596, - Add runtime option to render expired frames (i.e. not skip frames),Use FFmpeg win64 binaries from gyan.dev (referenced from ffmpeg.org): link/ link Keep the old FFmpeg prebuilt binaries (4.3.1) for win32 builds. Fixes #1753 link Refs #1838 link Refs #2583 link PR #2952 link Co-authored-by: Yu-Chen Lin npes87184@gmail.com Co-authored-by: nkh0472 nkh0472@hotmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
554,Move IPV4_LOCALHOST to net.h,0.6066253,Simplify TCP/IP (wireless) configuration,"The FFmpeg dependency is downloaded from two separate zipfiles. Symlink include/ to expose everything from a single directory, to simplify the meson script. PR #2952 link",0
555,app: add always_on_top,0.7304673," - Add ""always on top"" option (#391, #412)",The fact that the current prebuilt FFmpeg is split into two separate zipfiles is an implementation detail. Use a single Makefile recipe for both files. PR #2952 link,1
556,Remove useless undef,0.5835417,Remove deprecated short options,PR #2945 link Signed-off-by: Romain Vimont rom@rom1v.com,0
557,Simplify event loop,0.4986081,Repeating key events,PR #2948 link Signed-off-by: Bernhard Rosenkrnzer bero@lindev.ch Signed-off-by: Romain Vimont rom@rom1v.com,0
558,Enable NDEBUG via Meson built-in option,0.42359298,To enable this mode:,These fields are only set from the constructor.,0
559,Attempt to log message only in verbose mode,0.72201705, - Log input events in verbose mode (#2371),Boolean options explicitly passed to the server are statically known.,1
560,Add scoop instructions for Windows,0.57491934, - Restore resizing workaround for Windows (#3640),,0
561,Fix protocol documentation in comments,0.54895353, - Improve some error messages,,0
562,Add server option send_dummy_byte,0.5629942,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,,0
563,Fix comment in control message serialization,0.5457466, - Improve some error messages,,0
564,Initialize Application object to avoid NPE,0.52376544, - Initialize Application object (fix crashes on some devices) (#940),Limit to 80 chars.,0
565,Remove black borders on double-click,0.99717927, - Remove black borders on double-click,"The components should be configurable independently of the global scrcpy_options instance: their configuration could be provided separately, like it is the case for example for some screen parameters. For consistency, keyboard injection should not depend on scrcpy_options.",1
566,Try new methods before legacy ones,0.4562782," - Add --legacy-paste option (#1750, #1771)",,0
567,Document --encoder option,0.6477142," - Add --encoder option (#1810, #1827)",,0
568,Rename event converter functions,0.4971044,Repeating key events,This paves the way to add support for HID mouse initialization.,0
569,Fix typo in logs,0.54541224,Log input events,,0
570,Make message buffer static,0.59416145,Buffering,"In relative mouse mode, the mouse pointer must be ""captured"" from the computer. Toggle (disable/enable) relative mouse mode using any of the hardcoded capture keys:  - left-Alt  - left-Super  - right-Super These capture keys do not conflict with shortcuts, since a shortcut is always a combination of the MOD key and some other key, while the capture key triggers an action only if it is pressed and released alone. The relative mouse mode is also automatically enabled on any click in the window, and automatically disabled on focus lost (it is possible to lose focus even without the mouse).",0
571,"Revert ""Fix Makefile for Windows""",0.65349185, - Restore resizing workaround for Windows (#3640),The decision to not send motion events when no click is pressed is specific to Android mouse injection. Other mouse processors (e.g. for HID mouse) will need to receive all events.,0
572,Terminate event controller thread on EOF,0.5050379, - Fix possible BufferUnderflowException on touch event (#1245),This will allow the mouse processor to handle relative motion easily.,0
573,Fix control event String parsing,0.5432537, - Fix touch events parameters (#2125),"The default mouse injection works in absolute mode: it forwards clicks at a specific position on screen. To support HID mouse, add a flag to indicate that the mouse processor works in relative mode: it forwards mouse motion vectors, without any absolute reference to the screen.",0
574,Do not release TCP sockets while still in use,0.5730465," - Use current adb port (if any) for --tcpip (#3591, #3592)","A scroll event might be produced when a mouse button is pressed (for example when scrolling while selecting a text). For consistency, pass the actual buttons state (instead of 0). In practice, it seems that this use case does not work properly with Android event injection, but it will work with HID mouse.",0
575,Use scrcpy input events for key processors,0.6344192,scrcpy v1.25,"If AOA or HID keyboard may not be initialized for some reason, acksync is useless.",0
576,Add helper to log Windows system errors,0.6028783," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",The AOA initialization state is already tracked by aoa_hid_initialized.,0
577,Improve FAQ explanations,0.56268233, - Various technical refactors and fixes,"This allows to merge two ""#ifdef HAVE_AOA_HID"" blocks to simplify.",0
578,Update brew cask documentation,0.4614905,scrcpy v1.5-fixversion,"The input_manager is strongly tied to the screen, it could not work independently of the specific screen implementation. To implement a user-friendly HID mouse behavior, some SDL events will need to be handled both by the screen and by the input manager. For example, a click must typically be handled by the input_manager so that it is forwarded to the device, but in HID mouse mode, the first click should be handled by the screen to capture the mouse (enable relative mouse mode). Make the input_manager a descendant of the screen, so that the screen decides what to do on SDL events. Concretely, replace this structure hierarchy:  +- struct scrcpy     +- struct input_manager     +- struct screen by this one:  +- struct scrcpy     +- struct screen        +- struct input_manager",0
579,"Fix an ""expected expression"" error",0.47495687, - Improve some error messages,"This avoids to directly pass the options instance (which contains more data than strictly necessary), and limit the number of parameters for the init function.",0
580,Reset window size on initialization,0.7529217, - Add options to set an initial window size and position (#762),Refs b8fed50639fe3bf8e02a8cc2409494cd6bf30fb7 Fixes #2924 link,1
581,Capture mouse on start for --hid-mouse,0.7471452,Add HID mouse support,The pinch-to-zoom feature must only be enabled with Ctrl+left_click.,1
582,Remove log_libusb_error(),0.49887094, - Do not expose internal SDL logs to users (#1441),Do not force all mouse processors to implement scroll events or touch events.,0
583,Mention version of Indonesian translation,0.36153063,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","Not all key processors support text injection (HID keyboard does not support it). Instead of providing a dummy op function, set it to NULL and check on the caller side before calling it.",0
584,Add --lock-video-orientation=initial,0.9447475, - Add an option to lock the initial video orientation,"If --forward-all-clicks is not set, then only left clicks are forwarded. For consistency, also mask the buttons state in other events.",1
585,Remove useless cast,0.49287182,Remove deprecated short options,Group the mouse events callbacks before the touch event callback.,0
586,Merge branch 'dev' into release,0.40176344, - Change the Windows build (cross-compile from Linux),The static functions are now so simple that they become unnecessary: the control message may be initialized directly instead.,0
587,Fail on unsupported HID option,0.6650914, - Fix HiDPI support (#829),"When the implementation handles all possible input values, it may never fail.",0
588,Fix indentation,0.5350893, - Various technical refactors and fixes,"Pass scrcpy input events instead of SDL input events to mouse processors. These events represent exactly what mouse processors need, abstracted from any visual orientation and scaling applied on the SDL window. This makes the mouse processors independent of the ""screen"" instance, and the implementation source code independent of the SDL API.",0
589,"Initialize queue ""last"" field",0.38596874," - Add ""always on top"" option (#391, #412)",Pass scrcpy input events instead of SDL input events to key processors. This makes the source code of key processors independent of the SDL API.,0
590,Extract control event String parsing,0.45451355," - Add option to ignore repeated key events (#1013, #1623)","Now that the scrcpy input events API exposes a sc_action enum, use the same from the input manager.",0
591,Replace meson subprojects by subdir,0.48202813,There is also a subreddit: r/scrcpy,"This aims to make the key/mouse processors independent of the ""screen"", by processing scrcpy-specific input events instead of SDL events. In particular, these scrcpy events are not impacted by any UI window scaling or rotation (contrary to SDL events).",0
592,Force --no-audio if no display and no recording,0.56208366, - Add option --no-display to record without mirroring (#418),This will avoid conflicts with new SC_MOD_* constants.,0
593,Fix buffering pts conversion,0.5806494, - Various technical refactors and fixes,"The input manager exposed functions taking an ""actions"" parameter, containing a bitmask-OR of ACTION_UP and ACTION_DOWN. But they are never called with both actions simultaneously anymore, so simplify. Refs 964b6d2243fa1921543e48810f3064b9bd2d50d1 Refs d0739911a3e413b70275ded3eef839f9dc57ba7a",0
594,Accept resize shortcuts on maximized window,0.7326586, - Center the window on resize-to-fit (#2387),This allows to report a meaningful error message if an unsupported feature is used on an incompatible platform. This is consistent with the behavior of -K/--hid-keyboard.,1
595,Add generic intrusive FIFO queue,0.47391698, - Implement (optional) buffering (#2464),"If the feature is not supported on the platform, fail during command line parsing instead of using a fallback.",0
596,Add audio player,0.7290367," - Add Audio forwarding (#14, #3757)","If HAVE_SOCK_CLOEXEC is not defined, then sc_raw_socket_close() is never used. Add an #ifndef block to remove the warning.",1
597,Fix typo in clock comments,0.42340386, - Improve some error messages,,0
598,Remove useless screen render on initialization,0.64205194,Screen off workarounds,Tests were failing when run with ASAN enabled.,0
599,Update README.zh-Hans.md to v1.21,0.53212565, - Add ZSH completion script (#3012),,0
600,Document default video codec,0.67236376, - Add H265 and AV1 video codec support (#3713),"The ""resize to fit"" feature (MOD+w or double-click on black borders) computed the ""optimal size"" using the same function computing the initial window size on start. However, on ""resize to fit"", only the black borders must be removed (the content size must be preserved), so the display bounds must not be considered.",0
601,Improve error message for unsupported usb hotplug,0.668906,"Since there are several devices connected over USB in this example, it fails, with a detailed error message.",Assign the whole struct instead of each field separately.,0
602,Add an option to forward all clicks,0.84066594," - Add --forward-all-clicks option (#1302, #1613)",Include the latest version of SDL in Windows releases.,1
603,Rename --encoder to --video-encoder,0.6295757,A new option --encoder allows to select another available H.264 encoder.,Add a windows manifest to set the DPI awareness by default: link Refs #40 link Fixes #2865 link,0
604,Fix comment typo,0.46962658, - Improve some error messages,PR #2879 link Signed-off-by: Romain Vimont rom@rom1v.com,0
605,Capture Alt and Meta keys,0.5917952,"Special captures keys, either Alt or Super, toggle (disable or enable) the mouse capture. Use one of them to give the control of the mouse back to the computer.",,0
606,Check empty string before strtol(),0.44535017," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Since commit 04267085441d6fcd05eff7df0118708f7622e237, the server is run in a dedicated thread. For SDL, many signals, including SIGINT and SIGTERM, are masked for new threads. As a result, if the adb server is not already running, adb commands invoked by scrcpy will start an adb server that ignores those signals and cannot be terminated at system shutdown. Fixes #2873 link PR #2870 link Signed-off-by: Romain Vimont rom@rom1v.com",0
607,Make it work over tcpip,0.9194995, - Make it work over tcpip (#5),"Use meson native features to detect crossbuild, and remove the user-provided option crossbuild_windows.",1
608,Make video buffer more generic,0.5729499,"It also simplifies V4L2 usage, which does not support video dimension changes.",The version must now be bumped at 4 different places. Add a script to bump automatically: ./bump_version 1.23.4,0
609,Double the default bitrate,0.6119847,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,Refs link,0
610,Handle screen-related events from screen.c,0.7158668,Screen off workarounds,The icon will be associated to scrcpy.exe in the Windows explorer. The .ico was created using imagemagick: convert icon.png icon.ico It is included as a binary for simplicity. Refs #2815 link,1
611,Rename queue to sc_queue,0.5224482,So it is possible to immediately call scrcpy again with -s.,"December, it's time to update to 2021!",0
612,Increase audio thread priority,0.65750086,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Use the same content as the section printed with --help.,0
613,Add instructions to run via Docker,0.54497206," - Add a shortcut ""open a terminal here"" on Windows (#2970)",Print the list of environment variables used by scrcpy in --help.,0
614,Set CLOEXEC flag on sockets,0.54031634, - Print correct error messages on Windows socket errors (#2624),"If we removed the shortcuts intro, we would not need the additional '\n' of the section title, so it should be printed along with the shortcuts intro.",0
615,Add unit test for device message serialization,0.5577272,"When several devices are connected, it might be necessary to pass the serial of the device to mirror.","Prefix the name of threads by ""scrcpy-"". This improves readability in the output of top -H for example. Limit the thread names to 16 bytes, because it is limited on some platforms.",0
616,Export static method to power off screen in Device,0.6244602, - Add an option to power off the device on close (#824),"I don't really know the concrete benefits, but scrcpy definitely wants low delay decoding. Suggested-by: Franois Cartegnie fcvlcdev@free.fr",0
617,Rename SC_INVALID_SOCKET to SC_SOCKET_NONE,0.6101812,scrcpy v1.11,SDL only provides millisecond precision. Use system timers to get a better precision.,0
618,"Remove ""linux-only"" mentions for HID/OTG features",0.68245363,HID/OTG on all platforms,"The sockets were never interrupted or closed by the client since recent changes to run the server from a dedicated thread (see commit 04267085441d6fcd05eff7df0118708f7622e237). As a side effect, the server could never terminate properly (it was waiting on socket blocking calls), so it was always killed by the client after the WATCHDOG_DELAY. Interrupt the sockets on stop to give the servera chance to terminate property, then close them.",0
619,Add icon to scrcpy.exe,0.9492964, - Add icon to scrcpy.exe (#2815),"If --no-control is enabled, then it is not necessary to create a second communication socket between the client and the server. This also facilitates the use of the server alone (without the client) to receive only the raw video stream.",1
620,Improve rotation documentation,0.7834172,Display rotation,"In ffmpeg/doc/APIchanges: 2016-04-21 - 7fc329e - lavc 57.37.100 - avcodec.h   Add a new audio/video encoding and decoding API with decoupled input   and output -- avcodec_send_packet(), avcodec_receive_frame(),   avcodec_send_frame() and avcodec_receive_packet(). Refs de9b79ec2dd73e5442c6bf0161669bcd8ca7d5be Refs #2862 link",1
621,Improve portable builds,0.5425807,Improve device selection,"In ffmpeg/doc/APIchanges: 2016-04-11 - 6f69f7a / 9200514 - lavf 57.33.100 / 57.5.0 - avformat.h   Add AVStream.codecpar, deprecate AVStream.codec. Refs 5d9e96dc4eaa41b185c41e8a6df6191762764b1c Refs #2862 link",0
622,Add missing no_window initialization,0.5875304, - Add options to set an initial window size and position (#762),"Icon loading uses SDL_CreateRGBSurfaceWithFormatFrom(), available since SDL 2.0.5 (in 2016). Refs #2862 link",0
623,Support screens with dimensions not divisible by 8,0.97952473, - Support screens with dimensions not divisible by 8 (#39),,1
624,Update developer documentation for v1.8,0.56574667, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"Thank you clang: ../app/src/control_msg.c:45:5: warning: suspicious concatenation of string literals in an array initialization; did you mean to separate the elements with a comma? [-Wstring-concatenation]     ""hover-exit"",     ^",0
625,Call Looper.prepareMainLooper() to avoid exception,0.5323801, - Fix possible BufferUnderflowException on touch event (#1245),This would have catched the possible memcpy() overflow fixed by the previous commit. Refs #2859 link,0
626,Add feature test macro to declare kill(),0.42039236,Serial auto-completion,"In function memcpy,     inlined from control_msg_serialize.constprop at ../app/src/control_msg.c:77:5,     inlined from run_controller at ../app/src/controller.c:69:12:         /usr/include/x86_64-linux-gnu/bits/string_fortified.h:34:10:         warning: __builtinmemcpychk writing 262138 bytes into a region         of size 262130 overflows the destination [-Wstringop-overflow=]    return builtinmemcpychk (dest, __src, __len, __bos0 (__dest)); Refs 901d8371655582b432d5d92430177a59df8058b9 PR #2859 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",0
627,Require Meson 0.48 to get rid of warnings,0.46661603, - Improve some error messages,Refs 245999aec4a4a1454212b38a988aa96fa701bb04 Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
628,Always use non-empty arguments,0.6144583, - Avoid empty arguments not correctly handled on some devices (#337),The memset() size was 1 byte too long. It was harmless because the last 'a' was overwritten by '\0`.,0
629,Group common includes into common.h,0.33521998,"   group on quit (#182, #183)",,0
630,Add shortcut to rotate screen,0.9073253,Shortcut to rotate device screen,"Now that PLATFORM is correctly used in the if-condition, PLATFORM_VERSION is useless. PR #2850 link",1
631,Add buffer_read16be(),0.5982902,Buffering,"The PLATFORM variable is assigned either from $ANDROID_PLATFORM or gets a default value (currently $PLATFORM_VERSION). The check to use either dx (SDK < 31) or d8 (SDK >= 31) must be based on the actual $PLATFORM, not the default $PLATFORM_VERSION. Refs 52138fd9213216a21fbdcda4d430394d7c8f0979 Refs link PR #2850 link Signed-off-by: Romain Vimont rom@rom1v.com",0
632,Reorder functions,0.40139616, - Forward repeated volume events,PR #2844 link Signed-off-by: Romain Vimont rom@rom1v.com,0
633,Fix server checkstyle errors,0.64049965, - Improve some error messages,"According to this bug report on Firefox: link CreateProcess fails with ERROR_NO_SYSTEM_RESOURCES on Windows 7. It looks like the reason why is because PROC_THREAD_ATTRIBUTE_HANDLE_LIST doesn't like console handles. To avoid the problem, do not pass console handles to PROC_THREAD_ATTRIBUTE_HANDLE_LIST. Refs #2783 link Refs f801d8b3128cf5aae3725c981f32abfd4b6c307e Fixes #2838 link PR #2840 link",0
634,Initialize tunnel_enabled flag internally,0.66727424,Configure tunneling,Refs #2838 link,0
635,Limit bitrate range to 31 bits integer,0.7323487," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",,1
636,Add missing .PHONY in portable Makefile,0.5160676, - Add feature to install APK files via drag & drop (#133),,0
637,Merge pull request #614 from beango1:window-title-simple,0.4819799," - Add option to set a custom window title (#120, #614)",,0
638,Move ADB code to adb/,0.57116055," - Improve error message on missing adb (#236, #254)",,0
639,Destroy screen once stream is finished,0.5905279,Screen off workarounds,"If --no-clipboard-autosync is enabled, the automatic clipboard synchronization performed whenever the device clipboard changes is disabled. But on explicit COPY and CUT scrcpy shortcuts (MOD+c and MOD+x), the clipboard should still be synchronized, so that it remains possible to copy-paste from the device to the computer. This is consistent with the behavior of MOD+v, which pastes the computer clipboard to the device. Refs #2228 link Refs #2817 link PR #2834 link",0
640,Use consistent variable names,0.4058456,Serial auto-completion,"Expose the inject input event mode so that it is possible to wait for the events to be ""finished"". This will be necessary to read the clipboard content only after the COPY or CUT key event is handled. PR #2834 link",0
641,Immediately close the server socket on the device,0.6202978, - Terminate server properly without killing it on close (#1992),Handle all actions related to SET_CLIPBOARD from the dedicated method. PR #2834 link,0
642,Remove instrumented test dependencies,0.4729075, - Various technical refactors and fixes,"If paste is disabled on set_clipboard, then the PASTE key is not injected, but COPY is unrelated. PR #2834 link",0
643,Do not warn on terminating the server,0.79406595, - Terminate server properly without killing it on close (#1992),,1
644,Add generic circular buffer,0.5454074,Buffering,"This option allows to inject all input keys as key events, and ignore text events. Fixes #2816 link PR #2831 link",0
645,Update README.sp.md to v1.21,0.55298436,scrcpy v1.5-fixversion,"There was only two key injection modes:  - the default one  - the mode with --prefer-text enabled To prepare the addition of another mode (--raw-key-events), use an enum instead of a bool. PR #2831 link",0
646,Turn screen on on right-click,0.7998439,Turn screen on,This improves readability (hopefully). PR #2831 link,1
647,Remove path argument from cmd_execute(),0.56766295,:: in cmd,,0
648,Improve HID keyboard documentation,0.8562697,HID keyboard,Explain how to configure the keyboard layout.,1
649,Move check_functions in meson script,0.3433774," - Add option to ignore repeated key events (#1013, #1623)",PR #2827 link,0
650,Improve manpage formatting,0.73819125, - Add manpage,"Expose an option to automatically configure and reconnect the device over TCP/IP, to simplify wireless connection without using adb explicitly. There are two variants:  - If a destination address is provided, then scrcpy connects to this    address before starting. The device must listen on the given TCP port    (default is 5555).  - If no destination address is provided, then scrcpy attempts to find    the IP address of the current device (typically connected over USB),    enables TCP/IP mode, then connects to this address before starting. PR #2827 link",1
651,Fix help for --record-format,0.5878755," - Fix mp4 headers produced by recording (#351, #416)","This improves readability, and makes the function reusable. PR #2827 link",0
652,Extract application of codec options,0.81914735,Advanced codec options,"This will allow to read the property ""service.adb.tcp.port"" to know if the TCP/IP mode is enabled on the device, and which listening port is used. PR #2827 link",1
653,Add missing file in build_without_gradle.sh,0.48354593, - Fix segfault on empty file recorded (#918),"Expose a function to execute ""adb tcpip "". PR #2827 link",0
654,Refactor if-block in cli,0.48742235, - Implement (optional) buffering (#2464),"Parse the result of ""adb shell ip route"" to find the device IP address. PR #2827 link",0
655,Simplify ScreenEncoder more,0.64147043,Screen off workarounds,"Depending on the platform and adb versions, the lines output by adb could end with ""\r\r\n"". This util function helps to remove all trailing '\r'. PR #2827 link",0
656,Add scrcpy-console.desktop,0.69780916,"Then, from another terminal, run scrcpy:","This will help to parse the result of ""adb shell ip route"" to find the device IP address. PR #2827 link",0
657,Describe the --no-window feature in README,0.5644264, - Add option --no-control to mirror in read-only,"""adb connect"" always returns successfully (with exit code 0), even in case of failure. As a workaround, capture its output and check if it starts with ""connected"". PR #2827 link",0
658,Add link to blog article in README,0.45395368, - Add manpage,PR #2827 link,0
659,Add random util,0.41523927, - Add --render-driver parameter (#1284),"In addition to disable stdout and stderr of the child process, add a flag to disable the error log printed by scrcpy if the command failed. This will we useful for commands which are expected to fail in some cases (like ""adb disconnect"" if the device is not connected). PR #2827 link",0
660,Fix link in README,0.46918598, - Fix segfault on copy/paste (#10),"Explicitly indicate, for each adb call, if stdout and stderr must be inherited. PR #2827 link",0
661,Fix Makefile for Windows,0.57002187, - Restore resizing workaround for Windows (#3640),"Let the caller decide if stdout and stderr must be inherited on process creation, i.e. if stdout and stderr of the child process should be printed in the scrcpy console. This allows to get output and errors for specific adb commands depending on the context. PR #2827 link",0
662,Retrieve screen info once,0.6335376,Screen off workarounds,"Scrcpy is available in Debian stable packages, and several Ubuntu versions.",0
663,"Add an option to enable ""show touches""",0.8445672," - Add option (-t/--show-touches) to enable ""show touches"" (#96)",Merge if-blocks together.,1
664,Update Gentoo instructions,0.3823479, - Various technical refactors and fixes,They can easily be inlined into the public functions.,0
665,Extract optimal window size detection,0.6816562, - Center the window on resize-to-fit (#2387),"If SOCK_CLOEXEC exists, then set the flag on socket creation. Otherwise, use fcntl() (or SetHandleInformation() on Windows) to set the flag afterwards. This avoids the sockets to be inherited in child processes. Refs #2783 link",0
666,Merge branch 'dev',0.38296622, - Change the Windows build (cross-compile from Linux),"Remove sc_process_check_success() from the process API, it is too specific.",0
667,Remove continuous resizing workaround for Windows,0.8453325, - Restore resizing workaround for Windows (#3640),This simplifies adb_execute_p().,1
668,Fix typo,0.49214822, - Improve some error messages,There is no reason to use an explicit uint32_t.,0
669,Fix uninitialized repeat count in key events,0.8330432," - Add option to ignore repeated key events (#1013, #1623)",Check unexpected additional arguments before other sanity checks.,1
670,Git-ignore release directories,0.41841704,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,"If pipe read fails, return.",0
671,Reverse boolean logic for readability,0.47992805, - Reverse horizontal scrolling behavior (#49),Add a special LOG_OOM() function to log all OutOfMemory errors (i.e. allocations returning NULL).,0
672,Add raw audio recorder,0.63914245," - Add Audio forwarding (#14, #3757)",,0
673,Remove unused constant,0.5083208,Remove deprecated short options,Mistake introduced by 84334cf7db68732eb92caf6cf9682c7ef2c426f6.,0
674,Add intermediate input events layer,0.5648614,Log input events,Include these headers explicitly instead of relying on transitivity.,0
675,"Revert ""Improve resizing workaround""",0.70555854, - Restore resizing workaround for Windows (#3640),"On the server, the option was named lockedVideoOrientation.",1
676,Use sc_ prefix for control_msg enums,0.5269469,scrcpy -S,"By default, only pass the version and the bit rate (the default bitrate is a client compilation option).",0
677,Simplify adb_execute_p(),0.49353376,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:","The options values to configure the server were identified by their command-line argument index. Now that there are a lot of arguments, many of them being booleans, it became unreadable and error-prone. Identify the arguments by a key string instead, and make them optional. This will also simplify running the server manually for debugging.",0
678,Serialize text size on 4 bytes,0.55798817," - Fix bit-rate parsing when ""long"" is 32 bits (#995)",This simplifies formatting.,0
679,Store actual serial in sc_server,0.5718228,$ scrcpy,"For consistency with other options, parse the codec options on the server before storing them in the Options instance.",0
680,Merge pull request #95 from Sea-n/patch-1,0.4755417," - Use another local port if 27183 is not available (#945, #951)","In execute_server(), the serial is used only once. Moreover, it can be retrieved from the params argument directly.",0
681,Clarify TCP/IP mode in README,0.7037147,Simplify TCP/IP (wireless) configuration,In case they are not available on the platform.,1
682,Add shortcut to expand/collapse notification panel,0.8650457, - Add shortcut to expand/collapse device notification panel (#392),Move the variable to the place it is actually used.,1
683,Fix wrong comment in unit test,0.4202475, - Improve some error messages,These includes are necessary for the strdup() compat implementation.,0
684,Enable virtual finger only on left click,0.6334621,"To simulate ""pinch-to-zoom"": Ctrl+click-and-move.","_POSIX_C_SOURCE, _XOPEN_SOURCE and _GNU_SOURCE are also used on Windows. Fix regression introduced by ba547e3895397e3710e7eb14faafbabbd7e3a077.",0
685,Fix rotation while the window is maximized,0.81465036, - Fix device rotation while the window is maximized (#750),"By default, scrcpy automatically synchronizes the computer clipboard to the device clipboard before injecting Ctrl+v, and the device clipboard to the computer clipboard whenever it changes. This new option --no-clipboard-autosync disables this automatic synchronization. Fixes #2228 link PR #2817 link",1
686,Fix leak on server start error,0.73652697,ERROR: Server connection failed,"To allow seamless copy-paste, on Ctrl+v, a SET_CLIPBOARD request is performed before injecting Ctrl+v. But when HID keyboard is enabled, the Ctrl+v injection is not sent on the same channel as the clipboard request, so they are not serialized, and may occur in any order. If Ctrl+v happens to be injected before the new clipboard content is set, then the old content is pasted instead, which is incorrect. To minimize the probability of occurrence of the wrong order, a delay of 2 milliseconds was added before injecting Ctrl+v. Then 5ms. But even with 5ms, the wrong behavior sometimes happens. To handle it properly, add an acknowledgement mechanism, so that Ctrl+v is injected over AOA only after the SET_CLIPBOARD request has been performed and acknowledged by the server. Refs e4163321f00bb3830c6049bdb6c1515e7cc668a0 Refs 45b0f8123a52f5c73a5860d616f4ceba2766ca6a PR #2814 link",1
687,recorder: use av_oformat_next to support older FFmpeg,0.64021266, - Fix segfault on recording with old FFmpeg versions (#707),So that we can use it from several files. PR #2814 link,0
688,Expose util function to truncate first line,0.47862342, - Remove deprecated short options -T and -c,"If the client provided a sequence number on SET_CLIPBOARD request, make the device send back an acknowledgement once the clipboard is set. PR #2814 link",0
689,Add option to not power on on start,0.7788148,"By default, on start, the device is powered on. A new option has been added to disable this behavior:",Add a device message type so that the device could send acknowledgements for SET_CLIPBOARD requests. PR #2814 link,1
690,Expose function to get the current log level,0.6123556, - Add --verbosity to configure log level at runtime,This will allow the client to request an acknowledgement. PR #2814 link,0
691,Add tests for strutil,0.5142954, - Print help to stdout (instead of stderr),This will allow to send requests with sequence numbers to the server and wait for acknowledgements. PR #2814 link,0
692,Use positive options names internally,0.42083678, - Add --prefer-text option (#650),"Pass the information that device clipboard has been set to the key processor. This avoids the keyprocessor to ""guess"", and paves the way to implement a proper acknowledgement mechanism. PR #2814 link",0
693,Do not try to decode video when EOF is reached,0.53320146,"Some devices are not able to encode a video at the device screen definition. In that case, running scrcpy without argument just failed with an error.","This prevents to paste the current Android clipboard, which would be unexpected. PR #2814 link",0
694,README in Italian,0.31177387, - Add option --no-control to mirror in read-only,"Set the device clipboard to empty string if necessary. Otherwise, the current device clipboard will be pasted on Ctrl+v. PR #2814 link",0
695,Remove deprecated Arch Linux package,0.42870727,"Since these are ""advanced"" features (not common enough), the short version of these options had been deprecated in scrcpy v1.11 two years ago. It's time to remove them (and it simplified some refactors). Only the long version remains.",A long constant might not be sufficient.,0
696,Add log verbose macro,0.581635, - Add --verbosity to configure log level at runtime,Refs #2807 link,0
697,Introduce bytebuf util,0.56624305, - Implement (optional) buffering (#2464),"Tunnel host and port are only meaningful in ""adb forward"" mode. They indicate where the client must connect to communicate with the server. In ""adb reverse"" mode, the client listens, it does not connect. Refs #2807 link",0
698,Wrap libusb_device,0.6063894," - Enable libusb support for Windows 32-bit releases (#3204, #3206)","In ""adb forward"" mode, by default, scrcpy connects to localhost:PORT, where PORT is the local port passed to ""adb forward"". This assumes that the tunnel is established on the local host with a local adb server (which is the common case). For advanced usage, add --tunnel-host and --tunnel-port to force the connection to a different destination. Fixes #2801 link PR #2807 link Signed-off-by: Romain Vimont rom@rom1v.com",0
699,Improve scrcpy presentation in README,0.7120316,scrcpy --display 1,PR #2807 link Signed-off-by: Romain Vimont rom@rom1v.com,1
700,Move the new avcodec implementation before the old,0.52569485,A new option --encoder allows to select another available H.264 encoder.,Refs #2807 link Co-authored-by: RipleyTom RipleyTom@users.noreply.github.com,0
701,Add instructions to uninstall,0.53688085," - Add --no-cleanup option (#1764, #3020)",,0
702,Rename buffer_util.h to binary.h,0.44636256,Buffering,,0
703,Fix code style,0.5366097,Advanced codec options,"Inconditionnally print the scrcpy version first, without using LOGI(). The log level is configured only after parsing the command line parameters (it may be changed via -V), and command line parsing logs should not appear before the scrcpy version.",0
704,Use VecDeque in file_pusher,0.41435954, - Refuse to push server if it points to a directory (#956),"The output of -h/--help was printed on stderr, although it is not an error. Printing on stdout allows to pipe the result directly: scrcpy --help | less Instead of (in bash): scrcpy --help |& less",0
705,Make auto-downsize on error optional,0.6112052,Auto-downscale on MediaCodec error,,0
706,Do not create control socket if no control,0.67285013, - Do not power on the device if --no-control is set,"With the new adb functions, the static adb_tunnel functions become unnecessary.",0
707,Use _exit() instead of exit() in child process,0.36143744,"By default, running scrcpy.exe opens a new console, which is closed as soon as the process terminates. To let the user a chance to read any error message, a ""pause"" was implemented on error, but this caused issues for scripting (#1875).",Only expose the interruptible user-friendly API.,0
708,Reenable custom SDL signal handlers,0.53118974,"To solve this problem, the previous release (v1.22) added a mechanism to catch MediaCodec errors on start and automatically retry with a lower definition (scrcpy -m1024).",Replace the adb_exec_*() calls by the new adb functions to simplify.,0
709,Avoid useless variables initialization,0.6161803, - Fix missing initialization that leaded to kill the whole process,"Expose interruptible adb functions which return the expected result directly, without exposing the process (sc_pid) to the caller.",0
710,Log to android logger and stdout/stderr,0.52553844,Log input events,This paves the way to replace them by more user-friendly functions that will call them internally.,0
711,Define macros wrappers for logs,0.52727056,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:",Replace manual interruption handling by the recent sc_intr mechanism.,0
712,Factorize screen_init() error management,0.5601168,Screen off improvements,Call the target functions directly.,0
713,Position and size the window on first frame,0.75542665, - Add options to set an initial window size and position (#762),Use local variables as short name aliases.,1
714,Factorize common impl of process_execute(),0.40247393, - Fix missing initialization that leaded to kill the whole process,"Only pass the stdout pipe as parameter, scrcpy never writes to stdin or reads from stderr of an adb process.",0
715,Fix server debugger for Android >= 9,0.6633202, - Fix errors on Android 11 (#1468),"All process executions must be interruptible, so that Ctrl+c reacts immediately.",0
716,Move version handling to a separate file,0.5535636, - Change the Windows build (cross-compile from Linux),This will avoid to block Ctrl+c if the process the pipe is read from takes too much time.,0
717,Decode and push frame before recording,0.62191087,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Use strcspn() to get the prefix length directly.,0
718,Add shortcuts to rotate display,0.9274157, - shortcuts to rotate display at any time,Add an additional argument to let the client pass the possible end chars.,1
719,Check process success locally for adb commands,0.4917706,"scrcpy -s   # auto-complete by the devices listed by ""adb devices""",Move the local implementation from adb functions to the string util functions.,0
720,Handle repeating keycodes,0.89756364," - Correctly inject repeating keycodes (#1013, #1519)","The previous commit guarantees to always initialize the serial, so the file_handle may assume it is never NULL.",1
721,Wait using a condition variable in server,0.43164378, - Terminate server properly without killing it on close (#1992),"This allows to execute all adb commands with the specific -s parameter, even if it is not provided by the user. In practice, calling adb without -s works if there is exactly one device connected. But some adb commands (for example ""adb push"" on drag & drop) could be executed after another device is connected, so the actual device serial must be known.",0
722,Log characters failed to be injected,0.61329937, - Continue text injection on failed character (#509),"If ""adb get-serialno"" fails, attempting to read from the uninitialized pipe is incorrect.",0
723,Use minimal prebuilt FFmpeg for Windows,0.7929617, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"The interruptible version of the function to check process success (sc_process_check_success_intr()) did not accept a close parameter to avoid a race condition. But as the result, the processes were not closed at all. Add a close parameter, and close the process separately to avoid the race condition.",1
724,Forward Shift to the device,0.70175034," - Forward Ctrl and Shift to the device (#1598, #555, #942)",Accessing the settings (like --show-touches) on start should not delay screen mirroring. PR #2802 link,1
725,Avoid repetition for some shortcuts,0.7403884,New shortcuts,"Cleanup is used for some options like --show-touches to restore the state on exit. If the configuration fails, do not crash the whole process. Just log an error. PR #2802 link",1
726,Fix OBS project ref URL,0.45682073,scrcpy v1.5-fixversion,PR #2802 link,0
727,Add start() function for recorder,0.5099772,Asynchronous recording,"Before Android 8, executing the ""settings"" command from a shell was very slow (~1 second), because it spawned a new app_process to execute Java code. Therefore, to access settings without performance issues, scrcpy used private APIs to read from and write to settings. However, since Android 12, this is not possible anymore, due to permissions changes. To make it work again, execute the ""settings"" command on Android 12 (or on previous version if the other method failed). This method is faster than before Android 8 (~100ms). Fixes #2671 link Fixes #2788 link PR #2802 link",0
728,Merge pull request #708 from toddsierens/patch-1,0.43411374," - Fix touch events HiDPI-scaling (#1536, #15)","When an exception occurs, we might want to log a warning instead of an error. PR #2802 link",0
729,Log component stopped in finally clause,0.6012563, - Log input events in verbose mode (#2371),"Settings read/write errors were silently ignored. Report them via a SettingsException so that the caller can handle them. This allows to log a proper error message, and will also allow to fallback to a different settings method in case of failure. PR #2802 link",0
730,Merge pull request #94 from pierlon/pierlon-patch-1,0.44597355, - Apply workarounds only on error (#994),"Until now, the code that needed to read/write the Android settings had to explicitly open and close a ContentProvider. Wrap these details into a Settings class. This paves the way to provide an alternative implementation of settings read/write for Android >= 12. PR #2802 link",0
731,Upgrade JUnit to 4.13,0.5866207, - Upgrade SDL to 2.26.4 in Windows releases,PR #2786 link Signed-off-by: Romain Vimont rom@rom1v.com,0
732,Merge branch 'stek29/macos' (#56),0.39556682,scrcpy v1.19,"Without this package, meson fails: Run-time dependency libusb-1.0 found: NO (tried pkgconfig and cmake) app/meson.build:88:8: ERROR: Dependency ""libusb-1.0"" not found, tried pkgconfig and cmake PR #2790 link Signed-off-by: Romain Vimont rom@rom1v.com",0
733,Suggest commands with an explicit '=',0.46087563,"To pass command line arguments, it must still be started from a terminal or a script though.","To be able to communicate with a child process via stdin, stdout and stderr, the CreateProcess() parameter bInheritHandles must be set to TRUE. But this causes all handles to be inherited, including sockets. As a result, the server socket was inherited by the process running adb to execute the server on the device, so it could not be closed properly, causing other scrcpy instances to fail. To fix the issue, use an extended API to explicitly set the HANDLEs to inherit:  - link  - link Fixes #2779 link PR #2783 link",0
734,Fix typo in test name,0.37045875, - Improve some error messages,Free the wide characters string in all cases before checking for errors.,0
735,Fix control message reader test,0.57388365, - Improve some error messages,Leave the output parameter untouched on error.,0
736,Use SOURCE_MOUSE for scroll events,0.61186063,Mouse focus clickthrough,"The implementation name was incorrect (it was harmless, because they are not used on Windows).",0
737,Add options to configure tunnel host and port,0.8901019," - Add --tunnel-host and --tunnel-port options (#2801, #2807)","If the interruptor is interrupted, every network call will fail, but the retry-on-error mechanism must also be stopped.",1
738,Upgrade platform-tools (34.0.1) for Windows,0.8958883, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,SDL_PixelFormatEnum has been introduced in SDL 2.0.10: link SDL_PIXELFORMAT_BGR444 has been introduced in SDL 2.0.12: link Fixes #2777 link PR #2781 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com,1
739,Fix options order,0.4663169,Remove deprecated short options,,0
740,Bump version to 1.4,0.7915873, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
741,Add missing final modifiers,0.4713958, - Remove deprecated short options -T and -c,Build tools 31.x.x do not ship dx anymore. Use d8 instead. Refs 8bf28e9f5340d2a54dbc9b2c9d924b7ee4fa8d31,0
742,Use a callback to notify frame skip,0.70442694, - Add runtime option to render expired frames (i.e. not skip frames),This will allow to reuse it.,1
743,List available shortcut keys on error,0.932436, - List available shortcut keys on error (#1681),,1
744,Update WindowManager.java,0.55452704, - Update platform-tools to 28.0.1 (adb) included in Windows releases,,0
745,Do not transmit MediaCodec flags,0.61738807," - Downscale and retry on MediaCodec error in more cases (#2990, #3043)",,0
746,Expose adb execution with redirection,0.49314222,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,"Use SVG format, align to the right, and reduce its size.",0
747,Update README.pt-br to v1.17,0.49890232,"Copy-paste have been improved by previous releases, especially v1.15.","I'm not sure ""connected on USB"" is correct.",0
748,Move SC_PRIsizet to compat.h,0.63879764,scrcpy v1.10,,0
749,Rename control message type to COLLAPSE_PANELS,0.4722249, - Improve some error messages,2 milliseconds turn out to be insufficient sometimes. It seems that 5 milliseconds is enough (and still not noticeable).,0
750,Reformat EventController,0.60226727, - Fix touch events parameters (#2125),,0
751,Add conversion from float to fixed-point i16,0.455479," - Add --printf-fps (#468, #3030)",Simplify naming.,0
752,Update java version in BUILD.md,0.5050497, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Use prefixed names and improve documentation.,0
753,Reorder decoder functions,0.5107838,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",For consistency with SC_PROCESS_NONE.,0
754,Update platform-tools (28.0.0) for Windows,0.8866867, - Update platform-tools to 28.0.1 (adb) included in Windows releases,This simplifies the server code.,1
755,Forward DOWN and UP separately for right-click,0.86464775,Forward right-click and middle-click,This constant will be used from several files.,1
756,Simplify rotation watcher call,0.72583383,Display rotation,"Interrupt any blocking call on process terminated, like on server_stop(). This allows to interrupt any blocking accept() with correct synchronization without additional complexity.",1
757,Scale mouse events,0.6776235, - Fix mouse events deserialization (comment in #350),Use an interruptor to immediately wake up blocking calls on server_stop().,0
758,Upgrade SDL (2.26.1) for Windows,0.9781779, - Upgrade SDL to 2.26.1 in Windows releases,"Expose wrapper functions for interrupting blocking calls, for process and sockets.",1
759,Interrupt and close sockets on server stop,0.64523804, - Terminate server properly without killing it on close (#1992),An interruptor instance will help to wake up a blocking call from another thread (typically to terminate immediately on Ctrl+C).,0
760,Fix sc_str_truncate() documentation,0.6641153,scrcpy v1.14,"Define server callbacks, start the server asynchronously and listen to connection events to initialize scrcpy properly. It will help to simplify the server code, and allows to run the UI event loop while the server is connecting. In particular, this will allow to receive SIGINT/Ctrl+C events during connection to interrupt immediately.",0
761,Add --prefer-text option,0.85343194, - Add --prefer-text option (#650),"Currently, server_stop() is called from the same thread as server_connect_to(), so interruption may never happen. This is a step to prepare executing the server from a dedicated thread.",1
762,Use ARRAY_LEN() macro,0.47015783,Serial auto-completion,This will avoid forward declarations in future commits.,0
763,server/meson.build: support relative path for prebuilt_server,0.5306058,"On Windows however, the server path may not be constant, so the build is ""portable"": scrcpy-server.jar is expected to be in the same directory as scrcpy.exe. Concretely, to push the server to the device, scrcpy just executed:",This is a preliminary step necessary to move the server to a separate thread.,0
764,Truncate UTF-8 properly,0.6610348, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),This will allow to define a server_params field in server.,0
765,Add command execution with redirection,0.4966012,"To pass command line arguments, it must still be started from a terminal or a script though.","This will allow to assign the socket to a variable before connecting or listening, so that it can be interrupted from another thread.",0
766,Remove useless blocks in switch/case,0.499367, - Remove option --render-expired-frames (#2268),Store the video and control sockets only if server_connect_to() returns successfully.,0
767,Fix function signature,0.49966106, - ~Do not print irrelevant workarounds errors (#994)~,"Set the flag from the inner methods, to avoid bypassing the assignment by mistake (on error for example).",0
768,"Increase ""adb forward"" connection attempts",0.8249508," - Increase ""adb forward"" connections attempts to 10 seconds (#213)",Add a tool to easily observe process termination. This allows to move this complexity out of the server code.,1
769,Fix possibly uninitialized value,0.5419317," - Fix uninitialized value, breaking HOME shortcut randomly (#1643)",Prefix symbols and constants names and improve documentation.,0
770,Add --force-adb-forward,0.9955947, - Add --force-adb-forward,Both implementations are the same. Move them to the common process.c.,1
771,Document --window-title in README,0.57365227," - Add option to set a custom window title (#120, #614)",The function process_terminate() was declared twice.,0
772,Explicitly indicate when device clipboard is set,0.68069315,"By default, scrcpy automatically synchronizes the computer clipboard to the device clipboard before injecting Ctrl+v, and the device clipboard to the computer clipboard whenever it changes.",Prefix symbols and constants names and improve documentation.,0
773,Update links to v1.25,0.5753073,"Copy-paste have been improved by previous releases, especially v1.15.",Move filesystem-related functions from process.[ch] to file.[ch].,0
774,Detect USB device disconnection,0.6904483,"Since there are several devices connected over USB in this example, it fails, with a detailed error message.",It is only used from screen.c.,0
775,Add (v)asprintf compatibility functions,0.49587506, - Workaround Windows issue with non-ASCII path (#2619),,0
776,Handle resized video stream,0.6354172,"Recording the video stream (with scrcpy --record file.mkv) while mirroring consists in muxing, on the computer side, the H.264 packets in an MKV or MP4 container (without reencoding).","If the error stream is a terminal, and we can retrieve the terminal size, wrap the help content according to the terminal width.",0
777,Use unsigned for connection attempts count,0.6162938, - Return non-zero value on connection loss (#204),,0
778,Simplify sc_size assignment,0.61068404,Resize to fit,"Use the option descriptions to generate the optstring and longopts parameters for the getopt_long() command. That way, the options are completely described in a single place.",0
779,Fix log format warning,0.57480067, - Improve some error messages,,0
780,Extract conversion from float to u16 fixed-point,0.36884636, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),It will allow to correctly print the help for the current terminal size (even if for now it is hardcoded to 80 columns).,0
781,Remove unnecessary calls to av_packet_unref(),0.4429983,Remove deprecated short options,"Add a tool to wrap lines at words boundaries (spaces) to fit in a specified number of columns, left-indented by a specified number of spaces.",0
782,Bump version to 1.11,0.7706047, - Bump version to 1.5 (as shown by scrcpy --version) (#332),This will help to build strings incrementally.,1
783,Handle mouse events outside device screen,0.93130964," - Correctly handle mouse events outside device screen (#353, #357)",The short option -T is deprecated since v1.11. Only the long version (--always-on-top) remains.,1
784,Fix includes windows-specific source,0.6109976," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",The short option -c is deprecated since v1.11. Only the long version (--crop) remains.,0
785,Adding new option --encoder,0.7942721," - Add --encoder option (#1810, #1827)",The option was not documented. Refs #824 link,1
786,"Improve ""low quality"" section in FAQ",0.497904,Downscaling quality (trilinear filtering),,0
787,Report USB device disconnection when detected,0.75571954,"Since there are several devices connected over USB in this example, it fails, with a detailed error message.",For consistency with --help and manpage.,1
788,Remove platform-tools installation suggestion,0.54550433, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,,0
789,Add reference of the translations in README,0.40831956, - Print both compiled and linked version of libs on --version,,0
790,"Remove the ""adb reverse"" tunnel immediately",0.5675688,Configure tunneling,,0
791,Upgrade FFmpeg (4.2.1) for Windows,0.98097277, - Upgrade FFmpeg to 4.2.1 in Windows releases,"As a benefit, this avoids to take care of the device name length on the caller side.",1
792,Add adb connect and disconnect,0.62648916,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:",PR #2740 link Signed-off-by: Romain Vimont rom@rom1v.com,0
793,Prevent killing unexpected process,0.5536861, - Fix missing initialization that leaded to kill the whole process,"Test directly if a record filename is provided, without an intermediate boolean variable.",0
794,Use new user-friendly adb API,0.5057354,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:","Touch events with id SDL_TOUCH_MOUSEID are ignored anyway, but it is better not to generate them in the first place.",0
795,Force the server target filename,0.53183854, - Refuse to push server if it points to a directory (#956),Initialize SDL_INIT_EVENTS first (very quick) and SDL_INIT_VIDEO after the server (quite long).,0
796,Rename demuxer to video_demuxer,0.43518066,Multi-display,Inline SDL initialization in scrcpy(). This will allow to split minimal initialization and video initialization.,0
797,Kill the server immediately on close,0.76551795, - Terminate server properly without killing it on close (#1992),"In theory, some SDL hints should be initialized before calling SDL_Init().",1
798,Run server tests on release,0.45475894, - Terminate server properly without killing it on close (#1992),Set all SDL hints in a separate function.,0
799,Handle window events from screen.c,0.640184,Screen off workarounds,"Add a macro and inline function to call SDL_PushEvent() and log on error (without actually handling the error, because there is nothing we could do).",0
800,"Disable ""show touches"" once window is closed",0.6980635, - Add option to disable window decorations (#762),"Pushing an event to the main thread may fail. If this happens, log an error, and try to recover when possible.",0
801,Update to Gradle 6.3,0.54576683, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,0
802,Simplify Chocolatey documentation,0.43856084,"This also greatly simplifies text selection, by using the keyboard (Shift+arrows, Ctrl+a). And it makes copy-paste more straightforward (see below).",,0
803,Add control message to expand settings panel,0.73861784," - Expand settings panel on double-expand notification panel (#2260, #2264)","Adapt checkstyle.xml to match the latest version, and remove a line break between imports which trigger a checkstyle volation.",1
804,Rename THRESHOLD to threshold,0.47585988," - Enable trilinear filtering when possible (#40, #1284)",,0
805,Do not destroy uninitialized screen,0.72387666,Screen off workarounds,,1
806,Replace link to enable USB debugging in README,0.6246774,EDIT: And there are still issues on Windows when USB debugging is disabled: #3050 :disappointed: ,,0
807,Fix horizontal scrolling constant,0.8284576, - Reverse horizontal scrolling behavior (#49),"This is more readable than a macro, and we could ifdef some fields.",1
808,Fix typo in German README,0.42669111," - Fix support for non-ASCII characters in window title (#2932, #3547)",This will allow to define symbols in options.c without all the dependencies of scrcpy.c.,0
809,Add crop feature,0.9925934, - Add crop feature,"On Linux, socket functions are unblocked by shutdown(), but on Windows they are unblocked by closesocket(). Expose net_interrupt() and net_close() to abstract these differences:  - net_interrupt() calls shutdown() on Linux and closesocket() on    Windows (if not already called);  - net_close() calls close() on Linux and closesocket() on Windows (if    not already called). This simplifies the server code, and prevents a data race on close (reported by TSAN) on Linux (but does not fix it on Windows): WARNING: ThreadSanitizer: data race (pid=836124)   Write of size 8 at 0x7ba0000000d0 by main thread:     #0 close ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:1690 (libtsan.so.0+0x359d8)     #1 net_close ../app/src/util/net.c:211 (scrcpy+0x1c76b)     #2 close_socket ../app/src/server.c:330 (scrcpy+0x19442)     #3 server_stop ../app/src/server.c:522 (scrcpy+0x19e33)     #4 scrcpy ../app/src/scrcpy.c:532 (scrcpy+0x156fc)     #5 main ../app/src/main.c:92 (scrcpy+0x622a) Previous read of size 8 at 0x7ba0000000d0 by thread T6:     #0 recv ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:6603 (libtsan.so.0+0x4f4a6)     #1 net_recv ../app/src/util/net.c:167 (scrcpy+0x1c5a7)     #2 run_receiver ../app/src/receiver.c:76 (scrcpy+0x12819)     #3   (libSDL2-2.0.so.0+0x84f40)",1
810,Fix typos in Indonesian README,0.46448416,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","This paves the way to store an additional ""closed"" flag on Windows to interrupt and close properly.",0
811,Ignore mouse events outside device screen,0.8992049," - Correctly handle mouse events outside device screen (#353, #357)",This will make net_send_all() continue to work even if net_send() behavior is changed.,1
812,Update HID/OTG features in README,0.71335053,HID/OTG on all platforms,Rename:  - socket_t to sc_socket  - INVALID_SOCKET to SC_INVALID_SOCKET,1
813,Update README.zh-Hans.md to v1.22,0.53041196, - Add ZSH completion script (#3012),"These two functions are global, define them at the top of the implementation file. This is consistent with the header file.",0
814,Merge branch 'npes87184:dev' into dev (#254),0.41093954, - Push to /sdcard/Download by default (#2384),,0
815,Extract retry handling,0.45616055, - Automatically retry with a lower definition on MediaCodec error (#2947),"When Ctrl+v is pressed, a control is sent to the device to set the device clipboard before injecting Ctrl+v. With the InputManager method, it is guaranteed that the device synchronization is executed before handling Ctrl+v, since the commands are executed on the device in sequence. However, HID are injected from the computer, so there is no such guarantee. As a consequence, on Android, Ctrl+v triggers a paste with the old clipboard content. To workaround the issue, wait a bit (2 milliseconds) from the AOA thread before injecting the event, to leave enough time for the clipboard to be set before injecting Ctrl+v.",0
816,Remove obsolete alternative injection method,0.4958886," - Fix input injection on some custom ROMs (#2250, #2946)","When an AOA HID keyboard is registered, CAPSLOCK and NUMLOCK are both disabled, regardless of the state of the computer keyboard. To synchronize the state, on first key event, inject CAPSLOCK and/or NUMLOCK if necessary.",0
817,Fix adb get-serialno error handling,0.7576502," - Improve error message on missing adb (#236, #254)","The serial is necessary to find the correct Android device for AOA. If it is not explicitly provided by the user via -s, then execute ""adb getserialno"" to retrieve it.",1
818,Update README,0.4491449," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)","Expose adb_get_serialno() to retrieve the device serial via the command ""adb getserialno"".",0
819,Wrap settings management into a Settings class,0.5060852, - Add --verbosity to configure log level at runtime,Add a convenience function to read from a pipe until all requested data has been read.,0
820,Check surface returned for icon,0.5041936,Screen off improvements,Expose the redirection feature to the adb API.,0
821,Pass video size as codec metadata,0.6073808,"In this new version, if the encoder fails before the first video frame, then scrcpy automatically retries with a lower definition (#2947), so in most cases it should work without explicitly passing a size argument.","Expose command execution with pipes to stdin, stdout and stderr. This will allow to read the result of adb commands.",0
822,Update README.it.md to v1.23,0.48658127, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"This provides a better input experience, by simulating a physical keyboard. It converts SDL keyboard events to proper HID events, and send them over AOAv2. This is a rewriting and bugfix of the origin code from @amosbird: link The feature is enabled the command line option -K or --hid-keyboard, and is only available on Linux, over USB. Refs link Refs link PR #2632 link Signed-off-by: Romain Vimont rom@rom1v.com",0
823,Move toUnsigned() to a Binary util class,0.32332623, - Implement (optional) buffering (#2464),Mainly for consistency with the keyboard processor trait. This could allow to provide alternative mouse processors.,0
824,Fix mouse events conversion,0.79324216, - Fix mouse events deserialization (comment in #350),This will allow to provide alternative key processors.,1
825,Implement device-to-computer clipboard copy,0.88528407, - Add device-to-computer clipboard copy (#145),,1
826,Remove confusing sc_str_truncate(),0.6393067,scrcpy -S,,0
827,"Fix ""terminate process"" on Windows",0.8110436," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",,1
828,remove redundant semicolon,0.58328056, - Remove deprecated short options -T and -c,,0
829,Enable sanitizer in debug builds,0.4737735,Bugfixes,Remove the old icon in XPM format and the code to load it.,0
830,Add warning in function documentation,0.5250674, - ~Do not print irrelevant workarounds errors (#994)~,"Scrcpy only uses the PNG format (because SDL only supports bitmap icons), but keep the SVG source in the repo.",0
831,Rename cmd to argv,0.5943477,cmd,Use the new icon designed by @varlesh: link Load it from a PNG file (SDL only supports bitmap icons).,0
832,Fix BUILD.md line wrapping,0.48351887, - Various technical fixes,To support more icon formats.,0
833,Inherit only specific handles on Windows,0.49908945,Properly handle Ctrl+C on Windows,Add helper to load icons from image files via FFmpeg.,0
834,Add --help,0.61759233," - Add --encoder option (#1810, #1827)",Both ifdef-branches return server_path.,0
835,Add generic LOG() macro with level parameter,0.67301154, - Add --verbosity to configure log level at runtime,Finding a local file in the scrcpy directory may be useful for files other than scrcpy-server in the future.,0
836,Move frame updating to screen.c,0.641973, - Add runtime option to render expired frames (i.e. not skip frames),,0
837,Upgrade gradle build tools to 7.2.2,0.5562945, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"The AVOutputFormat name is a comma-separated list. In theory, possible names for V4L2 are: - ""video4linux2,v4l2"" - ""v4l2,video4linux2"" - ""v4l2"" - ""video4linux2"" To find the muxer in all cases, we must request exactly one muxer name at a time. PR #2718 link Co-authored-by: Romain Vimont rom@rom1v.com Signed-off-by: Romain Vimont rom@rom1v.com",0
838,Consider emulators as TCP/IP devices,0.93717575, - Consider emulators as TCP/IP devices (-e) (#3137),There is no need to declare the variable before the loop.,1
839,Avoid server stacktraces on close,0.65220726, - Terminate server properly without killing it on close (#1992),PR #2686 link Signed-off-by: Romain Vimont rom@rom1v.com,0
840,Fix broken link in shortcuts documentation,0.5966747,New shortcuts,PR #2650 link Signed-off-by: Romain Vimont rom@rom1v.com,0
841,Update another java version in BUILD.md,0.48641315, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"Workarounds.fillAppInfo() is necessary for Meizu devices even before the first call to internalStreamScreen(), but it is harmful on other devices (#940). Therefore, simplify the workaround, by calling fillAppInfo() only if Build.BRAND equals ""meizu"" (case insensitive). Fixes #240 link (again) Fixes #2656 link",0
842,Upgrade platform-tools (30.0.5) for Windows,0.89913243, - Upgrade platform-tools to 30.0.5 (adb) in Windows releases,Refs #2616 link,1
843,Mention drag & drop for non-APK files in help,0.695791, - Add feature to install APK files via drag & drop (#133),,0
844,Fix constants name in comment,0.39537632, - Add --stay-awake (#631),Some custom vendor ROM added an int as a parameter. Fixes #2551 link,0
845,Set SDL hints before initialization,0.48795515, - Fix missing initialization that leaded to kill the whole process,,0
846,Print FFmpeg logs,0.5230826," - Add --printf-fps (#468, #3030)",,0
847,Assert return value of mutex functions,0.40934545," - Correctly inject repeating keycodes (#1013, #1519)",,0
848,Fix aidl option in build_without_gradle.sh,0.4355812, - Implement (optional) buffering (#2464),"For sockets functions, Windows does not store error codes in errno, so perror() does not print any error. Use WSAGetLastError() instead. Refs #2624 link",0
849,Document how to install on Fedora,0.43732238, - Upgrade FFmpeg to 5.1.2 in Windows 64-bit releases,The function dirname() does not work correctly everywhere with non-ASCII characters. Fixes #2619 link,0
850,Configure init and cleanup asynchronously,0.6078019, - Record asynchronously,PR #2606 link Signed-off-by: Romain Vimont rom@rom1v.com,0
851,Add German translation of README.md,0.35545015, - Print both compiled and linked version of libs on --version,"This has no practical impact (AFAIK), but a scroll events should come from a mouse. Refs #2602 link",0
852,Pass --buildtype=release as a single meson arg,0.43571407, - Add --render-driver parameter (#1284),Include the latest version of SDL in Windows releases. PR #2589 link Signed-off-by: Romain Vimont rom@rom1v.com,0
853,Do not restore power mode if --no-control,0.841947, - Do not power on the device if --no-control is set,Include the latest version of adb in Windows releases. PR #2588 link Signed-off-by: Romain Vimont rom@rom1v.com,1
854,Fix memory leak on close,0.84820426, - Fix (huge) memory leak (#26),"It was a typo, ""static"" was missing.",1
855,Simplify process_wait(),0.54641855,Reduced latency,PR #2568 link Signed-off-by: Romain Vimont rom@rom1v.com,0
856,Use sc_ prefix for input_manager,0.62078637,"scrcpy is a command line application, and is configured with command line arguments.",The video driver might need to be explicitly set to wayland. Refs #2554 link Refs #2559 link,0
857,Add clock tests,0.3778746, - Add pinch-to-zoom simulation (#24),PR #2514 link Signed-off-by: Romain Vimont rom@rom1v.com,0
858,Merge pull request #412 from npes87184/dev,0.4335243," - Use another local port if 27183 is not available (#945, #951)",PR #2545 link Signed-off-by: Romain Vimont rom@rom1v.com,0
859,Reformat Java code,0.45422986,An alternative implementation (#2802) fixes the issue.,PR #2540 link Signed-off-by: Romain Vimont rom@rom1v.com,0
860,Update brew java version to JDK 11,0.38671535, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"The functions net_send_all() and net_recv_all() return ssize_t, not int.",0
861,Add buffering command line options,0.6359587, - Implement (optional) buffering (#2464),"On partial writes, the final result was the number of bytes written by the last send() rather than the total.",0
862,Workaround compiler warning,0.5676265, - ~Do not print irrelevant workarounds errors (#994)~,Make the code fit into 80 columns.,0
863,Add option to lock video orientation,0.96768355, - an option to lock the video orientation,"The first frames are typically received and decoded with more delay than the others, causing a wrong slope estimation on start. To compensate, assume an initial slope of 1, then progressively use the estimated slope.",1
864,Remove sc_demuxer_parse(),0.49220005,Remove deprecated short options,Output buffering and clock logs by disabling a compilation flag.,0
865,Replace '%g' by '%f' as printf format,0.49803874, - Print help to stdout (instead of stderr),The clock rolling sum is not trivial. Test it.,0
866,Fix incorrect comment,0.5232907, - Improve some error messages,Add --display-buffer and --v4l2-buffer options to configure buffering time.,0
867,Add scrcpy icon to README,0.78767884, - Add icon to scrcpy.exe (#2815),"To minimize latency (at the cost of jitter), scrcpy always displays a frame as soon as it available, without waiting. However, when recording (--record), it still writes the captured timestamps to the output file, so that the recorded file can be played correctly without jitter. Some real-time use cases might benefit from adding a small latency to compensate for jitter too. For example, few tens of seconds of latency for live-streaming are not important, but jitter is noticeable. Therefore, implement a buffering mechanism (disabled by default) to add a configurable latency delay. PR #2417 link",1
868,Expose screen as frame sink,0.6796547,Screen off workarounds,"Currently, a frame is available to the consumer as soon as it is pushed by the producer (which can detect if the previous frame is skipped). Notify the new frames (and frame skipped) via callbacks instead. This paves the way to add (optional) buffering, which will introduce a delay between the time when the frame is produced and the time it is available to be consumed.",0
869,Expose flags for process execution,0.5099148,"In verbose mode (scrcpy -Vverbose), all input events sent to the device are printed in the console (#2371). This can be useful for debugging.","The current video buffer only stores one pending frame. In order to add a new buffering feature, move this part to a separate ""frame buffer"". Keep the video_buffer, which currently delegates all its calls to the frame_buffer.",0
870,Group server params in a struct,0.41621023,scrcpy --tcpip    # without arguments,Add a scrcpy-specific prefix.,0
871,Update FAQ after v1.1 release,0.5642624,This is a small release: one feature and some fixes.,"To fix a data race, commit 5caeab5f6d12fe0fc69e708a829cfdbec3a401b4 called video_buffer_push() and video_buffer_consume() under the v4l2_sink lock. Instead, use the previous_skipped indication (initialized with video buffer locked) to lock only for protecting the has_frame flag. This enables the possibility for the video_buffer to notify new frames via callbacks without lock inversion issues.",0
872,Extract util function to build a local file path,0.47804907, - Add feature to push file to /sdcard/ via drag & drop (#226),"The function sc_cond_timedwait() accepted a parameter representing the max duration to wait, because it internally uses SDL_CondWaitTimeout(). Instead, accept a deadline, to be consistent with pthread_cond_timedwait().",0
873,Force mouse source when --forward-all-clicks,0.7925122,Mouse focus clickthrough,"This avoids to use the SDL timer API directly, and will allow to handle generic ticks (possibly negative).",1
874,Give a name to decoder instances,0.5368992,Encoder selection,Log video buffer initialization failure in v4l2_sink.,0
875,Upgrade tarketSdkVersion to 29,0.5902592, - Upgrade platform-tools to 29.0.2 (adb) in Windows releases,The fps_counter is not used from video_buffer.,0
876,Fix missing installer initialization,0.58834887, - Fix missing initialization that leaded to kill the whole process,"Commit 2a94a2b119a9efd2cd06ded03280872c81abe6b4 removed video_buffer callbacks, the comment is now meaningless.",0
877,"Paste on ""set clipboard"" if possible",0.7625019, - Fix clipboard paste (#1658),Add a scrcpy-specific prefix.,1
878,Extract relative mode check to an inline function,0.40763775," - Enable trilinear filtering when possible (#40, #1284)",,0
879,Make stream push packets to sinks,0.5567155,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,Commit f76fe2c0d4847d0e40d8708f97591abf3fa22ea5 fixed README and tests. Fix command line help and manpage.,0
880,Use UINT64_C macro for uint64_t constant in tests,0.3955115,| Windows 64-bit |        :x:         | :heavy_check_mark:,av_packet_free() already calls av_packet_unref().,0
881,Fix typos,0.5052482, - Improve some error messages,"The v4l2_sink implementation directly read the internal video_buffer field ""pending_frame_consumed"", which is protected by the internal video_buffer mutex. But this mutex was not locked, so reads were racy. Lock using the v4l2_sink mutex in addition, and use a separate field to avoid depending on the video_buffer internal data.",0
882,Add relative mode flag to mouse processors,0.57706046, - Add HID mouse support (#2916),To avoid data races. Reported by TSAN.,0
883,Add debug log for shortcuts,0.6106323,New shortcuts,"Commit 21d206f360535047e16cc4ea7de889a55bd9444d added mutex assertions. However, the ""locker"" variable to trace the locker thread id was read and written by several threads without any protection, so it was racy. Reported by TSAN.",0
884,Do not call codec.stop() on exception,0.4864214,Advanced codec options,"The options --no-display and --no-control are independent. The controller was not initialized when no display was requested, because it was assumed that no control could occur without display. But that's not true (anymore): for example, it is possible to pass --turn-screen-off. Fixes #2426 link",0
885,"Rename ""frames"" to ""video_buffer""",0.596045, - Add runtime option to render expired frames (i.e. not skip frames),Make the install script download the new prebuilt server (v1.18). Fixes #2409 link,0
886,Move include fps_counter,0.5756974,This release adds a new option --print-fps to start the FPS counter immediately.,,0
887,Fix text input event segfault,0.6964979, - Fix segfault on copy/paste (#10),Make the versionCode a decimal representation of the scrcpy version. This will for example allow to correctly number the versionCode of v1.17.1 after a v1.18 is released:  - v1.18   -> 11800  - v1.17.1 -> 11701  - v1.18.1 -> 11801,0
888,Print info logs to stdout,0.71700764, - Print help to stdout (instead of stderr),Include the latest version of adb in Windows releases.,1
889,Fix deadlock on exit if SKIP_FRAMES disabled,0.58560467, - Workaround screen off/on issue on exit (#1670),,0
890,Inline lock_util functions,0.49192882,"When a key is hold pressed, the system generates repeated key events.",And increase the command buffer size. Refs #1358 link PR #2405 link Signed-off-by: Romain Vimont rom@rom1v.com,0
891,Upgrade platform-tools (33.0.1) for Windows,0.9077355, - Upgrade platform-tools to 33.0.3 (adb) in Windows releases,This is more explicit. PR #2405 link Signed-off-by: Romain Vimont rom@rom1v.com,1
892,Add a FAQ for common issues,0.444816, - Various technical refactors and fixes,For consistency with other functions in the codebase.,0
893,Add util function to parse a list of integers,0.42772174, - Add --list-displays and --list-encoders,"The short option -F has been deprecated by ff061b4f30c54dedc5073a588c6c697477b805db. On error, suggest the long option --record-format instead.",0
894,Shutdown sockets before closing,0.6016202,Power off on close,"If the log level is not verbose, there is no need to attempt to log control messages at all.",0
895,Enable Java deprecation warnings details,0.42871132, - Do not expose internal SDL logs to users (#1441),This will allow to avoid unnecessary processing for creating logs which will be discarded anyway.,0
896,Privatize recorder threading,0.6669142,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",,0
897,Add --no-cleanup option,0.8819621," - Add --no-cleanup option (#1764, #3020)","On Windows, PRIu64 is defined to ""llu"", which is not supported: error: unknown conversion type character 'l' in format",1
898,Add missing include config.h,0.4869309," - Add --no-cleanup option (#1764, #3020)",PR #2371 link Signed-off-by: Romain Vimont rom@rom1v.com,0
899,Fix return value on adb commands error,0.69770527," - Improve error message on missing adb (#236, #254)",PR #2371 link Signed-off-by: Romain Vimont rom@rom1v.com,0
900,Properly handle Ctrl+C on Windows,1.0,Properly handle Ctrl+C on Windows,"Mouse motion events were forwarded as soon as any mouse button was pressed. Instead, only consider left-click (and also middle-click and right-click if --forward-all-clicks is enabled).",1
901,Warn on ignored audio options,0.5833672," - Add Audio forwarding (#14, #3757)",,0
902,Improve README,0.50336003, - Add option --no-control to mirror in read-only,"It was safe to call strcpy() since the input length was checked, but then it is more straightforward to call memcpy() directly.",0
903,Fix mouse focus clickthrough,0.9955701, - Fix mouse focus clickthrough,Android 12 changed one of the call() overloads with a new parameter AttributionSource. Adapt the wrapper. Fixes #2402 link,1
904,Prefix UI events constants by SC_,0.51482254, - Fix touch events parameters (#2125),"Change the default push target from /sdcard/ to /sdcard/Download/. Pushing to the root of /sdcard/ is not very convenient, many apps do not expose its content directly. It can still be changed by --push-target. PR #2384 link",0
905,Merge pull request #568 from npes87184/dev,0.44757366, - Push to /sdcard/Download by default (#2384),"When removing the black borders (by double-clicking on them, or by pressing MOD+w), the window is resized to fit the device screen, but its top-left position was left unchanged. Instead, move the window so that the new window area is at the center of the old window area. Refs #2387 link",0
906,Add string buffer util,0.62007654,Buffering,"It should not be necessary, since screen_render() is called just after on SDL_WINDOWEVENT_EXPOSED, but in practice the window content might not be correctly displayed on restored if a rotation occurred while minimized. Note that calling screen_render() twice in a row on SDL_WINDOWEVENT_EXPOSED also ""fixes"" the issue.",0
907,Inline USB device opening,0.6899113,"Since there are several devices connected over USB in this example, it fails, with a detailed error message.","From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",0
908,Add packet sink trait,0.5542862,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",0
909,Upgrade platform-tools (31.0.2) for Windows,0.90504867, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Refs #2302 link",1
910,Make scrcpy.h independant of other headers,0.62567043,scrcpy --tcpip    # without arguments,"From FFmpeg/doc/APIchanges: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h   Deprecated av_init_packet(). Once removed, sizeof(AVPacket) will   no longer be a part of the public ABI. Remove the has_pending boolean, which can be replaced by: stream->pending != NULL Refs #2302 link",0
911,Print scrcpy header first,0.67217886,scrcpy --display 1,,0
912,Add pinch-to-zoom simulation,0.95822525,Pinch-to-zoom simulation,"V4L2 sink used a ""url"" field format AVFormatContext which has been introduced in lavf 58.7.100. Fixes #2382 link Refs link Refs link",1
913,Merge branch 'sdushantha' (pull request #28),0.39093193,Push to /sdcard/Download/,"The argument for option --lock-video-orientation has been made optional by 5af9d0ee0faddfca689f468c7d463c86233e8d93. With getopt_long(), contrary to mandatory arguments, optional arguments must be given with a '=': --lock-video-orientation 2   # wrong, parse error --lock-video-orientation=2   # correct",0
914,Use virtual device id to avoid NPE,0.5007514, - Inject mouse events with a virtual device id (fix crashes on some,"Android 12 preview identifies as Android 11, but its codename is ""S"". Refs #2129 link",0
915,Call ninja without changing directory,0.38943374, - Refuse to push server if it points to a directory (#956),"Since Android 12, secure displays could not be created with shell permissions anymore. Refs commit 1fdde490fd2a0b89680a2b5da5e5274192398023 Fixes #2129 link",0
916,Quote apk path on Windows,0.54413277,Windows PATH simplification,"This avoids to pass each option as individual parameter and parse them manually (it's still ""manual"" in the Parcelable implementation). Refs #824 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com",0
917,Work around Os.write() not updating position,0.60929084, - Workaround for Os.write() bug on Android 5.0.x (#291),This avoids to refer to many structs globally.,0
918,Add Bash completion script,0.8712613," - Add Bash completion script (#2930, #3048)",The zero-initialization relied on the fact that the decoder instance is static.,1
919,Move data/ to app/,0.51814115,Push to /sdcard/Download/,This was the only option passed separately.,0
920,Pass server parameters as key=value pairs,0.54656166, - Send raw key events for letters to use keyboard in games (#87),PR #2318 link Signed-off-by: Romain Vimont rom@rom1v.com,0
921,Simplify sc_str_truncate(),0.616596,scrcpy -K  # short version,PR #2316 link Signed-off-by: Romain Vimont rom@rom1v.com,0
922,Handle SDL_PushEvent() errors,0.5676016, - Fix possible BufferUnderflowException on touch event (#1245),PR #2316 link Signed-off-by: Romain Vimont rom@rom1v.com,0
923,Merge pull request #574 from crow1170/patch-1,0.45526648, - Apply workarounds only on error (#994),,0
924,Fix recorder comment,0.5446322, - Add option --no-display to record without mirroring (#418),,0
925,Add --codec-options,0.82699746,Advanced codec options,This avoids to retrieve them in a separate step.,1
926,Always invoke gradle except as root,0.31007928, - Refuse to push server if it points to a directory (#956),"The input manager was partially initialized statically, but a call to input_manager_init() was needed anyway, so initialize all the fields from the ""constructor"". This is consistent with the initialization of the other structs.",0
927,Add option to disable window decoration,0.9347053, - Add option to disable window decorations (#762),,1
928,Remove unused field from input_manager,0.47869614,Remove deprecated short options,"The FPS counter specifically count frames from the screen video buffer, so it is specific to the screen.",0
929,Log CreateProcessW() error code on Windows,0.58219254, - Print correct error messages on Windows socket errors (#2624),Destroy video buffer if screen window creation failed.,0
930,Log control messages in verbose mode,0.7829607, - Log input events in verbose mode (#2371),"Do not send a SDL event directly, to make stream independent of SDL.",1
931,Fix compilation error for old decoding API,0.52618545, - Retry on spurious encoder error (#3693),PR #2315 link Signed-off-by: Romain Vimont rom@rom1v.com,0
932,Always use SDL_malloc() and SDL_free(),0.55063707, - Do not expose internal SDL logs to users (#1441),PR #2311 link Signed-off-by: Romain Vimont rom@rom1v.com,0
933,Avoid additional copy on Java text parsing,0.5191485,Optionally disable seamless copy-paste,,0
934,Initialize server struct dynamically,0.61450946, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"On Linux, scrcpy now depends on libavdevice for v4l2.",0
935,Avoid division by 0,0.4309219," - Enable trilinear filtering when possible (#40, #1284)",,0
936,Move buffer reader functions to buffer_util.h,0.61010575,Buffering,PR #2299 link Signed-off-by: Romain Vimont rom@rom1v.com,0
937,Improve comment,0.63886595,(see this comment for more details),"On error, server->serial was freed twice: immediately and in server_destroy(). Refs #2292 link",0
938,Provide a better URL to document key decomposition,0.41795444,"This also greatly simplifies text selection, by using the keyboard (Shift+arrows, Ctrl+a). And it makes copy-paste more straightforward (see below).","Make it explicit that it injects both ""press"" and ""release"" events.",0
939,Move README and FAQ translations to the wiki,0.3506196, - Print both compiled and linked version of libs on --version,Just call the static version (having a displayId) from the non-static version (using the displayId field).,0
940,Do not write invalid packet duration,0.52458173," - Increase ""adb forward"" connections attempts to 10 seconds (#213)","Remove useless intermediate method with a ""mode"" parameter (it's always called with the same mode). This also avoids the need for a specific injectEventOnDisplay() method, since it does not conflict with another injectEvent() method anymore.",0
941,Bump version to 1.23,0.78947985, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"The frame can be unref immediately after it is pushed to the frame sinks. It was not really a memory leak because the frame was unref every time by avcodec_receive_frame() (and freed on close), but a reference was unnecessarily kept for too long.",1
942,Fix warning message,0.77999175, - Improve some error messages,Unref v4l2 AVPacket even if writing failed.,1
943,"Fix option ""record-format"" related short opt",0.58042955,Remove deprecated short options,Unref frame immediately once encoded. Fixes #2279 link,0
944,Fix test compilation on mingw,0.56554645,Bugfixes,"This was a rebase issue, the previous version in #2268 was correct. Refs #2268 link",0
945,Add --audio-codec=raw option,0.6211953," - Add Audio forwarding (#14, #3757)",,0
946,Install on macOS via Homebrew in README,0.5816446," - Add HID/OTG support for macOS (#2774, #3031)","It allows to send the video stream to /dev/videoN, so that it can be captured (like a webcam) by any v4l2-capable tool. PR #2232 link PR #2233 link PR #2268 link Co-authored-by: Romain Vimont rom@rom1v.com",0
947,Disable portable build by default,0.52884877, - Change the Windows build (cross-compile from Linux),"If the option is set without argument, lock the initial device orientation (as if the value ""initial"" was passed).",0
948,Mention crash on Android 12 on old scrcpy in FAQ,0.68085766,Recent method signature changes in Android 13 broke copy-paste for scrcpy (#3497). This version adapt the calls to make it work again.,"Add a new mode to the --lock-video-orientation option, to lock the initial orientation of the device. This avoids to pass an explicit value (0, 1, 2 or 3) and think about which is the right one.",0
949,Fix union typo,0.36649182," - Fix support for non-ASCII characters in window title (#2932, #3547)","The AVOutputFormat name is a string list: it contains names separated by ',' (possibly only one).",0
950,Replace SDL_net by custom implementation,0.49642622, - Upgrade SDL to 2.0.16 in Windows releases (#2589),"Add a function to know if a string list, using some separator, contains a specific string.",0
951,Fix cbuf documentation,0.5827605,Bugfixes,,0
952,Fix scroll wheel mouse position,0.6956973, - Fix mouse focus clickthrough,"EAGAIN was only handled on receive_frame. In practice, it should not be necessary, since one packet always contains one frame. But just in case.",0
953,Update links to v1.8 in README and BUILD,0.513188, - Update platform-tools to 28.0.1 (adb) included in Windows releases,There are many initializations in recorder_open(). Handle RAII-like deinitialization using gotos.,0
954,Add device event receiver,0.56405365, - Inject mouse events with a virtual device id (fix crashes on some,Only initialize ops and parameters copy from recorder_init(). It was inconsistent to initialize some fields from _init() and some others from _open().,0
955,Extract argument parsing to specific functions,0.39738482," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","The screen may not be destroyed immediately on close to avoid undefined behavior, because it may still receive events from the decoder. But the visual window must still be closed immediately.",0
956,Delay HID events on Ctrl+v,0.5734654,HID keyboard and Ctrl+v,"The destruction order is important, but tricky, because the screen is open/close by the decoder, but destroyed by scrcpy.c on the main thread. Add assertions to guarantee that the screen is not destroyed before being closed.",0
957,Add FAQ section about HID/OTG on Windows,0.8116326," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)","Now that screen is both the owner and the listener of the video buffer, execute the code directly without callbacks.",1
958,Use const pointers when possible,0.4559307,scrcpy --tcpip    # without arguments,"The video buffer is now an internal detail of the screen component. Since the screen is plugged to the decoder via the frame sink trait, the decoder does not access to the video buffer anymore.",0
959,Implement the --no-window flag,0.6524244, - Add option to disable window decorations (#762),"Now that screen implements the packet sink trait, make decoder push packets to the sinks without depending on the concrete sink types.",0
960,Find device with USB context,0.6584211,"In OTG mode, the USB devices are also listed for convenience:",Make screen implement the frame sink trait. This will allow the decoder to push frames without depending on the concrete sink type.,0
961,Initialize controller even if there is no display,0.67739195, - Prevent to turn screen off if no control (#608),This trait will allow to abstract the concrete sink types from the frame producer (decoder.c).,0
962,Merge pull request #225 from npes87184/master,0.42467406," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Now that decoder and recorder implement the packet sink trait, make stream push packets to the sinks without depending on the concrete sink types.",0
963,Use precise scrolling values,0.84396064,High-precision scrolling,Make decoder implement the packet sink trait. This will allow the stream to push packets without depending on the concrete sink type.,1
964,Update links to v1.14 in README and BUILD,0.49220124, - Update platform-tools to 28.0.1 (adb) included in Windows releases,This will make further commits more readable.,0
965,Do not call deprecated av_register_all(),0.37345785, - Avoid empty arguments not correctly handled on some devices (#337),Make recorder implement the packet sink trait. This will allow the stream to push packets without depending on the concrete sink type.,0
966,Bump version to 1.3,0.8083181, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"The fact that the recorder uses a separate thread is an internal detail, so the functions _start(), _stop() and _join() should not be exposed. Instead, start the thread on _open() and _stop()+_join() on close(). This paves the way to expose the recorder as a packet sink trait.",1
967,Prevent socket leak on error,0.5708691, - Print correct error messages on Windows socket errors (#2624),This will make further commits more readable.,0
968,Reference translations from FAQ.md,0.3493088, - Various technical refactors and fixes,This trait will allow to abstract the concrete sink types from the packet producer (stream.c).,0
969,Extract argument parsing,0.39434302," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)",This will allow to get the parent of an embedded struct.,0
970,Indent ifdef for clarity,0.36671376,(see this comment for more details),"The video buffer took ownership of the producer frame (so that it could swap frames quickly). In order to support multiple sinks plugged to the decoder, the decoded frame must not be consumed by the display video buffer. Therefore, move the producer and consumer frames out of the video buffer, and use FFmpeg AVFrame refcounting to share ownership while avoiding copies.",0
971,Detect failure of device information read,0.64869004,Device crashes fixes,"The new API has been introduced in 2016 in libavformat 57.xx, it's very old. This will avoid to maintain two code paths for codec parameters.",0
972,Update manpage for --window-borderless option,0.6646879, - Add manpage,"The new API has been introduced in 2016 in libavcodec 57.xx, it's very old. This will avoid to maintain two code paths for decoding.",0
973,Stop the video buffer on error,0.6962607, - Fix recorded video to avoid crashes in Adobe Premiere (#702),"This flag forced the decoder to wait for the previous frame to be consumed by the display. It was initially implemented as a compilation flag for testing, not intended to be exposed at runtime. But to remove ifdefs and to allow users to test this flag easily, it had finally been exposed by commit ebccb9f6cc111e8acfbe10d656cac5c1f1b744a0. In practice, it turned out to be useless: it had no practical impact, and it did not solve or mitigate any performance issues causing frame skipping. But that added some complexity to the codebase: it required an additional condition variable, and made video buffer calls possibly blocking, which in turn required code to interrupt it on exit. To prepare support for multiple sinks plugged to the decoder (display and v4l2 for example), the blocking call used for pacing the decoder output becomes unacceptable, so just remove this useless ""feature"".",0
974,Remove deprecated -T option,0.79869294, - Remove deprecated short options -T and -c,"The recorder thread wrote the whole content except the trailer, which was odd.",1
975,Keep the same MediaCodec instance across sessions,0.5288652, - Record asynchronously,PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
976,Use a callback to notify a new frame,0.66339934, - Add runtime option to render expired frames (i.e. not skip frames),Double-click on extra mouse button to open the settings panel (a single-click opens the notification panel). This is consistent with the keyboard shortcut MOD+n+n. PR #2264 link Signed-off-by: Romain Vimont rom@rom1v.com,0
977,Bump version to 1.10,0.75303394, - Bump version to 1.5 (as shown by scrcpy --version) (#332),PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,1
978,Document how to attach a debugger to the server,0.5464529,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:",PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
979,Replace noconsole binary by a wrapper script,0.5736872," - Generate both console and noconsole versions (fix ""no output"" issue)",This will allow shortcuts such as MOD+n+n to open the settings panel. PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com,0
980,Fix comparison warning,0.6111362, - Improve some error messages,"The collapsing action collapses any panels. By the way, the Android method is named collapsePanels(). PR #2260 link Signed-off-by: Romain Vimont rom@rom1v.com",0
981,Fix typo in BUILD.md,0.48325834, - Improve some error messages,Refs #2260 link,0
982,Stop on decoder frame push error,0.6115593,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.",PR #2276 link Signed-off-by: Romain Vimont rom@rom1v.com,0
983,Handle alpha and space chars as raw events,0.4076629," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)",Bind APP_SWITCH to button 4 and expand notification panel on button 5. PR #2258 link Signed-off-by: Romain Vimont rom@rom1v.com,0
984,Merge pull request #169 from zopelee/master,0.53824306, - Add ZSH completion script (#3012),"The shortcut ""back on screen on"" is a bit special: the control is requested by the client, but the actual event injection (POWER or BACK) is determined on the device. To properly inject DOWN and UP events for BACK, transmit the action as a control parameter. If the screen is off:  - on DOWN, inject POWER (DOWN and UP) (wake up the device immediately)  - on UP, do nothing If the screen is on:  - on DOWN, inject BACK DOWN  - on UP, inject BACK UP A corner case is when the screen turns off between the DOWN and UP event. In that case, a BACK UP event will be injected, so it's harmless. As a consequence of this change, the BACK button is now handled by Android on mouse released. This is consistent with the keyboard shortcut (Mod+b) behavior. PR #2259 link Refs #2258 link",0
985,Fix FAQ formatting,0.5088364, - Various technical refactors and fixes,PR #2263 link Signed-off-by: Romain Vimont rom@rom1v.com,0
986,Remove useless setSize() method,0.49711037, - Remove option --render-expired-frames (#2268),"As a consequence of this change, the HOME button is now handled by Android on mouse released. This is consistent with the keyboard shortcut (MOD+h) behavior. PR #2259 link Refs #2258 link",0
987,Upgrade platform-tools (32.0.0) for Windows,0.8577275, - Upgrade platform-tools to 33.0.1 (adb) in Windows releases (#3206),"Some mouse clicks DOWN are captured for shortcuts, but the matching UP events were still forwarded to the device. Instead, capture both DOWN and UP for shortcuts, and do nothing on UP. PR #2259 link Refs #2258 link",1
988,Report server connection state,0.74754226,ERROR: Server connection failed,"""verbosity"" < ""version""",1
989,Add --require-audio,0.69739413," - Add Audio forwarding (#14, #3757)","The event is handled by scrcpy.c, it is not necessary to send it to screen or input_manager.",0
990,Make server interruptible,0.7090764, - Terminate server properly without killing it on close (#1992),,1
991,Merge pull request #595 from taaem/fix_build_fedora,0.4726811, - Apply workarounds only on error (#994),,0
992,Mention in README that Ctrl is forwarded,0.66195524,Ctrl and Shift keys are now forwarded to the device.,It is only used from screen.c now.,0
993,Add util function to read USB descriptor string,0.51403576, - -d (or --select-usb) uses a USB device (like adb -d),"The screen receives callbacks from the decoder, fed by the stream. The decoder is run from the stream thread, so waiting for the end of stream is sufficient to avoid possible use-after-destroy.",0
994,Add blogpost link about scrcpy 2.0,0.7960291,scrcpy v2.0,"When --no-display was passed, screen_destroy() was called while screen_init() was never called. In practice, it did not crash because it just freed NULL pointers, but it was still incorrect.",1
995,Use cbuf for file handler request queue,0.42500126,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,,0
996,Support drag&drop a file to transfer it to device,0.688194, - Add feature to push file to /sdcard/ via drag & drop (#226),,0
997,Process the last video frame,0.6059327,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.",,0
998,Fix links in German README,0.41691053, - Fix segfault on copy/paste (#10),,0
999,Build on macOS with libusb support,0.63334405," - Add HID/OTG support for macOS (#2774, #3031)",Refs #2237 link,0
1000,Merge branch 'record' into dev (#292),0.3914031," - Fix mp4 headers produced by recording (#351, #416)",Commits cb9c42bdcb198b0e3ebed893e00257b95f4dcedb and 441d3fb119ce05287e94b0ae0befbb2e75173688 updated the code only for the new decoding API.,0
1001,Add simplified installation script,0.5476296, - Adapt --help output to terminal size,"Always enable HiDPI support, there is no reason to expose a compilation flag.",0
1002,Do not pass default values to the server,0.49690935, - Do not expose internal SDL logs to users (#1441),Refs f8524a2be738e6471ed2e48265f2663d8c21c0be Refs 7b51a0313ed9423f9252108fa573af68c11e6a2c,0
1003,Improve error handling in screen initialization,0.6510569,Screen off workarounds,The command brew cask has been deprecated: link Should be brew install directly now. PR #2231 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1004,Always use --key=value in README,0.6118871," - Add --raw-key-events to always inject key events and ignore text events (#2816, #2831)",,0
1005,Unref decoder AVFrame immediately,0.44386962,Auto-downscale on MediaCodec error,Add a script to download the server and build scrcpy using the prebuilt server.,0
1006,Move constants to ServiceManager,0.42318627, - Adapt --help output to terminal size,PR #2223 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1007,Add an audio demuxer,0.6842523," - Add Audio forwarding (#14, #3757)",,0
1008,Fix Windows Ctrl Handler declaration,0.75382364,Properly handle Ctrl+C on Windows,,1
1009,Apply buttons mask if not --forward-all-clicks,0.6742536," - Fix click behavior when --forward-all-clicks is set (#3568, #3579)",This avoids to link an older version.,0
1010,Introduce frame source trait,0.47921693, - Remove option --render-expired-frames (#2268),PR #2195 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1011,Clarify API versions that support Audio Forwarding,0.69158745," - Add Audio forwarding (#14, #3757)",A common use case for the --push-target option is to pass the device Download directory.,0
1012,Inject WAKEUP instead of POWER,0.85087526, - Inject POWER instead of WAKEUP on start (#1655),Refs link,1
1013,Document missing Opus encoder error,0.6227757, - Retry on spurious encoder error (#3693),Give quick instructions to download/install scrcpy.,0
1014,Rename net_listen() parameter,0.416561," - Add Audio forwarding (#14, #3757)",PR #824 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1015,Rename function to destroy a list of USB devices,0.5065702,ERROR: Multiple (2) USB devices:,PR #824 link Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1016,Make the device acknowledge device clipboard,0.75969243, - Add device-to-computer clipboard copy (#145),PR #2052 link Signed-off-by: Romain Vimont rom@rom1v.com,1
1017,Enable log signaling buffering threshold exceeded,0.55281913,Log input events,BUTTON_PRIMARY must not be set for touch events: This button constant is not set in response to simple touches with a finger or stylus tip. The user must actually push a button. link Fixes #2169 link,0
1018,Remove unused field,0.5254677,Remove deprecated short options,"Virtual device is only for keyboard sources, not mouse or touchscreen sources. Here is the value of InputDevice.getDevice(-1).toString(): Input Device -1: Virtual   Descriptor: ...   Generation: 2   Location: built-in   Keyboard Type: alphabetic   Has Vibrator: false   Has mic: false   Sources: 0x301 ( keyboard dpad ) InputDevice.getDeviceId() documentation says: An id of zero indicates that the event didn't come from a physical device and maps to the default keymap. link() However, injecting events with a device id of 0 causes event.getDevice() to be null on the client-side. Commit 26529d377fe8aae2fd1ffa91405aa801a0ce8a57 used -1 as a workaround to avoid a NPE on a specific Android TV device. But this is a bug in the device system, which wrongly assumes that input device may not be null. A similar issue was present in Flutter, but it is now fixed:  - link  - link On the other hand, using an id of -1 for touchscreen events (which is invalid) causes issues for some apps: link Therefore, use a device id of 0. An alternative could be to find an existing device matching the source, like ""adb shell input"" does. See getInputDeviceId(): link But it seems better to indicate that the event didn't come from a physical device, and it would not solve #962 anyway, because an Android TV has no touchscreen. Refs #962 link Fixes #2125 link",0
1019,Fix incorrect log return value,0.60652876,Log input events,"The option is --encoder, not --encoder-name.",0
1020,Slightly reduce lock usage,0.5130321,Lock video orientation,This helps to use mingw toolchains which are not in /usr/bin path. PR #2185 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1021,Mention that MENU unlocks screen,0.62849885,Menu shortcuts,"During a frame swap, one of the two frames involved can be released.",0
1022,Upgrade junit to 4.13.1,0.51876456, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),,0
1023,Move annotation comment,0.4573966," - Add --legacy-paste option (#1750, #1771)",Use a single function to initialize the screen instance.,0
1024,installer -> file_handler,0.61744696, - Add feature to install APK files via drag & drop (#133),The function screen_init_rendering had too many parameters.,0
1025,Use a more portable shebang for bash,0.56304127,"Scrcpy has a lot of options. For convenience, auto-completion scripts were added for Bash (#3048) and ZSH (@hltdev8642, #3012).",Most of the fields are initialized dynamically.,0
1026,Inject mouse events as touchscreen,0.7795999," - Correctly handle mouse events outside device screen (#353, #357)","A skipped frame is detected when the producer offers a frame while the current pending frame has not been consumed. However, the producer (in practice the decoder) is not interested in the fact that a frame has been skipped, only the consumer (the renderer) is. Therefore, notify frame skip via a consumer callback. This allows to manage the skipped and rendered frames count at the same place, and remove fps_counter from decoder.",1
1027,Provide config.h.in for old meson versions,0.38612157,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,"Make the decoder independant of the SDL even mechanism, by making the consumer register a callback on the video_buffer.",0
1028,Add acksync helper to wait for acks,0.45075214," - Fix input injection on some custom ROMs (#2250, #2946)","As soon as the stream is started, the video buffer could notify a new frame available. In order to pass this event to the screen without race condition, the screen must be initialized before the screen is started.",0
1029,Use VecDeque in controller,0.40475577, - Inject mouse events with a virtual device id (fix crashes on some,"Video buffer is a tool between a frame producer and a frame consumer. For now, it is used between a decoder and a renderer, but in the future another instance might be used to swscale decoded frames.",0
1030,Add --render-driver command-line option,0.67197293, - Add --render-driver parameter (#1284),"In order to make video buffer more generic, move out its specific responsibility to count the fps between the decoder and the renderer.",0
1031,Include config.h everywhere,0.47595665,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:",Issue #15 had been fixed in v1.14 by e40532a3761da8b3aef484f1d435ef5f50d94574.,0
1032,Use ARRAY_LEN() macro in tests,0.40946093,| Linux          | :heavy_check_mark: | :heavy_check_mark:,,0
1033,Remove useless configure() method,0.5004169, - Fix missing initialization that leaded to kill the whole process,"A value of 1 means the ""largest detectable size"", a value of 0 means the ""smallest detectable size"". link link Fixes #2125 link",0
1034,Release frame data as soon as possible,0.54757124, - Add runtime option to render expired frames (i.e. not skip frames),PR #2123 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1035,Fix double adb tunnel closing,0.60366213,Configure tunneling,"Commit f8524a2be738e6471ed2e48265f2663d8c21c0be updated one reference to the openjdk package, but there was another one.",0
1036,Use sc_intr in file_handler,0.6202527,scrcpy --render-driver=opengl,"Makefile.CrossWindows have been renamed to release.mk, which is called from release.sh.",0
1037,Fix memset() size in tests,0.51861155,Resize to fit,"It makes sense to extract default values for bitrate and port range (which are arbitrary and might be changed in the future). However, the default values for ""max size"" and ""lock video orientation"" are naturally unlimited/unlocked, and will never be changed. Extracting these options just added complexity for no benefit, so hardcode them.",0
1038,Stop and join sc_file_pusher only if initialized,0.59904265,A file drag&drop to the scrcpy window used to push to /sdcard/ by default. Now the default is /sdcard/Download/.,,0
1039,Remove unnecessary backslash in cbuf,0.47604516, - ~Do not print irrelevant workarounds errors (#994)~,,0
1040,tests: fix test_control_event_serialize,0.56620634, - Fix touch events parameters (#2125),,0
1041,Update links to v1.22,0.54521877, - Update SDL to 2.0.9 included in Windows releases,,0
1042,Move frame swapping logic to frame.c,0.6025237, - Add runtime option to render expired frames (i.e. not skip frames),"Now that all screen-related events are handled from screen.c, there is no need for a separate method for window events.",0
1043,Kill the server only after a small delay,0.81028473, - Terminate server properly without killing it on close (#1992),,1
1044,Fix double click on rotated display,0.73703253, - Ctrl+ (right) rotates the display 90 clockwise,"This paves the way to handle EVENT_NEW_FRAME from screen.c, by allowing to call screen_update_frame() without an explicit video_buffer instance.",1
1045,Upgrade gradle build tools to 4.0.1,0.560231, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,"After the struct screen is initialized, the window, the renderer and the texture are necessarily valid, so there is no need to check in screen_destroy().",0
1046,Move from jcenter() to mavenCentral(),0.4070425, - Bind middle- and right-clicks to HOME and BACK,This will avoid corner cases where we need to resize while no frame has been received yet.,0
1047,Use sc_ prefix for adb,0.6815121,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
1048,Suggest --record-format instead of -F on error,0.5334554, - Fix segfault on recording with old FFmpeg versions (#707),"The flag is used only locally, there is no need to store it in the screen structure.",0
1049,Rename video_buffer to sc_video_buffer,0.618865,"Once a new video device is created with v4l2loopback (for example /dev/video1), scrcpy can expose the video stream as a webcam instead of (or in addition to) displaying it in a window:","There were only two frames simultaneously:  - one used by the decoder;  - one used by the renderer. When the decoder finished decoding a frame, it swapped it with the rendering frame. Adding a third frame provides several benefits:  - the decoder do not have to wait for the renderer to release the    mutex;  - it simplifies the video_buffer API;  - it makes the rendering frame valid until the next call to    video_buffer_take_rendering_frame(), which will be useful for    swscaling on window resize.",0
1050,Report settings errors via Exceptions,0.59063494, - Improve some error messages,,0
1051,Fix inconsistent quotes,0.48128104, - ~Do not print irrelevant workarounds errors (#994)~,,0
1052,Unlock mutex on screen update failure,0.52375674,Fix HiDPI issues on secondary screen,Add a function to assert that the mutex is held (or not).,0
1053,Add script to bump version,0.6210325, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,0
1054,Document HID keyboard events,0.75193155,HID keyboard,"The goal is to expose a consistent API for system tools, and paves the way to make the ""core"" independant of SDL in the future.",1
1055,Set power mode on all physical displays,0.72396433,"However, restoring the power mode while the device screen was off caused unexpected behaviors (even if the ""screen off"" feature was not used). Therefore, if the screen was off, don't try to restore the power mode, the state is already as expected.","The functions SDL_malloc(), SDL_free() and SDL_strdup() were used only because strdup() was not available everywhere. Now that it is available, use the native version of these functions.",1
1056,Upgrade SDL (2.0.18) for Windows,0.9566361, - Upgrade SDL to 2.26.1 in Windows releases,Make strdup() available on all platforms.,1
1057,Do not read avg_buffering from the player thread,0.43973753, - Fix possible BufferUnderflowException on touch event (#1245),"The port_range is used from ""struct server_params"", the copy in ""struct server"" was unused.",0
1058,Open recording file from the recorder thread,0.70424724,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",,1
1059,Add recording logs,0.6424885,Log input events,PR #2064 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1060,input_manager.c: Correct log,0.681825,Log input events,"Small unsigned integers promote to signed int. As a consequence, if v is a uint8_t, then (v << 24) yields an int, so the left shift is undefined if the MSB is 1. Cast to uint32_t to yield an unsigned value. Reported by USAN (meson x -Db_sanitize=undefined): runtime error: left shift of 255 by 24 places cannot be represented in type 'int'",0
1061,Fix DisplayInfo parsing for Android Q,0.6469574," - Make --turn-screen-off work for Android Q devices (#586, #587)","Terminating the file handler current process may be either a ""push"" or ""install"" command.",0
1062,Do not print stacktraces when unnecessary,0.60133207, - ~Do not print irrelevant workarounds errors (#994)~,"An ""adb push"" command is not terminated by SIGTERM.",0
1063,Fix Windows sc_pipe function names,0.60263574, - Pass scrcpy-noconsole arguments through to scrcpy on Windows (#2052),"The current process could be waited both by run_file_handler() and file_handler_stop(). To avoid the race condition, wait the process without closing, then close with mutex locked.",0
1064,Fix touch coordinates on rotated display,0.7234771,Display rotation,There were two versions: process_wait() and process_wait_noclose(). Expose a single version with a flag (it was already implemented that way internally).,1
1065,Move server-related code to server.c,0.62743056,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","The function process_wait() returned a bool (true if the process terminated successfully) and provided the exit code via an output parameter exit_code. But the returned value was always equivalent to exit_code == 0, so just return the exit code instead.",0
1066,Assign PTS to the right frame,0.46536803,scrcpy --lock-video-orientation 3   # 90 clockwise,The function control_msg_serialize() returns a size_t.,0
1067,Simplify bytebuf naming,0.5211053, - Implement (optional) buffering (#2464),,0
1068,Remove USB hotplug callback error log,0.56583583,"If it fails for some reason (for example because the device is not connected via USB), it automatically fallbacks to the default mode (with a log in the console). This allows to use the same command line options when connected over USB and TCP/IP.","This enables necessary functions once for all. As a consequence, define common.h before any other header.",0
1069,Upgrade FFmpeg (4.1.4) for Windows,0.9813632, - Upgrade FFmpeg to 4.1.4 in Windows releases,PR #2029 link Reviewed-by: Win7GM Signed-off-by: Romain Vimont rom@rom1v.com,1
1070,Add --raw-key-events,0.9103093,"Add ""raw key events"" mode",PR #2034 link Reviewed-by: latreta yves_henry13@hotmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
1071,Fix build errors for macOS,0.58307666," - Add HID/OTG support for macOS (#2774, #3031)","Include config.h and compat.h in common.h, and include common.h from all source files.",0
1072,Add fallback to get DisplayInfo,0.75833994," - Add fallback to get display information on some devices (#3416, #3573)","The size, point and position structs were defined in common.h. Move them to coords.h so that common.h could be used for generic code to be included in all source files.",1
1073,Fix controller cleanup,0.5145092," - Add --no-cleanup option (#1764, #3020)","The header libavformat/version.h was included, but not libavcodec/version.h. As a consequence, the LIBAVCODEC_VERSION_INT definition depended on the caller includes.",0
1074,Relax v4l2_sink lock constraints,0.4717096,Lock video orientation,It had been replaced by struct sc_port_range in scrcpy.h.,0
1075,Remove AINPUT_SOURCE_ANY value,0.4044239,Remove deprecated short options,"On Linux, waitpid() both waits for the process to terminate and reaps it (closes its handle). On Windows, these actions are separated into WaitForSingleObject() and CloseHandle(). Expose these actions separately, so that it is possible to send a signal to a process while waiting for its termination without race condition. This allows to wait for server termination normally, but kill the process without race condition if it is not terminated after some delay.",0
1076,Simplify error handling in sc_aoa_init(),0.4387086,scrcpy v1.23,"Adding ""simple"" in the function name brings no benefit.",0
1077,Remove HiDPI compilation flag,0.63803875, - Fix HiDPI support (#829),Declare all the source files (including the platform-specific ones) at the beginning.,0
1078,Serialize clean-up configuration,0.6370096,Serial auto-completion,"The process API provides the system-specific implementation, the adb API uses it to expose adb commands.",0
1079,Update README.md,0.45327613, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Some devices use big display id values. Refs #2009 link,0
1080,"Add support for CTRL+S to send hardware ""shake"" to device w/readme",0.6277901," - Forward Ctrl and Shift to the device (#1598, #555, #942)","Due to gotos, ""ret"" may be returned uninitialized.",0
1081,Allocate AVPacket for local stream packet,0.5055797, - Add server options to send raw H.264 video stream (#2971),PR #2004 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1082,Deprecate short options for advanced features,0.76419705,Remove deprecated short options,,1
1083,Enable link-time optimization for release,0.5193572,Reduced latency,,0
1084,Move drag&drop features in README,0.6453061, - Add feature to push file to /sdcard/ via drag & drop (#226),"Let the server terminate properly once all the sockets are closed. If it does not terminate (this can happen if the device is asleep), then kill it. Note: since the server process termination is detected by a flag set after waitpid() returns, there is a small chance that the process terminates (and the PID assigned to a new process) before the flag is set but before the kill() call. This race condition already existed before this commit. Fixes #1992 link",0
1085,Improve crossbuild configuration,0.67643094, - Change the Windows build (cross-compile from Linux),"TerminateProcess() is ""equivalent"" to kill(), while WaitForSingleObject() is ""equivalent"" to waitpid(), so the handle must be closed after WaitForSingleObject().",0
1086,Log device opening errors during listing,0.5731806, - Initialize Application object (fix crashes on some devices) (#940),This will allow to add mutex/cond fields.,0
1087,Add contact links to the README,0.5391518,Contact,"The (non-daemon) threads were not interrupted on video stream stopped, leaving the server process alive. Interrupt them to wake up their blocking call so that they terminate properly. Refs #1992 link",0
1088,Simplify error handling on socket creation,0.54126585, - Print correct error messages on Windows socket errors (#2624),Mention that it is possible to add default arguments by editing the wrapper scripts.,0
1089,Simplify cleanup,0.5672547," - Add --no-cleanup option (#1764, #3020)",,0
1090,Rename MSG_SERIALIZED_MAX_SIZE to MSG_MAX_SIZE,0.51551205,Resize to fit,,0
1091,Update BUILD.md,0.5675937, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the latest version of SDL in Windows releases.,0
1092,Mention drag & drop APK in README,0.730015, - Add feature to install APK files via drag & drop (#133),"It's more standard, and benefits from syntax coloration in vi.",1
1093,Store queue of PTS for pending frames,0.48068076,"To minimize latency, scrcpy was to always display a frame as soon as it is available, without waiting. This design decision is (on purpose) at the cost of jitter: the delay between frames is not preserved. Note that this does not impact recording (--record), which writes the timestamps captured on the device.","Before this change, release.sh built some native stuff, and Makefile.CrossWindows built the Windows releases. Instead, use a single release.make to build the whole release. It also avoids to build the server one more time.",0
1094,Add support for AV1,0.71460557, - Add H265 and AV1 video codec support (#3713),This simplifies the build system. Refs link,1
1095,Fix expected mouse event sizes,0.6946707, - Fix mouse events deserialization (comment in #350),,0
1096,Reset current installer process,0.4800553, - Various technical refactors and fixes,PR #1973 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com,0
1097,"Make CreateProcess() flags depend on ""noconsole""",0.5611647," - Generate both console and noconsole versions (fix ""no output"" issue)",,0
1098,Rename maximum_size to max_size,0.70726967,Resize to fit,,1
1099,Rename window size functions for clarity,0.69370484, - Center the window on resize-to-fit (#2387),"On Windows, scrcpy paused on error before exiting to give the user a chance to see the user message. This was a hack and causes issues when using scrcpy from batch scripts. Disable this pause from the scrcpy binary, and provide a batch wrapper (scrcpy-console.bat) to pause on error. Fixes #1875 link",0
1100,Introduce interruptor tool,0.5142973, - Implement (optional) buffering (#2464),,0
1101,Log device disconnection,0.67880774," - Add specific exit code for device disconnection (#3083, #3085)",Refs #1753 link,0
1102,Initialize eof flag from BufferInfo,0.51501274, - Fix possible BufferUnderflowException on touch event (#1245),Include the latest version of adb in Windows releases.,0
1103,Fix windows build,0.64811766, - Restore resizing workaround for Windows (#3640),,0
1104,Mention adb debugging in FAQ,0.6639359,DEBUG: ADB device found:,PR #1960 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1105,Improve bug report template,0.5906521,Bugfixes,PR #1944 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1106,Unify release makefile,0.41825932, - Update FFmpeg to 4.1 included in Windows releases,,0
1107,Use two sockets for video and control,0.59558564,V4L2 (device screen capture as a webcam),"Use ""%Iu"" on Windows. This fixes the following warning: ../app/src/sys/win/command.c:17:14: warning: unknown conversion type character l in format [-Wformat=]    17 |         LOGE(""Command too long (%"" PRIsizet "" chars)"", len - 1);",0
1108,Log recording failure,0.65199554,Log input events,Add documentation for the new option --encoder in the manpage and in README.md.,0
1109,Update DEVELOP after recent refactorings,0.607441, - Various technical refactors and fixes,"If an invalid encoder name is given via the --encoder option, list all the H.264 encoders available on the device.",0
1110,Add CLAMP() macro,0.5275385,Customizable shortcut modifier,"When the encoder is selected automatically, log the name of the selected encoder.",0
1111,Assume non-NULL serial in file_handler,0.4936883," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Some devices have more than one encoder, and some encoders may cause issues or crash. With this option we can specify which encoder we want the device to use. PR #1827 link Fixes #1810 link Signed-off-by: Romain Vimont rom@rom1v.com",0
1112,Replace SDL_Atomic by stdatomic from C11,0.46713042, - Print help to stdout (instead of stderr),Some devices do not behave as expected when setting the device clipboard programmatically. Add an option --legacy-paste to change the behavior of Ctrl+v and MOD+v so that they inject the computer clipboard text as a sequence of key events (the same way as MOD+Shift+v). Fixes #1750 link Fixes #1771 link,0
1113,Use AttributionSource from FakeContext,0.40654212,There is also a subreddit: r/scrcpy,Add --forward-all-clicks to disable mouse shortcuts and forward middle and right clicks to the device instead. Fixes #1302 link Fixes #1613 link,0
1114,Upgrade SDL (2.0.20) for Windows,0.9697701, - Upgrade SDL to 2.0.20 in Windows releases,,1
1115,Add developer documentation,0.477264,Advanced codec options,,0
1116,Accept Windows Sockets from version 1.1,0.59305406, - Print correct error messages on Windows socket errors (#2624),,0
1117,Enable mouse focus clickthrough only if available,0.92113835,Mouse focus clickthrough,PR #1802 link Signed-off-by: Romain Vimont rom@rom1v.com,1
1118,Replace BUILD_DEBUG by NDEBUG,0.47309232, - Various technical refactors and fixes,"Without the option, gradle reports a lint issue, but without any details.",0
1119,Continue on icon loading failure,0.4760168, - Fix getDisplayIds() crash on some versions of Android 13 beta (#3446),"As a workaround for some devices, we need to prepare the main looper. The method is now deprecated, but we still want to call it.",0
1120,gitignore: Add x/ directory,0.42843676, - Add feature to install APK files via drag & drop (#133),,0
1121,Update links to v1.5-fixversion,0.60201776,"Pasting (e.g. via Ctrl+v) was broken in some cases (#1658). The fix would have required a new hotfix version (v1.15.2), but since pinch-to-zoom is ready, just go for v1.16 right now.",PR #1767 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1122,Add auto-completion for --codec option,0.6915597,Advanced codec options,"The message said ""Press any key to continue..."", whereas only Enter/Return is accepted. PR #1783 link Fixes #1757 link Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",0
1123,Do not send simple mouse move events,0.65982896," - Correctly handle mouse events outside device screen (#353, #357)",Fixes #1775 link Reported-by: lordnn,0
1124,Do not process finger events if no control,0.5659836, - Fix touch events parameters (#2125),Fixes #1770 link Reported-by: lordnn,0
1125,Upgrade FFmpeg (4.3.1) for Windows,0.9816828, - Upgrade FFmpeg to 4.3.1 in Windows releases,PR #1723 link Co-authored-by: Shaw Yu shawyu.nz@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
1126,Add missing include for lock_util.h,0.44639456, - Forward NumPad keys when NumLock is disabled (#1188),,0
1127,Provide relative mouse motion vector in event,0.53235734,Mouse focus clickthrough,,0
1128,Mention scrcpy Debian package in README,0.6479475,scrcpy v1.14,Refs #426 link Refs #1716 link,0
1129,Add keyboard shortcut to expand settings panel,0.84996486,The keyboard shortcut MOD+n+n has also been added to expand the settings panel.,This should increase the portability of bash scripts across various *nix systems such as BSD-like distributions. PR #1716 link Signed-off-by: Lus Ferreira contact@lsferreira.net Signed-off-by: Romain Vimont rom@rom1v.com,1
1130,Add missing source files in server Makefile,0.49926758, - Fix segfault on empty file recorded (#918),PR #426 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1131,Update links to v1.12.1 in README and BUILD,0.51250005, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"This commit in AOSP framework_base added a parameter ""attributionTag"" to the call() method: link As a consequence, the method did not exist, so scrcpy used the legacy call() method (using the authority ""unknown"") as a fallback, which fails for security reasons. Fixes #1468 link",0
1132,Do not pass scrcpy_options to keyboard inject,0.69947994,scrcpy --hid-keyboard,The expected feature test macro is _POSIX_C_SOURCE having a value greater or equal to 200809L. Fixes #1726 link,0
1133,Use VecDeque in aoa_hid,0.32541326,:: in cmd,"The expression port + 1 is promoted to int, but printed as uint16_t. This is the same mistake fixed for a different log by 7eb16ce36458011d87972715f08bd9f03ff39807. Refs #1726 link",0
1134,Add device event sender,0.55547893," - Add fallback to get display information on some devices (#3416, #3573)",PR #1670 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1135,Handle window events only once visible,0.5634634," - Correctly handle mouse events outside device screen (#353, #357)",The behavior of some methods do not depend on the user-provided options. These methods can be static. This will allow to call them directly from the cleanup process.,0
1136,Fix manpage format,0.7688674, - Add manpage,,1
1137,Refactor AOA/HID keyboard initialization,0.6605059,HID keyboard,Fixes #1681 link Suggested-by: Moritz Schulz moritzleni@gmail.com,0
1138,Add --no-key-repeat cli option,0.61257136," - Add option to ignore repeated key events (#1013, #1623)",Fixes #1681 link Suggested-by: Moritz Schulz moritzleni@gmail.com,0
1139,Add server option raw_video_stream,0.8317889, - Add server options to send raw H.264 video stream (#2971),,1
1140,Pass a Locale to toUpperCase(),0.4116786,A new advanced option has been added to pass any raw option to [MediaFormat]. This could be used for example to change the profile/level of the codec:,,0
1141,Unref last packet on exit,0.5212681, - Terminate server properly without killing it on close (#1992),,0
1142,Return non-zero value on connection loss,0.9578985, - Return non-zero value on connection loss (#204),"If Ctrl is hold when the left-click button is pressed, enable pinch-to-zoom to scale and rotate relative to the center of the screen. Fixes #24 link",1
1143,Store the recording request in a local bool,0.51236445, - Record asynchronously,Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1144,Introduce packet source trait,0.48822856,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Reviewed-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1145,Extract bit operations to buffer_util.h,0.4868882,Buffering,"To avoid possible copy-paste loops between the computer and the device, the device clipboard is not set if it already contains the expected content. But the condition was wrong: it was not set also if it was empty. Refs 1223a72eb83ebafb878a25356250896c45b5cefa Fixes #1658 link",0
1146,Add icon loader,0.62384236, - Add icon to scrcpy.exe (#2815),WAKEUP does not work on some devices. Fixes #1655 link This reverts commit 322f1512ea806611eb37f508cd952bbbc050f853.,0
1147,Use shell package name for workarounds,0.49891466,"Scrcpy has a lot of options. For convenience, auto-completion scripts were added for Bash (#3048) and ZSH (@hltdev8642, #3012).",PR #1652 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1148,Fix v4l2 sink,0.70134854,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,PR #1650 link Signed-off-by: Romain Vimont rom@rom1v.com,1
1149,Also retry on IllegalArgumentException,0.45430243, - Automatically retry with a lower definition on MediaCodec error (#2947),,0
1150,Add OTG mode,0.9177691,OTG mode,,1
1151,Disable server controller if --no-control,0.6395402, - Do not power on the device if --no-control is set,"A new ""repeat"" field has been added by 3c1ed5d86c38bcbd5353b0a7e6ef5653d6c44d0d, but it was not initialized in every code path. As a consequence, keycodes generated by shortcuts were sent with an undetermined value, breaking some shortcuts (especially HOME) randomly. Fixes #1643 link",0
1152,Always use the best render scale quality available,0.46903983, - Improve framerate counting,,0
1153,Use VecDeque in recorder,0.46770033,Asynchronous recording,,0
1154,Extract sc_delay_buffer,0.597391,"To minimize latency, scrcpy was to always display a frame as soon as it is available, without waiting. This design decision is (on purpose) at the cost of jitter: the delay between frames is not preserved. Note that this does not impact recording (--record), which writes the timestamps captured on the device.",Include the latest version of FFmpeg in Windows releases.,0
1155,Support power off on close,0.8765619,Power off on close,Include the latest version of adb in Windows releases.,1
1156,Fix process execution on Windows 7,0.93167984," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",,1
1157,Move workarounds to a separate class,0.45294088,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:",PR #1577 link Fixes #1573 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1158,Move scrcpy option structs to options.h,0.68348956,scrcpy -w  # short option,Add an option to avoid forwarding repeated key events. PR #1623 link Refs #1013 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1159,Make SKIP_FRAMES a compilation flag,0.51714694,New scrcpy icon,"This avoids to pass specific options values individually. Since these function are static (internal to the file), this is not a problem to make them depend on scrcpy_options. Refs #1623 link Signed-off-by: Romain Vimont rom@rom1v.com",0
1160,Upgrade libusb (1.0.26) for Windows,0.95274866, - Upgrade libusb to 1.0.26 in Windows releases (#3206),This avoids to pass additional options to some input manager functions. Refs #1623 link,1
1161,Terminate the server on stop,0.83612037, - Terminate server properly without killing it on close (#1992),Pressing MENU while in lock screen unlocks (it still asks for the schema or code if enabled).,1
1162,Privatize low-level adb functions,0.40229124,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,It's prettyier in a browser.,0
1163,Indicate that -s can also be used for TCP/IP,0.62894875,"For example, to run scrcpy with the single TCP/IP device:",,0
1164,Enable trilinear filtering for OpenGL,0.8781226,"To improve the quality, trilinear filtering is enabled when possible (OpenGL 3.0+ or OpenGL ES 2.0+):",Update documentation regarding the recent copy-paste changes.,1
1165,Check client and server mismatch,0.6126506,ERROR: Server connection failed,"For consistency with MOD+c and MOD+x, use MOD+v to inject PASTE. Use Mod+Shift+v to inject clipboard content as a sequence of text events.",0
1166,Make some mouse processors ops optional,0.6240318,Add HID mouse support,"Send COPY and CUT on MOD+c and MOD+x (only supported for Android >= 7). The shortcuts Ctrl+c and Ctrl+x should generally also work (even before Android 7), but the active Android app may use them for other actions instead.",0
1167,Print version on stdout,0.89475393, - Print help to stdout (instead of stderr),"For convenience, MOD+x will be used for injecting the CUT keycode.",1
1168,Wrap device name and size in a struct,0.45617497,Resize to fit,"Now that every device clipboard change is automatically synchronized to the computer, the ""get clipboard"" request (bound to MOD+c) is useless.",0
1169,Merge pull request #1002 into dev,0.3994456, - Add server options to send raw H.264 video stream (#2971),"Do not explicitly set the clipboard text if it already contains the expected content. Even if copy-paste loops are avoided by the previous commit, this avoids to trigger a clipboard change on the computer-side. Refs #1580 link",0
1170,Group scrcpy options into a struct,0.6635517,scrcpy -w  # short option,Do not explicitly set the clipboard text if it already contains the expected content. This avoids possible copy-paste loops between the computer and the device.,0
1171,Fix static_assert() parameters,0.43162733, - Fix touch events parameters (#2125),"Pressing Ctrl+v on the device will typically paste the clipboard content. Before sending the key event, synchronize the computer clipboard to the device clipboard to allow seamless copy-paste.",0
1172,Swap paste shortcuts,0.74425936,New shortcuts,This allows to select text using Shift+(arrow keys). Fixes #942 link,1
1173,Update FAQ to mention HID keyboard,0.8639329,HID keyboard,"Now that the scrcpy shortcut modifier is Alt by default (and can be configured), forward Ctrl to the device. This allows to trigger Android shortcuts. Fixes #555 link",1
1174,Fix overflow in test,0.6566361, - Fix possible overflow on copy-paste (#2859),"Pressing Alt+c generates a text event containing ""c"", so ""c"" was sent to the device when --prefer-text was enabled. Ignore text events when the mod state matches a shortcut modifier.",0
1175,Reorder recorder functions,0.5512296, - Record asynchronously,"In addition to (left) Alt, also accept (left) Super. This is especially convenient for macOS users (Super is the Cmd key).",0
1176,Add line wrapper,0.5029409,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:","Add --shortcut-mod, and use Alt as default modifier. This paves the way to forward the Ctrl key to the device.",0
1177,Generate VERSION_NAME in build_without_gradle.sh,0.43368307, - Change the Windows build (cross-compile from Linux),"Remove the Cmd modifier on macOS, which was possible only for some shortcuts but not all. This paves the way to make the shortcut modifier customizable.",0
1178,Rename sendCodecId to sendCodecMeta,0.56959516,Advanced codec options,"The condition ""cmd"" was always before ""shift"" in all expressions except 4.",0
1179,Fix --serial help,0.79155916, - Various technical fixes,"When the client requests to set the clipboard, it may request to press the PASTE key in addition. To be a bit generic, it was stored as a flag in ControlMessage.java. But flags suggest that it represents a bitwise union. Use a simple boolean instead.",1
1180,Factorize SDL event push,0.48914933, - Fix touch events parameters (#2125),"Declaring the main method as ""int main(void)"" causes issues with SDL. Fixes #1209 link",0
1181,Downsize on error only before the first frame,0.66968393, - Reduce latency by 1 frame (#646),"To power the device on, inject KEYCODE_WAKEUP to avoid a possible race condition (the device might become off between the test isScreenOn() and the POWER keycode injection).",0
1182,Fix wrong package to install for Ubuntu/Debian,0.41465086," - Fix ""Could not find v4l2 muxer"" (#2718)",This avoids to let the device screen turned off (as enabled by Ctrl+o or --turn-screen-off). PR #1576 link Fixes #1572 link,0
1183,Indent command-line options,0.5483337,To enable this mode:,"In theory, this was expected to only happen when a touch event is sent just before the device is rotated, but some devices do not respect the encoding size, causing an unexpected mismatch. Refs #1518 link",0
1184,Fix size_t incorrectly assigned to int,0.49749574,Resize to fit,Refs #1518 link,0
1185,Handle errors using gotos in recorder_open(),0.42467457, - Fix segfault on empty file recorded (#918),Update the macOS section. PR #1559 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1186,Fix required java package for Fedora,0.48190987,ERROR:     --> fedcba09           (xxxx:xxxx)  OnePlus SM8150-MTP,,0
1187,Fix overflow in memcpy,0.64692014, - Fix possible overflow on copy-paste (#2859),Its implementation does not use the instance at all.,0
1188,Kill process with SIGKILL signal,0.52072203, - Terminate server properly without killing it on close (#1992),"Some devices have no clipboard manager. In that case, do not try to enable clipboard synchronization to avoid a crash. Fixes #1440 link Fixes #1556 link",0
1189,Make process_text() optional,0.47276562,"In verbose mode (scrcpy -Vverbose), all input events sent to the device are printed in the console (#2371). This can be useful for debugging.",PR #1549 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1190,Bump version to 1.15.1,0.81411123, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Touch events were HiDPI-scaled twice:  - once because the position (provided as floats between 0 and 1) were    converted in pixels using the drawable size (not the window size)  - once due to screen_convert_to_frame_coords() One possible fix could be to compute the position in pixels from the window size instead, but this would unnecessarily round the event position to the nearest window coordinates (instead of drawable coordinates). Instead, expose two separate functions to convert to frame coordinates from either window or drawable coordinates. Fixes #1536 link Refs #15 link Refs e40532a3761da8b3aef484f1d435ef5f50d94574",1
1191,Extract conversion from u16 fixed-point to float,0.37153268, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),PR #1543 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1192,Avoid unnecessary copy on config packets demuxing,0.597193, - Avoid additional buffer copy in userspace on the server,"Initialize ""repeat"" count on key events. PR #1519 link Refs #1013 link Signed-off-by: Romain Vimont rom@rom1v.com",0
1193,Pass AVCodecContext to packet sinks,0.5336559,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"The header scrcpy.h is intended to be the ""public"" API. It should not depend on other internal headers. Therefore, declare all required structs in this header and adapt internal code.",0
1194,Upgrade SDL (2.0.10) for Windows,0.9708139, - Upgrade SDL to 2.0.10 in Windows releases,It should never have been committed.,1
1195,Describe workaround to get output on Windows,0.5963175,Windows PATH simplification,PR #1502 link Fixes #1370 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1196,Replace SDL types by C99 standard types,0.49152592, - Upgrade SDL to 2.0.16 in Windows releases (#2589),PR #1523 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1197,Disable more actions if --no-control,0.66975963, - Prevent to turn screen off if no control (#608),"Now that the message max size is 256k, do not put the buffer on the stack.",0
1198,Rename process_simple_wait to process_wait,0.5126042," - Fix process execution (mainly) on Windows 7 (#2838, #2840)","Beyond 256k, SDL_GetClipboardText() returns an empty string on my computer. Fixes #1117 link",0
1199,Change PTS origin type from uint64_t to int64_t,0.381979," - Forward Ctrl and Shift to the device (#1598, #555, #942)","If a single device message was read in several chunks from the control socket, the communication was broken.",0
1200,Fix checkstyle warning,0.6697546, - Improve some error messages,This will allow to send text having a size greater than 65535 bytes.,0
1201,"Rename variable names ""event"" to ""msg""",0.410505, - Fix touch events parameters (#2125),For simplicity and consistency with the server part.,0
1202,Simplify SDL_assert() calls,0.46900088,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,Test clipboard synchronization from the device to the computer.,0
1203,Remove useless newlines in SDL_Log,0.5169275, - Do not expose internal SDL logs to users (#1441),"The meson test names had not been changed when ""event"" had been renamed to ""message"". Ref: 28980bbc90ab93cf61bdc4b36d2448b8cebbb7df",0
1204,Use static maps to convert input events,0.4481719,Log input events,Directly pass the buffer range to the String constructor.,0
1205,Point out that ninja must not be run as root,0.3619794,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,Make the max clipboard text length depend on the max message size.,0
1206,Update links to v1.11 in README and BUILD,0.49257186,"Copy-paste have been improved by previous releases, especially v1.15.",,0
1207,Replace Ctrl by Meta for volume shortcuts on MacOS,0.8395784, - Replace volume shortcuts on MacOS (#300),Fixes #1481 link PR #1482 link Signed-off-by: Louis Leseur louis.leseur@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
1208,Restore the .jar extension on the device side,0.8824847, - Restore the .jar extension on the device (fix crashes on some,Do not expose internal SDL logs to users. Fixes #1441 link,1
1209,Add two-step write feature to bytebuf,0.5053394, - Implement (optional) buffering (#2464),"The function must return a SDL_LogPriority, but returned an enum sc_log_level. (It was harmless because this specific return should never happen, as asserted.)",0
1210,Remove LOGC(),0.5064616, - Do not expose internal SDL logs to users (#1441),,0
1211,Improve file_handler readability,0.49927416, - Adapt --help output to terminal size,"Keeping the key pressed generate ""repeat"" events. It does not make sense to repeat the event for rotation or turn screen off.",0
1212,Add FAQ section about KWin crash,0.4343974," - Fix several crashes on some devices (like Meizu) (#240, #365, #921)","The ""stay awake"" feature only works when the device is plugged in. Refs #1445 link",0
1213,Bump version to 2.0,0.801214, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Now that Ctrl+Shift+o has been reactivated, mention it in the ""turn screen off"" section.",1
1214,Disable MethodLength checkstyle on createOptions(),0.46115896, - Implement (optional) buffering (#2464),,0
1215,Set device clipboard only if necessary,0.75376886, - Add device-to-computer clipboard copy (#145),,1
1216,Always retrieve device serial,0.5269153,   devices) (#944),"This reverts commit 8c8649cfcd710859ce18eab557ed2af8cedb9a42. I cannot reproduce the issue with Ctrl+Shift+o on any device, so in practice it works, it's too bad to remove the feature for a random bug on some Android versions on some devices.",0
1217,Add util function to get terminal size,0.76534796, - Adapt --help output to terminal size,"In practice, it does not change anything (it just avoids a spurious wake-up), but semantically, it makes no sense to call pushClipboardText() with a null value.",1
1218,Remove redundant control boolean,0.5086124, - Fix missing initialization that leaded to kill the whole process,Add a new line to avoid unwanted text justification,0
1219,Fix net_send_all() warning,0.52888745, - Improve some error messages,"Clean up has been broken by 3df63c579da7a35048458c6884f5f386154d2353. The verbosity was correctly initialized for the Server process, but not for the CleanUp process. To avoid the problem, initialize a default log level.",0
1220,Bump version to 1.9,0.78949594, - Bump version to 1.5 (as shown by scrcpy --version) (#332),Include the latest version of adb in Windows releases.,1
1221,Simplify file_handler,0.67983127,Windows PATH simplification,"Ctrl+Shift+v synchronizes the computer clipboard to the Android device clipboard. This feature had been added to provide a way to copy UTF-8 text from the computer to the device. To make such a paste more straightforward, if the device runs at least Android 7, also send a PASTE keycode to paste immediately. link Fixes #786 link",0
1222,Add method to log error without throwable,0.5057788, - Add --verbosity to configure log level at runtime,"The ""set clipboard"" event used the wrong union type to store its text. In practice, it worked because both are at the same offset.",0
1223,Stop stream immediately on quit,0.5795078, - Terminate server properly without killing it on close (#1992),"Only the main injection method was exposed on Device, the convenience methods were implemented in Controller. For consistency, move them all to the Device class.",0
1224,Print gradle output on compiling,0.5789787, - Print help to stdout (instead of stderr),"The Android device listens for clipboard changes to synchronize with the computer clipboard. However, if the change comes from scrcpy (for example via Ctrl+Shift+v), do not notify the change.",0
1225,Remove unused enum value requiring SDL 2.0.18,0.49370292, - Retry on spurious encoder error (#3693),"Some actions are exposed by the Device class, but logging success should be done by the caller.",0
1226,Add desktop entry file for Linux app launchers,0.71422803," - Add desktop entry files for Linux (#295, #296, #748, #1636, #3351)",Make lint happy.,1
1227,Add Android device and version in issue template,0.6825154," - Add support for Android 12 (#2129, #2402)","Since the field is not final anymore, lint expects the name not to be capitalized.",0
1228,Split server stop() and join(),0.6162125, - Terminate server properly without killing it on close (#1992),"Add a command-line option to force ""adb forward"", without attempting ""adb reverse"" first. This is especially useful for using SSH tunnels without enabling remote port forwarding.",0
1229,Extract String literal to static constant,0.23844236, - Add --stay-awake (#631),,0
1230,Do not use avformat network,0.4847046,Note that all ADB communications between the server and the client are unencrypted.,"The verbosity was set either to info (in release mode) or debug (in debug mode). Add a command-line argument to change it, so that users can enable debug logs using the release: scrcpy -Vdebug",0
1231,Use sc_ prefix for decoder,0.6591572,scrcpy -S,Send the requested log level from the client. This paves the way to configure it via a command-line argument.,0
1232,Add references to prerequisites,0.47499716, - Add --list-displays and --list-encoders,"The field lock_video_orientation may only take values between -1 and 3 (included). But the compiler may trigger a warning on the sprintf() call, because its type could represent values which could overflow the string (like ""-128""): warning: %i directive writing between 1 and 4 bytes into a region of size 3 [-Wformat-overflow=] Increase the buffer size to remove the warning.",0
1233,"Revert ""Inject WAKEUP instead of POWER""",0.81429666, - Inject POWER instead of WAKEUP on start (#1655),"Add a command-line parameter to pass custom options to the device encoder (as a comma-separated list of ""key[:type]=value""). The list of possible codec options is available in the Android documentation: link PR #1325 link Refs #1226 link Co-authored-by: Romain Vimont rom@rom1v.com",1
1234,Handle EAGAIN on send_packet in decoder,0.52090347,Encoder selection,Add a unit test to avoid regressions. Refs #1425 link,0
1235,Workaround PRIu64 on Windows,0.5566106, - Restore resizing workaround for Windows (#3640),"The buffer size must be greater than any event message. Clipboard events may take up to 4096 bytes, so increase the buffer size. Fixes #1425 link",0
1236,Allocate AVPacket for recorder,0.607833, - Support recording to MKV,Automatically synchronize the device clipboard to the computer any time it changes. This allows seamless copy-paste from Android to the computer. Fixes #1056 link PR #1423 link,0
1237,"Revert ""Make OTG window resizable""",0.66443324," - Apply requested window size in OTG mode (#3099, #3219)","The interface declares it can throw a RemoteException, but the implementation never throws such exception.",0
1238,Send touch event without pressure on button up,0.69673586, - Fix touch events parameters (#2125),Remove unnecessary private method (which was wrongly public).,0
1239,Record asynchronously,0.9914997, - Record asynchronously,Mipmapping caused too much blurring. Using a LOD bias of -1 instead of -0.5 seems a better compromise to avoid low-quality downscaling while keeping sharp edges in any case. Refs link Refs link,1
1240,Count repeated identical key events,0.89834225,Repeating key events,"Trilinear filtering can currently only be enabled for OpenGL renderers. Do not print a warning if the renderer is not OpenGL, as it can confuses users, while nothing is wrong.",1
1241,Simplify switch to TCPIP function,0.88196373,Simplify TCP/IP (wireless) configuration,"On macOS with renderer ""metal"", HiDPI scaling may be incorrect on initialization when several displays are connected. Resetting the window size fixes the problem. Refs #15 link",1
1242,Ignore keycodes generating unwanted events,0.771413," - Add option to ignore repeated key events (#1013, #1623)","Position and scale the content ""manually"" instead of relying on the renderer ""logical size"". This avoids possible rounding differences between the computed window size and the content size, causing one row or column of black pixels on the bottom or on the right. This also avoids HiDPI scale issues, by computing the scaling manually. This will also enable to draw items at their expected size on the screen (unscaled). Fixes #15 link",1
1243,Reorder server and server_params,0.53049946, - Terminate server properly without killing it on close (#1992),Extract the computation to detect whether the current size of the window is already optimal. This will allow to reuse it for rendering.,0
1244,Fix undefined left shift,0.5006361," - Fix ""buffer full"" error on Ctrl+Shift+v (#1425)","In maximized state (but not fullscreen), it was possible to resize to fit the device screen (with Ctrl+x or double-clicking on black borders). This caused problems on macOS with the ""expand to fullscreen"" feature, which behaves like a fullscreen mode but is seen as maximized by SDL. In that state, resizing to fit causes unexpected results. To keep the behavior consistent on all platforms, just disable ""resize to fit"" when the window is maximized.",0
1245,Move video_buffer to screen,0.6004323, - an option to lock the video orientation,"On Windows, in maximized+fullscreen state, disabling fullscreen mode unexpectedly triggers the ""restored"" then ""maximized"" events, leaving the window in a weird state (maximized according to the events, but not maximized visually). Moreover, apply_pending_resize() asserts that fullscreen is disabled. To avoid the issue, if fullscreen is set, just ignore the ""restored"" event.",0
1246,Add Fedora instructions in README,0.44062787, - Add option --no-control to mirror in read-only,"If the content size changes (due to rotation for example) while the window is maximized or fullscreen, the resize must be applied once fullscreen and maximized are disabled. The previous strategy consisted in storing the windowed size, computing the target size on rotation, and applying it on window restoration. But tracking the windowed size (while ignoring the non-windowed size) was tricky, due to unspecified order of SDL events (e.g. size changes can be notified before ""maximized"" events), race conditions when reading window flags, different behaviors on different platforms... To simplify the whole resize management, store the old content size (the frame size, possibly rotated) when it changes while the window is maximized or fullscreen, so that the new optimal size can be computed on window restoration.",0
1247,"Replace ""bit-rate"" with ""bit rate""",0.5576098,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"When the content size changes, either on frame size or client rotation changes, the window must be resized. Factorize for both cases.",0
1248,Forward FFmpeg logs,0.55196506, - Upgrade FFmpeg to 4.1.4 in Windows releases,,0
1249,Add manpage for scrcpy,0.76089287, - Add manpage,The handler function signature must include the calling convention declaration. Ref: link,1
1250,Add socket wrapper,0.50572944,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:",Mention that the README.md is the only one being up-to-date.,0
1251,Remove dead code about the deprecated -F option,0.6220922,Remove deprecated short options,Signed-off-by: Romain Vimont rom@rom1v.com,0
1252,Extract interruptible sleep for server,0.54328567, - Terminate server properly without killing it on close (#1992),"By default, Ctrl+C just kills the process on Windows. This caused corrupted video files on recording. Handle Ctrl+C properly to clean up properly. Fixes #818 link",0
1253,Improve FAQ,0.63842475, - Various technical refactors and fixes,"Scroll events were sent with a mouse input device. When scrolling on a list, this could cause the whole list to be focused, and drawn with the focus color as background. Send scroll events with a touchscreen input device instead (like motion events). Fixes #1362 link",0
1254,"Rename ""stop"" to ""interrupt""",0.43180606, - Fix quick interruption on Ctrl+c during server starting,Insert a code block to (hopefully) increase the chances that users format their terminal output.,0
1255,Move local variables declarations,0.43278086,"On Windows, setting an environment variable is slightly different:",Secondary display mirroring is read-only before Android 10.,0
1256,Fix adb connect parsing,0.61567867," - Fix adb server hang due to signal masking (#2870, #2873)","This reverts commit 92cb3a666109b67598cd36b9c0088fb697abbd23, which broke the fullscreen/maximized restoration size on Windows. Fixes #1346 link",0
1257,Fix feature test macro,0.56054074, - Various technical refactors and fixes,Commit 927d655ff66fa439ccd27e054ae6d54a651640cc removed the iFrameInternal field and constructor argument. Also remove it from createFormat() arguments.,0
1258,Add --verbosity=verbose log level,0.74395764, - Add --verbosity to configure log level at runtime,Add an option to prevent the device to sleep: scrcpy --stay-awake scrcpy -w The initial state is restored on exit. Fixes #631 link,1
1259,Merge pull request #967 into dev,0.3979532, - Apply workarounds only on error (#994),,0
1260,Add option to disable clipboard autosync,0.8332352," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)","Now that the server can access the Android settings and clean up properly, handle the ""show touches"" option from the server. The initial state is now correctly restored, even on device disconnection.",1
1261,Use PACKAGE_NAME from FakeContext,0.41136044,scrcpy --tcpip    # without arguments,"PACKAGE_NAME and USER_ID could be use by several ""managers"", so move them to the service manager.",0
1262,Rename HEADER_SIZE to SC_PACKET_HEADER_SIZE,0.5882919,Resize to fit,"In order to clean up on close, use a separate process which is not killed when the device is disconnected (even if the main process itself is killed).",0
1263,Remove deprecated -c option,0.7414739, - Remove deprecated short options -T and -c,"Expose methods to access the Android settings using private APIs. This allows to read and write settings values immediately without starting a new process to call ""settings"".",1
1264,Enable linear filtering in OTG mode,0.6926358,OTG mode,"To avoid NullPointerException on some devices, workarounds have been implemented. But these workaround produce (harmless) internal errors causing exceptions to be printed in the console. To avoid this problem, apply the workarounds only if it fails without them. Fixes #994 link Refs #365 link Refs #940 link",0
1265,Record a packet with its duration,0.5504904, - Record asynchronously,PR #1344 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1266,Interrupt device threads on stop,0.5501738," - Fix possible session crash on close (#52, #182)",,0
1267,Update error messages in FAQ,0.7458786, - Improve some error messages,,1
1268,Register rotation watcher on selected display,0.75992596,Display rotation,Include the latest version of SDL in Windows releases.,1
1269,Update links to v1.12 in README and BUILD,0.50220835, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Include the latest version of FFmpeg in Windows releases.,0
1270,Add compilation flag for V4L2 feature,0.5743758," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)",,0
1271,prepare-dep: use variable for better readability,0.39200008," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",,0
1272,Add an option to keep the device awake,0.7793082,A new option has been added to prevent the device to sleep:,"The window dimensions are integers, so resizing to fit the content may not be exact. When computing the optimal size, it could cause to reduce alternatively the width and height by few pixels, making the ""optimal size"" unstable. To avoid this problem, check if the optimal size is already correct either by keeping the width or the height.",1
1273,Introduce adb device selector,0.7441633,DEBUG: ADB device found:,"Call the same method as when the event is received on the event loop, so that the behavior is the same in both cases.",1
1274,Handle locked video orientation from ScreenInfo,0.8782097, - an option to lock the video orientation,"Ubuntu 20.04 has been released today, and scrcpy is available in their repositories: link",1
1275,Mention sndcpy,0.7375268,scrcpy -S,Move the window-to-frame coordinates conversion from the input manager to the screen. This will allow to apply more screen-related transformations without impacting the input manager.,1
1276,Update release checksums in README,0.5050777,"To receive a notification on new releases, click on Watch > Custom > Releases on the top.","On ""resize to fit"" and ""resize to pixel-perfect"", log the new size.",0
1277,Remove duplicate boolean,0.4530174,Remove deprecated short options,"Replace ""video/avc"" by MIMETYPE_VIDEO_AVC. Signed-off-by: Romain Vimont rom@rom1v.com",0
1278,Do not quit on cleanup configuration failure,0.5760914," - Add --no-cleanup option (#1764, #3020)",The touch coordinates were not rotated.,0
1279,"Rename test names from ""event"" to ""msg""",0.36319867, - Fix touch events parameters (#2125),"Disable input events on secondary displays before Android 10, even if FLAG_PRESENTATION is not set. Refs #1288 link",0
1280,Fix typo in DEVELOP.md,0.49006593, - Improve some error messages,,0
1281,Reference encoder section from FAQ,0.6370313,Encoder selection,Add an option to disable trilinear filtering even if mipmapping is available.,0
1282,Rename -n/--no-window to -N/--no-display,0.57100964, - Make --turn-screen-off work even if --no-display (#2426),Improve downscaling quality if mipmapping is available. Suggested-by: Giumo Clanjor (/) cjxgm2@gmail.com Fixes #40 link Ref: link,0
1283,Explicitly initialize decoder sink_count,0.4813606,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,Add an option to set a render driver hint (SDL_HINT_RENDER_DRIVER).,0
1284,Update links to v1.16 in README and BUILD,0.55827457,"Pasting (e.g. via Ctrl+v) was broken in some cases (#1658). The fix would have required a new hotfix version (v1.15.2), but since pinch-to-zoom is ready, just go for v1.16 right now.",,0
1285,Allocate extradata with av_malloc(),0.36920744, - Avoid additional buffer copy in userspace on the server,"Debian buster (stable) provides Meson 0.49, which is also available in stretch (oldstable) backports. It's time to abandon Meson 0.37. Ref: 20b3f101a40cd7455cc5b41e381291504deec5ba",0
1286,Require Meson 0.37,0.36252013," - Fix ""Could not find v4l2 muxer"" (#2718)","To avoid confusion with the max text size for clipboard, rename the constant limiting the text injection length.",0
1287,Add missing return on file_handler failure,0.55342984, - Fix segfault on empty file recorded (#918),Some compilers warns on uninitialized value in impossible case: warning: variable 'result' is used uninitialized whenever switch default is taken [-Wsometimes-uninitialized],0
1288,"Remove ""get clipboard"" call",0.7138817, - Fix clipboard paste (#1658),Include  for strdup() and strtok_r().,1
1289,Use delay buffer as a frame source/sink,0.6945672,Buffering,"The expression port + 1 is promoted to int, but printed as uint16_t.",0
1290,"Revert ""Upgrade platform-tools (32.0.0) for Windows""",0.8360552, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),"Do not handle iFrameInterval field and parameter, it is never used dynamically.",1
1291,Disable synthetic mouse events from touch events,0.7310147," - Correctly handle mouse events outside device screen (#353, #357)","During PR #1151, this field has been moved to ScreenInfo, but has not been removed from ScreenEncoder.",1
1292,Expose function to test if a serial is TCP/IP,0.5395181, - Make it work over tcpip (#5),,0
1293,Reverse horizontal scrolling behavior,0.96305954, - Reverse horizontal scrolling behavior (#49),,1
1294,Store rotated content size,0.551764,Display rotation,A double-click outside the device content (in the black borders) resizes so that black borders are removed. But the display rotation was not taken into account to detect the content. Use the content size instead of the frame size to fix the issue. Ref: link,0
1295,Add missing include  for memmove(),0.4785294, - Add manpage,"If the display is rotated, the position of clicks must be adapted.",0
1296,Remove useless exception declaration,0.4904138, - Avoid empty arguments not correctly handled on some devices (#337),This avoids to compute it every time from the frame size.,0
1297,Add unit tests for control events serialization,0.51820093,Serial auto-completion,PR #1275 link Signed-off-by: Kostiantyn Luzan vblack2006@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1298,Remove unused stream.h,0.43444887,Remove deprecated short options,,0
1299,Add thread priority API,0.53824973,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","Many options are meaningless if --no-display is set. We don't want to validate all possible combinations, so don't make an exception for --fullscreen.",0
1300,Extract control event string serialization,0.58479977,Serial auto-completion,Make --lock-video-orientation documentation consistent with that of --rotation.,0
1301,Fix cleanup order,0.56299967," - Add --no-cleanup option (#1764, #3020)","In addition to Ctrl+Left and Ctrl+Right shortcuts, add a command-line parameter to set the initial rotation.",0
1302,Record at least video packets on stop,0.5766864,"It was possible to log the capture framerate in the console (printed every second), by pressing MOD+i in the scrcpy window. It was broken in v1.22 (nobody reported it, so it's probably not widely used), it's fixed now.","Add Ctrl+Left and Ctrl+Right shortcuts to rotate the display (the content of the scrcpy window). Contrary to --lock-video-orientation, the rotation has no impact on recording, and can be changed dynamically (and immediately). Fixes #218 link",0
1303,Do not init SDL video subsystem if no display,0.6803727,scrcpy --v4l2-sink=/dev/video1 --no-display,"For consistency, start the descriptions with a capital letter.",0
1304,Rename adb_command to adb_executable,0.49924397, - Add --force-adb-forward,Mention that it works with a matching client version.,0
1305,Terminate loop explicitly on interrupted,0.49083355, - Fix missing initialization that leaded to kill the whole process,People may not guess that master is not the development branch.,0
1306,Use size_t for command length,0.5851462, - Adapt --help output to terminal size,,0
1307,Add missing SC_ prefix to header guards,0.5650135,scrcpy -S,,0
1308,Add option to force legacy method for pasting,0.7267618," - Add --legacy-paste option (#1750, #1771)",Closes #1157 link,1
1309,"Remove ""make"" from build dependencies",0.4337957, - Change the Windows build (cross-compile from Linux),People following default build instructions can be caught off guard by seeing the build artifacts in the git tree. Signed-off-by: Harsh Shandilya me@msfjarvis.dev Signed-off-by: Romain Vimont rom@rom1v.com,0
1310,Fix inverted check,0.5229131, - Fix double-click events (#97),Signed-off-by: Harsh Shandilya me@msfjarvis.dev Signed-off-by: Romain Vimont rom@rom1v.com -- Note from committer: The binary gradle/wrapper/gradle-wrapper.jar has the expected SHA-256 checksum: $ curl -L link 1cef53de8dc192036e7b0cc47584449b0cf570a00d560bfaa6c9eabe06e1fc06 All the changed files match an upgrade executed independently: link,0
1311,Rename scrcpy threads,0.6747214,scrcpy v1.11,Signed-off-by: Harsh Shandilya me@msfjarvis.dev,0
1312,Remove deprecated meson.source_root(),0.3525792,scrcpy v1.5-fixversion,There is no reason to use SDL atomics.,0
1313,Improve linguistic,0.352258,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","If calling the private API does not work, an exception is printed. In that case, do not log that the action succeeded.",0
1314,Remove duplicate include,0.4688447,Optionally disable seamless copy-paste,"If the server is already dead, terminating it fails. This is expected.",0
1315,Do not use return code for thread run function,0.45946473,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The server may die before connecting to the client. In that case, the client was blocked indefinitely (until Ctrl+C) on accept(). To avoid the problem, close the server socket once the server process is dead.",0
1316,Reduce latency by 1 frame,0.9211597, - Reduce latency by 1 frame (#646),Create a thread just to wait for the server process exit. This paves the way to simply wake up a blocking accept() in a portable way.,1
1317,Add libusb error log,0.51550984,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).",This avoids cleanup duplication.,0
1318,Customize shortcut modifier,0.97938025,Customizable shortcut modifier,Add --display command line parameter to specify a display id. PR #1238 link Signed-off-by: Romain Vimont rom@rom1v.com,1
1319,Expose sync mode for injecting events,0.5894295, - Record asynchronously,"There are a lot of ""magic numbers"" that we really don't want to extract as a constant. Until now, many @SuppressWarnings annotations were added, but it makes no sense to check for magic number if we silent the warnings everywhere.",0
1320,Remove empty line,0.5604013,Remove deprecated short options,,0
1321,Build adb argv statically,0.5309131, - Add --force-adb-forward,"In C11, static_assert() expects a message.",0
1322,Register uncaught exception handler,0.53546816, - Fix possible BufferUnderflowException on touch event (#1245),It seems to work on some window managers. Fixes #1242 link,0
1323,Fix size_t format specifier for Windows,0.6454809," - Apply requested window size in OTG mode (#3099, #3219)",This will avoid regressions for #1245. link,0
1324,Extract command argv building,0.31207126," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","The expected length for a touch event control message was incorrect. As a consequence, a BufferUnderflowException could occur. Fixes #1245 link",0
1325,Add container_of() macro,0.43987763,Customizable shortcut modifier,It has not been removed when mouse and touch events have been merged.,0
1326,Increase delay to inject HID on Ctrl+v,0.6264372,HID keyboard and Ctrl+v,PR #1224 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1327,Do not expose controller threads,0.53324527, - Do not expose internal SDL logs to users (#1441),,0
1328,Add --list-encoders,0.9266591, - Add --list-displays and --list-encoders,,1
1329,Rename 'uid' to 'scid',0.3313488,"This version introduces a new official icon (designed by @varlesh, author of the papirus icon theme):",Add a compilation flag to select the debugger method to use:  - old: Android < 9  - new: Android >= 9 See link,0
1330,Remove link to Windows 32 bits release,0.6581929," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",PR #1188 link Fixes #1048 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1331,Upgrade FFmpeg (4.1.3) for Windows,0.9810462, - Upgrade FFmpeg to 4.1.3 in Windows releases,PR #1202 link Signed-off-by: Romain Vimont rom@rom1v.com,1
1332,Remove unnecessary escape characters in manpage,0.5753555,Remove deprecated short options,,0
1333,Remember Device parameters,0.6086977," - Improve device selection (list devices, -d, -e) (#3005)",Centralize video size management in ScreenInfo. This allows to always send the correct initial video size to the client if the video orientation is locked.,0
1334,"Remove ""turn device screen on"" feature",0.8797431,Turn device screen off,This paves the way to reduce confusion in ScreenInfo when it will handle locked video orientation.,1
1335,Detect Windows using _WIN32 in network util,0.56554896, - Workaround Windows issue with non-ASCII path (#2619),Screen information was partially initialized from Device. Move this initialization to ScreenInfo.,0
1336,Add instructions to install Java 8 on macOS,0.5712725,macOS shortcuts,,0
1337,Extract DEBUG flag in build_without_gradle.sh,0.44211307,DEBUG:           (usb)  05f5e60a0ae518e5          unauthorized,"Binaries created with MinGW (even a simple Hello World) are detected as malware by some anti-virus. For some reason, only the 32 bits version of scrcpy is impacted. Since users should use the 64 bits version by default anyway, remove the link to the 32 bits version from the main page. The 32 bits release is still available in the ""releases"" tab. See link",0
1338,Initialize fields before starting a thread,0.4780869, - Fix missing initialization that leaded to kill the whole process,Signed-off-by: Romain Vimont rom@rom1v.com,0
1339,Make request_queue functions static,0.35796034, - Fix possible BufferUnderflowException on touch event (#1245),PR #1151 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1340,"Add missing include ""common.h""",0.4008364," - Add --no-cleanup option (#1764, #3020)","The method getScreenInfo() is synchronized, and the result may change between calls. Call it once and store the result in a local variable.",0
1341,Use MediaFormat constant for MIME type,0.5342469, - Add --codec-options to pass MediaFormat options directly (#1325),,0
1342,Avoid PRIx16 printf format on Windows,0.5372578, - Print help to stdout (instead of stderr),Anisotropic filtering makes no sense for scrcpy use case. This (semantically) reverts 9e328ef98b0fc730036aa389f33649a31737d0e3.,0
1343,Disable audio on initialization error,0.5424714," - Fix mp4 headers produced by recording (#351, #416)",PR #1151 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1344,Rename max length constant for text injection,0.5415373,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,PR #1144 link Signed-off-by: Romain Vimont rom@rom1v.com,0
1345,Document APK drag & drop,0.7440475, - Add feature to install APK files via drag & drop (#133),,1
1346,Add icon source in SVG format,0.568593," - Add official high-resolution icon (#1497, #1987)",,0
1347,Disable stdout/stderr buffering on Windows,0.55979526, - Print help to stdout (instead of stderr),,0
1348,Optionally do not delay the first frame,0.6189556, - Add runtime option to render expired frames (i.e. not skip frames),"Some workarounds are needed on some devices. But applying them may cause exceptions on other devices, where they are not necessary anyway. Do not report these errors in release builds. Closes #994 link",0
1349,Use a streamer to send the audio stream,0.61289567,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,"Accept a range of ports to listen to, so that it does not fail if another instance of scrcpy is currently starting. The range can be passed via the command line: scrcpy -p 27183:27186 scrcpy -p 27183  # implicitly 27183:27183, as before The default is 27183:27199. Closes #951 link",0
1350,Expose device serial as an optional argument,0.6137723, - Avoid empty arguments not correctly handled on some devices (#337),This will help parsing arguments like '1234:5678' into a list of integers.,0
1351,Ignore display bounds on resize-to-fit,0.69272745,"When the scrcpy window is resized, black borders may be added to preserve the aspect ratio of the device screen. It is possible to automatically resize the window to remove them (MOD+w or double click).","Start the server socket in enable_tunnel() directly. For the caller point of view, enabling the tunnel opens a port (either the server socket locally or the ""adb forward"" process).",0
1352,Use sc_ prefix for server,0.6453775,scrcpy -S,Move functions so that they can be called from enable_tunnel() (in the following commit).,0
1353,Update installed files list in BUILD documentation,0.5231387, - Update platform-tools to 28.0.1 (adb) included in Windows releases,,0
1354,Simplify screen initialization,0.6517248,Screen off workarounds,KEY_MAX_FPS_TO_ENCODER existed privately before Android 10: link,0
1355,Pause on error from a wrapper script,0.74189425, - scrcpy-console.bat is a simple wrapper script to pause on error,"The platform-specific code for net.c was implemented in sys/*/net.c. But the differences are quite limited, so use ifdef-blocks in the single net.c instead.",1
1356,Forward DOWN and UP separately for middle-click,0.87218153,Forward right-click and middle-click,Fix utf-8 char path in windows link,1
1357,Remove unreachable return statements,0.48334792,Remove deprecated short options,Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1358,Fix warnings on Windows,0.63608235, - Print correct error messages on Windows socket errors (#2624),"The file 'E:\\scrcpy-win64-v1.12.1-1-g31bd950\scrcpy-server' exists, however, it will show msg as follow: INFO: scrcpy 1.12.1 <link stat: No such file or directory ERROR: 'E:\\scrcpy-win64-v1.12.1-1-g31bd950\scrcpy-server' does not exist or is not a regular file Press any key to continue... This patch fixes it. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com",0
1359,Remove deprecated option --render-expired-frames,0.8902263, - Remove option --render-expired-frames (#2268),"The function get_server_path() sometimes returned an owned string, sometimes a non-owned string. Always return an allocated (owned) string, and free it after usage.",1
1360,"Rename ""convert.h"" to ""event_converter.h""",0.37747425,"This version introduces a new option (--raw-key-events, #2831), which always injects key events and ignores all text events.",,0
1361,Update links to v1.15.1 in README and BUILD,0.51177335,"Copy-paste have been improved by previous releases, especially v1.15.",,0
1362,Do not print usage on command error,0.66796076, - ~Do not print irrelevant workarounds errors (#994)~,"A proper solution could be to use ""long long"" instead (guaranteed to be at least 64 bits), but it adds its own problems (e.g. ""%lld"" is not supported as a printf format on all platforms). In practice, we don't need such high values, so keep it simple. Fixes #995 link",0
1363,Require libavformat >= 57.33,0.51467186," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",,0
1364,Use sc_ prefix for recorder,0.65315586,scrcpy -S,,0
1365,Remove libusb_device field,0.5156052,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).","Assertions would not be executed. And as a side effect, it causes ""unused variable"" warnings.",0
1366,Upgrade platform-tools (30.0.0) for Windows,0.90353453, - Upgrade platform-tools to 30.0.5 (adb) in Windows releases,"Each test defines its own main() function. If this flag is not set, then SDL redefines it to SDL_main(), causing compilation failures.",1
1367,Fix help for --window-width and --window-height,0.75734055, - Center the window on resize-to-fit (#2387),,1
1368,Document installation via winget on Windows,0.5146295," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)",,0
1369,Extract control event parsing to separate methods,0.44141942," - Add option to ignore repeated key events (#1013, #1623)",,0
1370,Upgrade Android SDK to 31,0.64177763,Improve Android 12 support,"The log priority must be configured before parsing command-line arguments, in order to get logs as expected.",0
1371,Create OTG window with HIGHDPI flag,0.6978429," - Apply requested window size in OTG mode (#3099, #3219)",String parsing functions should not be able to modify their input.,0
1372,Remove intermediate static functions from adb.c,0.46536514, - Remove deprecated short options -T and -c,,0
1373,Refactor server tunnel initialization,0.66053843,Configure tunneling,,0
1374,Separate process wait and close,0.543023,"By default, running scrcpy.exe opens a new console, which is closed as soon as the process terminates. To let the user a chance to read any error message, a ""pause"" was implemented on error, but this caused issues for scripting (#1875).",,0
1375,Move fps counter out of video buffer,0.6313013," - if nothing changes on your screen, then the capture framerate will be 0 fps.","Add util functions for integer parsing (with tests), and factorize integer argument parsing to avoid code duplication.",0
1376,Upgrade FFmpeg (5.1.2) for Windows 64-bit,0.9776244, - Upgrade FFmpeg to 5.1.2 in Windows 64-bit releases,"If SCRCPY_SERVER_PATH points to a directory, then a directory will be pushed to /data/local/tmp/scrcpy-server.jar. When executing it, app_process will just abort and leave the directory on the device, causing scrcpy to always fail. To avoid the problem, check that the server is a regular file before pushing it. Closes #956 link",1
1377,Pass buttons state in scroll events,0.5826233,Fix natural scrolling,Including SDL2/SDL.h redefines main to SDL_main by default.,0
1378,Merge pull request #411 from npes87184/master,0.42689922," - Add specific exit code for device disconnection (#3083, #3085)",,0
1379,List available encoders on invalid name specified,0.7079129,Encoder selection,"On Ctrl+r, disable auto-rotation (if enabled), set the screen rotation and re-enable auto-rotation (if it was enabled). Closes #11 link",1
1380,Remove unused import,0.42279124,Remove deprecated short options,"Internally, a failure to invoke a method via reflection was partially managed using exceptions, partially using a null return value. Handle all errors at the same place, by not catching NoSuchMethodException too early.",0
1381,Generalize string trunctation util function,0.43950188," - Enable trilinear filtering when possible (#40, #1284)",Use the legacy methods when the new ones do not exist.,0
1382,Reorder --tcpip option in cli,0.61292756, - Make it work over tcpip (#5),Add some tests link,0
1383,Handle im-related events from input_manager.c,0.5958387,Log input events,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1384,Mention stay awake limitation,0.7179286,Stay awake,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,1
1385,Add missing includes in compat implementation,0.44468653,Advanced codec options,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1386,"Rename ""shake"" to ""menu""",0.4634139,Menu shortcuts,"Movements down (scroll backward) generate negative y values and up (scroll forward) generate positive y values. If direction is SDL_MOUSEWHEEL_FLIPPED the values in x and y will be opposite. Multiply by -1 to change them back. link The x and y values already take the scrolling configuration into account. Reversing the values when the direction is flipped cancels the scrolling configuration. Therefore, just ignore the direction field. Fixes link",0
1387,Wrap tick API,0.4537865," - Fix touch events HiDPI-scaling (#1536, #15)",PR link Signed-off-by: Romain Vimont rom@rom1v.com,0
1388,Update Readme.pt-br.md to v1.19,0.47189543, - Bump version to 1.5 (as shown by scrcpy --version) (#332),Suggested-by: jurkov Closes link,0
1389,Reorganize features in README,0.48098528, - Add option --no-control to mirror in read-only,"When the hardware encoder is not able to encode at the given definition, it fails with an error 0xfffffc0e. It is documented in the FAQ: link But it is better to directly suggest the workaround in the console.",0
1390,Properly clean up on exit,0.45594943, - Workaround screen off/on issue on exit (#1670),Inject mouse events using id -1 (virtual device) instead of 0 which does not exist (and causes the InputDevice to be null). Fixes link,0
1391,Log scrcpy version and URL on start,0.66862434,scrcpy v1.11,"Mutex functions may only fail due to a programming error. Use assertions in debug builds, and ignore the value in release builds.",0
1392,Close process on check success,0.4370709,Screen off improvements,No mutex is used in decoder.c and stream.c.,0
1393,Update platform-tools (29.0.1) for Windows,0.87435985, - Upgrade platform-tools to 29.0.1 (adb) in Windows releases,SDL_assert() open a dialog on assertion failure. There is no reason not to use assert() directly.,1
1394,"removed ""$"" and changed Mac OS ---> MacOS",0.6538655, - Replace volume shortcuts on MacOS (#300),"Use the ""standard"" NDEBUG definition, which is used by assert().",0
1395,Add missing include,0.51166576, - Add --list-displays and --list-encoders,It is always equal to argv[0] (or not used on Windows).,0
1396,Add FPS counter,0.9169285,FPS counter,fix warnings reported with -Dwarning_level=2 on Windows.,1
1397,Make step more explicit in wireless section,0.48214328, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),"Utilities have been moved to util/, but includes had not been updated in Windows-specific files. Ref: dfd0707a2925e9569aaa2ae6b88b161a12376a49",0
1398,Cleanup old code comment,0.5496172," - Add --no-cleanup option (#1764, #3020)",,0
1399,Add a note to allow simulating input in README,0.57061344,An option --prefer-text allows to inject text events even for letters and space (see text injection preference).,,0
1400,Fix double-free on error,0.5624168, - Fix double-click events (#97),Fix warnings reported with -Dwarning_level=2.,0
1401,Factorize Windows command building,0.5304025, - Restore resizing workaround for Windows (#3640),Reformated by Android studio to match the 150 characters column defined in checkstyle.,0
1402,Move misplaced break statements,0.4271443, - Remove deprecated short options -T and -c,"When an ApplicationInfo is set (commit 90293240cc622bb58cb1de741f86cbc0889c03e8), some devices (Nvidia Shield TV) attempt to access the Application object, causing a NullPointerException. As a workaround, initialize an Application object. Fixes link",0
1403,"Revert ""Remove continuous resizing workaround for Windows""",0.8792466, - Restore resizing workaround for Windows (#3640),"Use suffix ""Field"" for fields variables.",1
1404,Notify end-of-stream via callback,0.50559217," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)",,0
1405,Expose mutex assertions,0.39578933,Buffering,PR link Signed-off-by: Romain Vimont rom@rom1v.com,0
1406,"Assert ""adb disconnect"" is called with an argument",0.47269654,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"Commit 3da95b52bd21ae0f4d81ee933caea63b78191deb renamed 'scrcpy-server.jar' to 'scrcpy-server' to avoid issues on the client side. However, removing the extension may cause issues with app_process, so restore the extension only on the device side. Fixes link",0
1407,Do not block on accept() if server died,0.66060644, - Terminate server properly without killing it on close (#1992),,0
1408,Extract ANDROID_JAR path in build script,0.4513683, - Find scrcpy-server.jar in the correct directory on Windows,Debian's aidl complains about the missing path for -o option. Signed-off-by: Romain Vimont rom@rom1v.com,0
1409,Add a unit test for clipboard text length,0.6015421, - Increase clipboard size from 4k to 256k (#1117),,0
1410,Add missing error log,0.6048862, - Improve some error messages,,0
1411,Accept --max-fps before Android 10,0.95288515, - Accept --max-fps before Android 10 (#488),Include the latest version of adb in Windows releases.,1
1412,Remove obsolete explanation in FAQ,0.49476832,Remove deprecated short options,Include the latest version of FFmpeg in Windows releases.,0
1413,Rename --v4l2_sink to --v4l2-sink,0.52158403,"It also simplifies V4L2 usage, which does not support video dimension changes.",Ref: ff061b4f30c54dedc5073a588c6c697477b805db,0
1414,Remove spurious space,0.52054405,Remove deprecated short options,"The default value is 0 (automatic), not -1.",0
1415,Remove useless casts to (void *),0.5098139, - Remove deprecated short options -T and -c,,0
1416,Keep screen info in cache,0.55655533, - Keep screensaver enabled while scrcpy is running (#380),,0
1417,Show a friendly hint for adb installation,0.60654914,DEBUG: ADB device found:,,0
1418,Use sc_ prefix for sockets,0.60662013,scrcpy -S,Fill AppInfo to avoid NullPointerException on some devices. Fixes link Signed-off-by: Romain Vimont rom@rom1v.com,0
1419,Include dependencies version,0.5255693, - Print both compiled and linked version of libs on --version,Extract workarounds (currently only one) to a separate class to avoid polluting the main code.,0
1420,Expose recorder as packet sink,0.5811373,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The linker flag ""-mwindows"" has no effect on my current MinGW. Instead, passing ""-Wl,--subsystem,windows"" works. Fixes link",0
1421,Update FFmpeg (4.0.2) for Windows,0.9775772, - Update FFmpeg to 4.0.2 included in Windows releases,PR link Signed-off-by: Romain Vimont rom@rom1v.com,1
1422,Use Java lambdas where possible,0.3042186, - Print both compiled and linked version of libs on --version,,0
1423,Recover if expand/collapse panels is not available,0.81278765, - Do not crash if expanding/collapsing panels is not supported (#506),"Since commit b963a3b9d56f744cceba2e19cba3f9fef858c058, the server uses BuildConfig.VERSION_NAME. Generate this field manually for building without gradle.",1
1424,Improve key processing readability,0.54641944," - Correctly inject repeating keycodes (#1013, #1519)",Add an option to limit the capture frame rate. It only works for devices with Android >= 10. Fixes link,0
1425,Refactor wrappers for Android SDK classes,0.5854541, - Adapt copy-paste internals for Android 13 (#3497),"The KEY_FRAME_RATE parameter value is necessary for the configuration of the encoder, but its actual value does not impact the frame rate (only resources used by the encoder). Therefore, it's an internal detail and should not be exposed by the ScreenEncoder class.",0
1426,Make owned filename a pointer-to-non-const,0.39934564, - Avoid additional buffer copy in userspace on the server,,0
1427,Move common instruction out of ifdef,0.44284457,Remove deprecated short options,,0
1428,Reference FAQ from HID/OTG documentation,0.69628155,HID/OTG on all platforms,Add --window-borderless parameter. Signed-off-by: Romain Vimont rom@rom1v.com,0
1429,"Simplify PASTE option for ""set clipboard""",0.66109556, - Fix clipboard paste (#1658),"Add --window-width and --window-height parameters. If only one is provided, the other is computed so that the aspect ratio is preserved.",0
1430,Include source root directory,0.4348718, - Find scrcpy-server.jar in the correct directory on Windows,,0
1431,Rename unused field,0.3718569, - Remove option --render-expired-frames (#2268),Add --window-x and --window-y parameters. Signed-off-by: Romain Vimont rom@rom1v.com,0
1432,Use scrcpy input events for mouse processors,0.6520594,"scrcpy is a command line application, and is configured with command line arguments.",Configuration packets have no PTS. Do not compute a packet duration from their PTS. Fixes recording to mp4 on device rotation.,0
1433,Stabilize auto-resize,0.63890684,Resize to fit,Compare server and client version at the start of scrcpy,0
1434,Use separate struct for input manager params,0.44469056, - Print help to stdout (instead of stderr),Send client version as first parameter and check it at server start. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1435,Do not minimize on focus loss,0.7602559, - Do not minimize the window on focus loss (#554),"Allow ""resize to fit"" and ""resize to pixel-perfect"" on maximized window: restore the window to normal size then resize.",1
1436,Require SDL >= 2.0.5,0.7040061, - Upgrade SDL to 2.26.1 in Windows releases,Keep the windowed window size to handle maximized window the same way as fullscreen window. Fixes link,1
1437,Move log message helpers to LogUtils,0.62110996, - Add --verbosity to configure log level at runtime,Only the screen knows what to do on window events. This paves the way to handle more window events.,0
1438,Update links to v1.7 in README and BUILD,0.52355814, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"If scrcpy closes due to socket disconnection, log a warning.",0
1439,Fix switch/case code style,0.5002527,Advanced codec options,"Some devices internally create a Handler when creating an input Surface, causing an exception: Surface: java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare() As a workaround, call Looper.prepareMainLooper() beforehand. Fixes:  - link  - link Signed-off-by: Romain Vimont rom@rom1v.com",0
1440,Use --cask for latest versions of brew,0.3844068, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Write the file trailer only if the file header have been written, to avoid a segfault in libav. Fixes link.",0
1441,Support AVStream.codec for old FFmpeg versions,0.6588181, - Update FFmpeg to 4.1 included in Windows releases,"Expose an option to configure how key/text events are forwarded to the Android device. Enabling the option avoids issues when combining multiple keys to enter special characters, but breaks the expected behavior of alpha keys in games (typically WASD). Fixes link",0
1442,Simplify size changes in fullscreen or maximized,0.6664444,"When the scrcpy window is resized, black borders may be added to preserve the aspect ratio of the device screen. It is possible to automatically resize the window to remove them (MOD+w or double click).",The short options will be removed in the future (and may be reused for other features).,0
1443,Add option to start in fullscreen,0.87342596, - Add command-line option to start in fullscreen (#252),,1
1444,Update Simplified Chinese README to 1.20,0.4396714," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",,0
1445,Fix build with ffmpeg 5.0,0.7910888, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,Do not duplicate all scrcpy options fields in the structure storing the parsed command-line arguments.,1
1446,Ignore duplicate mouse events,0.7680254, - Fix mouse events deserialization (comment in #350),"Mouse events coordinates depend on the screen size and location, so the converter need to access the screen. The fact that it needs the position or the size is an internal detail, so pass a pointer to the whole screen structure.",1
1447,Simplify portable build configuration,0.5507257,Simplify TCP/IP (wireless) configuration,Only keep helper functions separated. This will help to convert coordinates internally when necessary.,0
1448,Enforce deadline reached on timeout,0.43815407,Reduced latency,"It is used a lot, a short name improves readability.",0
1449,Rename ScrCpyServer to Server,0.6779879,scrcpy v2.0,,0
1450,Fix demuxer error message,0.6693782, - Improve some error messages,The parameter for --window-title was not underlined the same way as others.,0
1451,Adapt call() on ContentProvider for Android 11,0.6083453, - Adapt copy-paste internals for Android 13 (#3497),,0
1452,Refactor device configuration,0.6880295, - Various technical refactors and fixes,"In build instructions, use: ninja -Cx ... instead of: cd x ninja ...",0
1453,Split command into process and adb,0.45816234,"scrcpy -s   # auto-complete by the devices listed by ""adb devices""",It might help to understand problems in recorded videos.,0
1454,Cache managers in ServiceManager,0.42880836, - Avoid additional buffer copy in userspace on the server,Add manpage for scrcpy,0
1455,Rename stream to sc_demuxer,0.50793934,$ scrcpy -d,,0
1456,Expose function to get the device serial,0.54808813," - Add fallback to get display information on some devices (#3416, #3573)","The server name ending with .jar has several drawbacks:  - meson requires the jar executable to attempt to modify it:      link link  - meson warns during ""ninja install""      link  - some users try to execute it on the computer as a java executable Removing the extension solves all these problems.",0
1457,Destroy acksync immediately on error,0.5397536, - Fix missing initialization that leaded to kill the whole process,,0
1458,Avoid clipboard synchronization loop,0.7713803," - Add --no-clipboard-autosync to disable automatic clipboard synchronization (#2228, #2817, #2834)",Record format requires a parameter.,1
1459,Merge branch 'master' into dev,0.38692755, - Change the Windows build (cross-compile from Linux),Gradle versions may sometimes cause problems. This script offers an alternative.,0
1460,Fix AutoAdb url,0.5248291," - Improve error message on missing adb (#236, #254)",The conversion from SDL mouse state to Android mouse state used wrong constants as mask. Fixes link,0
1461,Fix expected message length for touch events,0.6918266, - Fix touch events parameters (#2125),"The buttons state was forwarded, but ignored by the server.",0
1462,Rename variable for consistency,0.36267266,Serial auto-completion,"Now, get_window_size() returns the current window size (fullscreen or not), while get_windowed_window_size() always returned the windowed size (the size when fullscreen is disabled).",0
1463,Merge pull request #522 from dos1/compositor,0.42767793, - Make it work over tcpip (#5),"Call getInternalDisplayToken(), which retrieve the id of the first physical display (which is not necessarily 0 anymore). Fixes link",0
1464,Simplify ScreenEncoder,0.647008,Screen off workarounds,The methods getPrimaryClip() and setPrimaryClip() expect an additional parameter since Android 10. Fixes link.,0
1465,Make serial mandatory for sc_usb,0.5607399,Serial auto-completion,,0
1466,Fix file_handler process race condition,0.53539777," - Fix process execution (mainly) on Windows 7 (#2838, #2840)","Some devices do not have some methods that we invoke via reflection, or their call do not return the expected value. In that case, do not crash the whole controller.",0
1467,Rename control to controller,0.4805991,"Special captures keys, either Alt or Super, toggle (disable or enable) the mouse capture. Use one of them to give the control of the mouse back to the computer.",Both are handled the very same way on the device.,0
1468,Add missing LOG_OOM() on malloc failure,0.43996137,Log input events,"There are only touch pointers now, mouse pointers have been removed.",0
1469,Separate multi-words filenames by '_',0.43808842," - Add bash and zsh autocompletion for -s/--serial (#3522, #3523)",The mouse is a pointer like any other.,0
1470,Split codec_id reading,0.56136006,Advanced codec options,"In SDL, a touch event may simulate an identical mouse event. Since we already handle touch event, ignore these duplicates.",0
1471,Use flags for adb commands,0.5216812,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,"On SDL touch events, send control messages to the server.",0
1472,"Mention ""screen copy"" in README",0.54767597,"Now, it is also possible to copy the Android device clipboard (Ctrl+c) to paste it on the computer.","On receiving an ""inject touch"" control message, update the local pointers state and inject touches.",0
1473,Indicate that scrcpy also works over TCP/IP,0.81986046,"For example, to run scrcpy with the single TCP/IP device:",Add a control message type in the protocol to forward touch events to the device.,1
1474,Rename SHA256SUM to SHA256SUMS,0.44262862,scrcpy -K  # short version,"This will help to distinguish them from ""touch pointers"".",0
1475,Reset power mode only if screen is on,0.8427154,"However, restoring the power mode while the device screen was off caused unexpected behaviors (even if the ""screen off"" feature was not used). Therefore, if the screen was off, don't try to restore the power mode, the state is already as expected.",Add a function to write 64 bits in big-endian from a uint64_t.,1
1476,Fix net_send_all(),0.44771588, - Return non-zero value on connection loss (#204),Ref: link Suggested-by: Louis Kruger louisk@gmail.com,0
1477,Update scrcpy-server in install-release.sh,0.81043184,scrcpy v2.0,Ref: link Signed-off-by: Romain Vimont rom@rom1v.com,1
1478,Make some event conversions infallible,0.5308771,Repeating key events,The project is built with meson+ninja.,0
1479,"Rename function to ""power on""",0.5918467," - Add --no-power-on (#3148, #3210)",,0
1480,Add missing return 0 in unit test,0.46664035, - Return non-zero value on connection loss (#204),Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1481,Fix meson error: for loop initial declarations are only allowed in C99 mode.,0.39475363," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)",,0
1482,Fix segfault on recording with old FFmpeg,0.95611995, - Fix segfault on recording with old FFmpeg versions (#707),"Rename ""XXX_from_sdl_to_android"" to ""convert_XXX"", to avoid huge function names.",1
1483,Structure shortcuts help,0.79137564,New shortcuts,The filename gave no hint about what was converted.,1
1484,Clarify V4L2 feature in README,0.52517295,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,"Some variable names had not been renamed when ""event"" was renamed to ""message"" (28980bbc90ab93cf61bdc4b36d2448b8cebbb7df).",0
1485,Update BUILD.md to install adb package,0.68717015, - Update platform-tools to 28.0.1 (adb) included in Windows releases,The mouse event test actually tested a key event control message.,0
1486,Add a note about multi-display limitation,0.7784382,Multi-display,,1
1487,Remove anonymous struct in delay buffer,0.5687202,Buffering,"The AVPacket fields side_data and side_data_elems were not initialized by av_packet_ref() in old FFmpeg versions (prior to 1). As a consequence, on av_packet_unref(), side_data was freed, causing a segfault. Fixes link",0
1488,Make Device methods static when possible,0.5454247,"By default, on start, the device is powered on. A new option has been added to disable this behavior:","Enable the attribute ""console"" of custom_target() introduced in meson 0.48. This allows to get a feedback of what gradle does (which can takes a very long time). This produces warnings because we declare to support meson >= 0.37, but we don't want to stop supporting older versions for that. Older versions just ignore the option: WARNING: Unknown keyword arguments in target scrcpy-server: console Newer meson versions use it, but warn because we declare supporting older versions: WARNING: Project targetting '>= 0.37' but tried to use feature introduced in '0.48.0': console arg in custom_target Meson does not support conditional branches to suppress such warnings, so just keep the warnings.",0
1489,Assert screen closed on destroy,0.60541856, - Workaround screen off/on issue on exit (#1670),Update WindowManager.java,0
1490,Move FPS counter start/stop logs,0.6792401,FPS counter,,0
1491,Pass screen instance to mouse capture functions,0.67200845," - Correctly handle mouse events outside device screen (#353, #357)","Record a packet only once the following has been received, so that we can set its duration before muxing it. Fixes link",0
1492,Document v4l2 sink in README,0.52170223,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,Upgrade build dependencies,0
1493,"added ""$"" in front of terminal commands",0.5724573,"To pass command line arguments, it must still be started from a terminal or a script though.",Signed-off-by: Harsh Shandilya msfjarvis@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1494,Renumber steps in wireless section,0.48674098," - Enable trilinear filtering when possible (#40, #1284)",Signed-off-by: Harsh Shandilya msfjarvis@gmail.com,0
1495,Mention --select-usb and --select-tcpip in README,0.6036732,"ERROR: Select a device via -s (--serial), -d (--select-usb) or -e (--select-tcpip)",Fix building on OS X (missing NULL in queue.h),0
1496,Update italian translation to v1.19,0.42817047,"Copy-paste have been improved by previous releases, especially v1.15.","Headers seem to be a bit different in Apple land and you need to include stddef.h explicitly to the NULL declaration. This also makes the code a bit more correct, as stddef.h is the header in the C standard that defines NULL (link).",0
1497,Add --rotation command-line option,0.6262156," - Add shortcuts to rotate the display (#218, #1274)",,0
1498,Extract keyboard processor trait,0.5615652,HID keyboard,,0
1499,Interrupt on process terminated,0.65516984,"By default, running scrcpy.exe opens a new console, which is closed as soon as the process terminates. To let the user a chance to read any error message, a ""pause"" was implemented on error, but this caused issues for scripting (#1875).",They were listed in the blog post introducing scrcpy: link/,0
1500,Move resizing workaround to screen.c,0.7050568,Screen off workarounds,Include the latest version of SDL in Windows releases.,1
1501,Reorder server functions,0.5212593, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,Include the latest version of adb in Windows releases.,0
1502,Add unit test for big clipboard device message,0.6667995, - Add device-to-computer clipboard copy (#145),Include the latest version of FFmpeg in Windows releases.,0
1503,Fix encoder parameter suggestion,0.8120303,Encoder selection,"The compiler is not always able to see that ""last"" is always initialized before being used, so always initialize it.",1
1504,Use device id 0 for touch/mouse events,0.6686066," - Correctly handle mouse events outside device screen (#353, #357)",Fixes link,0
1505,Add ninja-build to the packages list to install,0.47180772, - Add feature to install APK files via drag & drop (#133),Replace the specific recording queue by the new generic FIFO queue implementation.,0
1506,Remove unused BUFSIZE,0.55064297,Remove deprecated short options,"We need several FIFO queues (a queue of packets, a queue of messages, etc.). Some of them are implemented using cbuf, a generic circular buffer. But for recording, we need to store the packets in an unbounded queue until they are written, so the queue was implemented manually. Create a generic implementation (using macros) to avoid reimplementing it every time.",0
1507,Bump version to 1.18,0.7853835, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
1508,Sort parameters by letter,0.4369043," - Enable trilinear filtering when possible (#40, #1284)",,0
1509,Replace SDL_assert() by assert(),0.493698,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,Put the scrcpy files at the root of the zip archive. This avoids an unnecessary level of directories when extracting.,0
1510,Factorize scrcpy options and command-line args,0.6511054,"scrcpy is a command line application, and is configured with command line arguments.","If recording fails, log ""recording failed"" instead of ""recording complete"".",0
1511,Rework README and documentation,0.5625985, - Various technical refactors and fixes,Keep --version which also print the version of dependencies.,0
1512,Send device name on the socket,0.63063514," - Add specific exit code for device disconnection (#3083, #3085)","The record file was written from the stream thread. As a consequence, any blocking I/O to write the file delayed the decoder. For maximum performance even when recording is enabled, send (refcounted) packets to a separate recording thread.",0
1513,Replace delay by deadline in timedwait(),0.5993896,Reduced latency,"To packetize the H.264 raw stream, av_parser_parse2() (called by av_read_frame()) knows that it has received a full frame only after it has received some data for the next frame. As a consequence, the client always waited until the next frame before sending the current frame to the decoder! On the device side, we know packets boundaries. To reduce latency, make the device always transmit the ""frame meta"" to packetize the stream manually (it was already implemented to send PTS, but only enabled on recording). On the client side, replace av_read_frame() by manual packetizing and parsing. link link",0
1514,Implement device screen off while mirroring,0.80864125, - Add feature to turn screen off while mirroring (#175),A drag & drop always pushed the file to /sdcard/. Add an option to customize the target directory. Fixes link,1
1515,Expose V4L2 option on all platforms,0.6197387," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)",,0
1516,Convert server to an Android project,0.5411696," - Implement seamless copy-paste from Android to computer (#1056, #1423)","There was a test for the deserialization, but not for the serialization.",0
1517,Remove deprecated options from help and manpage,0.6562313,Remove deprecated short options,"Recent versions of meson complain about an option having name starting with ""build_"": DEPRECATION: Option uses prefix ""build_"", which is reserved for Meson. This will become an error in the future. Use ""compile_"" instead.",0
1518,Add missing include for vector,0.45358744, - Add --list-displays and --list-encoders,Signed-off-by: Romain Vimont rom@rom1v.com,0
1519,Update links to v1.19,0.5439922,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,,0
1520,"Use ""meson setup"" from install_release.sh",0.42933464,Push to /sdcard/Download/,"If writing the recording header fails, do not clean the resources immediately to avoid double-free.",0
1521,Refactor recorder logic,0.5321099, - Various technical refactors and fixes,Add missing call to decoder_close().,0
1522,Add missing static,0.45476553, - Remove option --render-expired-frames (#2268),,0
1523,Update links to v1.21,0.55861115,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,add option window-title to set the title,0
1524,Factorize integer argument parsing,0.39381692," - Enable trilinear filtering when possible (#40, #1284)",Add an option to set a custom window title. Signed-off-by: Romain Vimont rom@rom1v.com,0
1525,Make checkstyle happy,0.47745955, - Improve --show-touches behavior,,0
1526,Mention react-native menu shortcut in README,0.6885177,Menu shortcuts,,0
1527,Add unit testing instructions in README,0.43202966,"In verbose mode (scrcpy -Vverbose), all input events sent to the device are printed in the console (#2371). This can be useful for debugging.",Suggested-by: barry-ran link,0
1528,Add a fake Android Context,0.54506874," - Adapt input injection for Android 13 (#3186, #3190)","If --no-control is set, then the controller is not initialized (both in the client and the server), so it is not possible to control the device to turn its screen off. See link.",0
1529,Workaround continuous resizing on Windows/MacOS,0.7606533, - Restore resizing workaround for Windows (#3640),,1
1530,Pass NULL controller if control is disabled,0.5776714, - Do not power on the device if --no-control is set,Make explicit that --serial excepts a parameter.,0
1531,Remove useless argument,0.6154017, - Avoid empty arguments not correctly handled on some devices (#337),The Java JDK is needed to build the server,0
1532,Fix compilation errors with old SDL versions,0.62618375, - Upgrade SDL to 2.0.16 in Windows releases (#2589),"The Java JDK is needed to build the server. The relevant Fedora package is java-devel, not java. Signed-off-by: Romain Vimont rom@rom1v.com",0
1533,Make decoder push frames to sinks,0.5794594,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,The if-block ends with a return.,0
1534,Add Japanese translation for README.md,0.4024972,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).",Rephrase to simplify and add a link to the issue.,0
1535,Inject button state for touch/mouse events,0.70104086, - Fix touch events parameters (#2125),Use getPhysicalDisplayToken if getBuiltInDisplay is not found,1
1536,"Prevent forwarding only ""mouse released"" events",0.59919536," - Correctly handle mouse events outside device screen (#353, #357)",This makes the -S (screen off) parameter work on Android Q beta 4 Closes #586,0
1537,Reference USBaudio from README,0.5549895," - Add Audio forwarding (#14, #3757)",It is unused since ebccb9f6cc111e8acfbe10d656cac5c1f1b744a0.,0
1538,Downsize on error,0.6747132,Resize to fit,The default value of a boolean meson option is true. We want non-portable build by default.,0
1539,Assert that long options are correctly set,0.6016152, - Remove deprecated short options -T and -c,,0
1540,Add GET_CLIPBOARD device event,0.5884469, - Add device-to-computer clipboard copy (#145),After commented default portable option in app/meson.build get some error and then find this. :) Signed-off-by: Romain Vimont rom@rom1v.com,0
1541,Update README.jp.md to v1.19,0.42382193, - Upgrade platform-tools to 34.0.1 (adb) in Windows releases,link,0
1542,Refuse to push a non-regular file server,0.7062162, - Refuse to push server if it points to a directory (#956),,1
1543,Accept muxing AV1 into MP4 container,0.56886315,"Recording the video stream (with scrcpy --record file.mkv) while mirroring consists in muxing, on the computer side, the H.264 packets in an MKV or MP4 container (without reencoding).",,0
1544,Merge pull request #692 from msfjarvis/msf/uprev-dependencies,0.38234282, - Fix segfault on recording with old FFmpeg versions (#707),,0
1545,Close decoder on stream ended,0.5840856,"For simplicity, this muxing was done by the thread receiving the stream and feeding the decoder. In practice, it worked well enough, but whenever writing the file took too much time (during a blocking I/O call), this delayed the decoding of the following frames.",,0
1546,Add delay before stopping server,0.65184677, - Terminate server properly without killing it on close (#1992),This fixes a lint warning.,0
1547,Fix documentation link in FAQ,0.5585356,Bugfixes,,0
1548,Use ADB environment variable,0.617664,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
1549,Do not build tests in release mode,0.4687717, - Apply workarounds only on error (#994),"Now that scrcpy-server.jar is found in the same directory as the scrcpy executable, using SCRCPY_SERVER_PATH is not particularly useful on Windows anymore",0
1550,Move previous packet to a local variable,0.50818974,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Issue 9 was about stdout/stderr not printed in Windows console. This is solved since the Windows version is cross-compiled from Linux.,0
1551,Move input_manager into screen,0.6122226,Screen off workarounds,,0
1552,Document ./run script usage,0.5102215,"To pass command line arguments, it must still be started from a terminal or a script though.",Include the latest version of adb in Windows releases.,0
1553,Add me as copyright owner,0.38971257," - Add screen recording (#21, #292)","Revert ""Update SDL (2.0.9) for Windows"" Several users experienced freezes with SDL 2.0.9. This reverts commit a5787dccd62fe4ff9dc05d597d3aab06da717edd. See:  - link  - link",0
1554,Remove useless forward declarations,0.51703155,Remove deprecated short options,Include the latest version of FFmpeg in Windows releases.,0
1555,Optimize includes,0.46597588,Improve device selection,"In portable builds, scrcpy-server.jar was supposed to be present in the current directory, so in practice it worked only if scrcpy was launched from its own directory. Instead, find the absolute path of the executable and build a suitable path to use scrcpy-server.jar from the same directory.",0
1556,Improve phrasing in wireless section,0.5057884,Simplify TCP/IP (wireless) configuration,"There was already utf8_to_wide_char(), used to correctly execute commands on Windows. Add the reverse converter: utf8_from_wide_char(). We will need it to build the scrcpy-server path based on the executable directory.",0
1557,Mention SCRCPY_ICON_PATH env var in manpage,0.5394703, - Add manpage,The filename is used at several places.,0
1558,Print adb command on error,0.7016121," - Improve error message on missing adb (#236, #254)","To create a portable build (with scrcpy-server.jar accessible from the scrcpy directory), replace OVERRIDE_SERVER_PATH by a simple compilation flag: PORTABLE. This paves the way to use more complex rules to determine the path of scrcpy-server.jar in portable builds.",1
1559,Use the Point class from the framework,0.4010231,module,"The full path of scrcpy-server.jar was partially configured from meson.build then concatenated by C code. Instead, directly write the path in C.",0
1560,Fix release script for platform-tools 33.0.1,0.67369646, - Upgrade platform-tools to 33.0.1 (adb) in Windows releases (#3206),"On socket disconnection, on Linux, recv() returns -1 and errno is set. But on Windows, errno is 0. In that case, AVERROR(errno) == 0, leading to the warning: Invalid return value 0 for stream protocol To avoid the problem, if errno is 0, return AVERROR_EOF. Ref: commit 2876463d394c3bc4dc239a605e65ebab75598353",0
1561,Remove unnecessary variable,0.61367124,Remove deprecated short options,Just in case.,0
1562,Move SDL initialization,0.5737958, - Upgrade SDL to 2.0.16 in Windows releases (#2589),They are just tiny wrappers.,0
1563,Forward mouse motion only on main clicks,0.80300295,Mouse focus clickthrough,"The FPS counter was called only on new frames, so it could not print values regularly, especially when there are very few FPS (when the device surface does not change). To the extreme, it was never able to display 0 fps. Add a separate thread to print framerate every second.",1
1564,Synchronize clipboard on Ctrl+v,0.8820237,"To allow seamless copy-paste (see v1.15 highlights), on Ctrl+v, a request to synchronize the computer clipboard to the device clipboard is performed before injecting Ctrl+v.","Add a ""timed out"" version of cond_wait().",1
1565,Fix include order,0.44274884, - Various technical fixes,"After commit bfb86ca2c23c29cf768c9216dbfff3a89d5d0b5f, the controller was not stopped and destroyed on quit.",0
1566,Explain how to install up-to-date meson,0.36909118, - Add feature to install APK files via drag & drop (#133),"Replace the compilation flag SKIP_FRAMES by a runtime flag to force rendering of expired frames. By default, the expired frames are skipped.",0
1567,Initialize a default log level,0.757144, - Add --verbosity to configure log level at runtime,Prepare indentation for --render-expired-frames.,1
1568,Add link to the article for v1.1 in README,0.42772248, - Add --prefer-text option (#650),,0
1569,Move server-related functions to server.c,0.6031971,"Now, on Windows, the server path will be built based on the scrcpy executable path, so it works out-of-the-box.","Here is the description of the adb package in Debian: Description: Android Debug Bridge A versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. This package recommends ""android-sdk-platform-tools-common"" which contains the udev rules for Android devices. Without this package, adb and fastboot need to be running with root permission. And android-tools-adb: Description: transitional package This is a transitional package. It can safely be removed.",0
1570,Log an error on unexpected device state,0.6679421,Device crashes fixes,Fix dependencies,0
1571,Center the window on resize-to-fit,0.9370311, - Center the window on resize-to-fit (#2387),Some missing or misspelled dependencies. Checked on Ubuntu 19.04.,1
1572,Add a script to build the server without gradle,0.5592086, - scrcpy-noconsole.vbs a one-line VBS script to start scrcpy.exe without a console,"In addition to the shortcut (Ctrl+o) to turn the device screen off, add a command-line argument to turn it off on start.",0
1573,Disable audio before Android 11,0.5721973,Android 11,Preparse indentation for --turn-screen-off.,0
1574,Call CloseHandle() after wait on Windows,0.5772004, - Keep the console open on error on Windows (#261),"If --no-control is disabled, there is no need for a controller. It also avoids to power on the device on start if control is disabled.",0
1575,Create process with wide chars on Windows,0.61270046, - Fix file push with non-ASCII chars on Windows (#422),"Starting the server requires more and more parameters. For clarity, group them in a struct.",0
1576,Declare fun(void) functions with no parameters,0.38878894, - Avoid empty arguments not correctly handled on some devices (#337),"For clarity, store the flag resulting of the command-line options --no-control and --no-display into ""control"" and ""display"".",0
1577,Use pointers-to-const where relevant,0.42765242,scrcpy --tcpip    # without arguments,"The flag is used only in the server_start() implementation, there is no need to store it in the structure.",0
1578,Happy new year 2022!,0.3777907,   (#224),"Only keep ""turn device screen off"" and POWER button. After we turn the device screen off (with Ctrl+o), turning it back on does not always work, and leaves the device in a weird state, where even the power button may not be sufficient: link This is not an acceptable behavior, so disable the shortcut to turn the physical device screen on. We can use the POWER button (or Ctrl+p) instead.",0
1579,Make intr optional for adb commands,0.4934667, - Add --force-adb-forward,"This will reduce confusion between ""power on"" when the device is off and ""turn device screen off"" while mirroring.",0
1580,Add window icon,0.68108976, - Add option to disable window decorations (#762),"The condition ""event->type == SDL_KEYDOWN"" and the variable input_manager->controller are used many times. Replace them by local variables to reduce verbosity.",0
1581,Set video and control sockets only on success,0.5779436, - an option to lock the video orientation,So that it also works on Windows.,0
1582,Provide decoder_init(),0.5328765,Encoder selection,Introduced by the previous commit.,0
1583,Add missing include guards,0.34786618, - Add --list-displays and --list-encoders,"Add two shortcuts:  - Ctrl+o to turn the device screen off while mirroring  - Ctrl+Shift+o to turn it back on On power on (either via the POWER key or BACK while screen is off), both the device screen and the mirror are turned on. link",0
1584,Handle libusb_get_device_descriptor() error,0.573344,ERROR:     --> 01234567890abcdef  (xxxx:xxxx)  LGE Nexus 5,For consistency.,0
1585,Fix warnings,0.7454085, - Improve some error messages,Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,1
1586,"Send ""screen on"" command only on mouse down",0.6785896,Turn screen on,Use the same variable name in functions declaration and definition. Signed-off-by: Yu-Chen Lin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1587,Use constant string for known booleans,0.3076769," - Correctly inject repeating keycodes (#1013, #1519)",Synchronizing local and device clipboards in invisible. Add INFO logs on success.,0
1588,Do not log success on failure,0.5485897,Log input events,The default behavior seems annoying. Fixes link,0
1589,Improve decoder stopped event,0.5603769,"For simplicity, this muxing was done by the thread receiving the stream and feeding the decoder. In practice, it worked well enough, but whenever writing the file took too much time (during a blocking I/O call), this delayed the decoding of the following frames.","Sometimes, it is not obvious whether a log is generated by the server or by the client. Prefix server logs for clarity.",0
1590,Remove spurious ';',0.4287612, - ~Do not print irrelevant workarounds errors (#994)~,"After the recent refactorings, a ""control event"" is not necessarily an ""event"" (it may be a ""command""). Similarly, the unique ""device event"" used to send the device clipboard content is more a ""reponse"" to the request from the client than an ""event"". Rename both to ""message"", and rename the message types to better describe their intent.",0
1591,Drag and drop to install apk files from computer,0.81687593, - Add feature to install APK files via drag & drop (#133),Correct return value type in handle_event,1
1592,Rename --codec to --video-codec,0.57558745,Advanced codec options,handle_event return the type enum event_result not bool Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1593,Use custom class Point,0.4121748,Customizable shortcut modifier,This will fix build warning in newer meson. Fix #540. Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1594,Handle all shortcuts in the same function,0.6317803,Menu shortcuts,,0
1595,Bump version to 1.25,0.82520354, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"It was already possible to paste (with Ctrl+v) the content of the computer clipboard on the device. Technically, it injects a sequence of events to generate the text. Add a new feature (Ctrl+Shift+v) to copy to the device clipboard instead, without injecting the content. Contrary to events injection, this preserves the UTF-8 content exactly, so the text is not broken by special characters. link",1
1596,Use random name for device socket,0.5001483,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.","Parsing a String from a serialized control event, encoded as length (2 bytes) + data, will be necessary in several events. Extract it to a separate method.",0
1597,Add metadata to scrcpy.exe for Windows,0.6939149, - Pass scrcpy-noconsole arguments through to scrcpy on Windows (#2052),At least 2 bytes must be available to read the length of the String.,0
1598,Add missing includes,0.49192733, - Add --list-displays and --list-encoders,"On Ctrl+C:  - the client sends a GET_CLIPBOARD command to the device;  - the device retrieve its current clipboard text and sends it in a    GET_CLIPBOARD device event;  - the client sets this text as the system clipboard text, so that it    can be pasted in another application. Fixes link",0
1599,Split SDL initialization,0.52040124, - Downgrade SDL to 2.0.8 in Windows releases (#425),"Create a separate component to send device events, managed by the controller.",0
1600,Adapt icon in README,0.51212925, - Add icon to scrcpy.exe (#2815),"Create a separate component to handle device events, managed by the controller.",0
1601,Fix trait header guards,0.48809823,Bugfixes,"Add the first device event, used to forward the device clipboard to the computer.",0
1602,Accept prebuilt server,0.5527547,ERROR: Server connection failed,"The socket used the device-to-computer direction to stream the video and the computer-to-device direction to send control events. Some features, like copy-paste from device to computer, require to send non-video data from the device to the computer. To make them possible, use two sockets:  - one for streaming the video from the device to the client;  - one for control/events in both directions.",0
1603,Fix clean recipe in cross Makefile,0.45692694,Seamless copy-paste,"A string is serialized as a length (2 bytes) followed by the string data (non nul-terminated). For now, it is used only once, but we will need to serialize strings in other events.",0
1604,Rename screen -> scrcpy -> main,0.6978704,scrcpy --turn-screen-off,This will avoid to produce invalid UTF-8 results (although unlikely).,0
1605,Improve main() error handling,0.6515244, - Improve some error messages,"This will help to avoid truncating a UTF-8 string in the middle of a code point, producing an invalid UTF-8 result.",0
1606,Remove useless forward declaration from stream.h,0.48440567," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)",Add missing tests for serialization and deserialization of control events.,0
1607,Remove extra ';' in #define,0.5149067,Remove deprecated short options,,0
1608,Format meson.build for readability,0.4428558," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",The framework class android.graphics.Point cannot be used in unit tests. Implement our own Point.,0
1609,Accept Super as shortcut modifier,0.698591,Customizable shortcut modifier,"Several commands were grouped under the same event type ""command"", with a separate field to indicate the actual command. Move these commands at the same level as other control events. It will allow to implement commands with arguments.",0
1610,Remove unnecessary error logs,0.5528166, - Improve some error messages,"If the stream is stopped, av_read_frame() will be woken up and yield a corrupted packet. Do not try to decode or record it.",0
1611,Fix typo in doc/audio.md,0.57342154," - Fix mp4 headers produced by recording (#351, #416)",The sockets may be closed and shutdown on server_stop(). This will interrupt the stream and controller threads more quickly and gracefully.,0
1612,Handle condition variable failure,0.5156174, - Apply workarounds only on error (#994),"The cleanup is not linear: for example, the server must be stopped and its sockets must be shutdown after the stream and controller are stopped (so that they don't continue processing garbage), but before they are joined, to avoid a deadlock if they are blocked on a socket read. Simplify the spaghetti-cleanup by keeping trace of initialization at runtime.",0
1613,Rename function to simplify,0.4650469,"Since these are ""advanced"" features (not common enough), the short version of these options had been deprecated in scrcpy v1.11 two years ago. It's time to remove them (and it simplified some refactors). Only the long version remains.","Partial read is impossible for 1 byte, so net_recv_all() is useless.",0
1614,Reorder mouse processor ops,0.5472065,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).","Only use 2 branches, using either forward or remote tunnel.",0
1615,Refactor screencontrol to inputmanager,0.6853441,Screen off workarounds,"The resulting socket is accessible from the server instance, there is no need to return it. This paves the way to use several sockets in parallel.",0
1616,"Fix ""press Enter key"" message",0.6845442," - key events, signaling that a key is pressed or released;",,0
1617,Change links to wikipedia,0.41695628, - Add manpage,Replace the file_handler_request_queue implementation by cbuf.,0
1618,Add parent directory in release zipfile,0.47987437, - Add feature to install APK files via drag & drop (#133),Replace the control_event_queue implementation by cbuf.,0
1619,Add shortcuts for physical keys,0.7466012, - Support holding Ctrl+Key shortcuts (#166),"Add a circular buffer implementation, to factorize multiple specific queues implementation.",1
1620,Define the audio output buffer in milliseconds,0.54390633,"In practice, here is a graph showing the difference in smoothness with a buffer of 50ms on a wireless connection:",Add a function to read 16 bits in big-endian to a uint16_t.,0
1621,Reorganize message size constants,0.5771712, - Adapt --help output to terminal size,So that they can be used both on const and non-const input buffers.,0
1622,Add Korean translation for README and FAQ,0.43951842, - Implement seamless UTF-8 copy-paste from computer to Android >= 7 (#786),"control_event_serialize() returns the number of bytes written, so the type should be size_t.",0
1623,Pass all args to ScreenEncoder constructor,0.47902396,Encoder selection,The variable condition was not destroyed on strdup() failure.,0
1624,Kill adb daemon in OTG mode on Windows,0.6216905,"On Windows, it is not possible to open a USB device if it is already open by another process (like the adb daemon). As a consequence, we can't send HID events if adb is running. Therefore, HID in mirroring mode is not possible, only OTG mode is supported on Windows (and the adb daemon is killed before starting). See #3011.",,0
1625,Support wchar_t in argv for Windows,0.48353583,scrcpy -w  # short option,This will avoid conflicts with future device events.,0
1626,Merge pull request #261 from npes87184/dev,0.46204793, - Push to /sdcard/Download by default (#2384),"Use parentheses to avoid unexpected results. For example, make: 2 * SERIALIZED_EVENT_MAX_SIZE expand to: 2 * (3 + TEXT_MAX_LENGTH) instead of: 2 * 3 + TEXT_MAX_LENGTH",0
1627,Improve HID event push error message,0.62730056," - Fix touch events HiDPI-scaling (#1536, #15)","The struct control_event does not use mutexes, and net.h does not need SDL_platform.h.",0
1628,Execute adb start-server,0.597865,"To connect to a remote ADB server (for example 192.168.1.2), make the server listen on all interfaces:",Previous refactorings broke indentation.,0
1629,Rename scrcpy-server.jar to scrcpy-server,0.6861218,scrcpy v2.0,,0
1630,Fix error return value,0.6472019, - Improve some error messages,"Commit dfed1b250e5aada1c0b4c75fbaf54aebc19a92d5 replaced SDL types by standard types in sources, but tests were not updated.",0
1631,Move injection methods to Device,0.6575017," - Adapt input injection for Android 13 (#3186, #3190)","To avoid mixing SDL_malloc()/SDL_strdup() with free(), or malloc() with SDL_free(), always use the SDL version.",0
1632,Use net_recv() to read only one byte,0.39370516,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.",Checkstyle wants a specific order of imports.,0
1633,Report recorder errors,0.591218, - Improve some error messages,,0
1634,Fix mouse pointer state update,0.6480627,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).","On pressing Home key on the computer, move the cursor to the beginning of the line instead of going back to the home screen. link link Fixes (part of) link.",0
1635,Upgrade SDL (2.0.22) for Windows,0.971279, - Upgrade SDL to 2.0.22 in Windows releases,"The file handler owns the filename string, so it needs to free it. Therefore, it should not be a pointer-to-const.",1
1636,Report video buffer downstream errors,0.6315678, - Fix recorded video to avoid crashes in Adobe Premiere (#702),"The file handler owns the serial, so it needs to free it. Therefore, it should not be a pointer-to-const.",0
1637,Extract server-related functions,0.4512849, - Terminate server properly without killing it on close (#1992),,0
1638,Extract video size computation,0.64384973, - Improve framerate counting,,0
1639,Fix type for assignment,0.4548615,Serial auto-completion,"If loading the icon from xpm fails, launch scrcpy without window icon. link",0
1640,Avoid unused function warning,0.5469127, - Avoid empty arguments not correctly handled on some devices (#337),"SDL_CreateRGBSurfaceFrom() may return NULL, causing a segfault. link",0
1641,Use ROOT_UID from FakeContext,0.43406042,$ANDROID_SERIAL,Some characters may not be injected (e.g. '\r`). Log them instead of ignoring them silently.,0
1642,"Fix ""Could not find v4l2 muxer""",0.96687615," - Fix ""Could not find v4l2 muxer"" (#2718)",Return success count in injectText,1
1643,Add issue templates,0.520575," - Fix rendering issues (#1408, #787)","It will insert as many text as possible now. Fix #509, tested on Windows 10 and Arch Linux. Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
1644,Fix adb getprop parsing,0.5421355," - Improve error message on missing adb (#236, #254)","When the execution of an adb command fails, print the command. This will help to understand what went wrong. See link.",0
1645,Bump version to 1.6,0.8092665, - Bump version to 1.5 (as shown by scrcpy --version) (#332),The size of an array should have type size_t.,1
1646,Fix manpage option parameter format,0.7440558, - Add manpage,Disable X11 compositor bypass,1
1647,Fix broken link in Windows download page,0.48402023," - Fix ""push file"" with spaces on Windows (#288)","Compositor bypass is meant for fullscreen games consuming lots of GPU resources. For a light app that will usually be windowed, this only causes unnecessary compositor suspends, especially visible (and annoying) with complying window manager like KWin. Signed-off-by: Romain Vimont rom@rom1v.com",0
1648,Do not call SDL_Quit(),0.6288557, - Do not expose internal SDL logs to users (#1441),Mouse focus clickthrough didn't work due to compat.h header not being included in scrcpy.c. Signed-off-by: Romain Vimont rom@rom1v.com,0
1649,Move call to send device name and size,0.5013584," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)",Some devices don't have the required method. Recover gracefully without crashing the server. Fixes link.,0
1650,fixup! Handle all shortcuts in the same function,0.6317616,New shortcuts,"Add Ln.e(message) in addition to Ln.e(message, error).",0
1651,Work around mouse capture SDL bug on macOS,0.70454216,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).",,1
1652,Replace SDL_bool by bool in tests,0.44013864,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,,0
1653,Clean up useless const-casts,0.47997174,scrcpy --display 1,Build failed on WSL because of lack of reference to WinMain@16 during linking. Fixes link Signed-off-by: Romain Vimont rom@rom1v.com,0
1654,"Fix ""turn screen off"" on Android Q",0.8932424," - Make --turn-screen-off work for Android Q devices (#586, #587)",,1
1655,Copy the options used in input manager init,0.49339977,"As a workaround, an option --legacy-paste is provided to change the behavior of Ctrl+v and MOD+v so that they also inject the computer clipboard text as a sequence of key events (the same way as MOD+Shift+v).",This may capture more errors (like e2ef39fae5ffb576cdc4d924cf0b67393138168d).,0
1656,Explain how to customize path in README,0.5381515, - Add option --no-control to mirror in read-only,Fix errors reported by: gradle -p server check,0
1657,Improve startup time when show_touches is enabled,0.7243617, - Improve --show-touches behavior,"The serialized text is not nul-terminated (its size is explicitely provided), but the input text in the event is a nul-terminated string. The test was failing with ASAN enabled.",1
1658,Upgrade FFmpeg custom builds for Windows,0.83599573, - Upgrade FFmpeg to 6.0 in Windows releases (and use a minimal build),"On exception, the codec is not in a state were .stop() can be called.",1
1659,Merge pull request #920 into dev,0.38498718,Push to /sdcard/Download/,The scrcpy-prebuiltserver has been deprecated in favor of the scrcpy package. link Signed-off-by: Romain Vimont rom@rom1v.com,0
1660,Rename video-specific variables in recorder,0.5124836,"Recording the video stream (with scrcpy --record file.mkv) while mirroring consists in muxing, on the computer side, the H.264 packets in an MKV or MP4 container (without reencoding).",,0
1661,Rename file_handler to sc_file_pusher,0.63647616,A file drag&drop to the scrcpy window used to push to /sdcard/ by default. Now the default is /sdcard/Download/.,"Ctrl+C kills the app on Windows, so the recorded file is broken.",0
1662,Add new shortcuts description in help,0.8464613,New shortcuts,,1
1663,Use a meson option to crossbuild for Windows,0.57231957, - Change the Windows build (cross-compile from Linux),,0
1664,Apply requested window size in OTG mode,0.94858223," - Apply requested window size in OTG mode (#3099, #3219)","The ""initial texture"" is logged at INFO level. For consistency, log ""new texture"" at the same level.",1
1665,Improve USB device open log,0.6008927,EDIT: And there are still issues on Windows when USB debugging is disabled: #3050 :disappointed: ,,0
1666,Inject touch events with smallest detectable size,0.6216747, - Fix touch events parameters (#2125),,0
1667,Remove warning when renderer is not OpenGL,0.59159803," - Fix rendering issues (#1408, #787)",Some decoder and recorder functions must not write to AVCodec and AVPacket.,0
1668,Fix building on OS X (missing NULL in queue.h),0.48197195, - Initialize Application object (fix crashes on some devices) (#940),server/meson.build: support relative path for prebuilt_server,0
1669,Document envvars for all platforms,0.5063487,Encoder selection,"Replace the ""global"" control flag in the input_manager by a function parameter to make explicit that the behavior depends whether --no-control has been set.",0
1670,Add a FAQ section for Wayland support,0.37724236, - Add manpage,"If we don't do this trick, the prebuilt_server will be ../server/[the_user_defined_path]. In general, we will not give an relative path based on build directory, which leads to wrong prebuilt_server path. The building error: ninja: error: '../scrcpy-server-v1.7.jar', needed by 'server/scrcpy-server.jar', missing and no known rule to make it Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
1671,Define v4l2 option field only if HAVE_V4L2,0.46860072,"It also simplifies V4L2 usage, which does not support video dimension changes.","The SDL video subsystem is not necessary if we don't display the video. Move the sdl_init_and_configure() function from screen.c to scrcpy.c, because it is not only related to the screen display.",0
1672,"Rename ""pointer"" to ""mouse pointer""",0.5664005,"Also note that the mouse capture (when --hid-mouse is enabled) has some issues on macOS. A workaround for the main problem has been implemented, but you might need an additional click to get the mouse pointer back (see #3031).","The function video_buffer_offer_decoded_frame() returned a bool to indicate whether the previous frame had been consumed. This was confusing, because we could expect the returned bool report whether the action succeeded. Make the semantic explicit by using an output parameter. Also revert the flag (report if the frame has been skipped instead of consumed) to avoid confusion for the first frame (the previous is neither skipped nor consumed because there is no previous frame).",0
1673,Use vector for listing USB devices,0.6624497,"In OTG mode, the USB devices are also listed for convenience:","The server owns the serial, so it needs to free it. Therefore, it should not be a pointer-to-const.",0
1674,Update links to v1.13 in README and BUILD,0.50216687, - Update platform-tools to 28.0.1 (adb) included in Windows releases,Scrcpy is a C11 project. Use the C99 standard types instead of the SDL-specific types: SDL_bool -> bool SintXX   -> intXX_t UintXX   -> uintXX_t,0
1675,Require libavcodec >= 57.37,0.5214299," - Enable libusb support for Windows 32-bit releases (#3204, #3206)",Add an option to disable device control: -n/--no-control.,0
1676,Write trailer from recorder thread,0.58780235,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.","The description of scrcpy is ""Display and control your Android device"". We want an option to disable display, another one to disable control. For naming consistency, name it --no-display. Also change the shortname to -N, so that we can use -n for --no-control later.",0
1677,Move switch fullscreen logs,0.6480426, - Make --turn-screen-off work on all displays (#3716),"Initialize the field no_window in ""struct args""",0
1678,Move str_util to str,0.60732484, - Print help to stdout (instead of stderr),"If --no-window is passed, there is no need to register an event watcher.",0
1679,Read/write settings via command on Android >= 12,0.8186002," - Adapt read/write settings for Android 12 (#2671, #2788, #2802)","To avoid too many levels of nested blocks, move the event handling logic in a separate function.",1
1680,Clarify --no-display usage with v4l2,0.70720696,"It also simplifies V4L2 usage, which does not support video dimension changes.","Limit source code to 80 chars, and declare functions return type and modifiers on a separate line. This allows to avoid very long lines, and all function names are aligned. (We do this on VLC, and I like it.)",1
1681,Retrieve device serial for AOA,0.5279604,   devices) (#944),The field pts is declared Uint64 in struct frame_meta.,0
1682,Document how to make a portable build on Windows,0.6449034, - Change the Windows build (cross-compile from Linux),,0
1683,Improve English comment,0.4599219,(see this comment for more details),"Disable decoder, screen (display), file_handler and controller when --no-window is requested. link",0
1684,Prefix control event constants by namespace,0.46684504," - Add option to ignore repeated key events (#1013, #1623)",This option will allow scrcpy to record the stream without display. Signed-off-by: Romain Vimont rom@rom1v.com,0
1685,Add runtime option to render expired frames,0.96723515, - Add runtime option to render expired frames (i.e. not skip frames),"The decoder initially read from the socket, decoded the video and sent the decoded frames to the screen:           +---------+      +----------+ socket ---> | decoder | ---> |  screen  |               +---------+      +----------+ The design was simple, but the decoder had several responsabilities. Then we added the recording feature, so we added a recorder, which reused the packets received from the socket managed by the decoder:                                 +----------+                            ---> |  screen  |           +---------+     /     +----------+ socket ---> | decoder | ----               +---------+     \     +----------+                                ---> | recorder |                                     +----------+ This lack of separation of concerns now have concrete implications: we could not (properly) disable the decoder/display to only record the video. Therefore, split the decoder to extract the stream:                                 +----------+      +----------+                            ---> | decoder  | ---> |  screen  |           +---------+     /     +----------+      +----------+ socket ---> | stream  | ----               +---------+     \     +----------+                                ---> | recorder |                                     +----------+ This will allow to record the stream without decoding the video.",1
1686,Move input event helpers,0.58236206, - Fix touch events parameters (#2125),This avoids to test explicitly whether options->record_filename is NULL.,0
1687,Improve file API,0.4910927, - Add feature to install APK files via drag & drop (#133),"The order of cleanup was not the reverse as the initialization order. As a consequence, recorder_destroy() could theoretically be called even if recorder_init() failed.",0
1688,Configure log level for application only,0.7711301, - Add --verbosity to configure log level at runtime,"The deprecated avcodec_decode_video2() should always the whole packet, so there is no need to loop (cf doc/examples/demuxing_decoding.c in FFmpeg). This hack changed the packet size and data pointer. This broke recording which used the same packet.",1
1689,Fix typo in command-line help,0.5513443, - Improve some error messages,"The purpose of video_buffer_stop() is to interrupt any blocking call, so rename it to video_buffer_interrupt().",0
1690,Restore power mode to normal on cleanup,0.82308596," - Restore power mode to ""normal"" on disconnection (#1572, #1576)",It better describes the purpose of the structure.,1
1691,Add device clipboard set acknowledgement,0.7464596, - Add device-to-computer clipboard copy (#145),,1
1692,Parse XPM without SDL_image,0.4624157,scrcpy --display 1,"Use Ctrl+n to expand, Ctrl+Shift+n to collapse. Fixes link",0
1693,Send touch events from the client,0.70679075, - Fix touch events parameters (#2125),"The flag SDL_WINDOW_ALWAYS_ON_TOP is available since SDL 2.0.5. Do not use it if SDL is older, to fix compilation failure. Fixes link",1
1694,Extract async processor interface,0.50149584,Asynchronous recording,This allows to give a proper name to features requirements.,0
1695,Document audio player,0.6020607," - Add Audio forwarding (#14, #3757)",,0
1696,Simplify Device.java,0.6205572,Windows PATH simplification,,0
1697,Ensure get_server_path() retval is freeable,0.45336306,"On all platforms except Windows, the absolute path of scrcpy-server.jar is hardcoded (typically to /usr/share/scrcpy/scrcpy-server.jar), so it is straightforward to know its path.","The extradata buffer is owned by libav, so it must be allocated with av_malloc(), not SDL_malloc(). This fixes a crash on Windows during avformat_free_context().",0
1698,Always expect 5 parameters for the server,0.44751498, - Terminate server properly without killing it on close (#1992),,0
1699,Add FAQ section about mouse clicks,0.721717,Mouse focus clickthrough,"Windows does not support UTF-8, so pushing a file with non-ASCII characters failed. Convert the UTF-8 command line to a wide characters string and call CreateProcessW(). Fixes link",1
1700,Improve process API,0.5530121," - Fix process execution (mainly) on Windows 7 (#2838, #2840)",,0
1701,Add README section explaining --turn-screen-off,0.6794418, - Make --turn-screen-off work on all displays (#3716),Log when recording is started and stopped.,0
1702,Mention how to add default arguments on Windows,0.5779646,"This will simplify passing arguments on Windows, and give a hint to users who don't know how to use the command line (remember, nobody reads the FAQ).","Implement recording to Matroska files. The format to use is determined by the option -F/--record-format if set, or by the file extension ("".mp4"" or "".mkv"").",0
1703,Extract SDL hints,0.48169196,scrcpy --display 1,"Some containers force their own time base. For example, matroska overwrite time_base to (AVRational) {1, 1000}. Therefore, rescale our packet timestamps to the output stream time base. Suggested-by: Steve Lhomme robux4@ycbcr.xyz",0
1704,Fix icon path in README,0.4865149, - Add icon to scrcpy.exe (#2815),"When recording, the header must be written with extradata set to the content of the very first packet. Suggested-by: Steve Lhomme robux4@ycbcr.xyz Fixes link Fixes link",0
1705,Factorize resource release after CreateProcess(),0.3828889,A new advanced option has been added to pass any raw option to [MediaFormat]. This could be used for example to change the profile/level of the codec:,FFmpeg logs can be useful to understand the cause of issues.,0
1706,Bump version to 1.14,0.75142217, - Bump version to 1.5 (as shown by scrcpy --version) (#332),This was the only log priority missing.,1
1707,Expose High DPI support configuration flag,0.69108033," - Enable DPI awareness by default on Windows (#40, #2865)",The buffer associated to the AVIOContext must be freed.,0
1708,Avoid unnecessary call if display is disabled,0.6845244, - Prevent to turn screen off if no control (#608),app: add always_on_top,0
1709,Refactor if-blocks,0.50772345, - Implement (optional) buffering (#2464),It is very convenient when I play mobile game and watch video at the same time. Tested on Linux mint Cinnamon as well as Windows 10. Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1710,Rename --codec-options to --video-codec-options,0.63995785,Advanced codec options,"Add a script to generate the whole release properly. It first builds locally in release mode, then execute tests. Then it builds archives for Windows. Finally, it puts all release files (Windows archives, prebuilt server and checksums) in a separate release directory.",0
1711,Upgrade platform-tools (30.0.4) for Windows,0.8995334, - Upgrade platform-tools to 30.0.4 (adb) in Windows releases,tests: fix test_control_event_serialize,1
1712,Update README.zh-Hans to v1.17,0.51588124, - Add ZSH completion script (#3012),"commit fefb9816a changed the protocol, fix the related testing case. Signed-off-by: Yu-Chen Lin npes87184@gmail.com",0
1713,Add support for v4l2loopback,0.61871606," - Add support for V4L2 (device screen capture as a webcam) (#2232, #2233, #2268)","Commit fefb9816a99e6f8fa59befcfb70ba87112f90a8d modified mouse events serialization. The server-side parsing was updated to correctly read the position, but the expected size of these events was not updated. As a result, the server might try to parse incomplete events, leading to BufferUnderflowException. Fixes link.",0
1714,Add unit tests for control event serialization,0.51544416,Serial auto-completion,Comment had not been updated along with the code.,0
1715,Enable high dpi support,0.63111687," - Enable DPI awareness by default on Windows (#40, #2865)",,0
1716,Fix typos reported by codespell,0.5988394, - Improve some error messages,,0
1717,Synchronize HID keyboard state on first event,0.6340836, - Ensure clipboard synchronization is performed before injecting Ctrl+v via HID keyboard (#2814),,0
1718,Implement buffering,0.8429016,Buffering,Include the last version of FFmpeg in Windows releases.,1
1719,Use specific error for missing binary on Windows,0.6174759, - Print correct error messages on Windows socket errors (#2624),Keep screensaver enabled while scrcpy is running. Fixes link.,0
1720,Add unit test for float decoding,0.45840913,scrcpy --v4l2-buffer=500    # add 500 ms buffering for v4l2 sink,input_manager: don't ignore double click event when clicking inside device,0
1721,Assert non-NULL serial,0.54937637,Serial auto-completion,Signed-off-by: Yu-Chen Lin npes87184@gmail.com,0
1722,Improve --push-target example in README,0.6145702, - Add option to change the push target (#659),prepare-dep: use variable for better readability,0
1723,Do not forward SDL_DROPFILE event,0.5665818, - Do not expose internal SDL logs to users (#1441),"Some applications, like Silence, prevent the content of a window from being viewed on non-secure displays: link We can mirror it by just creating a ""secure"" display: link",0
1724,Add mutex assertions,0.4235391,Serial auto-completion,"The arguments are saved to variable when script started. Instead of using $1, $2 and $3, we can use these variables. Signed-off-by: yuchenlin npes87184@gmail.com",0
1725,Fix manpage formatting,0.7547423, - Add manpage,"To clean up the device, the client executed ""adb shell rm"" once the server was guaranteed to be started (after the connection succeeded). This implied to track whether the installation state, and failed if an additional tunnel was used in ""forward"" mode: link Instead, make the server unlink itself on start.",1
1726,Add -s auto-completion for zsh,0.808162," - Add bash and zsh autocompletion for -s/--serial (#3522, #3523)","Mouse events position were unsigned (so negative values could not be handled properly). To avoid issues with negative values, mouse events outside the device screen were ignored (commit a7fe9ad779057f7a2698fc1769dce3c3786993ee). But as a consequence, drag&drop were ""broken"" if the ""drop"" occurred outside the device screen. Instead, use signed 32-bits to store the position, and forward events outside the device screen. Fixes link.",1
1727,"Increase buffer size to fix ""set clipboard"" event",0.6536531, - Increase clipboard size from 4k to 256k (#1117),,0
1728,Add missing consts,0.4715075, - Remove deprecated short options -T and -c,,0
1729,Add missing allocation failure check,0.492179, - Apply workarounds only on error (#994),"The package ninja-build should be installed automatically as a meson dependency, but some users need to install a newer meson from pip3, so ninja must be installed explicitly.",0
1730,Remove inline hint,0.5694747, - Remove black borders on double-click,"Never create a ""struct point"" with a position possibly outside the device screen (i.e. in the black borders area), and do not transmit such events. This fixes an assertion failure on mouse wheel events outside the device screen area.",0
1731,Document --power-off-on-close,0.6027341,scrcpy --power-off-on-close,"The client passes parameters to the server via ""adb shell"" arguments. Use ""-"" instead of """" when no crop is specified to avoid empty arguments, which are not handled the same way on all devices. Fixed link.",0
1732,Fix error message on icon loading failure,0.5534025, - Fix errors on Android 11 (#1468),"The client always sends all the arguments, so there is no need to check.",0
1733,Add empty lines around code blocks,0.47470078, - Remove black borders on double-click,See link.,0
1734,Add server option send_device_meta,0.5534555,export ADB_SERVER_SOCKET=tcp:192.168.1.2:5037,"Present how to install an APK and how to push a file in the ""features"" section (instead of ""shortcuts"").",0
1735,Do not fail on EAGAIN,0.43639156, - Improve some error messages,Fix warning on error or EOF: Invalid return value 0 for stream protocol See link. Fixes link.,0
1736,Fix word order in README,0.43026507,Fix natural scrolling,"Make meson aware of the project version, so that it does not print: Project version: undefined",0
1737,Use frame source trait in decoder,0.5784297,"However, the way the H.264 video stream was parsed by FFmpeg introduced a latency of one frame. As a consequence, a frame was not sent to the decoder before the next one was (partially) received.","I forgot to bump version before the release, so I had to make a new one which fixes the version string (for scrcpy --help).",0
1738,Use sc_ prefix for controller,0.6318851,scrcpy -S,Signed-off-by: Romain Vimont rom@rom1v.com,0
1739,Provide actions for the extra mouse buttons,0.72281456,"To simulate ""pinch-to-zoom"": Ctrl+click-and-move.",,1
1740,Update links to v1.17 in README and BUILD,0.55274284,"Copy-paste have been improved by previous releases, especially v1.15.",,0
1741,"Move ""show window"" call on first frame",0.61395437, - Add options to set an initial window size and position (#762),Record screen to file,0
1742,Fix memory leak on portable builds,0.7956073, - Fix (huge) memory leak (#26),"Configuration packets produced by MediaCodec have no valid PTS, and do not produce frame. Do not queue their (invalid) PTS not to break the matching between frames and their PTS.",1
1743,Retrieve correct error messages on Windows,0.71860904, - Print correct error messages on Windows socket errors (#2624),"Several frames may be read by read_packet() before they are consumed (returned by av_read_frame()), so we need to store the PTS of frames in order, so that the right PTS is assigned to the right frame.",1
1744,Log actions on the caller side,0.70446354,Log input events,"The client needs the PTS for each frame only if recording is enabled. Otherwise, the PTS are not necessary, and the protocol is more straighforward.",1
1745,Add -s auto-completion for bash,0.6822608," - Add bash and zsh autocompletion for -s/--serial (#3522, #3523)",To record the screen to a local file: scrcpy --record file.mp4,0
1746,Document shell command to get the device IP,0.7604287,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.","For readability, wrap the state of the receiver in a separate struct receiver_state.",1
1747,Merge pull request #442 from npes87184/master,0.4130023, - Apply workarounds only on error (#994),"Use net_recv_all() to avoid partial reads for the ""meta"" header (this would break the whole stream).",0
1748,Fix USB device leak on connection error,0.7513186,"Since there are several devices connected over USB in this example, it fails, with a detailed error message.",,1
1749,Add --audio-codec-options,0.69450945," - Add Audio forwarding (#14, #3757)","AVStream.codec has been deprecated in favor of AVStream.codecpar. Due to the FFmpeg/Libav split, this happened in two separate versions:  - 57.33.100 for FFmpeg  - 57.5.0 for Libav",0
1750,Handle NumPad events when NumLock is disabled,0.8565614, - Forward NumPad keys when NumLock is disabled (#1188),Signed-off-by: yuchenlin npes87184@gmail.com,1
1751,Write header file with correct extradata,0.4678157," - Fix mp4 headers produced by recording (#351, #416)","This partially reverts commit f00c6c5b1321860eb6d590928448778ec8f43278. On Ctrl+C, we need to execute cleanup code. For instance, if recording is enabled, we need to write MP4 file trailer on exit. Custom SDL signal handlers were disabled because it leaded to process hanging on Ctrl+C during network calls on initialization, but now it seems to work correctly, the network calls return immediately on signal.",0
1752,Fix compatibility with old FFmpeg,0.7275107, - Update FFmpeg to 4.1 included in Windows releases,"Since PTS handling has been fixed, the recorder do not associate a PTS to a wrong frame anymore, so PTS of ""configuration packets"" (which never produce a frame), are never read by the recorder. Therefore, there is no need to ignore them explicitly, so we can remove the MediaCodec flags completely.",1
1753,Move screen-related code to screen.c,0.64889836,Screen off workarounds,"The PTS was read from the socket and set as the current one even before the frame was consumed, so it could be assigned to the previous frame ""in advance"". Store the PTS for the current frame and the last PTS read from the packet header of the next frame in separate fields. As a side-effect, this fixes the warning on quit: Application provided invalid, non monotonically increasing dts to muxer in stream 0: 17164020 >= 17164020",0
1754,Update FAQ to match the latest version,0.5346319, - Update platform-tools to 28.0.1 (adb) included in Windows releases,"Handle display before recording, to reduce latency.",0
1755,Expose simple API to select a single USB device,0.6756344,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","When the PTS is valid, set both PTS and DTS to avoid FFmpeg warnings. Since configuration packets have no PTS, do not record these packets.",0
1756,Rename HAVE_AOA_HID to HAVE_USB,0.53191197,ERROR: Multiple (2) ADB devices over USB:,"Implement recording in a separate ""class"".",0
1757,Reorder release.mk recipes,0.38497472," - Rework console/noconsole versions on Windows (#1875, #1988)",,0
1758,Reference Windows USB driver for Google devices,0.66092175,"In OTG mode, the USB devices are also listed for convenience:",Add missing version upgrade in cross_winXX.txt files.,0
1759,Make screen_show_window() static,0.58310425,Screen off workarounds,Include the last version of SDL in Windows releases.,0
1760,Fix receiver on partial device messages,0.5869404,set ANDROID_SERIAL=0123456789abcdef,Move util functions to a reusable separate header.,0
1761,Fix WSAStartup() error check on Windows,0.5807832," - Fix hanging with multiple scrcpy instances on Windows (#2779, #2783)","On Ubuntu 16.04, meson is 0.29, while scrcpy requires >= 0.37. Explain how to install a newer version from pip3.",0
1762,Remove obsolete detail in README,0.6008495,Remove deprecated short options,Avoid the following warning on some systems: warning: implicit declaration of function 'kill' [-Wimplicit-function-declaration],0
1763,Fix segfault on empty file recorded,0.94933504, - Fix segfault on empty file recorded (#918),"On decode error, unref the packet.",1
1764,Mention mipmapping in FAQ,0.6268505,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.",Ctrl+UP and Ctrl+DOWN are already used by the window manager on MacOS. Use Cmd key instead (like on VLC).,0
1765,Accept port range,0.6745076," - Use another local port if 27183 is not available (#945, #951)","Move the Ctrl and Meta key down checks to each shortcut individually, so that we can add a shortcut involving Meta.",0
1766,Update links to v1.23,0.55323315,Some popular webpages seem to point to this (very) old version. Use the latest version instead.,fix text memory leak,0
1767,Add a clean up process on the device,0.59123147," - Add --no-cleanup option (#1764, #3020)",Fix potential memory leak when controller_push_event failed. Signed-off-by: yuchenlin npes87184@gmail.com,0
1768,Use shell environment to execute launcher,0.52953017,"To pass command line arguments, it must still be started from a terminal or a script though.","Alt and Meta keys should not be forwarded to the device. For now, they are not used for shortcuts, but they could be.",0
1769,Merge mouse and touch events,0.6875217," - Correctly handle mouse events outside device screen (#353, #357)",Extract command line building to a separate method.,0
1770,Update links to v1.5 in README and BUILD,0.52049685,"Copy-paste have been improved by previous releases, especially v1.15.",ByteBuffer position is not updated as expected by Os.write() on old Android versions. Count the remaining bytes manually. Fixes link.,0
1771,Fix win32 build,0.7198706,"Also, due to an issue in the libusb prebuilt library for win32, this feature is disabled in the win32 release (it will be enabled later when it's fixed).","Quote the arguments of ""adb push"" to support paths which contain spaces on Windows. Fixes link.",1
1772,Fix command-line help typo,0.5881295, - Improve some error messages,This is not C++.,0
1773,Get env in windows correctly,0.50388086,Encoder selection,,0
1774,Add missing mutex unlock on error,0.5051504, - List available shortcut keys on error (#1681),Include the latest version of adb in Windows releases.,0
1775,Document scrcpy via SSH tunnel in README,0.61308086,scrcpy --render-driver=opengl,,0
1776,Use VecDeque in video_buffer,0.49247682, - Fix recorded video to avoid crashes in Adobe Premiere (#702),,0
1777,Do not merge config audio packets,0.5592427," - Add Audio forwarding (#14, #3757)","To handle special chars, text is handled as text input instead of key events. However, this breaks the separation of DOWN and UP key events. As a compromise, send letters and space as key events, to preserve original DOWN/UP events, but send other text input events as text, to be able to send ""special"" characters. Fixes link. Suggested-by: pete1414 Suggested-by: King-Slide kingslide@gmail.com",0
1778,Prefix receiver by sc_,0.6718821,scrcpy -S,,0
1779,Push clipboard text only if not null,0.5632334, - Fix clipboard paste (#1658),prevent closing console right after process error in windows,0
1780,Fix order of options,0.4770793,Remove deprecated short options,Signed-off-by: yuchenlin npes87184@gmail.com,0
1781,Move utilities to util/,0.41365772,"Since these are ""advanced"" features (not common enough), the short version of these options had been deprecated in scrcpy v1.11 two years ago. It's time to remove them (and it simplified some refactors). Only the long version remains.",,0
1782,Remove actions bitset,0.545452,Remove deprecated short options,Return specific error for missing adb binary on Windows,0
1783,Improve file handler error message,0.69948167, - Improve some error messages,Signed-off-by: yuchenlin npes87184@gmail.com Signed-off-by: Romain Vimont rom@rom1v.com,0
1784,Do not use device as a singleton,0.57737875, - Do not power on the device if --no-control is set,"Directly send the data from MediaCodec buffers to the LocalSocket, without an intermediate copy in userspace.",0
1785,Swap MENU and APP_SWITCH shortcuts,0.7353717,Menu shortcuts,Added new command line parameter to start in fullscreen,1
1786,Merge branch 'dev' into master,0.40339985, - Change the Windows build (cross-compile from Linux),,0
1787,Add option to select USB or TCP/IP devices,0.86771274,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:",Signed-off-by: Romain Vimont rom@rom1v.com,1
1788,Upgrade Android SDK to 33,0.66889304,Improve Android 12 support,check adb runnable before starting scrcpy,0
1789,Add compat support for FFmpeg < 5.1,0.7298367, - Upgrade FFmpeg to 5.0.1 in Windows 64-bit releases,"The common command.c handled process errors from system-specific int values (errno). Rather, expose a new enum process_result to handle error cause in a generic way.",1
1790,Remove duplicate function declaration,0.4352167,Serial auto-completion,"There are many user who encounters missing adb. To stop things happens again, we check it and show sexy response to user. Signed-off-by: yuchenlin npes87184@gmail.com",0
1791,Bump version to 1.7,0.7948667, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
1792,"Replace ""cannot"" by ""could not""",0.32247084," - Generate both console and noconsole versions (fix ""no output"" issue)",The package scrcpy from Homebrew does not install adb.,0
1793,Print server logs and newline in one call,0.5364526,Log input events,"README included build instructions, which made it complicated to follow. Move the build instructions to a separate file (BUILD.md).",0
1794,FAQ in Italian,0.2991774,MOD+o).,Include the last version of FFmpeg in Windows releases.,0
1795,Update links to v1.18 in README and BUILD,0.5166184,"Pasting (e.g. via Ctrl+v) was broken in some cases (#1658). The fix would have required a new hotfix version (v1.15.2), but since pinch-to-zoom is ready, just go for v1.16 right now.",Include the last version of adb in Windows releases. Fixes link.,0
1796,Simplify README for Windows users,0.7482017,Windows PATH simplification,lock_util.c did not include lock_util.h. This was catched by the gcc option -Wmissing-prototypes.,1
1797,Indent switch blocks content,0.41878358,Buffering,Rename foobar.ext to foo_bar.ext. link,0
1798,Inject touch events on the server,0.69482386, - Fix touch events parameters (#2125),Document how to push a file to /sdcard/ in the shortcuts list.,0
1799,Compute all screen info from ScreenInfo,0.72977865,Screen off workarounds,These functions are local to file_handler.c.,1
1800,Add simplified Chinese translation for README.md,0.46852523,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","SDL_assert() already prevents ""unused variable"" warnings.",0
1801,Initialize recorder fields from init(),0.4584671, - Record asynchronously,"When config.h is not included, BUILD_DEBUG is not set.",0
1802,Quit on audio configuration failure,0.5290446," - Fix mp4 headers produced by recording (#351, #416)",support drag & drop file to device /sdcard,0
1803,Add option --no-mipmaps,0.7683563,"To force-disable mipmaps even on supported versions of OpenGL, use --no-mipmaps.",Signed-off-by: npes87184 npes87184@gmail.com,1
1804,Add --audio-encoder,0.7340543," - Add Audio forwarding (#14, #3757)",Signed-off-by: npes87184 npes87184@gmail.com,1
1805,Move PRIu64 Windows workaround to compat.h,0.6354307, - Change the Windows build (cross-compile from Linux),"The current_process field was never reset after an installation is complete. As a consequence, installer_stop() attempted to terminate it, leading to a warning, at best.",0
1806,prevent closing console right after process error in windows,0.74065554, - Keep the console open on error on Windows (#261),"Make scrscpy to return 0 exit code only in case when the user closes its app, otherwise, i.e. in case of connection loss, return 1.",1
1807,Mention Ubuntu 20.04 package,0.47870928,scrcpy v1.20,"In the Android input header file, an enum has a value taking more than 31 bits, leading to the following warning: ISO C restricts enumerator values to range of int Since we don't use it, remove it.",0
1808,Add link to Gentoo Ebuild in README,0.4861598, - Print both compiled and linked version of libs on --version,,0
1809,Do not crash on missing clipboard manager,0.9397603," - Do not crash on missing clipboard manager (#1440, #1556)",ISO C99 doesn't support unnamed structs/unions.,1
1810,Make HID keyboard and mouse optional in OTG mode,0.7806528,"HID keyboard and mouse may be used either in ""mirroring"" mode (the default with mirroring enabled) or OTG mode (when --otg is passed):",Signed-off-by: npes87184 npes87184@gmail.com,1
1811,Reference FFmpeg Windows builds from GitHub,0.61909497, - Update FFmpeg to 4.1 included in Windows releases,remove redundant semicolon,0
1812,Move rotation coordinates to screen,0.8059535,Display rotation,Signed-off-by: npes87184 npes87184@gmail.com,1
1813,Rename --output-file to --record,0.449927, - Record asynchronously,,0
1814,"Use ""/usr/bin/env bash"" for build-wrapper.sh",0.45344293,"To connect to a remote ADB server over the Internet, it is strongly recommended to use a SSH tunnel instead.",,0
1815,Add jrand48()/nrand48() compat functions,0.54466987, - Add --render-driver parameter (#1284),Add an option to crop the screen on the server. This allows to mirror only part of the device screen.,0
1816,Fix typo in README,0.46120057, - Workaround for Os.write() bug on Android 5.0.x (#291),This confused the Android Studio code formatter.,0
1817,Disable USB features for win32,0.6952162,EDIT: And there are still issues on Windows when USB debugging is disabled: #3050 :disappointed: ,"One method, one thing.",0
1818,Add --tcpip feature,0.76898277, - Make it work over tcpip (#5),5 seconds might not be sufficient: link Increase to 10 seconds (it does not harm).,1
1819,Parse codec options early,0.70561564,Advanced codec options,av_register_all() is deprecated in FFmpeg since this commit: link It is now useless to call it: link Fixes link.,1
1820,Expose a single process_wait(),0.5511212,"By default, running scrcpy.exe opens a new console, which is closed as soon as the process terminates. To let the user a chance to read any error message, a ""pause"" was implemented on error, but this caused issues for scripting (#1875).",So that users stop downloading platform-tools unnecessarily.,0
1821,"Use ""meson setup""",0.4001729,$ANDROID_SERIAL,Send repeated events when holding volume up/down shortcuts.,0
1822,Replace SDL_strdup() by strdup(),0.62260324, - Print help to stdout (instead of stderr),"Shortcuts generated instant DOWN/UP key events. Instead, generate DOWN event on Ctrl+key down and UP event on Ctrl+key up. Fixes link.",0
1823,Bump version to 1.2,0.8184911, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Replace ""implying"" by ""involving"" (both ""impliquant"" in French).",1
1824,Forward action button to device,0.773162,A new option --forward-all-clicks has been added to forward these clicks to the device instead.,"A missing initialization (fixed by the previous commit) leaded to kill unexpected process. In order to prevent consequences of similar errors in the future, never call kill() with a non-positive PID. See link.",1
1825,Bump version to 1.17,0.7580265, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"The current_process field of struct installer was not initialized. Since the installer instance is static, its default value was 0. The call to installer_stop() then called kill(0, SIGTERM) (on Linux), which sent SIGTERM to every process in the process group. In particular, the scrcpy process was killed. As a consequence, the last cleanup steps, like disabling ""show touches"", were not executed. Fixes link.",1
1826,Upgrade platform-tools (33.0.3) for Windows,0.9084938, - Upgrade platform-tools to 33.0.3 (adb) in Windows releases,Fix meson error: for loop initial declarations are only allowed in ,1
1827,Bump version to 1.16,0.7801101, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,1
1828,Bump version to 1.20,0.7714393, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"Meson decided to crossbuild for Windows as soon as meson.is_cross_build() returned true. This made non-Windows crossbuilds fail. Instead, add an explicit option ""crossbuild_windows"". Fixes link.",1
1829,Wrap SDL thread functions into scrcpy-specific API,0.6916881,scrcpy --render-driver=opengl,"Make the ""clean"" recipe also remove the noconsole build directories.",0
1830,Update links to v1.24,0.5502478, - Update FFmpeg to 4.0.2 included in Windows releases,,0
1831,Add option to specify the initial window position,0.84157336, - Add options to set an initial window size and position (#762),,1
1832,Extract video streaming to a separate class,0.5535943,The stream can then be opened with any V4L2-capable software. This allows for example expose the device screen to your favorite video-conference tool or to capture it directly from OBS (select Video Capture Device (V4L2) as a source).,,0
1833,Add Apache 2 LICENSE file,0.40027452, - Add feature to install APK files via drag & drop (#133),It contains the checksums for several files.,0
1834,Move command-line parsing to a separate file,0.51891637, - Adapt --help output to terminal size,"On Windows, display the output of external commands (adb) when a console is available.",0
1835,Merge branch 'philippsandhaus:master' into dev (#252),0.38105837,scrcpy v1.5-fixversion,"Document how to generate a Windows release from Linux. It solves the ""no output"" issue on Windows, so update the FAQ.",0
1836,Fix SDL 2.0.9 for Windows,0.86576796, - Update SDL to 2.0.9 included in Windows releases,"On Windows, an application is either console or gui, it cannot be both. Scrcpy should be both: it outputs important information to console, but we still want to be able to ignore the console and launch it without a visible cmd.exe window. Therefore, build two binaries:  - scrcpy.exe  - scrcpy-noconsole.exe",1
1837,"Rename ""build_"" to ""compile_""",0.5480403, - Change the Windows build (cross-compile from Linux),"Build the Windows binary from mingw on Linux, using the official prebuilt binaries for ffmpeg, SDL2 and adb. MSYS2 and all its packaged dll are not necessary anymore.",0
1838,Define default options as const struct,0.46352214,scrcpy -w  # short option,,0
1839,Remove unused custom event,0.5539764," - Add option to ignore repeated key events (#1013, #1623)",,0
1840,Forward all motion events to mouse processors,0.65333843," - Correctly handle mouse events outside device screen (#353, #357)",Add the drag & drop shortcut for installing an APK file to the README and the help.,0
1841,Separate build instructions from README,0.48320013, - Add option --no-control to mirror in read-only,"Windows will parse the string, so the local name must be quoted.",0
1842,Upgrade SDL (2.26.4) for Windows,0.97521985, - Upgrade SDL to 2.26.4 in Windows releases,link,1
1843,Add clipboard logs,0.68451047, - Add computer-to-device clipboard copy (#413),"If len is not positive, w could be returned uninitialized.",0
1844,Use $ANDROID_SERIAL if no selector is specified,0.80322397," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","In practice, proc_show_touches may not be used uninitialized, since it checks the flag options->show_touches, but the compiler can't know that, so initialize it to avoid the warning.",1
1845,Add intermediate frame in video buffer,0.59221077,scrcpy --display-buffer=50  # add 50 ms buffering for display,"Once the controller took a control event, release the mutex before processing it, so that the main thread is not blocked to push a new event.",0
1846,Mention necessary reboot,0.5835017, - Various technical refactors and fixes,"Fail on SDL_strdup() failure, and free the duplicated serial on further error.",0
1847,Return build_cmd() success via a boolean,0.40741974,:: in cmd,Include string.h and stdio.h explicitly.,0
1848,Add option --max-fps,0.7098211, - Add --max-fps to limit the frame rate (Android 10 only) (#488),,1
1849,Bump version to 1.15,0.7905394, - Bump version to 1.5 (as shown by scrcpy --version) (#332),Forward numpad ENTER key to the device. Fixes link.,1
1850,Add missing spaces in help,0.47959435," - Fix ""push file"" with spaces on Windows (#288)",Link to the workaround to keep the compositor enabled while scrcpy is running.,0
1851,"Rename ""input_manager"" variables to ""im""",0.4244992,"On Windows, setting an environment variable is slightly different:",Fix the following warning (with -Wpedantic enabled): pointer of type void  used in arithmetic [-Wpointer-arith],0
1852,Replace Uint32 by int to fix warnings in tinyxpm,0.4536023, - Improve some error messages,"Sending data only require to read the input buffer, so declare it const.",0
1853,Copy codec parameters from context,0.61504614,Advanced codec options,"I could not make Ctrl+'+' and Ctrl+'-' work for every keyboard on every platform. Instead, use Ctrl+UP and Ctrl+DOWN (like in VLC) to change the volume. Fixes link.",0
1854,Use current adb port (if any) for --tcpip,0.92545664," - Use current adb port (if any) for --tcpip (#3591, #3592)","To build for Windows 32 bits, use the i686 packages instead.",1
1855,Fix MIN/MAX macros,0.48542154, - Adapt --help output to terminal size,Reorder the imports to remove checkstyle warnings.,0
1856,Extract adb tunnel to a separate component,0.6379595,Configure tunneling,The application is now packaged for Homebrew: link Give instructions to install it from Homebrew for macOS (it's much easier). Thanks to @stek29 for the formula ;-),0
1857,Synchronize device clipboard to computer,0.7695805, - Add device-to-computer clipboard copy (#145),"On MSYS2, ./gradlew does not work as expected, so use its absolute path.",1
1858,Add an audio decoder,0.6487991," - Add Audio forwarding (#14, #3757)",,0
1859,Print help to stdout,0.94220984, - Print help to stdout (instead of stderr),"SDL_CreateTexture() is called both during initialization and on frame size change. To avoid inconsistent changes to arguments value, factorize them to a single function create_texture().",1
1860,Add Traditional Chinese translation for README,0.48669064,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","Double-clicks were not sent to the device anymore since the ""double-click on black borders"" feature. When a double click occurs inside the device screen, send the event to the device normally. Fixes link.",0
1861,Do not set buttons on touch events,0.7108569, - Fix touch events parameters (#2125),"Enabling ""show touches"" involves the execution of an adb command, which takes some time. In order to parallelize, execute the command as soon as possible, but reap the process only once everything is initialized.",1
1862,Update script to build without gradle to SDK 31,0.5547814, - Upgrade platform-tools to 31.0.2 (adb) in Windows releases,"If --show-touches is set, then the option must be disabled on quit. Since it executes an adb command, it takes some time, so close the window beforehand so that the close window button does not seem unresponsive.",0
1863,Add cross-compilation scripts for Windows,0.7003499, - Change the Windows build (cross-compile from Linux),Add -t/--show-touches option to show physical touches while scrcpy is running. See link.,1
1864,Improve workarounds call comments,0.59065306, - Improve some error messages,"The scrcpy() function accepts as many parameters as there are options. To simplify, group all options in a separate struct.",0
1865,Update links to v1.6 in README and BUILD,0.50279164, - Bump version to 1.5 (as shown by scrcpy --version) (#332),,0
1866,Extract unknown encoder error message,0.75772893, - Retry on spurious encoder error (#3693),macOS specific README changes,1
1867,Document exit status in --help,0.4730044, - Workaround screen off/on issue on exit (#1670),"And remove gcc from the packages list, clang is available by default.",0
1868,Fix gradle warnings in tests,0.6316959, - Improve some error messages,Add instructions to run via Docker,0
1869,Use timers with microsecond precision,0.57194114,"To minimize latency, scrcpy was to always display a frame as soon as it is available, without waiting. This design decision is (on purpose) at the cost of jitter: the delay between frames is not preserved. Note that this does not impact recording (--record), which writes the timestamps captured on the device.",Update README.md,0
1870,Add option for disabling screensaver,0.90284157," - Add option to disable screensaver (#1370, #1502)",Fix Typo,1
1871,Merge pull request #587 from schwabe/fix_586_screen_off_qbeta,0.5003482,Screen off workarounds,,0
1872,Upgrade SDL (2.0.14) for Windows,0.97184485, - Upgrade SDL to 2.0.14 in Windows releases,Add links to FFmpeg and LibSDL2 dependencies,1
1873,Reorder scrcpy-server options,0.68526435,scrcpy v1.13,,0
1874,Link release to main README in translations,0.5018957, - Print both compiled and linked version of libs on --version,,0
1875,Simplify net_send_all(),0.49784312,Simplify TCP/IP (wireless) configuration,"On H.264 stream EOF, the eof_reached flag is set, but av_read_frame() still provides a frame, so check the flag only afterwards. As a side-effect, it also fixes a memory leak (the very last packet was not unref).",0
1876,Fix include for standard library header,0.50052845, - Implement (optional) buffering (#2464),,0
1877,Add support for USB HID keyboard over AOAv2,0.73093295, - Add HID keyboard support on Linux (#2632),"Since scrcpy also supports adb forward, remove the part about adb reverse. Make explicit that adb is included in the prebuilt application for Windows (many users manually download the platform-tools for no reason).",1
1878,Initial commit,0.36480552,Contact,"Add support for CTRL+S to send hardware ""shake"" to device",0
1879,Make owned serial a pointer-to-non-const,0.59532773,Serial auto-completion,"Ctrl+s was mapped to MENU, while Ctrl+m was mapped to APP_SWITCH. To avoid confusion, swap the shortcuts:  - Ctrl+m like _M_enu  - Ctrl+s like _S_witch",0
1880,Add missing include  for strlen(),0.48753572, - Add --list-displays and --list-encoders,"The action sends AKEYCODE_MENU, so just name it ""menu"". See link.",0
1881,Log with category APPLICATION,0.6178608,Log input events,"Since nothing is printed to the console, we need a way to get the output in case of errors. Describe how in the README.",0
1882,Merge branch 'npes87184:dev' into dev (#236),0.40461558,An alternative implementation (#2802) fixes the issue.,,0
1883,Add Ctrl+i shortcut to enable/disable FPS counter,0.675842, - Add Ctrl+Shift+o shortcut to turn screen on (#175),"Request SDL not to replace the SIGINT and SIGTERM handlers, so that the process is immediately terminated on Ctrl+C. This avoids process hanging on Ctrl+C during network calls on initialization. Some of them accepted a timeout, but it was not used since commit 9b056f5091ad0bc35cd0188cfcb887eb30269fef anymore.",0
1884,"Add unit test for big ""set clipboard"" event",0.5072154, - Increase clipboard size from 4k to 256k (#1117),Remove unnecessary additional blocks.,0
1885,Increase LOD bias for mipmapping,0.6868751, - Increase LOD bias to reduce blurring on trilinear filtering (#1394),"All headers and sources are in src/. To avoid using relative includes from subdirectories (""../../""), include the source root directory.",0
1886,Update code style,0.5537219,Advanced codec options,"This is not obvious to everyone, especially non-developers.",0
1887,Move control-related code to screencontrol.c,0.60316014,Screen off workarounds,"In ""adb forward"" mode, it may take a while before the server socket is listening, so increase the number of connection attempts. See link.",0
1888,Update links to v1.1 in README,0.47087193,"Copy-paste have been improved by previous releases, especially v1.15.","The types size_t and ssize_t are defined on Windows (in MSYS2), so there is no need to typedef SIZE_T and SSIZE_T. Exit code is ""unsigned long"" both on Windows 32 and 64 bits. See link.",0
1889,Do not inject Ctrl+v if clipboard sync failed,0.8101884, - Ensure clipboard synchronization is performed before injecting Ctrl+v via HID keyboard (#2814),"For consistency with mouse button events handling, directly assign from Sint32 to Uint16.",1
1890,"Use sc_ prefix for size, position and point",0.5568029,scrcpy -S,"Mouse ""wheel button"" is meaningless :)",0
1891,Mention adb wireless option for Android 11+,0.5954536,Android 11,"For readability and consistency, indent case statatements, and remove unnecessary additional blocks.",0
1892,Make control_event_serialize() return size_t,0.46547318, - Fix touch events parameters (#2125),"On some devices, mouse clicks do not work by default. Enabling an option is required.",0
1893,Add link to Snap package in README,0.51281816, - Add feature to install APK files via drag & drop (#133),,0
1894,Add --list-displays,0.9111899, - Add --list-displays and --list-encoders,Two issues described in the FAQ have been fixed by V1.1. Remove them from the FAQ.,1
1895,Allocate AVPacket for stream->pending,0.511693, - Add server options to send raw H.264 video stream (#2971),,0
1896,Use net_close() to close sockets,0.46405488, - Terminate server properly without killing it on close (#1992),,0
1897,Include config.h to fix HIDPI support,0.73641306, - Fix HiDPI support (#829),,1
1898,"Enable video output file, with pts set by server",0.62638116, - Add server options to send raw H.264 video stream (#2971),"Do not pass any data to the event watcher, it is unused.",0
1899,Retry on spurious error,0.5538615, - Retry on spurious encoder error (#3693),"In ""adb forward"" mode, close the server socket as soon as the client is connected. Even if unlikely to be useful, it allows to run several instances of scrcpy also in ""adb forward"" mode.",0
1900,Fix reference to FAQ in README,0.45605695,"The FAQ explained how to force correct HiDPI scaling by the application to fix the issue, but it was not convenient (and nobody reads the FAQ anyway).","On Windows and MacOS, resizing blocks the event loop, so resizing events are not triggered:  - link  - link As a workaround, register an event watcher to render the screen from another thread. Since the whole event loop is blocked during resizing, the screen content is not refreshed (on Windows and MacOS) until resizing ends.",0
1901,Fix README indentation,0.43404317, - Fix unexpected focus behavior on scroll (#1362),"In MSYS2 on Windows, the output is buffered by default. Disable buffering to print output immediately. Note that in cmd.exe, it still prints nothing.",0
1902,Fix socket close race condition,0.551787," - Fix possible session crash on close (#52, #182)",Resize the window to fit the device screen on click on black borders (same as Ctrl+x). Suggested-by: Guillaume Roche groche@genymobile.com,0
1903,Move prebuilt-deps/ to app/,0.45987904,Improve Android 12 support,,0
1904,Bump version to 1.21,0.78581977, - Bump version to 1.5 (as shown by scrcpy --version) (#332),"""adb reverse"" currently does not work over tcpip (i.e. on a device connected by ""adb connect""): link To work around the problem, if the call to ""adb reverse"" fails, then fallback to ""adb forward"", and reverse the client/server roles. Keep the ""adb reverse"" mode as the default because it does not involve connection retries: when using ""adb forward"", the client must try to connect successively until the server listens. Due to the tunnel, every connect() will succeed, so the client must attempt to read() to detect a connection failure. For this purpose, when using the ""adb forward"" mode, the server initially writes a dummy byte, read by the client. Fixes link.",1
1905,Remove video_buffer callbacks,0.5763245, - Fix recorded video to avoid crashes in Adobe Premiere (#702),"The serial is needed for many server actions, but this is an implementation detail, so the caller should not have to provide it on every call. Instead, store the serial in the server instance on server_start(). This paves the way to implement the ""adb forward"" fallback properly.",0
1906,Change the window icon color in debug mode,0.6695831, - Add option to disable window decorations (#762),Because why not. See link.,0
1907,Make the server unlink itself,0.63864625, - Terminate server properly without killing it on close (#1992),The SDL mouse wheel event seems inconsistent between horizontal and vertical scrolling. Movements to the left generate negative x values and to the right generate positive x values. Movements down (scroll backward) generate negative y values and up (scroll forward) generate positive y values. link Reverse the horizontal. Fixes link.,0
1908,Add audio recording support,0.7192904," - Add Audio forwarding (#14, #3757)",Document how to install on Fedora,1
1909,Rename buffer util functions with sc_ prefix,0.4314943,So it is possible to immediately call scrcpy again with -s.,"Now that instructions are given for both Debian/Ubuntu and Fedora, use subsections.",0
1910,Use Ctrl for all shortcuts,0.77253073, - Support holding Ctrl+Key shortcuts (#166),,1
1911,Inject additional ACTION_BUTTON_* events for mouse,0.6296403, - Fix mouse events deserialization (comment in #350),"Document server and client dependencies separately, to avoid unneeded packages installation when building using the prebuilt server. Also remove ""zip"", since it's only used for building a portable version (which is not documented in README).",0
1912,Do not duplicate relative mouse mode state,0.5854553, - Fix mouse events deserialization (comment in #350),Use default values (0) for some fields of PointerCoords so that mouse clicks work correctly on LG devices. Fixes link.,0
1913,Improve string util API,0.40721774,$ANDROID_SERIAL,"The codec only supports dimensions which are multiple of 8. Thus, when --max-size is specified, the value is always rounded down to the nearest multiple of 8. However, it was wrongly assumed that the physical size is always a multiple of 8. To support such devices, also round down the physical screen dimensions. Fixes link.",0
1914,Move fps_counter to screen,0.69823223," - if nothing changes on your screen, then the capture framerate will be 0 fps.",,0
1915,Make buffer util functions accept const buffers,0.59576005,Buffering,Improve README syntax highlighting.,0
1916,Expose function to find a USB device,0.5710038,"In OTG mode, the USB devices are also listed for convenience:",And fix spaces (do not randomly use non-breaking spaces for indentation).,0
1917,Create recorder streams from packet sinks ops,0.5836577,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",,0
1918,Expose new user-friendly adb functions,0.51613724,DEBUG: ADB device found:,,0
1919,Add a new socket for audio stream,0.61728275," - Add Audio forwarding (#14, #3757)",Middle-click is useless in practice. Use it for HOME.,0
1920,Add util function to remove trailing '\r',0.5161183, - Remove deprecated short options -T and -c,"Right-click was used to turn the screen on. It did nothing when the screen was already on. Instead, in that case, press BACK (like Vysor). Suggested by: link/",0
1921,Compute buffering and compensation without lock,0.6115478,Buffering,"The text input control_event was initially designed for mapping SDL_TextInputEvent, limited to 32 characters. For simplicity, the copy/paste feature was implemented using the same control_event: it just sends the text to paste. However, the pasted text might have a length breaking some assumptions:  - on the client, the event max-size was smaller than the text    max-length,  - on the server, the raw buffer storing the events was smaller than the    max event size. Fix these inconsistencies, and encode the length on 2 bytes, to accept more than 256 characters. Fixes link.",0
1922,Move Workarounds call,0.5283625,Screen off workarounds,Do not leak the packet data on error.,0
1923,Forbid HID input without OTG on Windows,0.7421322," - Add HID/OTG support for Windows (--otg only) (#2773, #3011)",Oops! The content of the packets were never freed.,1
1924,Move FFmpeg callback initialization,0.5544461, - Upgrade FFmpeg to 4.1.3 in Windows releases,Indicate how to run the app from the build directory in README. It's convenient during development.,0
1925,Factorize texture creation,0.46342683,Downscaling quality (trilinear filtering),,0
1926,Use sc_ prefix for screen,0.6353731,scrcpy -S,,0
1927,Define SDL_MAIN_HANDLED in all tests,0.48226255,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,And update README.,0
1928,Use getPhysicalDisplayToken on Anroid Q+ instead of getBuiltInDisplay,0.5537606," - Make --turn-screen-off work for Android Q devices (#586, #587)",,0
1929,Fix visualization of comment in code block,0.4668815," - Fix rendering issues (#1408, #787)","Paste computer clipboard to the device on Ctrl+v. The other direction (pasting the device clipboard to the computer) is not implemented. It would require a communication channel from the device to the computer, other than the socket used by the video stream.",0
1930,Run tests with ASAN enabled,0.43035614,To enable this mode:,"Initializing with braces initializes the other fields to 0, which is not necessary.",0
1931,Specify in README that OTG does not require adb,0.5705955,OTG mode,"The High DPI support is enabled by default, so that the renderer use the full definition of High DPI screens. However, there are still mouse coordinates problems on some MacOS having High DPI support (but not all), so expose a way to disable it.",0
1932,Enable mouse focus clickthrough,0.97810495,Mouse focus clickthrough,"A call to avcodec_receive_frame() may return AVERROR(EAGAIN) if more input is required. This is not an error, do not fail.",1
1933,Update FAQ.zh-Hans.md to v1.22,0.52289855, - Add ZSH completion script (#3012),Directly link to the relevant subsection.,0
1934,Declare main() with argc/argv params in tests,0.33720967,adb uses the ANDROID_SERIAL environment variable if no -s is specified. Use this same variable in scrcpy if no selector is specified (#3111):,Initialize variables only when necessary.,0
1935,Fix error message,0.8179105, - Improve some error messages,The API to decode the video frames is different depending on the libavcodec version. Move the new API usage to the #if-block.,1
1936,Fix proc_show_touches warning,0.66217124, - Improve --show-touches behavior,"The decoder sometimes returned a non-zero value on error, but not on every path. Since we never use the value, always return 0 at the end (like in the controller).",0
1937,Make streamer more generic,0.45970774,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:",Just enabling this flag breaks mouse location values. This reverts commit 38b56f552e0667db60c7022d4a2713da8fb4e338.,0
1938,Write streamer header from ScreenEncoder,0.53894806, - Keep screensaver enabled while scrcpy is running (#380),The server socket does not release the port it was listening for if we just close it: we must also shutdown it.,0
1939,Fix NoSuchMethodException for injectInputEvent(),0.58956957, - Fix possible BufferUnderflowException on touch event (#1245),"SDL_MouseWheelEvent does not provide the mouse location, so we used SDL_GetMouseState() to retrieve it. Unfortunately, SDL_GetMouseState() returns a position expressed in the window coordinate system while the position filled in SDL events are expressed in the renderer coordinate system. As a consequence, the scroll was not applied at the right position on the device. Therefore, convert the coordinate system. See link.",0
1940,Add links to AUR packages in README,0.44950297, - Add feature to install APK files via drag & drop (#133),"Replace ""at network level"" by ""at the network level"".",0
1941,Rename decoder to video_decoder,0.59275967,A new option --encoder allows to select another available H.264 encoder.,"Set the default video bitrate to 8Mbps. This greatly increase quality on fast motion, without negative side effects.",0
1942,Add function to switch device to TCP/IP mode,0.7986325, - Add --tcpip option to automate TCP/IP (wireless) connections (#2827),The old name checkRotationChanged() did not suggest that the flag was reset.,1
1943,Simplify server_connect_to(),0.6248914,Simplify TCP/IP (wireless) configuration,"Use high DPI if available. Note that on Mac OS X, setting this flag is not sufficient: On Apple's OS X you must set the NSHighResolutionCapable Info.plist property to YES, otherwise you will not receive a High DPI OpenGL display. link",0
1944,Replace VLA by dynamic allocation,0.42428273,"It also simplifies V4L2 usage, which does not support video dimension changes.","Explain how to build, install and run the application.",0
1945,Add --audio-bit-rate,0.7131256," - Add Audio forwarding (#14, #3757)",,1
1946,Replace android-tools-adb by adb,0.60924774,DEBUG: ADB device found:,"On user request to quit, two kinds of blocking calls must be interrupted on the server:  1. the reads from and writes to the socket;  2. the call to MediaCodec.dequeueOutputBuffer(). The former case was handled by calling shutdown() on the socket from the client, but the latter was not managed. There is no easy way to wake this call properly, so just terminate the process from the client (i.e. send SIGTERM on Linux) instead.",0
1947,Merge branch 'fedora_install' (pull request #29),0.43954134, - Push to /sdcard/Download by default (#2384),"Stop encoding if the codec signaled the end of stream. The eof flag was read, but never written.",0
1948,Turn screen on on start,0.9062953,Turn screen on,"The server is copied to /data/local/tmp/scrcpy-server.jar and executed on the device. As soon as we are connected, we can unlink (rm) it from /data/local/tmp, to keep the device clean.",1
1949,Add --print-fps to enable FPS counter on start,0.8735088,This release adds a new option --print-fps to start the FPS counter immediately.,"The function adb_execute() now expects a ""const char const "" parameter for the adb command, so there is no need to cast.",1
1950,Disable custom SDL signal handlers,0.54140055,scrcpy -Sw  # turn sceen off and stay awake,"The Server class is in package scrcpy, there is no need to repeat the name in the classname.",0
1951,Do not expose frame rate in ScreenEncoder,0.7282953," - if you play a 25 fps fullscreen video, then the capture framerate will not be higher than 25 fps;","The recipe ""build-portable"" is also the name of the generated directory. Add this name to the .PHONY list.",1
1952,Set initial fullscreen from screen.c,0.7689185, - Add command-line option to start in fullscreen (#252),"The server is currently a JAR, but it may ba an APK or a DEX, so the variable name should not contain the type. Rename the environment variable, the Meson options and the C definitions.",1
1953,Pass serial within struct server_params,0.50853705,$ANDROID_SERIAL,"Set SO_REUSEADDR flag to server socket, so that bind() does not fail if we restart scrcpy immediately after we closed the previous one.",0
1954,Remove MagicNumber checkstyle,0.46255052, - Remove black borders on double-click,"Do not silently ignore close() and shutdown() errors, and use perror() to get the errno.",0
1955,Fix code style in keyboard_inject,0.5998869,"This will typically result in the insertion of wrong characters for some keyboard layouts, but it may help a lot with some others (e.g. Chinese).","No exception was thrown on EOF, so the event controller did not terminate. This leaded to a further InvocationTargetException. Instead, terminate the event controller on EOF, so that the process terminates properly.",0
1956,List and select USB devices separately,0.6663661,"In addition, two new options allow to select a USB or TCP/IP device when there is only one connected:","Call shutdown() on the device socket to make the device process finish its execution quickly and gracefully, without killing it.",0
1957,Remove unused port_range field,0.5005562," - Add --tunnel-host and --tunnel-port options (#2801, #2807)","Expose net_recv_all() and net_send_all(), equivalent of net_recv() and net_send(), but that waits/retries until the requested length has been transferred. Use these new functions where it was (wrongly) assumed that the requested length had been transferred.",0
1958,Add option to mirror in read-only,0.9406381, - Add option --no-control to mirror in read-only,"If the frame_size width or height is 0, just return the current size to avoid calculations involving divison by 0.",1
1959,Add mouse shortcut to expand settings panel,0.77511203,The keyboard shortcut MOD+n+n has also been added to expand the settings panel.,,1
1960,Update links to v1.4 in README and BUILD,0.49888998, - Update FFmpeg to 4.0.2 included in Windows releases,"If the received data is smaller than the device information size, then something is wrong.",0
1961,Fix deprecation warning in Java unit test,0.45527554, - Improve some error messages,"SDL_net is not very suitable for scrcpy. For example, SDLNet_TCP_Accept() is non-blocking, so we have to wrap it by calling many SDL_Net-specific functions to make it blocking. But above all, SDLNet_TCP_Open() is a server socket only when no IP is provided; otherwise, it's a client socket. Therefore, it is not possible to create a server socket bound to localhost, so it accepts connections from anywhere. This is a problem for scrcpy, because on start, the application listens for nearly 1 second until it accepts the first connection, supposedly from the device. If someone on the local network manages to connect to the server socket first, then they can stream arbitrary H.264 video. This may be troublesome, for example during a public presentation ;-) Provide our own simplified API (net.h) instead, implemented for the different platforms.",0
1962,Fix typos/grammar issues in README,0.4381944, - Fix possible overflow on copy-paste (#2859),"The syntax was correct, but less readable, and it unnecessarily zeroed the fields other than ""type"". Create the event properly, from a separate method.",0
1963,Upgrade platform-tools (31.0.3) for Windows,0.9049109, - Upgrade platform-tools to 31.0.3 (adb) in Windows releases (#2588),"Executing commands (like ""adb push"") created a new terminal window on Windows. Avoid it.",1
1964,Never forward capture keys,0.65829515,"These capture keys do not conflict with shortcuts, since a shortcut is always a combination of the MOD key and some other key, while the capture key triggers an action only if it is pressed and released alone.","Pressing Ctrl+x resizes the window to remove black borders, ""optimal"" is not well-defined.",0
1965,Move net_init() and net_cleanup() upwards,0.39996973,Fix natural scrolling,"screen_render() should not be called on initialization:  1. it is useless, since the window is hidden until the first frame;  2. it writes an empty texture (probably green) to the renderer.",0
1966,Add README,0.5652579, - Add manpage,"Disable FPS counter on start, and use Ctrl+i to enable/disable it.",0
1967,Initialize recorder fields on open,0.5018686, - Add option --no-display to record without mirroring (#418),"The ""screen control"" handled user input, which happened to be only used to control the screen. The controller and screen were passed to every function. Instead, group them in a struct input_manager. The purpose is to add a new shortcut to enable/disable FPS counter. This feature is not related to ""screen control"", and will require access to the ""frames"" instance.",0
1968,Fix missing change of Ctrl key in README,0.6935035,Ctrl and Shift,The descriptions are displayed in the result of: mesonconf builddir,0
1969,Close server socket before killing process,0.7704983, - Terminate server properly without killing it on close (#1992),It can be initially configured by: meson builddir -Dskip_frames=false Or on an existing builddir by: mesonconf builddir -Dskip_frames=false,1
1970,Add a new option: -n/--no-window,0.65942574, - Add option to disable window decorations (#762),"Remove frame counter from scrcpy.c and add a new FPS counter, logging as INFO the measured frame rate every second (on new frame).",0
1971,Use reallocarray() in sc_vector,0.4690793,scrcpy v1.21,"On error, a message is printed. If we print usage afterwards, it's easy to miss it.",0
1972,Move log level conversion to log API,0.64083886, - Add --verbosity to configure log level at runtime,"The device serial was provided as a positional argument: scrcpy 0123456789abcdef Instead, expose it as an optional argument, -s or --serial: scrcpy -s 0123456789abcdef This avoids inconsistency between platforms when the positional argument is passed before the options (which is undefined).",0
1973,Call avcodec_receive_frame() in a loop,0.4822154, - Add runtime option to render expired frames (i.e. not skip frames),"To avoid a big switch/case, implement the argument parsing logic in separate static functions.",0
1974,Stop connection attempts if interrupted,0.63232327, - Increase connection attempts (fix issues over TCP/IP),"For clarity and consistency across the application, return SDL_TRUE (instead of 0) on success and SDL_FALSE on failure (instead of non-zero).",0
1975,Add adb devices parser,0.7046422,DEBUG: ADB device found:,"For readability, sort the command-line arguments parsing by letter.",1
1976,Move finally-block to fix deadlock on stop,0.46426135," - Fix possible session crash on close (#52, #182)","Add a script to simplify the execution of scrcpy generated in a specific build directory. To run scrcpy generated in builddir, with a video size of 1024: ./run builddir -m 1024",0
1977,Initialize struct field by field,0.3935489,Serial auto-completion,"Expose a 'prebuilt_server' option to pass the path of the prebuilt binary, so that the build does not require Android SDK. Usage: meson builddir -Dprebuilt_server=/tmp/my_prebuilt_server.jar",0
1978,Fix --bit-rate option in bash completion script,0.66302717," - Add Bash completion script (#2930, #3048)","Older versions of Meson are too limited, and it's simple to install a newer version (""pip3 install meson"").",0
1979,Improve prebuilt system,0.5754489, - Various technical fixes,"The custom target used to invoke Gradle from Meson should always be built, otherwise, the server would not be rebuilt on source changes. However, when enabling ""build_always"", gradle is invoked as root on ""sudo ninja install"" after ""ninja"", so it downloads the whole Gradle world into /root/.gradle. To avoid the problem, just do not call gradle if the effective user id is 0.",0
1980,Remove default bit-rate on client side,0.6201834,A bug introduced in v1.12 could prevent to set a custom bit-rate (scrcpy -b 12m).,"Since Meson 0.44, subproject_dir may not be '.' anymore. This implies we must move app/ and server/ to a subprojects/ directory, which requires to also change some gradle files. Instead, just use subdir(), with options to disable building of the app or the server.",0
1981,Update links to v1.15 in README and BUILD,0.5996785,"Copy-paste have been improved by previous releases, especially v1.15.","The client was built with Meson, the server with Gradle, and were run by a Makefile. Add a Meson script for the server (which delegates to Gradle), and a parent script to build and install both the client and the server to the system, typically with: meson --buildtype release build cd build ninja sudo ninja install In addition, use a separate Makefile to build a ""portable"" version of the application (where the client expects the server to be in the current directory). Typically: make release-portable cd dist/scrcpy ./scrcpy This is especially useful for Windows builds, which are not ""installed"".",0
1982,Simplify demuxer,0.5450375,Windows PATH simplification,"The current meson version is able to generate a config.h from a configuration data object without any template. However, older versions of meson require a template, so provide it for compatibility.",0
1983,Merge pull request #896 from yangfl/upstream,0.44117934," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","Use macros to wrap SDL_Log* functions with the ""application"" category.",0
1984,Documentation rectifications,0.61283803, - Various technical refactors and fixes,Old versions of meson do not support set_quoted(). Replace the call by the old-fashioned manual quotation.,0
1985,Make use_opengl local,0.55288136,"On Windows, you may want to force OpenGL (instead of Direct3D) to benefit from this improvement:","Print the logs only if their level is not under the threshold, which is defined to INFO in release mode and DEBUG in debug mode.",0
1986,Send and recv all data when necessary,0.4935342, - Record asynchronously,CloseHandle() does not terminate the process. TerminateProcess() does.,0
1987,meson: Do not use full path with mingw tools name,0.40587717, - Add --verbosity to configure log level at runtime,"All our logs should use APPLICATION category. The logs for other categories are not printed by default under the ""critical"" level.",0
1988,Log user request to quit,0.53913766,Log input events,"On our Windows machine, the mingw ld.exe does not support sanitizers. Exclude them from the default debug build.",0
1989,"Log ""new texture"" at INFO level",0.5496391, - Add --verbosity to configure log level at runtime,"In release mode, use the default log priorities.",0
1990,Use meson to configure default values,0.37678593," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)",Because why not.,0
1991,Fix release instructions in BUILD.md,0.49973193," - Fix input injection on some custom ROMs (#2250, #2946)","Characters like '' or '' are not resolved by getEvents(). For example, getEvents("""") returns null. However, it is possible to decompose them. For example, getEvents(""\u0301e"") returns the events generating """". Thank you Philippe! ;)",0
1992,Use portable shebang for all bash scripts,0.54093146,"Scrcpy has a lot of options. For convenience, auto-completion scripts were added for Bash (#3048) and ZSH (@hltdev8642, #3012).","The SDL clean up does not crash anymore on exit, probably since the memory corruption caused by calling SDLNet_TCP_Close() too early has been resolved.",0
1993,Add read_pipe_all(),0.4458362, - Add option --no-control to mirror in read-only,"Wait no more than 2 seconds for accepting the connection from the device, since it blocks the event loop, preventing to react to SIGTERM (Ctrl+C).",0
1994,Explicitly pass control flag to input manager,0.4975517,"In verbose mode (scrcpy -Vverbose), all input events sent to the device are printed in the console (#2371). This can be useful for debugging.","On startup, the client has to:  1. listen on a port  2. push and start the server to the device  3. wait for the server to connect (accept)  4. read device name and size  5. initialize SDL  6. initialize the window and renderer  7. show the window From the execution of the app_process command to start the server on the device, to the execution of the java main method, it takes ~800ms. As a consequence, step 3 also takes ~800ms on the client. Once complete, the client initializes SDL, which takes ~500ms. These two expensive actions are executed sequentially:                  HOST              DEVICE listen on port        |                  | push/start the server |----------------->|| app_process loads the jar accept the connection .   ^              ||                       .   |              ||                       .   | WASTE        ||                       .   |  OF          ||                       .   | TIME         ||                       .   |              ||                       .   |              ||                       .   v              X execution of our java main connection accepted   |<-----------------| connect to the host init SDL             ||                  |                      || ,----------------| send frames                      || |,---------------|                      || ||,--------------|                      || |||,-------------|                      || ||||,------------| init window/renderer  | |||||,-----------| display frames        |<++++++-----------| (many frames skipped) The rationale for step 3 occuring before step 5 is that initializing SDL replaces the SIGTERM handler to receive the event in the event loop, so pressing Ctrl+C during step 5 would not work (since it blocks the event loop). But this is not so important; let's parallelize the SDL initialization with the app_process execution (we'll just add a timeout to the connection):                  HOST              DEVICE listen on port        |                  | push/start the server |----------------->||app_process loads the jar init SDL             ||                  ||                      ||                  ||                      ||                  ||                      ||                  ||                      ||                  ||                      ||                  || accept the connection .                  ||                       .                  X execution of our java main connection accepted   |<-----------------| connect to the host init window/renderer  |                  | display frames        |<-----------------| send frames                       |<-----------------| In addition, show the window only once the first frame is available to avoid flickering (opening a black window for 100~200ms). Note: the window and renderer are initialized after the connection is accepted because they use the device information received from the device.",0
1995,Capture device audio,0.5887937, - Support recording to MKV,Turning the screen on is semantically associated to control(): only creating the EventController object should not turn the screen on.,0
1996,Decrease recorder thread priority,0.70321405,"For maximum performance even when recording is enabled, the recorder now uses a dedicated thread.",Expose an initializer so that the caller does not have to guess what fields must be initialized.,1
1997,Implement framework wrappers separately,0.56507206,"To simplify, these hacks have been moved into Windows-specific wrapper scripts:","SDLNet_TCP_Close() not only closes, but also release the resources. Therefore, we must not close the socket if another thread attempts to read it. For that purpose, move socket closing from server_stop() to server_destroy().",0
1998,Avoid compiler warning,0.5013091, - ~Do not print irrelevant workarounds errors (#994)~,"""make build-debug"" will build with ASAN and USAN enabled.",0
1999,Remove --fullscreen validation,0.59507716,Screen off improvements,"Replace screen_update() by a higher-level screen_update_frame() handling the whole frame updating, so that scrcpy.c just call it without managing implementation details.",0
2000,Use strlist_contains() to find a muxer,0.48158875," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","Do not wait 100ms anymore to let the server print any exception: we justly want to ignore them. Moreover, there is no nanosleep() on Windows, so this solve another problem.",0
2001,Wrap receiver state into separate struct,0.4885967,"In this release, this part has been rewritten so that a frame is decoded as soon as it is received, by taking advantage of the knowledge of packet boundaries on the device side.","On close, the socket is closed by the client, and the server process is killed. This leads to (expected) exceptions, that should not be printed.",0
2002,Fix build issue on FFmpeg < 5.1,0.7232163," - Upgrade FFmpeg to 5.0 in Windows 64-bit releases (#1753, #2952)","When the video stream socket is closed and read_packey() returns -1, av_read_frame() still returns 0. To detect EOF, check the flag eof_reached in the AVIOContext. This avoids garbage errors on closing.",1
2003,Initialize server->serial in all cases,0.6123228, - Terminate server properly without killing it on close (#1992),"Avoid to send the command twice, once on mouse down, once on mouse up.",0
2004,Generate getopt params from option structures,0.40683687," - Read $ANDROID_SERIAL if no selector is specified (#3111, #3113)","On exit, the renderer will not consume frames anymore, so signal the condition variable to wake up the decoder.",0
2005,Print libusb version on --version,0.83125496, - Print both compiled and linked version of libs on --version,Expose frames_offer_decoded_frame() and frames_consume_rendered_frame() so that callers are not exposed to frame swapping (between the decoding and rendering frames) details.,1
2006,Remove unused IOException,0.49205023, - Avoid empty arguments not correctly handled on some devices (#337),The mutex was not unlocked on all code paths.,0
2007,Move sc_usb out of sc_aoa,0.57708514,scrcpy v1.23,"Move the code handling user input from scrcpy.c to a separate file, screencontrol.c.",0
2008,Limit retry-on-error to IllegalStateException,0.5037216, - Automatically retry with a lower definition on MediaCodec error (#2947),"As soon as we accepted a connection, we can remove the ""adb reverse"" tunnel.",0
2009,Remove sc_adb_get_serialno(),0.53306973,"scrcpy -s   # auto-complete by the devices listed by ""adb devices""","Move the code to read the initial device info from scrcpy.c to a separate file, device.c.",0
2010,Add function to parse IPv4 addresses,0.5058001,"It will automatically find the device IP address (by parsing adb shell ip route), enable TCP/IP mode, then connects to the device before starting.","The file server.c already existed, but exposed a low-level API. Make it higher-level, so that scrcpy.c does not handle server details directly.",0
2011,Store packet flags in PTS most significant bits,0.4648325,scrcpy --tcpip=192.168.1.1:5555,"The file scrcpy.c contains too many different things in addition to the main logic, so move the screen code to a separate file, screen.c.",0
2012,Fix useless garbage initialization,0.7076744, - Fix missing initialization that leaded to kill the whole process,"In practice, these headers are included only once, but it's a good practice to always use include guards.",1
2013,Remove unused parser,0.54380476,Remove deprecated short options,"The struct decoder is defined in decoder.h. For naming consistency, define the struct controller in controller.h.",0
2014,Report errors on screen event error,0.5782416, - Fix possible BufferUnderflowException on touch event (#1245),"Some functions in scrcpy.c are not used outside the file, so declare them static.",0
2015,Group components into struct scrcpy,0.6873439,scrcpy -S,Apply Genymobile checkstyle and gradle build files organization.,0
2016,Upgrade SDL (2.0.12) for Windows,0.97286093, - Upgrade SDL to 2.0.12 in Windows releases,Use AXIS_HSCROLL (available since API 12) instead of AXIS_SCROLL (since API 26).,1
2017,Use generic FIFO queue for recording,0.49421751, - Fix segfault on recording with old FFmpeg versions (#707),"In handleEvent(), connection.receiveControlEvent() may never return null: either it returns a valid ControlEvent, either it throws an Exception. Therefore, there is no need to propagate a flag to indicate whether it returned a valid ControlEvent.",0
2018,Explicitly use ISO C11,0.4951864,Advanced codec options,Use one parse method per control event type.,0
2019,Map right-click to BACK if screen is on,0.6799172, - Bind middle- and right-clicks to HOME and BACK,"The server is not a real Android application, it's just a jar with a main method. Instrumented tests are meaningless in this context.",0
2020,Rename (un)lock_mutex to mutex_(un)lock,0.4644866, - Forward NumPad keys when NumLock is disabled (#1188),"On some devices, we can reuse the same codec and display, but on some others (e.g. Nexus 5X with Android 7.1.2), it crashes on codec.stop() with an IllegalStateException. Therefore, always recreate the codec and display, so that it works on all devices.",0
2021,Fix v4l2 AVPacket memory leak on error,0.65902615, - Fix (huge) memory leak (#26),"If rotation changed, the dequeued output buffer was never released. Move it to a finally block to avoid the leak.",0
2022,Fix touch events HiDPI-scaling,0.95644385," - Fix touch events HiDPI-scaling (#1536, #15)",Let some time to print any exception trace before killing it.,1
2023,Add Chocolatey for Windows install,0.4244734, - Add icon to scrcpy.exe (#2815),Log at debug level user requests to quit.,0
2024,Simplify EventController,0.5668678, - Fix touch events parameters (#2125),"On --version, also print the dependencies version scrcpy has been compiled against.",0
2025,Rename SCRCPY_SERVER_JAR to SCRCPY_SERVER_PATH,0.61873657,"The problem is that scrcpy-server.jar is searched in the current directory, which is not necessarily the same as the scrcpy directory. Typically, if you added the scrcpy directory in your PATH to call scrcpy from anywhere, the current directory could be anything. This was very annoying and confusing (you had to set the environment variable SCRCPY_SERVER_PATH as a workaround).",Expose scrcpy version via -v or --version.,0
2026,Remove spurious empty line,0.514854, - Remove black borders on double-click,"The skip_frames flag was a non-configurable runtime flag. Since it is not exposed to the user, there is no need for a (possible) runtime cost. For testing purpose, we still want it to be configurable, so make it a compilation flag.",0
2027,Disable input events when necessary,0.64145637," - Add option to ignore repeated key events (#1013, #1623)",Make meson generate config.h with configured values.,0
2028,Force adb forward if tunnel host/port is provided,0.68449," - Add --tunnel-host and --tunnel-port options (#2801, #2807)","To highlight the debug/release mode of the running application, use a different window icon color in debug mode.",0
2029,Send scroll events as a touchscreen,0.649098,High-precision scrolling,Expose commands to build the application in debug mode.,0
2030,Make ServiceManager and Settings methods static,0.45895904, - Keep screensaver enabled while scrcpy is running (#380),"We encounter some problems with SDL2_image on MSYS2 (Windows), so implement our own XPM parsing which does not depend on SDL_image. The input XPM is considered safe (it's in our source repo), so do not check XPM format errors. This implies that read_xpm() is not safe to call on any unsafe input. Although less straightforward, use SDL_CreateRGBSurfaceFrom() instead of SDL_CreateRGBSurfaceWithFormatFrom() because it is available with SDL versions older than 2.0.5.",0
2031,"Add ""inject touch"" control message",0.64247054, - Fix touch events parameters (#2125),"In MSYS2 on Windows, the behavior is the same as on Linux. On systems where the behavior is not the same, just customize the GRADLE variable: GRADLE=gradlew make release This reverts commit de192cab1b5f0829fedd34d4feb569445c02346c.",0
2032,Do not return status for event handling,0.5314603, - Fix touch events parameters (#2125),The hint SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH appeared in SDL 2.0.5. Ignore it if the SDL version is older.,0
2033,Initialize mouse_input_mode explicitly,0.58988476,Add HID mouse support,"The default value of GRADLE is ""./gradlew"", which is the correct value on Linux. On Windows, it should use gradlew.bat (by calling ""gradlew"") instead.",0
2034,Fix meizu 16th NPE,0.65683246," - Fix workarounds for Meizu devices (#240, #2656)",Add a bugdroid icon loaded from an XPM.,0
2035,Fix possible race condition on video_buffer end,0.6012949, - Fix recorded video to avoid crashes in Adobe Premiere (#702),"The scrcpy() function returns a SDL_bool to indicate its success, but was initialized to 0 (SDL_FALSE) instead of SDL_TRUE.",0
2036,Apply Genymobile rules for Android projects,0.5205181,Android 13,"To run the app during development, add a recipe ""run"" to the Makefile.",0
2037,Expose skip_frames as a build option,0.70322144, - Add runtime option to render expired frames (i.e. not skip frames),"Expose useful methods directly in Device, without exposing the service managers.",1
2038,Log encoder name,0.6619032,Encoder selection,"To guarantee that we instantiate services only one, cache the value the first time.",0
2039,Fix GitHub case in BUILD,0.44857854,This might sometimes be more appropriate than GitHub issues when it's not to report a bug.,"The purpose of handle_shortcut() was to group all actions together, whether they are initiated from a text input event or a keycode event. However, it did not handle the case where it was initiated from a mouse event (a right-click must turn the screen on), since the action was identified by the shortcut char. Instead, expose one function per action, to be called directly from where the event is handled.",0
2040,Add test_strquote,0.4498874,scrcpy --tcpip    # without arguments,,0
2041,Move AOA/HID code to usb/,0.51103497,"In OTG mode, the USB devices are also listed for convenience:",Document the new shortcuts in the help (scrcpy --help).,0
2042,Simplify server info initialization,0.6447156, - Rework server initialization to avoid unresponsive Ctrl+c sometimes,"When starting scrcpy, immediately turn the screen on.",0
2043,Hide services in Device,0.53669846,HID/OTG on all platforms,"The right-click is almost useless on Android, so use it to turn the screen on. Add a new control event type (command) to request the server to turn the screen on.",0
2044,Use one subsection by distribution in README,0.4334911,There is also a subreddit: r/scrcpy,Reformated by Android Studio.,0
2045,Fix comment about data sent over the socket,0.6221413, - Print correct error messages on Windows socket errors (#2624),"Shortcuts are sometimes initiated from a keycode event, and sometimes from a text input event. Move the handling to a unique function.",0
2046,Use non-secure display for Android >= 12,0.76947415,"Since Android 12, creating a secure display with shell permissions is not permitted anymore (#2129). As a consequence, protected content may not be mirrored on Android 12. To avoid an immediate crash when mirroring a device with Android 12 (preview), create a non-secure display. This is basically a revert of the fix for #36.","To simplify event handling code, move all actions to separate functions.",1
2047,Use non-secure display for Android 12 preview,0.75384486,"Since Android 12, creating a secure display with shell permissions is not permitted anymore (#2129). As a consequence, protected content may not be mirrored on Android 12. To avoid an immediate crash when mirroring a device with Android 12 (preview), create a non-secure display. This is basically a revert of the fix for #36.",Logs were printed by the caller of switch_fullscreen(). Move them inside the function to simplify event handling code.,1
2048,Prevent to turn screen off if no control,0.9423725, - Prevent to turn screen off if no control (#608),"Add shortcuts for HOME, BACK, APPS, POWER, VOLUME_UP and VOLUME_DOWN.",1
2049,Remove unused includes,0.5751306,Remove deprecated short options,"The server is built as an APK to simplify the build, but in fact this is a simple jar (it is not even signed). In order to avoid confusion, rename it to .jar, so that users do not try to ""adb install"" it. Also rename it from ""scrcpy"" to ""scrcpy-server"" to distinguish from the client-side.",0
2050,Unref the packet on error,0.5243962," - Fix warning ""Invalid return value 0 for stream protocol"" (#333)","The server path may be customized using SCRCPY_APK. If its basename is different from ""scrcpy.apk"", it will be pushed with a different name, so the execution would fail. Therefore, force the push target filename.",0
2051,"Rename ""event"" to ""message""",0.53977346," - text events, signaling that a text has been entered.","Moving the mouse without any button pressed has no effect on Android. Therefore, do not even send these very frequent events.",0
