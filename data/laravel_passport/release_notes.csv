Index,Release Note,Release Note Abstract
1,"
Revert ""[11.x] Add Provider Guard to ClientRepository for Personal Access Clients"" by @driesvints in https://github.com/laravel/passport/pull/1658
","Revert ""[11.x] Add Provider Guard to ClientRepository for Personal Access Clients"" by @driesvints in link"
2,"
Add Provider Guard to ClientRepository for Personal Access Clients by @michaelnabil230 in https://github.com/laravel/passport/pull/1655
",Add Provider Guard to ClientRepository for Personal Access Clients by @michaelnabil230 in link
3,"
Allow lcobucci/jwt v5 and cleaned up version constraints by @GrahamCampbell in https://github.com/laravel/passport/pull/1649
Pass user identifier through to finalize scopes in personal access grant by @GrahamCampbell in https://github.com/laravel/passport/pull/1650
","Allow lcobucci/jwt v5 and cleaned up version constraints by @GrahamCampbell in link
Pass user identifier through to finalize scopes in personal access grant by @GrahamCampbell in link"
4,"
Removed deprecated dates property from RefreshToken model by @siarheipashkevich in https://github.com/laravel/passport/pull/1645
Removed deprecated dates property from AuthCode model by @siarheipashkevich in https://github.com/laravel/passport/pull/1644
Fix doc block types by @hafezdivandari in https://github.com/laravel/passport/pull/1647
","Removed deprecated dates property from RefreshToken model by @siarheipashkevich in link
Removed deprecated dates property from AuthCode model by @siarheipashkevich in link
Fix doc block types by @hafezdivandari in link"
5,"
Allow overriding the AccessToken class by @hafezdivandari in https://github.com/laravel/passport/pull/1638
Make $userId nullable in ClientRepository->createPersonalAccessClient by @bram-pkg in https://github.com/laravel/passport/pull/1642
","Allow overriding the AccessToken class by @hafezdivandari in link
Make $userId nullable in ClientRepository->createPersonalAccessClient by @bram-pkg in link"
6,"
Fix migrations for Laravel 9.x by @ricky-perchpeek in https://github.com/laravel/passport/pull/1639
",Fix migrations for Laravel 9.x by @ricky-perchpeek in link
7,"
Re-apply ""Added AuthenticationException to extend the behaviour of Laravel's default exception handler"" by @driesvints in https://github.com/laravel/passport/commit/67c3e336af163f6eba5dbca8e5db46275ff0e433
","Re-apply ""Added AuthenticationException to extend the behaviour of Laravel's default exception handler"" by @driesvints in link"
8,"
Revert ""Move AuthenticationException into the scope of Laravel Passport"" by @driesvints in https://github.com/laravel/passport/commit/db543b0cc13ed3f56f1bffda04707fbe2a8c7ab5
","Revert ""Move AuthenticationException into the scope of Laravel Passport"" by @driesvints in link"
9,"
Move AuthenticationException into the scope of Laravel Passport by @chrispage1 in https://github.com/laravel/passport/pull/1633
Custom authorization view response by @JonErickson in https://github.com/laravel/passport/pull/1629
Fix deprecated $dates property by @TonyWong9527 in https://github.com/laravel/passport/pull/1636
","Move AuthenticationException into the scope of Laravel Passport by @chrispage1 in link
Custom authorization view response by @JonErickson in link
Fix deprecated $dates property by @TonyWong9527 in link"
10,"Added

Add support for EncryptCookies middleware by @axlon in https://github.com/laravel/passport/pull/1628
","Added
Add support for EncryptCookies middleware by @axlon in link"
11,"Changed

Indicate current token can be TransientToken by @axlon in https://github.com/laravel/passport/pull/1627
","Changed
Indicate current token can be TransientToken by @axlon in link"
12,"Changed

Update ClientCommand.php's user_id description by @Smoggert in https://github.com/laravel/passport/pull/1619
Get model PK instead of forcibly id column by @lucaspanik in https://github.com/laravel/passport/pull/1626

Fixed

Fix doc block for withAccessToken() by @axlon in https://github.com/laravel/passport/pull/1620
","Changed
Update ClientCommand.php's user_id description by @Smoggert in link
Get model PK instead of forcibly id column by @lucaspanik in link
Fixed
Fix doc block for withAccessToken() by @axlon in link"
13,"Fixed

Get authenticated user from the guard by @hafezdivandari in https://github.com/laravel/passport/pull/1617
","Fixed
Get authenticated user from the guard by @hafezdivandari in link"
14,"Added

Laravel v10 Support by @driesvints in https://github.com/laravel/passport/pull/1615
","Added
Laravel v10 Support by @driesvints in link"
15,"Changed

Uses PHP Native Type Declarations üêò by @nunomaduro in https://github.com/laravel/passport/pull/1594
","Changed
Uses PHP Native Type Declarations üêò by @nunomaduro in link"
16,"Changed

Add auth guard to routes by @hafezdivandari in https://github.com/laravel/passport/pull/1603
","Changed
Add auth guard to routes by @hafezdivandari in link"
17,"Added

Support prompting login when redirecting for authorization by @hafezdivandari in https://github.com/laravel/passport/pull/1577

Changed

Update PurgeCommand.php by @fatoskurtishi in https://github.com/laravel/passport/pull/1586
Fix ClientRepository doc blocks by @axlon in https://github.com/laravel/passport/pull/1587
Update docblock by @mnabialek in https://github.com/laravel/passport/pull/1588
","Added
Support prompting login when redirecting for authorization by @hafezdivandari in link
Changed
Update PurgeCommand.php by @fatoskurtishi in link
Fix ClientRepository doc blocks by @axlon in link
Update docblock by @mnabialek in link"
18,"Fixed

Improve token guard return type by @axlon in https://github.com/laravel/passport/pull/1579
","Fixed
Improve token guard return type by @axlon in link"
19,"Changed

Let OAuth2 server handle the denying response by @hafezdivandari in https://github.com/laravel/passport/pull/1572
","Changed
Let OAuth2 server handle the denying response by @hafezdivandari in link"
20,"Added

Support prompting re-consent when redirecting for authorization by @hafezdivandari in https://github.com/laravel/passport/pull/1567
Support disabling prompt when redirecting for authorization by @hafezdivandari in https://github.com/laravel/passport/pull/1569
","Added
Support prompting re-consent when redirecting for authorization by @hafezdivandari in link
Support disabling prompt when redirecting for authorization by @hafezdivandari in link"
21,"Changed

Custom days and hours to passport purge command by @rubengg86 in https://github.com/laravel/passport/pull/1563
Allow for bootstrapping without loading routes by @axlon in https://github.com/laravel/passport/pull/1564
","Changed
Custom days and hours to passport purge command by @rubengg86 in link
Allow for bootstrapping without loading routes by @axlon in link"
22,"Added

Allow authenticated client to be retrieved from the guard by @axlon in https://github.com/laravel/passport/pull/1508

Changed

Revert model DB connection customization by @driesvints in https://github.com/laravel/passport/pull/1412
Allow timestamps on Token model by @driesvints in https://github.com/laravel/passport/pull/1425
Improve authenticateViaBearerToken() performance by @alecpl in https://github.com/laravel/passport/pull/1447
Refactor routes to dedicated file by @driesvints in https://github.com/laravel/passport/pull/1464

Fixed

Stub client on guard when calling Passport::actingAsClient() by @axlon in https://github.com/laravel/passport/pull/1519
Fix scope inheritance when using Passport::actingAs() by @axlon in https://github.com/laravel/passport/pull/1551

Removed

Drop PHP 7.x and Laravel v8 by @driesvints in https://github.com/laravel/passport/pull/1558
Remove deprecated properties by @driesvints in https://github.com/laravel/passport/pull/1560
Remove deprecated functionality and simplify some feature tests by @driesvints in https://github.com/laravel/passport/pull/1559
","Added
Allow authenticated client to be retrieved from the guard by @axlon in link
Changed
Revert model DB connection customization by @driesvints in link
Allow timestamps on Token model by @driesvints in link
Improve authenticateViaBearerToken() performance by @alecpl in link
Refactor routes to dedicated file by @driesvints in link
Fixed
Stub client on guard when calling Passport::actingAsClient() by @axlon in link
Fix scope inheritance when using Passport::actingAs() by @axlon in link
Removed
Drop PHP 7.x and Laravel v8 by @driesvints in link
Remove deprecated properties by @driesvints in link
Remove deprecated functionality and simplify some feature tests by @driesvints in link"
23,"Changed

Add new URI Rule to validate URI and use it to RedirectRule. by @victorbalssa in https://github.com/laravel/passport/pull/1544
","Changed
Add new URI Rule to validate URI and use it to RedirectRule. by @victorbalssa in link"
24,"Changed

Upgrade firebase/php-jwt to ^6.0 by @prufrock in https://github.com/laravel/passport/pull/1538
","Changed
Upgrade firebase/php-jwt to ^6.0 by @prufrock in link"
25,"Changed

Use anonymous migrations by @mmachatschek in https://github.com/laravel/passport/pull/1531
","Changed
Use anonymous migrations by @mmachatschek in link"
26,"Fixed

Fix Faker deprecations by @X-Coder264 in https://github.com/laravel/passport/pull/1530
","Fixed
Fix Faker deprecations by @X-Coder264 in link"
27,"Changed

Allow to use custom authorization server response (#1521)Ôªø
","Changed
Allow to use custom authorization server response (#1521)Ôªø"
28,"Changed

Laravel 9 Support (#1516)
","Changed
Laravel 9 Support (#1516)"
29,"Fixed

Fix jsonSerialize PHP 8.1 issue (#1512)Ôªø
","Fixed
Fix jsonSerialize PHP 8.1 issue (#1512)Ôªø"
30,"Fixed

Fix str_replace error when third parameter ($subject) is null (#1511)Ôªø
","Fixed
Fix str_replace error when third parameter ($subject) is null (#1511)Ôªø"
31,"Added

Add custom encryption key for JWT tokens (#1501)

Changed

Refactor expiry dates to intervals (#1500)Ôªø
","Added
Add custom encryption key for JWT tokens (#1501)
Changed
Refactor expiry dates to intervals (#1500)Ôªø"
32,"Fixed

Ensure client model factory always creates models with a primary key (#1492Ôªø
","Fixed
Ensure client model factory always creates models with a primary key (#1492Ôªø"
33,"Changed

Use app helper (3d1e6bb)

Fixed

Fix binding (e3478de)Ôªø
","Changed
Use app helper (3d1e6bb)
Fixed
Fix binding (e3478de)Ôªø"
34,"Fixed

Backport phpseclib v2 (#1418)Ôªø
","Fixed
Backport phpseclib v2 (#1418)Ôªø"
35,"Changed

Update to phpseclib v3 (#1410)Ôªø
","Changed
Update to phpseclib v3 (#1410)Ôªø"
36,"Added

Support PHP 8.0 (#1387)

Removed

Remove Guzzle dependency (#1327)Ôªø
","Added
Support PHP 8.0 (#1387)
Removed
Remove Guzzle dependency (#1327)Ôªø"
37,"Added

PHP 8 Support (#1373)

Removed

Remove Vue components (#1352)Ôªø
","Added
PHP 8 Support (#1373)
Removed
Remove Vue components (#1352)Ôªø"
38,"Fixed

Use newFactory to properly reference factory (#1349)
","Fixed
Use newFactory to properly reference factory (#1349)"
39,"Added

Support Laravel 8 & drop PHP 7.2 support (#1336)

Changed

forceFill new auth code attributes (#1266)
Use only one PSR 7 implementation (#1330)

Removed

Remove old static personal client methods (#1325)
Remove Guzzle dependency (#1327)
","Added
Support Laravel 8 & drop PHP 7.2 support (#1336)
Changed
forceFill new auth code attributes (#1266)
Use only one PSR 7 implementation (#1330)
Removed
Remove old static personal client methods (#1325)
Remove Guzzle dependency (#1327)"
40,"Fixes

Fix cookie handling for security release (#1322, 75f1ad2)
","Fixes
Fix cookie handling for security release (#1322, 75f1ad2)"
41,"Fixed

Use custom models in purge command if set (#1316)
Apply table responsive on table class (#1318)
","Fixed
Use custom models in purge command if set (#1316)
Apply table responsive on table class (#1318)"
42,"Added

Guzzle 7 support (#1311)
","Added
Guzzle 7 support (#1311)"
43,"Fixed

Fix maxlength for token names (#1300)
Improve passport:install command (#1294)
","Fixed
Fix maxlength for token names (#1300)
Improve passport:install command (#1294)"
44,"Fixed

Fix actingAsClient token relation (#1268)
Fix HashCommand (bedf02c)
","Fixed
Fix actingAsClient token relation (#1268)
Fix HashCommand (bedf02c)"
45,"Added

Allow to change Models database connection (#1255, 7ab3bdb)

Fixed

Nonstandard ID in the token's relationship with the user (#1267)
","Added
Allow to change Models database connection (#1255, 7ab3bdb)
Fixed
Nonstandard ID in the token's relationship with the user (#1267)"
46,"Added

Implement secret modal (#1258)
Warn about one-time-hashed-secret (#1259)
Add force option to hash command (#1251)

Fixed

Implement personal access client config (#1260)
","Added
Implement secret modal (#1258)
Warn about one-time-hashed-secret (#1259)
Add force option to hash command (#1251)
Fixed
Implement personal access client config (#1260)"
47,"Fixed

Fix displaying secret in Vue component (#1244)
Moved provider check to bearer token only (#1246)
Fix create client call (aff9d09)
","Fixed
Fix displaying secret in Vue component (#1244)
Moved provider check to bearer token only (#1246)
Fix create client call (aff9d09)"
48,"Added

Allow client credentials secret to be hashed (#1145, ccbcfeb, 1c40ae0)
Implement passport:hash command (#1238)
Initial support for multiple providers (#1220)

Changed

Client credentials middleware should allow any valid client (#1132)
Switch from getKey() to getAuthIdentifier() to match Laravel core (#1134)
Use Hasher interface instead of HashManager (#1157)
Bump league server dependency (#1237)

Removed

Remove deprecated functionality (#1235)
Drop support for old JWT versions (#1236)
","Added
Allow client credentials secret to be hashed (#1145, ccbcfeb, 1c40ae0)
Implement passport:hash command (#1238)
Initial support for multiple providers (#1220)
Changed
Client credentials middleware should allow any valid client (#1132)
Switch from getKey() to getAuthIdentifier() to match Laravel core (#1134)
Use Hasher interface instead of HashManager (#1157)
Bump league server dependency (#1237)
Removed
Remove deprecated functionality (#1235)
Drop support for old JWT versions (#1236)"
49,"Added

Automatic configuration of client UUIDs (#1231)
","Added
Automatic configuration of client UUIDs (#1231)"
50,"Fixed

Fix 500 Internal Server Error response (#1222)
","Fixed
Fix 500 Internal Server Error response (#1222)"
51,"Fixed

Fix resolveInheritedScopes (#1207)
","Fixed
Fix resolveInheritedScopes (#1207)"
52,"Fixed

mergeConfigFrom already checked if app is running with config cached (#1205)
","Fixed
mergeConfigFrom already checked if app is running with config cached (#1205)"
53,"Fixed

Forget session keys on invalid match (#1192)
Update dependencies for PSR request (#1201)
","Fixed
Forget session keys on invalid match (#1192)
Update dependencies for PSR request (#1201)"
54,"Changed

Implement auth token for access requests (#1188)

Fixed

Revoke refresh tokens when auth tokens get revoked (#1186)
","Changed
Implement auth token for access requests (#1188)
Fixed
Revoke refresh tokens when auth tokens get revoked (#1186)"
55,"Fixed

Remove foreign keys (20e9b66)
","Fixed
Remove foreign keys (20e9b66)"
56,"Added

Add a Passport Client factory to Passport publishing (#1171)

Changed

Use bigIncrements and indexes on relationships (#1169, 140a693)
","Added
Add a Passport Client factory to Passport publishing (#1171)
Changed
Use bigIncrements and indexes on relationships (#1169, 140a693)"
57,"Added

Update ClientCommand to support public clients (#1151)
Purge Command for revoked and/or expired tokens and auth codes (#1159, 6c1ea42)

Changed

Replace deprecated package and namespaces (#1158)
","Added
Update ClientCommand to support public clients (#1151)
Purge Command for revoked and/or expired tokens and auth codes (#1159, 6c1ea42)
Changed
Replace deprecated package and namespaces (#1158)"
58,"Added

Allow access to HTTP response status code on OAuthServerException (#1148)
Modify UserRepository to check for 'findAndValidateForPassport' method (#1144)
","Added
Allow access to HTTP response status code on OAuthServerException (#1148)
Modify UserRepository to check for 'findAndValidateForPassport' method (#1144)"
59,"Changed

Add abstract CheckCredentials middleware and allows to create (#1127)
","Changed
Add abstract CheckCredentials middleware and allows to create (#1127)"
60,"Fixed

Fix actingAsClient testing method (#1119)
","Fixed
Fix actingAsClient testing method (#1119)"
61,"Added

Add ability to customize the RefreshToken (#966)
Add support for ""public"" clients (#1065)

Changed

Rework HandlesOAuthErrors trait to middleware (#937)
Use a renderable exception for OAuth errors (#1066)
Use diactoros 2.0 and psr-http-factory (aadf603)
Replaced helpers with Blade directives (#939)
Use caret for constraints (d906804)
Dropped support for Laravel 5.8 (654cc09)
Dropped support for PHP 7.1 (3c830ac)
Upgrade to league/oauth2-server 8.0 (97e3026)

Fixed

Fix exception will thrown if token belongs to first party clients (#1040)
Fix auth codes table customization (#1044)
Add key type to refresh token model (e400c2b)
","Added
Add ability to customize the RefreshToken (#966)
Add support for ""public"" clients (#1065)
Changed
Rework HandlesOAuthErrors trait to middleware (#937)
Use a renderable exception for OAuth errors (#1066)
Use diactoros 2.0 and psr-http-factory (aadf603)
Replaced helpers with Blade directives (#939)
Use caret for constraints (d906804)
Dropped support for Laravel 5.8 (654cc09)
Dropped support for PHP 7.1 (3c830ac)
Upgrade to league/oauth2-server 8.0 (97e3026)
Fixed
Fix exception will thrown if token belongs to first party clients (#1040)
Fix auth codes table customization (#1044)
Add key type to refresh token model (e400c2b)"
62,"Fixed

Cast returned client identifier value to string (#1091)
","Fixed
Cast returned client identifier value to string (#1091)"
63,"Added

Add actingAsClient method for tests (#1083)
","Added
Add actingAsClient method for tests (#1083)"
64,"Fixed

Fixed key types for models (#1078, a9a885d3)
","Fixed
Fixed key types for models (#1078, a9a885d3)"
65,"Added

Let Passport support inherited parent scopes (#1068)
Accept requests with the encrypted X-XSRF-TOKEN HTTP header (#1069)
","Added
Let Passport support inherited parent scopes (#1068)
Accept requests with the encrypted X-XSRF-TOKEN HTTP header (#1069)"
66,"Fixed

Use bigInteger column type for user_id columns (#1057)
","Fixed
Use bigInteger column type for user_id columns (#1057)"
67,"Changed

Remove old 5.9 constraints (58eb99c)
","Changed
Remove old 5.9 constraints (58eb99c)"
68,"Changed

Update version constraints for Laravel 6.0 (609b5e8)
","Changed
Update version constraints for Laravel 6.0 (609b5e8)"
69,"Fixed

Merge default Passport configuration (#1039, e260c86)
","Fixed
Merge default Passport configuration (#1039, e260c86)"
70,"Changed

Change server property type in CheckClientCredentialForAnyScope (#1034)
","Changed
Change server property type in CheckClientCredentialForAnyScope (#1034)"
71,"Added

Allow first party clients to skip the authorization prompt (#1022)

Fixed

Fix AccessToken docblock (#996)
","Added
Allow first party clients to skip the authorization prompt (#1022)
Fixed
Fix AccessToken docblock (#996)"
72,"Fixed

Allow installs of zend-diactoros 2 (c0c3fca)
","Fixed
Allow installs of zend-diactoros 2 (c0c3fca)"
73,"Fixed

Change wasRecentlyCreated to false (#979)
","Fixed
Change wasRecentlyCreated to false (#979)"
74,"Changed

Changed the way to get action path from url() to route() (#950)
Allow '*' scope to be used with Client Credentials (#949)

Fixed

Replace fire() with dispatch() (#952)
","Changed
Changed the way to get action path from url() to route() (#950)
Allow '*' scope to be used with Client Credentials (#949)
Fixed
Replace fire() with dispatch() (#952)"
75,"Added

Added redirect_uri and user_id options to cli (#921, 8b8570c)
Add ext-json dependency (#940)

Changed

Make name an optional question (#926)

Fixed

Do not auto increment AuthCode ID (#929)
Allow multiple redirects when creating clients (#928)
Add responses for destroy methods (#942)
","Added
Added redirect_uri and user_id options to cli (#921, 8b8570c)
Add ext-json dependency (#940)
Changed
Make name an optional question (#926)
Fixed
Do not auto increment AuthCode ID (#929)
Allow multiple redirects when creating clients (#928)
Add responses for destroy methods (#942)"
76,"Fixed

Rename property (#920)
","Fixed
Rename property (#920)"
77,"Added

Add middleware CheckClientCredentialsForAnyScope (#855)
Support a default scope when no scope was requested by the client (#879)
Allow setting expiration of personal access tokens (#919)

Changed

Change auth code table to the model's table (#865)
Made whereRevoked consistent (#868)
Use unsignedInteger column type for client_id columns (47f0021)

Fixed

Prevent passing empty string variable to retrieveById method (#861) 
","Added
Add middleware CheckClientCredentialsForAnyScope (#855)
Support a default scope when no scope was requested by the client (#879)
Allow setting expiration of personal access tokens (#919)
Changed
Change auth code table to the model's table (#865)
Made whereRevoked consistent (#868)
Use unsignedInteger column type for client_id columns (47f0021)
Fixed
Prevent passing empty string variable to retrieveById method (#861) "
78,"Added

Add names to routes for re-usability (#846)
Add user relationship to client model (#851, 3213be8)
Add the ability to retrieve current client (#854)

Fixed

Fix migrations tag publish (#832)
","Added
Add names to routes for re-usability (#846)
Add user relationship to client model (#851, 3213be8)
Add the ability to retrieve current client (#854)
Fixed
Fix migrations tag publish (#832)"
79,"Changed

Authcode model is now used for persisting new authcodes (#808)
resources/assets directory was flattened (#813)

Fixed

Personal client exception (#831, 7bb53d1)
","Changed
Authcode model is now used for persisting new authcodes (#808)
resources/assets directory was flattened (#813)
Fixed
Personal client exception (#831, 7bb53d1)"
80,"Added

Add option to enable cookie serialization (9012496)
","Added
Add option to enable cookie serialization (9012496)"
81,"Changed

Don't serialize by default (29e9d53)
","Changed
Don't serialize by default (29e9d53)"
