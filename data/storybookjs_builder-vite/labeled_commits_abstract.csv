Commit Message,Score,Correspond Changelog Sentence,Commit Description,Label
Docs: Fix quotes in readme example (#573),0.4404683,Update README.md by @eirslett in link,Single quotes should be used Run prettier format,0
v0.4.2,0.43457335,Support vite 3.1 by @IanVS in link,,0
Fix MDX1 in Windows environments (#560),0.87393165,Fix mdx1 in Windows by @joshwooding in link,,1
v0.4.1,0.42835808,Support vite 3.1 by @IanVS in link,,0
Inject mdx compiler for mdx1 (#556),0.91407204,Inject mdx compiler for mdx1 by @IanVS in link,"fixes link I found that mdx was not working correctly here, and @valentinpalkovic realized my fallback in Storybook 7 wasn't either (link).  It was because we used to inject the mdx compiler into the source code that we get back from the @storybook/mdx1-csf compiler, but we lost that in link.  This re-introduces it, with a bit better of a guarantee that the correct version is going to be loaded, by starting from inside @storybook/mdx1-csf. I've also pinned mdx1-csf here, in case the import is moved from the loader to the compiler, as @shilman has suggested doing.  We'll need to adjust this if that happens.",1
Allow the use of @vitejs/plugin-react-swc (#552),0.83998114,Allow the use of @vitejs/plugin-react-swc by @IanVS in link,"Fixes link This will first look for @vitejs/plugin-react, then @vitejs/plugin-react-swc.  It seems like the SWC version might not work with MDX stories, though.  I updated the react-18 example to use it, and the intro story doesn't load.  I don't think that should necessarily block this PR though. Allow the use of @vitejs/plugin-react-swc Use react-plugin-swc in react-18 example Fix NODE_PATH in all examples Fix peer dependencies Fix update-examples script",1
v0.4.0,0.46096253,Support vite 3.1 by @IanVS in link,,0
Update @vitejs/plugin-react dependency for vite 4 (#548),0.8213656,"To fully support Vite 4, we've updated our mdx handling to no longer require the use of @vitejs/plugin-react.  This means that non-react projects will no longer be getting that plugin added to their projects, and react projects will need to make sure they include it as a dependency (changes to viteFinal are not required).","Fixes link This also updates the version of mdx1-csf to one that no longer requires the use of the react vite plugin to compile jsx, it handles compilation itself.  So, we no longer need to include @vitejs/plugin-react in all projects, and react projects will need to make sure it's installed.  That makes this a breaking change. And this also updates Vite to 4 in the examples, and fixes some missing dependencies. Co-authored-by: Josh Wooding 12938082+joshwooding@users.noreply.github.com",1
Add Node limit,0.25612825,Add support for preact by @maxbeatty in link,,0
v0.3.0,0.5409401,Support vite 3.1 by @IanVS in link,,0
Update Readme (#546),0.70375955,Update README by @IanVS in link,,1
Breaking: Update peer dependencies for Vite 4 (#545),0.9135185,Breaking: Update peer dependencies for Vite 4 by @IanVS in link,Breaking: Update peer dependencies for Vite 4 Update react-docgen-typescript plugin Update examples Add update-examples script to install in all examples Update readme,1
v0.2.7,0.46496898,Support vite 3.1 by @IanVS in link,,0
feat: allow definition of stories in vue files (#505),0.9367087,feat: allow definition of stories in vue files by @tobiasdiez in link,feat: allow definition of stories in vue files Update vite-config.ts Update inject-export-order-plugin.ts Update codegen-importfn-script.ts Update code-generator-plugin.ts Update packages/builder-vite/vite-config.ts Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com Update packages/builder-vite/code-generator-plugin.ts Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com Update packages/builder-vite/inject-export-order-plugin.ts Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com Update packages/builder-vite/source-loader-plugin.ts Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com Update packages/builder-vite/plugins/vue-docgen.ts Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com,1
v0.2.6,0.47992063,Support vite 3.1 by @IanVS in link,,0
Pin version of react-docgen (#531),0.91988146,Pin version of react-docgen by @IanVS in link,Pin version of react-docgen Update example yarn.lock files,1
v0.2.5,0.48790807,Support vite 3.1 by @IanVS in link,,0
Fix bail not being defined (#510),0.82645077,Fix bail not being defined by @joshwooding in link,,1
v0.2.4,0.45442942,Support vite 3.1 by @IanVS in link,,0
Re-add typescript check when adding react-docgen-typescript plugin (#509),0.94107556,Re-add typescript check when adding react-docgen-typescript plugin by @joshwooding in link,,1
Fix vue 2.x selection logic (#508),0.84588134,Fix vue 2.x selection logic by @IanVS in link,"Fixes: link This corrects the vue 2.6 / 2.7 logic, and also finds a slightly-better way to handle module resolution from within builder-vite when running examples.  Instead of adding dev dependencies into the builder, this sets a node_path environment variable, so that the node_modules of the example is used as a global lookup from within the builder.",1
v0.2.3,0.49804813,Support vite 3.1 by @IanVS in link,,0
Don't publish yarn cache,0.35686827,Default Cache Directory Conflict Resolution by @GuyGooL5 in link,,0
fix: add missing peer deps (#500),0.79958,fix: add missing peer deps by @adalinesimonian in link,"fix: add missing peer deps fix: add vue-docgen-api peer dep, improve error chore: update yarn.lock Update lockfile of packages Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com",1
Support vue 2.6 and 2.7 (#503),0.93471324,Support vue 2.6 and 2.7 by @IanVS in link,"This cherry-picks some commits from @heykc's PR link, but puts them on top of link, so that we can have multiple versions of vue examples that don't conflict with each other in the monorepo, which was one of the challenges in the original PR. This also attempts to read the version of vue from the user's package.json, determine whether it's 2.6 or 2.7, and use the appropriate vite plugin, as suggested by @Djaler.",1
Move examples out of workspaces (#502),0.77745503,Move examples out of workspaces by @IanVS in link,"We sometimes have trouble with our examples because of hoisting issues. So, instead of using a monorepo, this PR would turn this repo into a multi-project repo, with no top-level package.json, and instead each example would be stand-alone, and so would packages/builder-vite. I'm not positive this is the way to go, but it did already suss out a few issues with missing dependencies in both the projects as well as the builder-vite itself. One thing that's a bit wonky is that since the builder-vite has a completely different node_modules, it can't use any of the packages that are installed in the example, like preact and the vite preact plugin in the preact example. I added them as dev deps to the builder, which works fine I think. It's a downside, but on the other hand it makes these deps a little bit explicit without bloating the dependencies for users.",1
Support vite 3.1 (#490),0.8614271,Support vite 3.1 by @IanVS in link,"I think we actually can support it just fine now, but our build fails due to a change in the Typescript definitions of rollup hooks.  Here's an example of a failing vite ecosystem-ci build: link So, this updates the examples to vite 3.1.0-beta.1, adds a devDependency on that version for the builder itself, and does a check before calling the react-refresh transform function to make typescript happy.",1
Make sure mocked actions can be identified in production build (#482),0.9142907,Make sure mocked actions can be identified in production build by @bodograumann in link,Enable esbuild keep names as workaround Add interactive test in vue example Fixes #206.,1
Remove pluginutils from dependencies (#470),0.8253306,Remove pluginutils from dependencies by @kazuma1989 in link,because createFilter util is exposed from Vite v3. link,1
v0.2.2,0.46796757,No changes from v0.2.0-beta.1.  Publishing error.,,0
Move appType config to correct spot (#464),0.3603406,Fix exported typescript types for viteFinal,,0
v0.2.1,0.47043318,No changes from v0.2.0-beta.1.  Publishing error.,,0
Remove mock-core-js plugin,0.89865464,Remove mock-core-js plugin by @IanVS in link,,1
Improve react docgen plugin usage,0.8559422,Improve react docgen plugin usage by @IanVS in link,,1
Add @rollup/pluginutils to dependencies (#459),0.865784,Add @rollup/pluginutils to dependencies by @IanVS in link,,1
Bump @joshwooding/vite-plugin-react-docgen-typescript to 0.0.5,0.75996196,Fix react-docgen-typescript in some monorepos by @joshwooding in link,,1
fix: pass options read from config file to svelteDocgen (#449),0.94237936,Fix: pass options read from config file to svelteDocgen by @benmccann in link,Looks like we only passed the options from the config file to csfPlugin and missed svelteDocgen,1
"Set vite appType to ""custom""",0.5734813,Avoid vite starting app instead of storybook: link,,0
Ignore applyDecorators in v6 story store (#443),0.8662139,Ignore applyDecorators in v6 story store by @kvcvc in link,"The applyDecorators is an export from frameworks (and can be overridden in preview.js) but is only used in storyStoreV7 mode. The file being updated here is used for the v6 store, which handles decorators a different way, but still ends up reading the export which falls through to the default warning. We can safely ignore it in the case statement.",1
Cleanup peerDependencies (#445),0.7924966,Cleanup peerDependencies by @benmccann in link,@storybook/source-loader doesn't need to be in peerDependencies because it's already in dependencies @storybook/core-common and @storybook/node-logger can be just regular dependencies instead of peerDependencies since we don't need the user to add them to their package.json ~~@storybook/mdx1-csf doesn't need to be downloaded by all users. Users will use either @storybook/mdx1-csf or @storybook/mdx2-csf so move it to devDependencies so that users won't end up including it automatically~~,1
cleanup dependencies on alphas/betas (#444),0.88553536,Cleanup dependencies on alphas/betas by @benmccann in link,cleanup dependencies on alphas/betas move dependency make vps a dev dep,1
v0.2.0,0.5014888,Support vite 3.1 by @IanVS in link,,0
Update readme with vite version support,0.6921876,This release is necessary to support vite 2.9.0.,,0
Improve sourcemaps (#437),0.7623008,Improve sourcemaps by @ianvs in link,"Turns out we weren't creating good sourcemaps, especially in dev.  It seems that whereas rollup only uses the mappings, I guess that vite/esbuild uses the sources field of the sourcemap as well, and without passing the source option to MagicString's generateMap, we were losing the connection.  So, this adds the id as the source, and also enables hires (high resolution) so that columns are correct and not just lines (useful for code coverage, for example). I also added MagicString to some of our other plugins which weren't using it. The most obvious changes are in the react and svelte projects.  Vue is a bit improved, but we're still losing the story file sourcemaps for some reason. To test, fire up an example project (in dev especially, but good to check prod builds too), look in the sources tab in devtools, and poke around, looking for sourcemapped versions of the files.  You should see them in this branch, but not nearly as many, if any, in main.",1
v0.2.0-beta.2,0.6696076,No changes from v0.2.0-beta.1.  Publishing error.,,0
v0.2.0-beta.1,0.6795203,No changes from v0.2.0-beta.1.  Publishing error.,,0
Load @sveltejs/vite-plugin-svelte conditionally (#434),0.90884626,Load @sveltejs/vite-plugin-svelte conditionally by @IanVS in link,"It was being imported at the top of the file, which means for all frameworks.  Instead, this requires it conditionally only for svelte projects.",1
v0.2.0-beta.0,0.6773331,No changes from v0.2.0-beta.1.  Publishing error.,,0
Support Vite 3 (#394),0.71504515,Support vite 3.1 by @IanVS in link,"This updates the vite builder to support vite 3.0, which is a breaking change due to our use of @vitejs/plugin-react, which also has a new major version to support vite 3. This also updates our examples to the latest vite and vite plugin beta versions.",1
Read svelte.config.js (#428),0.95465666,[breaking] Read svelte.config.js by @benmccann in link,"Partially reverts link The reason given there was that: which may not be what storybook users want / expect, since their production config may be different from the storybook config (same reason we don't automatically merge vite.config.js) However, I think that users would expect their svelte.config.js to be taken into account. E.g. right now the user's preprocessing configuration is ignored. The user can still pass custom svelteOptions in .storybook/main.cjs if they need to override their normal options for some reason (although I can't think of a reason off the top of my head why this would be necessary) You can see a number of people complaining preprocessing doesn't work here: link",1
v0.1.39,0.49426097,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Handle resolve.alias as an array (#430),0.84649783,Handle resolve.alias as an array by @IanVS in link,"Fixes #425. We weren't being smart enough about merging in the resolve.alias config, which can either be an object or an array.  So, I've used mergeConfig from vite to handle that instead, and added a demonstration in the vue example that fails without this change but works with it. @rlesniak, how's this look to you?",1
Add .storybook to server.fs.allow (#427),0.86735314,Add .storybook to server.fs.allow by @benmccann in link,"Avoids errors when a user has configured a server.fs.allow already, such as when using sveltekit.",1
Fix markdown import in mdx (#429),0.8960134,Fix markdown import in mdx by @joshwooding in link,,1
v0.1.38,0.5122704,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Support MDXv2 (#377),0.9085746,Support MDXv2 by @joshwooding in link,"Fixes link  Fixes link Fixes link To enable experimental MDX2 in a project, follow this guide: link Support MDXv2 Fix formatting Remove explicit mdx-js/preact from example Remove workarounds from readme Add @storybook/mdx2-csf to examples using it Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com",1
Allow setting global args in SB 6.5+ (#399),0.885652,Allow setting global args in SB 6.5+ by @IanVS in link,,1
Simplify CI job to publish overview,0.33066285,Test built storybooks in CI by @IanVS in link,,0
Add some description to overview introduction,0.42174202,"Add composed ""overview"" example that builds/includes all framework examples by @dohooo in link",,0
"Add composed ""overview"" example that builds/includes all framework examples (#404)",0.8561212,"Add composed ""overview"" example that builds/includes all framework examples by @dohooo in link","This adds an example project (overview) which composes the framework examples together into a single storybook, which not only provides a demonstration of how this composition can be accomplished in a nice clean way using link, but also will allow us to use chromatic snapshots against all example storybooks at once. It will currently publish this composed storybook to github pages, under the /builder-vite path. It's being set up to only deploy to gh-pages on pushes to main.  Next we can set up chromatic to publish them there.",1
Fix react mdx stories (#417),0.8153177,Fix react mdx stories by @IanVS in link,"This fixes an issue where as long as preact is installed in the monorepo, vite-plugin-mdx will default to using it, even in react projects, causing an error in mdx stories. This uses the framework option, and only uses the preact mdx if the framework is preact, otherwise falling back to react.  This was enabled by link. I also added an mdx story in the preact example, but the styling is wrong.  @maxbeatty do you know why that might be?  Does storybook's emotion need to be configured to work with preact, maybe? To test, verify that the introduction story is working in the react example as well as the preact example, and maybe vue too, for good measure.",1
add support for preact (#408),0.49795115,Add support for preact by @maxbeatty in link,"Fixes #385 by adding support for preact, along with an example project. run yarn example:preact to verify add support for preact add preact example build: include mdx for preact example style: allow long svg path test: unique ports for each example chore(deps): upgrade storybook to 6.5.9 refactor: simpler config test: test-storybook needs unique url",0
Use an alias for react-dom/client if not installed (#410),0.8754091,Use an alias for react-dom/client if not installed by @IanVS in link,"This implements a suggestion in link to alias react-dom/client to our placeholder file when the dependency is not found. In vite 3.0, our current approach will no longer work, and we'll need to use this method instead.",1
Avoid cd in scripts,0.8206727,Avoid cd in scripts by @IanVS in link,,1
Add webpack/cra migration section to readme (#405),0.90167236,Add webpack/cra migration section to readme by @IanVS in link,"This adds a bit of help for users who are coming from a webpack or create react app project. There are a few gotchas and sneaky things that are needed, which we should work to smooth out, but for now teaching users how to migrate seems like it might be useful.",1
v0.1.36,0.4969862,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
"fix: prevent crashing on ""--smoke-test"" (#400)",0.9223021,"fix: prevent crashing on ""--smoke-test"" by @AriPerkkio in link",Fixes #397. Storybook expects stats to match Stats interface of webpack: link. This type-mismatch is caused by @storybook/core-common's Builder and will be fixed by link. Pass null as optional Stats instead of incorrect structure,1
Svelte: Generate docgen (#392),0.80031586,Svelte: Generate docgen by @j3rem1e in link,,1
Disable telemetry in examples (#393),0.8340075,Disable telemetry in examples by @IanVS in link,,1
Update Storybook to 6.5.0 in examples (#386),0.93033636,Update Storybook to 6.5.0 in examples by @joshwooding in link,,1
v0.1.35,0.48439518,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Do not require @storybook/addon-svelte-csf (#388),0.8940724,Do not require @storybook/addon-svelte-csf to be installed by @IanVS in link,"Starting in Storybook 6.5, @storybook/addon-svelte-csf is not installed by default in Svelte projects.  Instead, it's encouraged to use CSF for stories. But, the vite builder expects that it's always there, and would throw an error if it's not installed.  This allows it to be missing. It also fixes the logic for our other catch statements, which weren't working because the boolean logic was reversed.  🤦.",1
v0.1.34,0.4987077,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Handle new versions of vite-plugin-svelte (#382),0.8887276,Handle new versions of vite-plugin-svelte by @IanVS in link,"Fixes link There have been two changes in @sveltejs/vite-plugin-svelte that cause problems for us, which this PR addresses: link started to merge the svelte.config.js file by default, which may not be what storybook users want / expect, since their production config may be different from the storybook config (same reason we don't automatically merge vite.config.js).  With the changes here, the configFile option in svelteOptions can still be set to true or to a specific file, if desired. link began returning an array of plugins rather than just a single one.  This would normally be fine, except that we hack around with the plugin to create two separate ones, with different names, to avoid HMR in story files.  So, this PR checks to see if the result is an array or not, and reacts accordingly.  Note, I'm throwing away the inspector for story files.  This might be a problem, but until we hear about it, I think this'll be fine.  The inspector is still pretty experimental anyway, from what I can tell. To test, you can revert the changes I've made in vite-config.ts, and you'll see that the svelte example breaks (I updated the svelte plugin in it).  With the changes, it builds successfully. This also enables the use of the new experimental inspection plugin. To enable this feature, be sure you have @sveltejs/vite-plugin-svelte version 1.0.0-next.43 or higher, then add the following to your svelteOptions in .storybook/main.js: js module.exports = {   // ... rest of config   framework: '@storybook/svelte',   svelteOptions: {     preprocess: preprocess(),     experimental: { inspector: true }, // <-- this line   }, }; Then, when the storybook opens, focus a story iframe and press cmd+shift (mac) or ctrl+shift (windows) to activate.",1
Fix new stories not appearing in the importFn,0.89225304,Fix new stories not appearing in the importFn by @joshwooding in link,,1
Use globalThis instead of global dependency (#383),0.8550004,Use globalThis instead of global dependency by @IanVS in link,,1
Fix order of MDX stories in sidebar,0.90211433,Fix order of MDX stories in sidebar by @joshwooding in link,,1
Disable HMR for web-components projects (#372),0.90681297,Disable HMR for web-components projects by @IanVS in link,"Fixes #370. When using storyStoreV7, we configure HMR to swap out the importFn when stories change.  However, this breaks web-components projects (see link). So, instead, this change checks if the framework is web-components and if so, refreshes the page instead of performing an HMR.  It's still pretty quick, and not a full page reload. You can test this out by starting up our lit-ts example (which I've configured to use storyStoreV7 now), open the story, and save the component or story file.  It shouldn't blow up anymore. One bummer is that MDX files also no longer HMR, though technically they could.  But I can't find a way to detect which part of the importFn changed, in order to determine whether to HMR or not, and it's safer to just avoid it for all stories when using web-components.",1
Fix tests not being found when testing lit-ts example on windows CI,0.9755244,Fix tests not being found when testing lit-ts example on Windows CI by @joshwooding in link,,1
Bump @storybook/test-runner in react-18 example,0.94226277,Bump @storybook/test-runner in react-18 example by @joshwooding in link,,1
v0.1.33,0.49376297,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Fix svelte story files not reloading (#362),0.9040353,Fix svelte story files not reloading by @IanVS in link,"Fixes link Svelte story files have the same issue as react story files.  The webpack HMR seems to prevent vite's HMR from working correctly, so we need to exclude story files as HMR boundaries in vite.  The svelte plugin doesn't expose as nice of a way to do this, but thanks to a suggestion from @domyen in link, I was able to make it work. To test: Start up the svelte example, edit a .stories.svelte file, and confirm that the page reloads and shows your changes.",1
Prevent vite:define from replacing in story source (#364),0.83616793,Prevent vite:define from replacing in story source by @IanVS in link,"This fixes an issue where the vite:define plugin replaced environment variables inside the injected story source from @storybook/source-loader, which is supposed to be a string.  But when vite does the replacement, it adds its own quotes, which breaks the string. For a simplified example, storybook might generate something like this: js var STORY = ""console.log(import.meta.env.VITE_VAR);"" But then vite:define turns it into: js var STORY = ""console.log(""env variable value"");"" Here's a reproduction from the user who originally reported this issue: link To test, I modified our environment variable stories.  In the process, I used some zero-width spaces to make the headings look a bit better, as suggested in link. I also decided to use ts-node instead of adding a babel config for the react-ts project.  At least until we figure out exactly how that .babelrc works.   Add dynamic env var to story examples Fix react-ts example Prevent vite:define from replacing in story source Clean up some types",1
Warn in console when storyStoreV7 used with .svelte files (#363),0.95467454,Warn in console when storyStoreV7 used with .svelte files by @IanVS in link,"This makes it a bit more obvious that something is wrong when using storyStoreV7 with .svelte files (ref link), and gives an indication of how to fix the issue: This also fixes link by expanding the range for the @storybook/core-common peer dependency to avoid installing an older version when the user is using a 6.5 pre-release.",1
Run CI on pushes to main,0.2784229,Test built storybooks in CI by @IanVS in link,,0
Add babelrc to process main.ts file,0.37927893,Fix svelte-preprocess typescript support by @bfanger in link,link,0
v0.1.32,0.4495235,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Use correct Options type for viteFinal,0.6050963,Fix exported typescript types for viteFinal,,0
v0.1.31,0.47115618,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Update dependencies in examples (#357),0.8498348,Update dependencies in examples by @IanVS in link,"This bumps us to storybook 6.5.0-beta.1 and vite 2.9.6. Update examples to 6.5.0-beta.0 Update vite in examples to 2.9.6 Update @storybook/test-runner to 0.0.7 Use canary version of test-runner Use stories.json for all framework tests This is the only way we can test .mdx stories. Allow lit to pass with no tests This papers over an issue we have in the github windows runner, but not local windows. We should still get good test results from mac and linux runners. Revert ""Use stories.json for all framework tests"" This reverts commit 5d806eabc3f022a2c8eef26c7203051786dae132. Another small bump",1
Add example for Lit TS (#350),0.83266515,Add example for Lit TS by @troyvassalotti in link,This PR has bugs This PR adds an example for Lit TS to the examples directory. It is not extensive and doubles as a working example of #345 . To Reproduce Bug Run yarn storybook and see that the Simple Greeting component has blue text. Run yarn build-storybook and yarn preview-storybook to see that the component text did not accept the SASS styles from step 1.,1
Add TOC to readme,0.47492188,Add webpack/cra migration section to readme by @IanVS in link,,0
Add react docgen info to readme,0.7282524,Support react-docgen by @IanVS in link,,1
Add ViteFinal and StorybookViteConfig types (#349),0.5697987,Support configuration object for stories by @kazuma1989 in link,,0
Respect existing build.rollupOptions,0.83663034,Respect existing build.rollupOptions by @IanVS in link,,1
v0.1.30,0.47484493,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Add note about manager-webpack5 incompatibility,0.5069962,Add react-docgen-typescript by @joshwooding in link,,0
Avoid hiding all non-storybook body children (#346),0.7560827,Avoid hiding all non-storybook body children by @IanVS in link,"Fixes link This replaces the blunt hammer of  css body > * {   display: none !important; } with something a bit more nuanced, taken from the storybook default head styles. This is only necessary until link is released, then we can remove the workaround and ask users to update vite in order to avoid this flash.",1
Improve instructions in issue template,0.5478553,Add custom issue template by @IanVS in link,,0
Add custom issue template (#347),0.7518537,Add custom issue template by @IanVS in link,"This issue template is a combination of ideas from astro, vite, and storybook. I think it might help us get more helpful information right off the bat, without having to ask for more details and reproductions. I also added links to the discord and GitHub discussions.",1
v0.1.29,0.4769509,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
"react-docgen: exclude node_modules, make configurable (#338)",0.89448315,"react-docgen: exclude node_modules, make configurable by @IanVS in link","This updates the internal react-docgen plugin to prevent running against files that are in node_modules, and makes it align with rollup plugin best practices by accepting include and exclude options. I realized we should do this when working on converting a large project over to use the vite builder as an experiment, and found that it took ~20 minutes to load the first storybook page after the browser opened.  After digging, I found that most of this time was spent processing files that were in other parts of the monorepo, like icons, which did not need docgen info.  After making the changes in this PR, the time was reduced to less than 2 minutes on a cold start.  The number of processed files dropped from 1668 to 958.  And the time drops to 20 seconds for a cold boot with storyStoreV7 (processes 39 files). This is configurable, although it's not super-straightforward.  For example: js async viteFinal(config) {     config.plugins = [       require('@storybook/builder-vite/dist/plugins/react-docgen').reactDocgen({         exclude: [/^..\//, /node_modules/],         include: /.(jsx?)$/,       }),       ...config.plugins.filter((plugin) => plugin?.name !== 'react-docgen'),     ];     return config; } Note that react-docgen needs to happen before the @vitejs/plugin-react plugins, which is why it's above the spread of the rest of the plugins in this example.",1
Prevent FOUC in the iframe while loading (#339),0.88578475,Prevent FOUC in the iframe while loading by @IanVS in link,"Vite 2.9+ exhibit a flash of unstyled content in the head while the page loads in. This approach adds some styles from link into the head, after vite has finished processing.  This is necessary (instead of just putting the styles in the iframe html) due to link. With the changes here, we no longer see content like this:",1
Allow MDX stories ending with stories.mdx or story.mdx (#337),0.8771818,Allow MDX stories ending with stories.mdx or story.mdx by @IanVS in link,This aligns with a change that was made in storybook 6.2 to widen the naming allowed for mdx stories: link,1
v0.1.28,0.46076226,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Organize stories in examples (#330),0.78258675,Organize stories in examples by @IanVS in link,"This adds basic READMEs to all the examples (we can expand/improve them as needed), to try to give some information about why we include these examples. Since some are used to demonstrate features other than just the framework (e.g. autotitle or storyStoreV7). This also organizes stories a bit in the auto-title examples, and adds some comments in the stories about why they do or don't have titles. I think that our examples can serve not only as tests for ourselves, but education for users getting started with storybook and the vite builder, so I'd love to make them as useful as possible for both purposes.",1
Avoid @fs imports for storyStoreV7 (#332),0.8647436,Avoid /@fs/ imports for storyStoreV7 by @IanVS in link,"Similar to link, this avoids the use of /@fs/ imports in the modern loader, with storyStoreV7 enabled. To test, use the react-ts example, install @storybook/addon-bench, add it to the addons list in main.js, and try starting storybook.  It will fail in main, but pass in this branch.",1
v0.1.27,0.46783033,Support vite 3.1 by @IanVS in link,,0
"Revert ""Do not optimize storybook packages (#323)"" (#328)",0.8860373,"Revert ""Do not optimize storybook packages (#323)"" by @IanVS in link","Fixes link This reverts link. While I still think it would be great to avoid including deps in our optimizeDeps.include as much as we can, it turns out that it's still necessary for a few reasons. 1) If an addon (like storybook-dark-mode) publishes a cjs package that require()s from a storybook package that has been excluded from optimization, then esbuild seems to not replace that require at build time as it normally would.  Some background: esbuild's bundler emulates a CommonJS environment. The bundling process replaces the literal syntax require() with the referenced module at compile-time.  (link) This results in the situation outlined in #327. 2) Even after I removed all the packages from exclude, if I didn't add them back to the include list, there were multiple page refreshes while the app booted the first time, while vite found new deps and reloaded the page.  That would only happen once until the cache was populated, which isn't horrible, but it's not a great experience either. 3) Lastly, if I tried to keep the logic which prevented optimizing the storybook framework package, I ended up with react hook warnings, which usually means that multiple versions of react are loaded in the page.  That was the final straw which made me decide to completely revert the PR and go back to what we had before.  When I did that, my storybook worked just fine. I think we can take another stab at avoiding optimization another time, but we've already made a lot of changes to this package lately and it doesn't seem to be causing problems like I initially suspected in link.",1
"Support configuration object for stories, require SB >= 6.4 (#182)",0.76352936,Support configuration object for stories by @kazuma1989 in link,"Issues Fixes #77. Hi, maintainers and contributors! After #172, I found another issue relating Storybook 6.4. As of Storybook 6.4, stories can be an array of StoriesSpecifier object, but the builder can't handle it. The StoriesSpecifier is defined and used below. link link js module.exports = {   stories: [    { directory: '../src', files: '*.story.tsx', titlePrefix: 'foo' }   ] }; This PR enables that syntax.",1
Support CSF3 user settable global render (#296),0.94087493,Support CSF3 user settable global render by @joshwooding in link,Closes #294,1
Fix README typo,0.6688991,Update README.md by @eirslett in link,,0
v0.1.26,0.45372027,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Add storybook version requirement to readme,0.5550404,Update storybook in examples to 6.4.0-beta.19 (link),,0
Do not optimize storybook packages (#323),0.9063026,"Do not optimize storybook packages, if possible by @IanVS in link","This PR removes many of the storybook packages from pre-bundling, which should save a little bit of time in startup, and will 🤞 work a little better in pnpm (see link, although this probably doesn't fix it yet). Furthermore, after storybook 6.5.0-alpha.58, we can exclude the framework packages from pre-bundling also, but in versions earlier than that, we do need to pre-bundle.  So I added a dependency on semver, to compare the storybook framework's version from package.json and determine whether to pre-bundle it or not.  I tested back to 6.4.0, and it worked fine as long as I added titles to stories (autotitle wasn't working that far back). Here's the difference it makes in the pre-bundled files: Before: After:",1
Correctly import/prebundle V6 store configs (#324),0.87466246,Correctly import/prebundle V6 store configs by @IanVS in link,"Closes link This reverts link, and fixes it a better way, by replacing filesystem imports (/@fs/ style absolute path imports) with normal node_modules style imports.  So, instead of: /@fs/Users/ianvs/code/experiments/sb-builder-vite-no-container/node_modules/@storybook/vue3/dist/esm/client/preview/config We'll import from  @storybook/vue3/dist/esm/client/preview/config Which vite can correctly pre-bundle and add a browserHash to. To test this, run the vue example in this repo.  You should see some messages about new dependencies being optimized in the terminal, and the storybook should load up just fine with no errors about No docs.container set. I tested this out back to our minimum supported versions of vite (2.5.2) and storybook (6.4.0).  It worked fine, although at that old version, one page refresh was required on the very first startup (due to changes in pre-bundled deps).  This doesn't happen in vite 2.9.0, which has better support for finding new deps.",1
v0.1.25,0.48253104,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Support React 18 (#320),0.83257025,Support React 18 by @IanVS in link,"An exciting PR has been merged and released in 6.5.0-alpha.58 that adds storybook support for React 18.  However, it currently breaks in the vite-builder test because of an import() of the new react-dom/client, which only exists in react 18.  Due to link, we have to do a little bit of trickery to stop vite from erroring out.  The approach I'm taking here is: 1) Rewriting the import of react-dom/client to a dummy file if it can't be require.resolve()ed.  This fixes the problem in production builds. 2) Additionally, adding react-dom/client to the list of optimizeDeps.exclude if the framework is react and the package can't be required.  This is necessary to prevent vite from trying to pre-bundle, and throwing errors in dev. This PR also updates the examples to the new 6.5.0-alpha.58 version of storybook, which includes the PR mentioned above, so that it can be tested in our react examples, and it adds a new react-18 example as well.",1
Check for explicit typescript dep for react-docgen (#313),0.7746896,Fix react-docgen-typescript in some monorepos by @joshwooding in link,"Fixes #312. Previously, we'd just look to see if typescript was in the project at all, but turns out that it can be included as a peer dependency of some storybook dependencies. So, this tightens the check a bit, to search the package.json for typescript in either devDependencies or dependencies (in case someone forgot to use --save-dev I guess). To verify, I removed the typescript config from our react example (that should have been a clue to me this was broken, I assumed it was due to our monorepo), and I also checked that vite:react-docgen-typescript is still being used in our react-ts example.",1
chore(docs): update readme to use mergeConfig vite helper function (#315),0.9716915,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Summary Recommend users to use the mergeConfig vite helper function to easily recursively merge config options without troublesome nesting and object spreading shallow copy pitfalls.,1
v0.1.24,0.4357694,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Create / use react-docgen vite plugin to show docsPage info (#299),0.7234477,Support react-docgen by @IanVS in link,"Fixes link Closes link Fixes link This takes a slightly different approach from #190.  Instead of using a babel transform, this creates a vite plugin, similar to the vue-docgen plugin, but based on the babel-plugin-react-docgen.  This gives us the chance to rely directly on react-docgen, without needing another package in between, and it avoids being accidentally overwritten if users replace our @vitejs/plugin-react with their own config. This new vite plugin is not configurable like the babel plugin is, but I'm not certain those configurations are necessary in the first place.  If we hear from users that it's something they need, we can find a way to make them customizable, but I prefer to avoid extra options if possible. This version does not create a global list of all the docs, like the babel plugin does (DOC_GEN_COLLECTION_NAME).  I looked through the storybook source, and it doesn't seem like anything still relies on it, so I think it's just a legacy detail for now that we can probably avoid supporting. I've updated the react example to demonstrate the use of the plugin, so feel free to check this out there.",1
Add sourcemap support to vue-docgen,0.9572535,Add sourcemap support to vue-docgen by @joshwooding in link,,1
Bump @joshwooding/vite-plugin-react-docgen-typescript to v0.0.4,0.7404738,Fix react-docgen-typescript in some monorepos by @joshwooding in link,,1
v0.1.23,0.4647005,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Merge pull request #301 from storybookjs/setup-addon-channel,0.53778774,"Revert ""Fix package duplication issues by aliasing all storybook packages (#160)"" by @IanVS in link",Set up addon channel before importing addons,0
Cannot make iframe dynamic,0.56045806,Prevent FOUC in the iframe while loading by @IanVS in link,,0
Create addon channel in non-storyStoreV7,0.6015141,Set up addon channel before importing addons by @IanVS in link,,0
Consolidate virtual file name constants in one place,0.35142392,Avoid forcing prebundle each start by @IanVS in link,,0
Add migration to readme (#297),0.74041784,"Add migration to readme, other updates by @IanVS in link","This makes a few tweaks to our project readme: 1) Adds a ## Project has been renamed section, with instructions how to migrate. 2) Moves the call for maintainers to the ## Contributing section, to avoid making it seem like this is a struggling project. 3) Adds pnpm installation instructions, including shameful hoisting, and moves Requirements into the installation section. 4) Updates the ""for a new project"" section to use npm create vite@latest. 5) Removes a few mentions of known issues that have been fixed. \o/",1
[examples] Update vite and vite plugins,0.88085467,[examples] Update vite and vite plugins by @IanVS in link,,1
Publish @storybook/builder-vite publicly,0.5367828,Rename to @storybook/builder-vite by @shilman in link,,0
Update README.md,0.875204,Update README.md by @eirslett in link,,1
Merge pull request #293 from storybookjs/move-to-storybook-org,0.5579952,Update storybook in examples to 6.4.0-beta.19 (link),Rename to @storybook/builder-vite,0
Fix linting,0.5366925,Improving maintainability: run lint by @mrauhu in link,,0
Rename storybook-builder-vite to @storybook/builder-vite,0.7871584,Rename to @storybook/builder-vite by @shilman in link,,1
v0.1.22,0.47895193,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Move import of framework module after configs (#289),0.84749174,Move import of framework module after configs by @IanVS in link,"This should fix link.  You can check it in the vue example of this repo.  In main, the docs tab does not work, and neither does the introduction story.  But with this PR, it does.  This also aligns us more closely with the webpack builder, which imports the configure function in the virtual story entry, not the config entry.  I tested this change in our examples back to storybook 6.4.0.",1
Update vite in examples to 2.9.0-beta.8 (#288),0.9466976,Update vite in examples to 2.9.0-beta.8 by @IanVS in link,link,1
v0.1.21,0.47323596,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Update examples to storybook 6.5.0-alpha.49 (#275),0.94274426,Update examples to storybook 6.5.0-alpha.49 by @IanVS in link,"This updates the examples' storybook packages to 6.5.0-alpha.49, and updates vue to 3.2+ due to link.",1
Add '@storybook/react > acorn-jsx' to optimizeDeps (#280),0.9718653,Add '@storybook/react > acorn-jsx' to optimizeDeps by @IanVS in link,"Fixes #273 And sorts our optimizeDeps dependencies, just cuz I like them sorted.",1
fix: handle server closure promise to be able to catch rejection (#277),0.70759696,Fix handling of rejected promises when attempting to close the server by @Codex- in link,,1
Test built storybooks in CI (#274),0.8830265,Test built storybooks in CI by @IanVS in link,"So far, we've only been building our storybooks, but not doing any testing on them.  This adds link which will render each of the stories and smoke test them (make sure that there are no runtime errors).  This is at least a step towards having more confidence that our stories aren't broken.  The next step would be to actually write assertions in the stories to be sure they're rendering correctly, but that can be done another time.",1
v0.1.20,0.48264974,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Use req.query instead of custom parsing.,0.9564785,Use req.query instead of custom parsing. by @joshwooding in link,,1
v0.1.19,0.47322404,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Fix style modules not being resolved from iframe.html (#266) (#268),0.8738543,Fix style modules not being resolved from iframe.html (#266) by @Dschungelabenteuer in link,Fixes #266 See comment link Upgraded to Vite 2.8.5 to reproduce the issue Updated outdated CONTRIBUTING.md,1
v0.1.18,0.46656293,Support vite 3.1 by @IanVS in link,,0
Add jest-mock to optimized deps (#269),0.8931422,Add jest-mock to optimized deps by @IanVS in link,,1
Add typescript to svelte example,0.74820197,Fix svelte-preprocess typescript support by @bfanger in link,,1
fix: svelte-preprocess typescript support,0.87901735,Fix svelte-preprocess typescript support by @bfanger in link,,1
Fix Node 12 support,0.8574473,Fix Node 12 support by @joshwooding in link,,1
Allow sub-dependencies in base optimizeDeps.include (#262),0.8826634,Allow sub-dependencies in base optimizeDeps.include by @IanVS in link,"Fixes #232  This tweaks the way we do our optimizeDeps.include slightly, allowing us to add '@storybook/addon-docs > acorn-jsx'.  I needed to change our filter function to use the resolution that vite does (see link), but in the end I think this is more reliable than what we were doing before, anyway. With this syntax in place, we might also be able to avoid optimizing the storybook deps themselves, like @storybook/addon-docs, which already has an ESM export and doesn't really need to be pre-bundled at all, only its sub-dependencies do.  I haven't changed anything like that in this PR, though, since I wanted to take it one-step-at-a-time.  The only change made to the list itself is the addition of '@storybook/addon-docs > acorn-jsx'. I also needed to prevent the vue alias from being added unless vue is actually being used, or else vite threw an error when I tried to resolve the config.",1
Use setup-node caching solution,0.3382718,Specify vite cache directory in dev mode as well by @bodograumann in link,,0
Run lint check during CI,0.52813315,Improving maintainability: run lint by @mrauhu in link,,0
Lint svelte csf-plugin.ts,0.64664394,Fix svelte-preprocess typescript support by @bfanger in link,,0
Move examples,0.39435235,Move examples out of workspaces by @IanVS in link,,0
fragile fix for: Singleton client API not yet initialized,0.74445295,Example singleton client API not yet initialized by @bfanger in link,@storybook/client-api peer depends on react. @storybook/svelte@6.4.3 depends on @storybook/client-api and react@16.14.0. But your workspaces depend on @storybook/client-api and react@17.0.2. yarn why -R @storybook/client-api yarn why -R react Thats why Yarn has to create two copies of @storybook/client-api: the first copy which uses react@16.14.0 and the other copy which uses react@17.0.2,1
v0.1.17,0.47172844,Support vite 3.1 by @IanVS in link,,0
Fix error when no preview file is present.,0.9207193,Fix error when no preview file is present. by @joshwooding in link,,1
Enable auto-title for non-storyStoreV7 (#218),0.85680455,Enable auto-title for non-storyStoreV7 by @IanVS in link,"Fixes #201  This enables the omission of title properties in the default export of stories (the new storybook ""autotitle"" feature).  It's a little less powerful without link, but it's still nice to support this, I think. I did notice an issue with HMR, but it seems not to be introduced in this PR, but exists in the react example on main as well.  Changing a css value does still HMR, so I think there is no regression here.",1
Import story loading module from vite-app virtual module (#239),0.9582051,Import story loading module from vite-app virtual module by @IanVS in link,"I'm working on enabling Chromatic Turbosnap capability for vite storybook projects, and it requires a small change to the way we load in our stories to match up more closely to how the webpack builders work.  They have a separate entrypoint for just the stories, so I've moved what used to be done in the virtual storybook-stories.js imported directly off of the iframe, into a virtual file that's imported from the virtual vite-app module.  This actually more closely aligns with the way that the ""modern"" (storyStoreV7) code works too, which is a nice side-benefit. I also needed to move the preview entry to it's own file, for the same reason.  I didn't move anything in the storyStoreV7 version, mostly because I'm not using storyStoreV7, and don't have a great way to test out that it's working correctly if I do muck with it.  For now I'd like to take things one step at a time and support turbosnap for non-storyStoreV7 builds. I've used patch-package to run this code in my own storybook at work to ensure that turbosnap works the way I am intending.  So far it seems to be working well.  Here is the corresponding PR in chromatic-cli to enable vite support: link.",1
Fix: svelte (#240),0.72937876,Fix: svelte by @bfanger in link,"Re-enabled the csfPlugin for svelte Updated svelte dependencies, that fixed a TypeError: RegisterContext is not a constructor error. (Svelte compiler was in 'ssr' mode) Fixes #224 (Also implemented support for preprocessors inside *.stories.svelte files)",1
fix: svelte story regex (#244),0.8858276,fix: svelte story regex by @lokshunhung in link,Resolves #243 by updating the regex to match svelte stories,1
Update known issues,0.67993975,Update known issues by @joshwooding in link,,0
Refactor common vite config options in one place,0.48736808,Prevent vite:define from replacing in story source by @IanVS in link,,0
Specify vite cache directory in dev mode as well,0.9194319,Specify vite cache directory in dev mode as well by @bodograumann in link,"In #223 the vite cache directory for production build was set to a custom location, in order not to conflict with a vite application in the same project. This commit also applies that configuration for the development server.",1
v0.1.15,0.47209647,Support vite 3.1 by @IanVS in link,,0
Add react-docgen-typescript (#226),0.92524207,Add react-docgen-typescript by @joshwooding in link,Related to #103 #2 #79 This PR adds doc-gen via react-docgen-typescript. | | Before | After| | --- | --- | --- | | Sidebar |  |  | Docs |  |  I haven't noticed any significant impact to speed. 🎉  It's hooked up to the storybook config so it should act as a drop-in for the webpack functionality for typescript types.,1
Default Cache Directory Conflict Resolution (#223),0.8299514,Default Cache Directory Conflict Resolution by @GuyGooL5 in link,There is a problem starting Vite app and Storybook under storybook-builder-vite because they share the same cache directory   node_modules/.vite/  unless explicitly reassigning.   This PR retargets storybook-builder-vite's cache directory into a different one to not affect the app it's running along with.,1
0.1.14,0.5057661,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Fix params.fileName being null when storyStoreV7 is false (#216),0.926985,Fix params.fileName being null when storyStoreV7 is false by @joshwooding in link,,1
Remove unfetch import,0.84412944,Remove unfetch import by @joshwooding in link,,1
Add some common issues to README (#214),0.83004093,Add some common issues to README by @IanVS in link,"Closes #213. In response to link, I thought it might be good to mention some of the more common issues that folks experience to the README.",1
Bump @vitejs/plugin-vue to 1.10.2,0.9504565,Bump @vitejs/plugin-vue to 1.10.2 by @joshwooding in link,,1
Improving maintainability: Documentation (#200),0.78338665,Improving maintainability: Documentation by @mrauhu in link,Created example* scripts in package.json Created How to contribute guide in the CONTRIBUTING.md file Added link to CONTRIBUTING.md in the packages/storybook-builder-vite/README.md file,1
Add CSF3 default render example (#194),0.84815353,Add CSF3 default render example by @shilman in link,,1
Fixed commit id in .git-blame-ignore-revs,0.5037611,Improving maintainability: fix ignore revs by @mrauhu in link,,0
Improving maintainability: TypeScript (#195),0.8456198,Improving maintainability: TypeScript by @mrauhu in link,"Created tsconfig.json for Node.js 16 Created tsconfig.json in packages/storybook-builder-vite directory Renamed .js files to .ts files in packages/storybook-builder-vite directory Converted from require() and module.exports to import and export Temporary fix types for .filter() of stories in svelte/csf-plugin.ts Provided empty object to createCompiler() function in mdx-plugin.ts file Importing promisified version of the glob from glob-promise package Removed wrong extension from import of createViteServer() function Ignoring the dist directory Using the dist directory: updated main field; created types field in storybook-builder-vite/package.json Created start and prepublish scripts in the root package.json Updated tsconfig.json: emit declarations, enabled source maps (with inlined sources) and skip libraries check Start unused arguments with underscore in pluginConfig() function and the server watcher change callback in configureServer() function Ran prepublish script manually in GitHub Workflows. Fix: link See: link Fix: updated resolved path of the iframe.html, because we're serving from dist Fix: async import of exported vueDocgen() function from local file instead of require() Added the dist directory to .prettierignore Installed packages: @types/express as dev dependency and @storybook/core-common as peer dependency. Version of @storybook/core-common package is based on nested installed dependency in yarn.lock. Created declarations for @storybook/addon-svelte-csf files Created types: EnvsRaw and ExtendedOptions Enabled strict flag in packages/storybook-builder-vite/tsconfig.json file Added types for variables and functions. Created additional types. Fixed: the config.build property may be undefined Simplify JSDoc Created TODO: Maybe convert injectExportOrderPlugin to function that returns object, and run await init; once and then call parse() without await, instead of calling await parse() every time. Fixed rare case if the envPrefix is undefined in stringifyProcessEnvs() function Reorder imports in build.ts and vite-server.ts Added check for a case if the StoriesEntry is object in functions: generateImportFnScriptCode(); generateIframeScriptCode(); getOptimizeDeps(). Created listStories() function and removed duplicated code.",1
Improving maintainability: run lint (#196),0.7987645,Improving maintainability: run lint by @mrauhu in link,"Ran lint script Disabled max-len ESLint rule for Page.jsx files Reformat code for prevent warnings from max-len ESLint rule Simplify RegEx from (t|j) to ([tj]) Setup language of template literals string via comment Fixed iframe.html false-positive warnings, use comments: suppress HtmlUnknownTarget and noinspection CssUnusedSymbol Conflicts: packages/storybook-builder-vite/input/iframe.html Added noinspection UnnecessaryLocalVariableJS for codegen*-iframe-script.ts. TODO: Inline variable and remove noinspection. We are using /* / comment between // comments, because it's only way to make work both JetBrains IDE comments. Added noinspection JSUnusedGlobalSymbols comments Conflicts: packages/storybook-builder-vite/index.js TODO: Check if the 'unfetch' package is used in codegen-modern-iframe-script.ts file Removed trailing spaces in a generated code from the generateModernIframeScriptCode() function Removed unused arguments: type in pluginConfig() function and e in the server watcher change callback of configureServer() function Created .git-blame-ignore-revs file for ignoring bulk change commits For using it, run one time: git config blame.ignoreRevsFile .git-blame-ignore-revs",1
Improving maintainability: ESLint and Prettier (#193),0.9440086,Improving maintainability: ESLint and Prettier by @mrauhu in link,"Removed unused fields from package.json: main and author from storybook-builder-vite-parent package Moved Prettier config from package.json to .prettierrc file Removed indent_style, indent_size and insert_final_newline from .editorconfig Using 2 spaces indent for package.json file Setup engines.node version to be greater or equal of current LTS version Setup two spaces indent for *.json files in the .editorconfig Created .eslintignore file Installed ESLint with plugins as dev dependencies: cross-env; eslint; eslint-config-prettier; eslint-plugin-only-warn; eslint-plugin-prettier; eslint-plugin-storybook. Created ESLint config in the .eslintrc.js file Set max line length to 120 Using ESlint for linting. Renamed scripts: from lint to lint-ci, from format to lint. Running lint and lint-ci scripts in production mode, for getting console and debugger warnings. Removed cross-env package and usages Removed NODE_ENV=production from lint* scripts Setup lint-ci for future usage in GitHub Actions. Added --max-warnings=0 argument for returning error with ESLint only-warn plugin. Installed TypeScript and ESLint dev dependencies: @types/node for LTS version; @typescript-eslint/eslint-plugin; @typescript-eslint/parser; typescript. Configure TypeScript ESLint parser and plugin Added .ts and .tsx file patterns to lint* scripts Fix: disable no-unused-vars ESLint rule for TypeScript files Ignoring comments for the max-len ESLint rule Enabled no-console and no-debugger warnings in development mode Removed plugin:prettier/recommended and put ESLint config prettier to extends array Updated package.json: run Prettier before ESLint Removed eslint-plugin-prettier from package.json Updated prettier package",1
v0.1.13,0.46716246,Support vite 3.1 by @IanVS in link,,0
Avoid forcing prebundle each start (#189),0.8058885,Avoid forcing prebundle each start by @IanVS in link,,1
Fix: all environment variables are exposed to the client (#187),0.7871897,Fix: all environment variables are exposed to the client by @mrauhu in link,Greetings. This pull request fixes: #185  Rules based on: Storybook — Environment variables Vite — Env Variables and Modes Allowed on the client Environment variables prefixes STORYBOOK_; VITE_. Used for setup default envPrefix value in Vite config. Environment variables Storybook: STORYBOOK; Vite: BASE_URL; MODE; DEV; PROD; SSR. Used for filtering. Co-authored-by: Ian VanSchooten ian.vanschooten@gmail.com,1
v0.1.12,0.44368917,Support vite 3.1 by @IanVS in link,,0
Fix storybook builds and CI (#181),0.840481,Fix storybook builds and CI by @IanVS in link,"Fixes a bug I introduced in link. There was a bug in yarn that was causing a zero exit code when yarn workspaces foreach errored, so I needed to update yarn here.  I pushed up one commit without any fixes to the build to verify that CI correctly failed, and then another to actually make the fix. Since this updates yarn, it also replaces link.",1
Apply svelteOptions correctly (#180),0.77646935,Apply svelteOptions correctly by @IanVS in link,,1
Add optimizeDeps.entries,0.66688764,Add optimizeDeps.entries by @joshwooding in link,,0
Bump example-workspaces vite version to 2.7.0,0.58647895,Update vite in examples to 2.9.0-beta.8 by @IanVS in link,,0
Fix importers[path] is not a function in yarn workspaces (#172),0.9713034,Fix importers[path] is not a function in yarn workspaces by @kazuma1989 in link,,1
v0.1.11,0.47053003,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Fix builder for vite 2.7.0 (#174),0.93115366,Fix builder for vite 2.7.0 by @IanVS in link,"Fixes #171  Also updates our examples to 2.7.0. I also tested this change before updating the examples, and confirmed it works with vite 2.6 as well.",1
Update storybook in examples to ^6.4.0,0.93201375,Update storybook in examples to ^6.4.0 by @joshwooding in link,,1
v0.1.10,0.45298815,Support vite 3.1 by @IanVS in link,,0
"Revert ""Fix package duplication issues by aliasing all storybook packages (#160)"" (#166)",0.9235805,"Revert ""Fix package duplication issues by aliasing all storybook packages (#160)"" by @IanVS in link",This reverts commit 5100593ce2067e46e2a0ff7608911bb39a70236c. As discussed in link,1
Fix source-loader-plugin CSF3 compatibility (#165),0.96342206,Fix source-loader-plugin CSF3 compatibility by @joshwooding in link,Closes #164,1
v0.1.9,0.46736544,This release is necessary to support vite 2.9.0.,,0
Move README to builder workspace,0.5070679,Add webpack/cra migration section to readme by @IanVS in link,,0
Fix package duplication issues by aliasing all storybook packages (#160),0.92941636,Fix package duplication issues by aliasing all storybook packages by @joshwooding in link,Closes link Closes link This is the same fix as link,1
v0.1.8,0.44310158,Support vite 3.1 by @IanVS in link,,0
Support features.storyStoreV7 (#126),0.8981097,Support features.storyStoreV7 by @joshwooding in link,Closes #125,1
Update @vitejs/plugin-react to avoid sourcemap warning (#153),0.94427985,Update @vitejs/plugin-react to avoid sourcemap warning by @IanVS in link,"Fixes #129  Updating the version of @vitejs/plugin-react removes the warnings about missing source files.  See link. I also was seeing these warnings, and updating made them disappear.",1
glimmerx support (#136),0.7116278,add experimental glimmerx support by @lifeart in link,,1
v0.1.7,0.46644527,Support vite 3.1 by @IanVS in link,,0
Merge pull request #144 from eirslett/139-ws,0.47520453,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Update examples to storybook 6.4.0-rc.0,0
Merge pull request #151 from simenbrekken/skip-generating-mdx-source-maps,0.6706059,Don't generate source maps for MDX files by @simenbrekken in link,Don't generate source maps for MDX files,0
Don't generate source maps for MDX files,0.89659286,Don't generate source maps for MDX files by @simenbrekken in link,,1
Update storybook in examples to 6.4.0-rc.0,0.9273828,Update storybook in examples to 6.4.0-beta.19 (link),,1
Bump version,0.3511069,Bug fixes,,0
Merge pull request #147 from simenbrekken/vite-source-loader-plugin,0.70517147,Add Vite source-loader plugin by @simenbrekken in link,Add Vite source-loader plugin,1
Add working React example,0.62575936,Support React 18 by @IanVS in link,,0
Refactor MDX plugin,0.53322285,Inject mdx compiler for mdx1 by @IanVS in link,,0
Add source-loader plugin,0.7730606,Add Vite source-loader plugin by @simenbrekken in link,,1
Fix bug and prepare new version,0.5401518,Bug fixes,,0
Merge pull request #135 from razor1895/add-new-optimized-deps,0.45043004,Add synchronous-promise as optimized dependencies by @razor1895 in link,Add synchronous-promise as optimized dependencies,0
Add synchronous-promise as optimized dependencies,0.66713315,Add synchronous-promise as optimized dependencies by @razor1895 in link,,0
Merge pull request #133 from simenbrekken/config-file-load-order,0.57744026,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Ensure preview or config file is loaded last,0
Ensure preview or config file is loaded last,0.8158494,Ensure preview or config file is loaded last by @simenbrekken in link,,1
v0.1.3,0.50361156,Support vite 3.1 by @IanVS in link,,0
Update storybook in examples to 6.4.0-beta.19 (#118),0.9824219,Update storybook in examples to 6.4.0-beta.19 (link),"This updates our examples to use storybook 6.4.0-beta.19. One regression I've noticed so far is that the stories are no longer sorted by the export order, but rather alphabetically.  I haven't traced that down to a particular storybook version yet though. This also uses yarn's workspace: protocol so we don't need to update them every time we bump the version of the builder. (link)",1
Merge pull request #121 from joshwooding/support-feature-flags,0.611441,Support storybook feature flags (link),Support feature flags,0
Add @base2/pretty-print-object and react-is as optimized dependencies. (#124),0.50968695,Fix react-docgen-typescript in some monorepos by @joshwooding in link,,0
Support feature flags,0.75923926,Support storybook feature flags (link),,1
Merge pull request #117 from eirslett/avoid-srcmap-warning,0.4941594,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Fix rollup warning about sourcemaps from inject-export-order-plugin,0
Fix rollup warning about sourcemaps from inject-export-order-plugin,0.9934441,Fix rollup warning about sourcemaps from inject-export-order-plugin (link),,1
Bump version of vite and es-module-lexer,0.6571231,"If you'd like to continue using Vite 3, please stick with 0.2.x versions of this package.",Looks like es-module-lexer has a memory bug.,0
v0.1.1,0.46878535,Support vite 3.1 by @IanVS in link,,0
Widen vite peer dep range (#110),0.43889266,Breaking: Update peer dependencies for Vite 4 by @IanVS in link,Fixes #109.,0
Provide glob-promise's peer dependency on glob (#107),0.4022586,fix: add missing peer deps by @adalinesimonian in link,Fix for Yarn 2+ users,0
Inject storybook environment variables (#105),0.49273086,Update storybook in examples to 6.4.0-beta.19 (link),"Fixes #104. This injects storybook environment variables through the define config of vite, similar to what the webpack builder does using the DefinePlugin.  I needed to create a customized version of one of the core storybook functions, since it assumes that process.env is going to be used, whereas with vite we use import.meta.env. I also added example stories in react, vue, and svelte (my first time writing vue and svelte!).  They're ugly, but they show that the STORYBOOK environment variable is being provided correctly (it wasn't previously). Before: After:",0
Also inject env vars into build,0.41877228,Move import of framework module after configs by @IanVS in link,,0
Avoid string replacement when we don't want it,0.28243932,Improving maintainability: fix ignore revs by @mrauhu in link,,0
Inject storybook environment variables,0.4536739,Update storybook in examples to 6.4.0-beta.19 (link),,0
Run prettier formatting,0.43904027,Improving maintainability: ESLint and Prettier by @mrauhu in link,,0
Bump to version 0.1.0,0.5385641,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Merge pull request #101 from eirslett/upgrade-vite-and-react-plugin,0.590635,Update @vitejs/plugin-react to avoid sourcemap warning by @IanVS in link,Upgrade vite and react plugin,0
Fix error message (must have been a typo),0.41882664,Fix error when no preview file is present. by @joshwooding in link,,0
Upgrade Vite and its React plugin,0.78817016,"To fully support Vite 4, we've updated our mdx handling to no longer require the use of @vitejs/plugin-react.  This means that non-react projects will no longer be getting that plugin added to their projects, and react projects will need to make sure they include it as a dependency (changes to viteFinal are not required).",,1
Merge pull request #98 from eirslett/add-slash-dep,0.46252733,"Revert ""Fix package duplication issues by aliasing all storybook packages (#160)"" by @IanVS in link",Add storybook 6.4 deps to optimizeDeps,0
Add lodash/startCase to optimizeDeps,0.46223885,Add missing dependencies to optimizeDeps (link),,0
Add slash as optimized dependency,0.6112754,Allow sub-dependencies in base optimizeDeps.include by @IanVS in link,,0
Sort optimized deps,0.30594677,Add missing dependencies to optimizeDeps (link),,0
Merge pull request #72 from dimfeld/svelte-options,0.5811701,[breaking] Read svelte.config.js by @benmccann in link,Allow passing options to vite-plugin-svelte,0
Allow passing options to vite-plugin-svelte,0.7312711,fix: Load @sveltejs/vite-plugin-svelte conditionally by @IanVS in link,This uses the same svelteOptions key used with other builders.,1
Merge pull request #70 from offlinehacker/patch-1,0.48031715,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Add remark about autoreload for stories to README,0
Add remark about autoreload for stories to README,0.44527018,Fix svelte story files not reloading by @IanVS in link,Today I spent some time trying to figure out why autoreload for story files doesn't work. This pull request adds remark to README about naming of story files for autoreload to work. This is related to: link,0
Merge pull request #67 from eirslett/fix/add-package-readme,0.57243246,Update README.md by @eirslett in link,Link root README to show in NPM,0
Link root README to show in NPM,0.5461435,Add webpack/cra migration section to readme by @IanVS in link,,0
Flip condition to fix static build,0.44160798,Respect existing build.rollupOptions by @IanVS in link,,0
Bump to version 0.0.11,0.54585814,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Tweaks for Vite 2.4.1,0.71298456,"If you'd like to continue using Vite 3, please stick with 0.2.x versions of this package.",,1
Bump all dependencies,0.5459709,Add missing dependencies to optimizeDeps (link),,0
fix(stories): uncommented button story argTypes,0.5083738,Update storybook in examples to 6.4.0-beta.19 (link),,0
fix(plugin): added docgen info to vite,0.67671686,fix: Load @sveltejs/vite-plugin-svelte conditionally by @IanVS in link,Added docgen info to Vite output to automatically generate controls and docs for SFC components,0
Merge pull request #54 from schalk-b/38-fix-export-order,0.5085643,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Sort stories by their export order,0
Apply suggested PR feedback,0.2678194,Update known issues by @joshwooding in link,,0
Fix bug if __namedExportsOrder is already defined,0.46504706,Fix rollup warning about sourcemaps from inject-export-order-plugin (link),,0
Rename namedExportOrder to injectExportOrder,0.44216222,Fix rollup warning about sourcemaps from inject-export-order-plugin (link),,0
Add __namedExportsOrder for svelte,0.5698802,Fix: pass options read from config file to svelteDocgen by @benmccann in link,,0
Sort stories by their export order,0.47668892,Fix order of MDX stories in sidebar by @joshwooding in link,,0
Run prettier for code formatting,0.4688672,Improving maintainability: ESLint and Prettier by @mrauhu in link,,0
update publish script/github action,0.40932092,No changes from v0.2.0-beta.1.  Publishing error.,,0
Merge pull request #53 from eirslett/3-react-hmr,0.53799796,Fix react-docgen-typescript in some monorepos by @joshwooding in link,Fix React HMR in story files,0
Fix React HMR in story files,0.63230646,Fix react mdx stories by @IanVS in link,,0
Merge pull request #45 from schalk-b/31-improve-iframe-building,0.44499928,Fix style modules not being resolved from iframe.html (#266) by @Dschungelabenteuer in link,Fixes #31 Fix windows build,0
Fix windows build,0.44752932,Fix mdx1 in Windows by @joshwooding in link,"Bust yarn workflows cache Revert ""Bust yarn workflows cache"" This reverts commit b866eab20e364349f489433380bf36fe3e4e860a.",0
Ensure examples build in CI (#51),0.44969487,Test built storybooks in CI by @IanVS in link,"The main problem this addresses is that we need to ensure that yarn install is run no matter what, even if the cache is restored.  This is because yarn relies on having an install-state.gz file that is gitignored and created during installations.  We were skipping the installation entirely before if there was a cache, which is the reason that link is failing in CI. This also adds a missing dependency, @sveltejs/vite-plugin-svelte to the svelte example.  It would be yarn installed along with the rest of the workspace, but for folks using npm or using the example as a guide, it's important to have it there.",0
Always perform a yarn install in CI,0.36911783,Fix importers[path] is not a function in yarn workspaces by @kazuma1989 in link,,0
Update dependencies in svelte example,0.6118667,Update dependencies in examples by @IanVS in link,,0
Merge pull request #42 from eirslett/41-remove-some-deps,0.47833735,"Revert ""Fix package duplication issues by aliasing all storybook packages (#160)"" by @IanVS in link",Do not depend on framework plugins (mostly),0
Do not depend on framework plugins (mostly),0.3579617,Remove pluginutils from dependencies by @kazuma1989 in link,,0
Add build examples workflow (#34),0.5305865,"Add composed ""overview"" example that builds/includes all framework examples by @dohooo in link","Context Please read link Changes My very first idea was to add a new step in the current Build and Publish to NPM workflow in order to build all the examples packages. However, I've decided to create a new workflow because the build examples step must run three times, one for each operative system, so this behavior isn't properly along with a publish step.",0
Run prettier format,0.39547962,Improving maintainability: ESLint and Prettier by @mrauhu in link,,0
Add workflow_dispatch to workflow,0.2028635,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,,0
Delete eof,0.31593084,Remove unfetch import by @joshwooding in link,,0
Add missing identation,0.27778602,Fix new stories not appearing in the importFn by @joshwooding in link,,0
Add Build Examples workflow,0.5352359,"Add composed ""overview"" example that builds/includes all framework examples by @dohooo in link",,0
Merge pull request #28 from eirslett/correct-working-dir,0.45696688,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Tweak Vite setup so we use the correct working directory,0
Improve docs: root should be configured at the top-level,0.42431778,Improving maintainability: Documentation by @mrauhu in link,,0
Add note/documentation about fsServe.strict,0.35683098,Add some common issues to README by @IanVS in link,,0
Tweak Vite setup so we use the correct working directory,0.6721784,Specify vite cache directory in dev mode as well by @bodograumann in link,,0
Version bump,0.42655522,Bug fixes,,0
Merge pull request #27 from eirslett/move-to-yarn,0.46252716,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,"Move to yarn, fix examples",0
Upgrade to SB 6.3.0-rc.4 which fixes vue,0.69995654,Support vue 2.6 and 2.7 by @IanVS in link,,0
Fix examples,0.46389157,🪲 Bugfixes,,0
Add storybook scripts to examples,0.5861278,Update storybook in examples to 6.4.0-beta.19 (link),,0
Switch from npm to yarn for better workspace support,0.56629395,Fix importers[path] is not a function in yarn workspaces by @kazuma1989 in link,,0
Merge pull request #26 from eirslett/upgrade-mdx-to-csf-tools,0.4874027,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Upgrade to storybook/csf-tools for MDX processing,0
Upgrade to storybook/csf-tools for MDX processing,0.46256834,Update storybook in examples to 6.4.0-beta.19 (link),,0
Use Node 16,0.4915846,Fix Node 12 support by @joshwooding in link,,0
Add more dep optimization,0.44838738,Add missing dependencies to optimizeDeps (link),,0
Fix import paths in addon-docs,0.5282581,Set up addon channel before importing addons by @IanVS in link,,0
Merge pull request #22 from IanVS/17-add-framework-import,0.5180481,"Add migration to readme, other updates by @IanVS in link",Move import of framework code to top,0
Merge pull request #25 from TheComputerM/svelte-csf,0.5492245,[breaking] Read svelte.config.js by @benmccann in link,fix usage with svelte,0
better output,0.29530016,Improve sourcemaps by @ianvs in link,,0
fix usage with svelte,0.7015716,[breaking] Read svelte.config.js by @benmccann in link,,1
Merge pull request #21 from IanVS/add-build-time,0.48983514,"Add migration to readme, other updates by @IanVS in link",Return totalTime and bail function,0
Merge pull request #23 from IanVS/20-argsEnhancers,0.53725404,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Add support for argsEnhancers,0
Merge pull request #24 from IanVS/npm-links,0.5057426,Add webpack/cra migration section to readme by @IanVS in link,Add github links to package.json,0
Add github links to package.json,0.48972797,Add webpack/cra migration section to readme by @IanVS in link,,0
Add support for argsEnhancers,0.47226688,Allow setting global args in SB 6.5+ by @IanVS in link,,0
Move import of framework code to top,0.65010464,Move import of framework module after configs by @IanVS in link,And allow the use of custom frameworks.,0
Return totalTime and bail function,0.31462818,Fix bail not being defined by @joshwooding in link,,0
Merge pull request #17 from sevenfields-matt/add_npm_publish,0.42863175,Add webpack/cra migration section to readme by @IanVS in link,Simple manual CI,0
Given the CI a better name,0.24862449,Internal,,0
Adding CI,0.3282299,Test built storybooks in CI by @IanVS in link,,0
Merge pull request #15 from shaal/patch-1,0.49234283,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,remove vite/dynamic-import-polyfill,0
remove vite/dynamic-import-polyfill,0.49312732,"If you'd like to continue using Vite 3, please stick with 0.2.x versions of this package.","When running storybook, I saw this message in terminal 'vite/dynamic-import-polyfill' is no longer needed, refer to link",0
version bump,0.42655522,Bug fixes,,0
Fix path resolution on Windows,0.30447477,Fix mdx1 in Windows by @joshwooding in link,,0
Add MIT license,0.2859491,Update README.md by @eirslett in link,,0
Add notice about contributors,0.40974253,@Codex- made their first contribution in link,,0
Clean up docs,0.54747546,Internal/Docs,,0
Bump version to 0.0.5,0.5064361,No changes from v0.2.0-beta.1.  Publishing error.,,0
Format with prettier,0.39706296,Improving maintainability: ESLint and Prettier by @mrauhu in link,,0
Add support for overriding the Vite config (viteFinal),0.6213857,"This version requires Vite 3.  If you are using Vite 2, you'll need to stay on the 0.1.X branch until you're able to upgrade. Vite migration notes can be found at link.",,0
"oops, remove unintended code",0.39163572,Remove unfetch import by @joshwooding in link,,0
Add Svelte vite plugin - storybook still fails with error,0.7199344,fix: Load @sveltejs/vite-plugin-svelte conditionally by @IanVS in link,,1
Add Svelte example,0.752866,[breaking] Read svelte.config.js by @benmccann in link,,1
Bump to version 0.0.4,0.5333935,"Note: version 0.1.40 accidentally included breaking changes, which are not included in this version.",,0
Support Vue,0.74526805,Support vue 2.6 and 2.7 by @IanVS in link,,1
Extract plugin config into separate file,0.3804099,Move import of framework module after configs by @IanVS in link,,0
Try using normalizePath to make it work on Windows,0.33949772,Fix tests not being found when testing lit-ts example on Windows CI by @joshwooding in link,,0
Initial work on trying to get addon-a11y to work,0.48086312,Set up addon channel before importing addons by @IanVS in link,,0
Add nvmrc,0.33665514,Support vite 3.1 by @IanVS in link,,0
Update the readme,0.7512926,Update README.md by @eirslett in link,,1
"more work, I suppose - try to fix the vue plugin",0.65268683,Bump @vitejs/plugin-vue to 1.10.2 by @joshwooding in link,,0
Add MDX compiler support for addon-essentials,0.635548,Inject mdx compiler for mdx1 by @IanVS in link,,0
Downgrade React in the example project (prevent version conflicts),0.58746135,Pin version of react-docgen by @IanVS in link,,0
Bugfix: load preview head/body snippets correctly,0.49849942,Fix error when no preview file is present. by @joshwooding in link,,0
Bugfix: empty array when no stories are found,0.5227807,Fix params.fileName being null when storyStoreV7 is false by @joshwooding in link,,0
Use code from sb-init to test,0.39363205,Allow setting global args in SB 6.5+ by @IanVS in link,"This will let us test functionality like the MDX integration, and simulate a successful sb-init bootstrap.",0
Merge pull request #1 from shilman/patch-1,0.4948421,chore(docs): update readme to use mergeConfig vite helper function by @benatshippabo in link,Update install instructions,0
More work: this should support addon-essentials eventually,0.5175334,Set up addon channel before importing addons by @IanVS in link,,0
Update install instructions,0.37805024,Update README.md by @eirslett in link,,0
The very first commit of a kind-of working Vite builder for Storybook,0.57621664,Test built storybooks in CI by @IanVS in link,,0
